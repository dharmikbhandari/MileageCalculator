"use strict";(self.webpackChunkmileageCalculator=self.webpackChunkmileageCalculator||[]).push([[179],{6304:(pt,De,B)=>{B.d(De,{Dh:()=>Me,GT:()=>ae,cc:()=>Re,hO:()=>Be,on:()=>q,pX:()=>ce,xv:()=>be});var c=B(5879),$=B(7142),P=B(8186);pt=B.hmd(pt);const ee=["ngOnDestroy"],ce=(Fe,Ct,mt,re={})=>new Proxy(Fe,{get:(Ie,de)=>mt.runOutsideAngular(()=>{var ye;if(Fe[de])return!(null===(ye=re?.spy)||void 0===ye)&&ye.get&&re.spy.get(de,Fe[de]),Fe[de];if(ee.indexOf(de)>-1)return()=>{};const Ne=Ct.toPromise().then(ie=>{const rt=ie&&ie[de];return"function"==typeof rt?rt.bind(ie):rt&&rt.then?rt.then(qe=>mt.run(()=>qe)):mt.run(()=>rt)});return new Proxy(()=>{},{get:(ie,rt)=>Ne[rt],apply:(ie,rt,qe)=>Ne.then(on=>{var Ri;const xr=on&&on(...qe);return!(null===(Ri=re?.spy)||void 0===Ri)&&Ri.apply&&re.spy.apply(de,qe,xr),xr})})})}),ae=(Fe,Ct)=>{Ct.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(re=>{Object.defineProperty(Fe.prototype,re,Object.getOwnPropertyDescriptor(mt.prototype||mt,re))})})};class xe{constructor(Ct){return Ct}}const Me=new c.OlP("angularfire2.app.options"),be=new c.OlP("angularfire2.app.name");function q(Fe,Ct,mt){const Ie="object"==typeof mt&&mt||{};Ie.name=Ie.name||"string"==typeof mt&&mt||"[DEFAULT]";const ye=$.Z.apps.filter(Ne=>Ne&&Ne.name===Ie.name)[0]||Ct.runOutsideAngular(()=>$.Z.initializeApp(Fe,Ie));try{JSON.stringify(Fe)!==JSON.stringify(ye.options)&&Z("error",`${ye.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new xe(ye)}const Z=(Fe,...Ct)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Fe](...Ct)},oe={provide:xe,useFactory:q,deps:[Me,c.R0b,[new c.FiY,be]]};let Be=(()=>{class Fe{constructor(mt){$.Z.registerVersion("angularfire",P.q4.full,"core"),$.Z.registerVersion("angularfire",P.q4.full,"app-compat"),$.Z.registerVersion("angular",c.q4F.full,mt.toString())}static initializeApp(mt,re){return{ngModule:Fe,providers:[{provide:Me,useValue:mt},{provide:be,useValue:re}]}}}return Fe.\u0275fac=function(mt){return new(mt||Fe)(c.LFG(c.Lbi))},Fe.\u0275mod=c.oAB({type:Fe}),Fe.\u0275inj=c.cJS({providers:[oe]}),Fe})();function Re(Fe,Ct,mt,re,Ie){const[,de,ye]=globalThis.\u0275AngularfireInstanceCache.find(Ne=>Ne[0]===Fe)||[];if(de)return function Xe(Fe,Ct){try{return Fe.toString()===Ct.toString()}catch{return Fe===Ct}}(Ie,ye)||(Qe("error",`${Ct} was already initialized on the ${mt} Firebase App with different settings.${Oe?" You may need to reload as Firebase is not HMR aware.":""}`),Qe("warn",{is:Ie,was:ye})),de;{const Ne=re();return globalThis.\u0275AngularfireInstanceCache.push([Fe,Ne,Ie]),Ne}}const Oe=!!pt.hot,Qe=(Fe,...Ct)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Fe](...Ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(pt,De,B)=>{B.d(De,{q4:()=>Mu,iC:()=>Sa,fc:()=>Ru,HU:()=>ec,vb:()=>Us,JM:()=>Jl});var c=B(5879),$=B(3182),P=B(5861),ee=B(534),ce=B(9058),ae=B(4537),xe=B(7879);const Me=(x,T)=>T.some(A=>x instanceof A);let be,q;const Be=new WeakMap,Re=new WeakMap,Xe=new WeakMap,Oe=new WeakMap,Qe=new WeakMap;let mt={get(x,T,A){if(x instanceof IDBTransaction){if("done"===T)return Re.get(x);if("objectStoreNames"===T)return x.objectStoreNames||Xe.get(x);if("store"===T)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return ye(x[T])},set:(x,T,A)=>(x[T]=A,!0),has:(x,T)=>x instanceof IDBTransaction&&("done"===T||"store"===T)||T in x};function de(x){return"function"==typeof x?function Ie(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oe(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...T){return x.apply(Ne(this),T),ye(Be.get(this))}:function(...T){return ye(x.apply(Ne(this),T))}:function(T,...A){const H=x.call(Ne(this),T,...A);return Xe.set(H,T.sort?T.sort():[T]),ye(H)}}(x):(x instanceof IDBTransaction&&function Ct(x){if(Re.has(x))return;const T=new Promise((A,H)=>{const K=()=>{x.removeEventListener("complete",J),x.removeEventListener("error",ge),x.removeEventListener("abort",ge)},J=()=>{A(),K()},ge=()=>{H(x.error||new DOMException("AbortError","AbortError")),K()};x.addEventListener("complete",J),x.addEventListener("error",ge),x.addEventListener("abort",ge)});Re.set(x,T)}(x),Me(x,function Z(){return be||(be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,mt):x)}function ye(x){if(x instanceof IDBRequest)return function Fe(x){const T=new Promise((A,H)=>{const K=()=>{x.removeEventListener("success",J),x.removeEventListener("error",ge)},J=()=>{A(ye(x.result)),K()},ge=()=>{H(x.error),K()};x.addEventListener("success",J),x.addEventListener("error",ge)});return T.then(A=>{A instanceof IDBCursor&&Be.set(A,x)}).catch(()=>{}),Qe.set(T,x),T}(x);if(Oe.has(x))return Oe.get(x);const T=de(x);return T!==x&&(Oe.set(x,T),Qe.set(T,x)),T}const Ne=x=>Qe.get(x),qe=["get","getKey","getAll","getAllKeys","count"],on=["put","add","delete","clear"],Ri=new Map;function xr(x,T){if(!(x instanceof IDBDatabase)||T in x||"string"!=typeof T)return;if(Ri.get(T))return Ri.get(T);const A=T.replace(/FromIndex$/,""),H=T!==A,K=on.includes(A);if(!(A in(H?IDBIndex:IDBObjectStore).prototype)||!K&&!qe.includes(A))return;const J=function(){var ge=(0,P.Z)(function*(et,...We){const ut=this.transaction(et,K?"readwrite":"readonly");let Bt=ut.store;return H&&(Bt=Bt.index(We.shift())),(yield Promise.all([Bt[A](...We),K&&ut.done]))[0]});return function(We){return ge.apply(this,arguments)}}();return Ri.set(T,J),J}!function re(x){mt=x(mt)}(x=>({...x,get:(T,A,H)=>xr(T,A)||x.get(T,A,H),has:(T,A)=>!!xr(T,A)||x.has(T,A)}));const Ks="@firebase/installations",Fn="0.6.4",Kr=1e4,vo=`w:${Fn}`,fe="FIS_v2",_e="https://firebaseinstallations.googleapis.com/v1",Ce=36e5,tt=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function dt(x){return x instanceof ce.ZR&&x.code.includes("request-failed")}function vn({projectId:x}){return`${_e}/projects/${x}/installations`}function Mt(x){return{token:x.token,requestStatus:2,expiresIn:di(x.expiresIn),creationTime:Date.now()}}function dn(x,T){return $t.apply(this,arguments)}function $t(){return($t=(0,P.Z)(function*(x,T){const H=(yield T.json()).error;return tt.create("request-failed",{requestName:x,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function xn({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function zn(x){return yn.apply(this,arguments)}function yn(){return(yn=(0,P.Z)(function*(x){const T=yield x();return T.status>=500&&T.status<600?x():T})).apply(this,arguments)}function di(x){return Number(x.replace("s","000"))}function Ki(){return(Ki=(0,P.Z)(function*({appConfig:x,heartbeatServiceProvider:T},{fid:A}){const H=vn(x),K=xn(x),J=T.getImmediate({optional:!0});if(J){const ut=yield J.getHeartbeatsHeader();ut&&K.append("x-firebase-client",ut)}const et={method:"POST",headers:K,body:JSON.stringify({fid:A,authVersion:fe,appId:x.appId,sdkVersion:vo})},We=yield zn(()=>fetch(H,et));if(We.ok){const ut=yield We.json();return{fid:ut.fid||A,registrationStatus:2,refreshToken:ut.refreshToken,authToken:Mt(ut.authToken)}}throw yield dn("Create Installation",We)})).apply(this,arguments)}function ni(x){return new Promise(T=>{setTimeout(T,x)})}const Qs=/^[cdef][\w-]{21}$/,Je="";function gt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const A=function bt(x){return function Er(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Qs.test(A)?A:Je}catch{return Je}}function nn(x){return`${x.appName}!${x.appId}`}const Ei=new Map;function Br(x,T){const A=nn(x);Ps(A,T),function En(x,T){const A=function Ut(){return!ur&&"BroadcastChannel"in self&&(ur=new BroadcastChannel("[Firebase] FID Change"),ur.onmessage=x=>{Ps(x.data.key,x.data.fid)}),ur}();A&&A.postMessage({key:x,fid:T}),function jn(){0===Ei.size&&ur&&(ur.close(),ur=null)}()}(A,T)}function Ps(x,T){const A=Ei.get(x);if(A)for(const H of A)H(T)}let ur=null;const fs="firebase-installations-database",Xs=1,Qi="firebase-installations-store";let ii=null;function Ln(){return ii||(ii=function ie(x,T,{blocked:A,upgrade:H,blocking:K,terminated:J}={}){const ge=indexedDB.open(x,T),et=ye(ge);return H&&ge.addEventListener("upgradeneeded",We=>{H(ye(ge.result),We.oldVersion,We.newVersion,ye(ge.transaction))}),A&&ge.addEventListener("blocked",()=>A()),et.then(We=>{J&&We.addEventListener("close",()=>J()),K&&We.addEventListener("versionchange",()=>K())}).catch(()=>{}),et}(fs,Xs,{upgrade:(x,T)=>{0===T&&x.createObjectStore(Qi)}})),ii}function hi(x,T){return $n.apply(this,arguments)}function $n(){return($n=(0,P.Z)(function*(x,T){const A=nn(x),K=(yield Ln()).transaction(Qi,"readwrite"),J=K.objectStore(Qi),ge=yield J.get(A);return yield J.put(T,A),yield K.done,(!ge||ge.fid!==T.fid)&&Br(x,T.fid),T})).apply(this,arguments)}function Ci(x){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,P.Z)(function*(x){const T=nn(x),H=(yield Ln()).transaction(Qi,"readwrite");yield H.objectStore(Qi).delete(T),yield H.done})).apply(this,arguments)}function Cr(x,T){return rn.apply(this,arguments)}function rn(){return(rn=(0,P.Z)(function*(x,T){const A=nn(x),K=(yield Ln()).transaction(Qi,"readwrite"),J=K.objectStore(Qi),ge=yield J.get(A),et=T(ge);return void 0===et?yield J.delete(A):yield J.put(et,A),yield K.done,et&&(!ge||ge.fid!==et.fid)&&Br(x,et.fid),et})).apply(this,arguments)}function W(x){return G.apply(this,arguments)}function G(){return G=(0,P.Z)(function*(x){let T;const A=yield Cr(x.appConfig,H=>{const K=function F(x){return yt(x||{fid:gt(),registrationStatus:0})}(H),J=function V(x,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(tt.create("app-offline"))};const A={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},H=function O(x,T){return te.apply(this,arguments)}(x,A);return{installationEntry:A,registrationPromise:H}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:we(x)}:{installationEntry:T}}(x,K);return T=J.registrationPromise,J.installationEntry});return A.fid===Je?{installationEntry:yield T}:{installationEntry:A,registrationPromise:T}}),G.apply(this,arguments)}function te(){return te=(0,P.Z)(function*(x,T){try{const A=yield function hs(x,T){return Ki.apply(this,arguments)}(x,T);return hi(x.appConfig,A)}catch(A){throw dt(A)&&409===A.customData.serverCode?yield Ci(x.appConfig):yield hi(x.appConfig,{fid:T.fid,registrationStatus:0}),A}}),te.apply(this,arguments)}function we(x){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,P.Z)(function*(x){let T=yield wt(x.appConfig);for(;1===T.registrationStatus;)yield ni(100),T=yield wt(x.appConfig);if(0===T.registrationStatus){const{installationEntry:A,registrationPromise:H}=yield W(x);return H||A}return T})).apply(this,arguments)}function wt(x){return Cr(x,T=>{if(!T)throw tt.create("installation-not-found");return yt(T)})}function yt(x){return function _t(x){return 1===x.registrationStatus&&x.registrationTime+Kr<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Mn(){return(Mn=(0,P.Z)(function*({appConfig:x,heartbeatServiceProvider:T},A){const H=function Gt(x,{fid:T}){return`${vn(x)}/${T}/authTokens:generate`}(x,A),K=function Xn(x,{refreshToken:T}){const A=xn(x);return A.append("Authorization",function Qr(x){return`${fe} ${x}`}(T)),A}(x,A),J=T.getImmediate({optional:!0});if(J){const ut=yield J.getHeartbeatsHeader();ut&&K.append("x-firebase-client",ut)}const et={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:vo,appId:x.appId}})},We=yield zn(()=>fetch(H,et));if(We.ok)return Mt(yield We.json());throw yield dn("Generate Auth Token",We)})).apply(this,arguments)}function Vi(x){return Xi.apply(this,arguments)}function Xi(){return Xi=(0,P.Z)(function*(x,T=!1){let A;const H=yield Cr(x.appConfig,J=>{if(!Yt(J))throw tt.create("not-registered");const ge=J.authToken;if(!T&&function ln(x){return 2===x.requestStatus&&!function Ui(x){const T=Date.now();return T<x.creationTime||x.creationTime+x.expiresIn<T+Ce}(x)}(ge))return J;if(1===ge.requestStatus)return A=function ve(x,T){return le.apply(this,arguments)}(x,T),J;{if(!navigator.onLine)throw tt.create("app-offline");const et=function ri(x){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:T})}(J);return A=function vt(x,T){return Ft.apply(this,arguments)}(x,et),et}});return A?yield A:H.authToken}),Xi.apply(this,arguments)}function le(){return(le=(0,P.Z)(function*(x,T){let A=yield Ve(x.appConfig);for(;1===A.authToken.requestStatus;)yield ni(100),A=yield Ve(x.appConfig);const H=A.authToken;return 0===H.requestStatus?Vi(x,T):H})).apply(this,arguments)}function Ve(x){return Cr(x,T=>{if(!Yt(T))throw tt.create("not-registered");return function Fo(x){return 1===x.requestStatus&&x.requestTime+Kr<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ft(){return Ft=(0,P.Z)(function*(x,T){try{const A=yield function Pt(x,T){return Mn.apply(this,arguments)}(x,T),H=Object.assign(Object.assign({},T),{authToken:A});return yield hi(x.appConfig,H),A}catch(A){if(!dt(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const H=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield hi(x.appConfig,H)}else yield Ci(x.appConfig);throw A}}),Ft.apply(this,arguments)}function Yt(x){return void 0!==x&&2===x.registrationStatus}function Nl(){return(Nl=(0,P.Z)(function*(x){const T=x,{installationEntry:A,registrationPromise:H}=yield W(T);return H?H.catch(console.error):Vi(T).catch(console.error),A.fid})).apply(this,arguments)}function Ir(){return Ir=(0,P.Z)(function*(x,T=!1){const A=x;return yield function Lo(x){return ua.apply(this,arguments)}(A),(yield Vi(A,T)).token}),Ir.apply(this,arguments)}function ua(){return(ua=(0,P.Z)(function*(x){const{registrationPromise:T}=yield W(x);T&&(yield T)})).apply(this,arguments)}function ha(x){return tt.create("missing-app-config-values",{valueName:x})}const Rc="installations",Fl=x=>{const T=x.getProvider("app").getImmediate(),A=function kc(x){if(!x||!x.options)throw ha("App Configuration");if(!x.name)throw ha("App Name");const T=["projectId","apiKey","appId"];for(const A of T)if(!x.options[A])throw ha(A);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(T);return{app:T,appConfig:A,heartbeatServiceProvider:(0,ee._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ll=x=>{const T=x.getProvider("app").getImmediate(),A=(0,ee._getProvider)(T,Rc).getImmediate();return{getId:()=>function Qa(x){return Nl.apply(this,arguments)}(A),getToken:K=>function Fh(x){return Ir.apply(this,arguments)}(A,K)}};(function Qd(){(0,ee._registerComponent)(new ae.wA(Rc,Fl,"PUBLIC")),(0,ee._registerComponent)(new ae.wA("installations-internal",Ll,"PRIVATE"))})(),(0,ee.registerVersion)(Ks,Fn),(0,ee.registerVersion)(Ks,Fn,"esm2017");const Bl="@firebase/remote-config",Sn=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Hl{constructor(T,A,H,K){this.client=T,this.storage=A,this.storageCache=H,this.logger=K}isCachedDataFresh(T,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-A,K=H<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${K}.`),K}fetch(T){var A=this;return(0,P.Z)(function*(){const[H,K]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(K&&A.isCachedDataFresh(T.cacheMaxAgeMillis,H))return K;T.eTag=K&&K.eTag;const J=yield A.client.fetch(T),ge=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===J.status&&ge.push(A.storage.setLastSuccessfulFetchResponse(J)),yield Promise.all(ge),J})()}}function Nc(x=navigator){return x.languages&&x.languages[0]||x.language}class Vo{constructor(T,A,H,K,J,ge){this.firebaseInstallations=T,this.sdkVersion=A,this.namespace=H,this.projectId=K,this.apiKey=J,this.appId=ge}fetch(T){var A=this;return(0,P.Z)(function*(){const[H,K]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,et={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},We={sdk_version:A.sdkVersion,app_instance_id:H,app_instance_id_token:K,app_id:A.appId,language_code:Nc()},ut={method:"POST",headers:et,body:JSON.stringify(We)},Bt=fetch(ge,ut),Lt=new Promise((Rr,Qo)=>{T.signal.addEventListener(()=>{const nc=new Error("The operation was aborted.");nc.name="AbortError",Qo(nc)})});let yr;try{yield Promise.race([Bt,Lt]),yr=yield Bt}catch(Rr){let Qo="fetch-client-network";throw"AbortError"===Rr?.name&&(Qo="fetch-timeout"),Sn.create(Qo,{originalErrorMessage:Rr?.message})}let Yn=yr.status;const Aa=yr.headers.get("ETag")||void 0;let Io,fl;if(200===yr.status){let Rr;try{Rr=yield yr.json()}catch(Qo){throw Sn.create("fetch-client-parse",{originalErrorMessage:Qo?.message})}Io=Rr.entries,fl=Rr.state}if("INSTANCE_STATE_UNSPECIFIED"===fl?Yn=500:"NO_CHANGE"===fl?Yn=304:("NO_TEMPLATE"===fl||"EMPTY_CONFIG"===fl)&&(Io={}),304!==Yn&&200!==Yn)throw Sn.create("fetch-status",{httpStatus:Yn});return{status:Yn,eTag:Aa,config:Io}})()}}class ma{constructor(T,A){this.client=T,this.storage=A}fetch(T){var A=this;return(0,P.Z)(function*(){const H=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(T,H)})()}attemptFetch(T,{throttleEndTimeMillis:A,backoffCount:H}){var K=this;return(0,P.Z)(function*(){yield function qn(x,T){return new Promise((A,H)=>{const K=Math.max(T-Date.now(),0),J=setTimeout(A,K);x.addEventListener(()=>{clearTimeout(J),H(Sn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,A);try{const J=yield K.client.fetch(T);return yield K.storage.deleteThrottleMetadata(),J}catch(J){if(!function Fc(x){if(!(x instanceof ce.ZR&&x.customData))return!1;const T=Number(x.customData.httpStatus);return 429===T||500===T||503===T||504===T}(J))throw J;const ge={throttleEndTimeMillis:Date.now()+(0,ce.$s)(H),backoffCount:H+1};return yield K.storage.setThrottleMetadata(ge),K.attemptFetch(T,ge)}})()}}class Lc{constructor(T,A,H,K,J){this.app=T,this._client=A,this._storageCache=H,this._storage=K,this._logger=J,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function tr(x,T){const A=x.target.error||void 0;return Sn.create(T,{originalErrorMessage:A&&A?.message})}const Sr="app_namespace_store";class Ym{constructor(T,A,H,K=function un(){return new Promise((x,T)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=H=>{T(tr(H,"storage-open"))},A.onsuccess=H=>{x(H.target.result)},A.onupgradeneeded=H=>{0===H.oldVersion&&H.target.result.createObjectStore(Sr,{keyPath:"compositeKey"})}}catch(A){T(Sn.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=T,this.appName=A,this.namespace=H,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var A=this;return(0,P.Z)(function*(){const H=yield A.openDbPromise;return new Promise((K,J)=>{const et=H.transaction([Sr],"readonly").objectStore(Sr),We=A.createCompositeKey(T);try{const ut=et.get(We);ut.onerror=Bt=>{J(tr(Bt,"storage-get"))},ut.onsuccess=Bt=>{const Lt=Bt.target.result;K(Lt?Lt.value:void 0)}}catch(ut){J(Sn.create("storage-get",{originalErrorMessage:ut?.message}))}})})()}set(T,A){var H=this;return(0,P.Z)(function*(){const K=yield H.openDbPromise;return new Promise((J,ge)=>{const We=K.transaction([Sr],"readwrite").objectStore(Sr),ut=H.createCompositeKey(T);try{const Bt=We.put({compositeKey:ut,value:A});Bt.onerror=Lt=>{ge(tr(Lt,"storage-set"))},Bt.onsuccess=()=>{J()}}catch(Bt){ge(Sn.create("storage-set",{originalErrorMessage:Bt?.message}))}})})()}delete(T){var A=this;return(0,P.Z)(function*(){const H=yield A.openDbPromise;return new Promise((K,J)=>{const et=H.transaction([Sr],"readwrite").objectStore(Sr),We=A.createCompositeKey(T);try{const ut=et.delete(We);ut.onerror=Bt=>{J(tr(Bt,"storage-delete"))},ut.onsuccess=()=>{K()}}catch(ut){J(Sn.create("storage-delete",{originalErrorMessage:ut?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Js{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,P.Z)(function*(){const A=T.storage.getLastFetchStatus(),H=T.storage.getLastSuccessfulFetchTimestampMillis(),K=T.storage.getActiveConfig(),J=yield A;J&&(T.lastFetchStatus=J);const ge=yield H;ge&&(T.lastSuccessfulFetchTimestampMillis=ge);const et=yield K;et&&(T.activeConfig=et)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function el(){return tl.apply(this,arguments)}function tl(){return(tl=(0,P.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function pa(){(0,ee._registerComponent)(new ae.wA("remote-config",function x(T,{instanceIdentifier:A}){const H=T.getProvider("app").getImmediate(),K=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Sn.create("registration-window");if(!(0,ce.hl)())throw Sn.create("indexed-db-unavailable");const{projectId:J,apiKey:ge,appId:et}=H.options;if(!J)throw Sn.create("registration-project-id");if(!ge)throw Sn.create("registration-api-key");if(!et)throw Sn.create("registration-app-id");const We=new Ym(et,H.name,A=A||"firebase"),ut=new Js(We),Bt=new xe.Yd(Bl);Bt.logLevel=xe.in.ERROR;const Lt=new Vo(K,ee.SDK_VERSION,A,J,ge,et),yr=new ma(Lt,We),Yn=new Hl(yr,We,ut,Bt),Aa=new Lc(H,Yn,ut,We,Bt);return function Ht(x){const T=(0,ce.m9)(x);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Aa),Aa},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(Bl,"0.4.4"),(0,ee.registerVersion)(Bl,"0.4.4","esm2017")}();const fr=(x,T)=>T.some(A=>x instanceof A);let zl,mr;const Ls=new WeakMap,Uo=new WeakMap,Bn=new WeakMap,nl=new WeakMap,Vh=new WeakMap;let tu={get(x,T,A){if(x instanceof IDBTransaction){if("done"===T)return Uo.get(x);if("objectStoreNames"===T)return x.objectStoreNames||Bn.get(x);if("store"===T)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return eo(x[T])},set:(x,T,A)=>(x[T]=A,!0),has:(x,T)=>x instanceof IDBTransaction&&("done"===T||"store"===T)||T in x};function Uh(x){return"function"==typeof x?function R_(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xd(){return mr||(mr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...T){return x.apply(nu(this),T),eo(Ls.get(this))}:function(...T){return eo(x.apply(nu(this),T))}:function(T,...A){const H=x.call(nu(this),T,...A);return Bn.set(H,T.sort?T.sort():[T]),eo(H)}}(x):(x instanceof IDBTransaction&&function eu(x){if(Uo.has(x))return;const T=new Promise((A,H)=>{const K=()=>{x.removeEventListener("complete",J),x.removeEventListener("error",ge),x.removeEventListener("abort",ge)},J=()=>{A(),K()},ge=()=>{H(x.error||new DOMException("AbortError","AbortError")),K()};x.addEventListener("complete",J),x.addEventListener("error",ge),x.addEventListener("abort",ge)});Uo.set(x,T)}(x),fr(x,function pr(){return zl||(zl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,tu):x)}function eo(x){if(x instanceof IDBRequest)return function Jd(x){const T=new Promise((A,H)=>{const K=()=>{x.removeEventListener("success",J),x.removeEventListener("error",ge)},J=()=>{A(eo(x.result)),K()},ge=()=>{H(x.error),K()};x.addEventListener("success",J),x.addEventListener("error",ge)});return T.then(A=>{A instanceof IDBCursor&&Ls.set(A,x)}).catch(()=>{}),Vh.set(T,x),T}(x);if(nl.has(x))return nl.get(x);const T=Uh(x);return T!==x&&(nl.set(x,T),Vh.set(T,x)),T}const nu=x=>Vh.get(x);function iu(x,T,{blocked:A,upgrade:H,blocking:K,terminated:J}={}){const ge=indexedDB.open(x,T),et=eo(ge);return H&&ge.addEventListener("upgradeneeded",We=>{H(eo(ge.result),We.oldVersion,We.newVersion,eo(ge.transaction))}),A&&ge.addEventListener("blocked",()=>A()),et.then(We=>{J&&We.addEventListener("close",()=>J()),K&&We.addEventListener("versionchange",()=>K())}).catch(()=>{}),et}function Vc(x,{blocked:T}={}){const A=indexedDB.deleteDatabase(x);return T&&A.addEventListener("blocked",()=>T()),eo(A).then(()=>{})}const Qm=["get","getKey","getAll","getAllKeys","count"],Hh=["put","add","delete","clear"],zh=new Map;function jh(x,T){if(!(x instanceof IDBDatabase)||T in x||"string"!=typeof T)return;if(zh.get(T))return zh.get(T);const A=T.replace(/FromIndex$/,""),H=T!==A,K=Hh.includes(A);if(!(A in(H?IDBIndex:IDBObjectStore).prototype)||!K&&!Qm.includes(A))return;const J=function(){var ge=(0,P.Z)(function*(et,...We){const ut=this.transaction(et,K?"readwrite":"readonly");let Bt=ut.store;return H&&(Bt=Bt.index(We.shift())),(yield Promise.all([Bt[A](...We),K&&ut.done]))[0]});return function(We){return ge.apply(this,arguments)}}();return zh.set(T,J),J}!function Km(x){tu=x(tu)}(x=>({...x,get:(T,A,H)=>jh(T,A)||x.get(T,A,H),has:(T,A)=>!!jh(T,A)||x.has(T,A)}));const ru="/firebase-messaging-sw.js",$h="/firebase-cloud-messaging-push-scope",Uc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",su="https://fcmregistrations.googleapis.com/v1",Xm="google.c.a.c_id",si="google.c.a.c_l",Yb="google.c.a.ts";var zo=(()=>((zo=zo||{}).PUSH_RECEIVED="push-received",zo.NOTIFICATION_CLICKED="notification-clicked",zo))();function Vr(x){const T=new Uint8Array(x);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ou(x){const A=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(A),K=new Uint8Array(H.length);for(let J=0;J<H.length;++J)K[J]=H.charCodeAt(J);return K}const jl="fcm_token_details_db",$l=5,Jm="fcm_token_object_Store";function Hc(){return Hc=(0,P.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(J=>J.name).includes(jl))return null;let T=null;return(yield iu(jl,$l,{upgrade:(H=(0,P.Z)(function*(K,J,ge,et){var We;if(J<2||!K.objectStoreNames.contains(Jm))return;const ut=et.objectStore(Jm),Bt=yield ut.index("fcmSenderId").get(x);if(yield ut.clear(),Bt)if(2===J){const Lt=Bt;if(!Lt.auth||!Lt.p256dh||!Lt.endpoint)return;T={token:Lt.fcmToken,createTime:null!==(We=Lt.createTime)&&void 0!==We?We:Date.now(),subscriptionOptions:{auth:Lt.auth,p256dh:Lt.p256dh,endpoint:Lt.endpoint,swScope:Lt.swScope,vapidKey:"string"==typeof Lt.vapidKey?Lt.vapidKey:Vr(Lt.vapidKey)}}}else if(3===J){const Lt=Bt;T={token:Lt.fcmToken,createTime:Lt.createTime,subscriptionOptions:{auth:Vr(Lt.auth),p256dh:Vr(Lt.p256dh),endpoint:Lt.endpoint,swScope:Lt.swScope,vapidKey:Vr(Lt.vapidKey)}}}else if(4===J){const Lt=Bt;T={token:Lt.fcmToken,createTime:Lt.createTime,subscriptionOptions:{auth:Vr(Lt.auth),p256dh:Vr(Lt.p256dh),endpoint:Lt.endpoint,swScope:Lt.swScope,vapidKey:Vr(Lt.vapidKey)}}}}),function(J,ge,et,We){return H.apply(this,arguments)})})).close(),yield Vc(jl),yield Vc("fcm_vapid_details_db"),yield Vc("undefined"),function ms(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:T}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var H}),Hc.apply(this,arguments)}const zc="firebase-messaging-database",oi=1,Jr="firebase-messaging-store";let au=null;function jc(){return au||(au=iu(zc,oi,{upgrade:(x,T)=>{0===T&&x.createObjectStore(Jr)}})),au}function _a(x){return va.apply(this,arguments)}function va(){return va=(0,P.Z)(function*(x){const T=qh(x),H=yield(yield jc()).transaction(Jr).objectStore(Jr).get(T);if(H)return H;{const K=yield function ep(x){return Hc.apply(this,arguments)}(x.appConfig.senderId);if(K)return yield $c(x,K),K}}),va.apply(this,arguments)}function $c(x,T){return tp.apply(this,arguments)}function tp(){return(tp=(0,P.Z)(function*(x,T){const A=qh(x),K=(yield jc()).transaction(Jr,"readwrite");return yield K.objectStore(Jr).put(T,A),yield K.done,T})).apply(this,arguments)}function jo(){return(jo=(0,P.Z)(function*(x){const T=qh(x),H=(yield jc()).transaction(Jr,"readwrite");yield H.objectStore(Jr).delete(T),yield H.done})).apply(this,arguments)}function qh({appConfig:x}){return x.appId}const zi=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Kb(x,T){return cu.apply(this,arguments)}function cu(){return(cu=(0,P.Z)(function*(x,T){const A=yield il(x),H=uu(T),K={method:"POST",headers:A,body:JSON.stringify(H)};let J;try{J=yield(yield fetch(Gc(x.appConfig),K)).json()}catch(ge){throw zi.create("token-subscribe-failed",{errorInfo:ge?.toString()})}if(J.error)throw zi.create("token-subscribe-failed",{errorInfo:J.error.message});if(!J.token)throw zi.create("token-subscribe-no-token");return J.token})).apply(this,arguments)}function Gl(){return(Gl=(0,P.Z)(function*(x,T){const A=yield il(x),H=uu(T.subscriptionOptions),K={method:"PATCH",headers:A,body:JSON.stringify(H)};let J;try{J=yield(yield fetch(`${Gc(x.appConfig)}/${T.token}`,K)).json()}catch(ge){throw zi.create("token-update-failed",{errorInfo:ge?.toString()})}if(J.error)throw zi.create("token-update-failed",{errorInfo:J.error.message});if(!J.token)throw zi.create("token-update-no-token");return J.token})).apply(this,arguments)}function np(x,T){return ql.apply(this,arguments)}function ql(){return(ql=(0,P.Z)(function*(x,T){const H={method:"DELETE",headers:yield il(x)};try{const J=yield(yield fetch(`${Gc(x.appConfig)}/${T}`,H)).json();if(J.error)throw zi.create("token-unsubscribe-failed",{errorInfo:J.error.message})}catch(K){throw zi.create("token-unsubscribe-failed",{errorInfo:K?.toString()})}})).apply(this,arguments)}function Gc({projectId:x}){return`${su}/projects/${x}/registrations`}function il(x){return du.apply(this,arguments)}function du(){return(du=(0,P.Z)(function*({appConfig:x,installations:T}){const A=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function uu({p256dh:x,auth:T,endpoint:A,vapidKey:H}){const K={web:{endpoint:A,auth:T,p256dh:x}};return H!==Uc&&(K.web.applicationPubKey=H),K}const ip=6048e5;function Wh(){return Wh=(0,P.Z)(function*(x){const T=yield function qc(x,T){return rl.apply(this,arguments)}(x.swRegistration,x.vapidKey),A={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:T.endpoint,auth:Vr(T.getKey("auth")),p256dh:Vr(T.getKey("p256dh"))},H=yield _a(x.firebaseDependencies);if(H){if(function gr(x,T){return T.vapidKey===x.vapidKey&&T.endpoint===x.endpoint&&T.auth===x.auth&&T.p256dh===x.p256dh}(H.subscriptionOptions,A))return Date.now()>=H.createTime+ip?function Bs(x,T){return pu.apply(this,arguments)}(x,{token:H.token,createTime:Date.now(),subscriptionOptions:A}):H.token;try{yield np(x.firebaseDependencies,H.token)}catch(K){console.warn(K)}return ya(x.firebaseDependencies,A)}return ya(x.firebaseDependencies,A)}),Wh.apply(this,arguments)}function mu(){return mu=(0,P.Z)(function*(x){const T=yield _a(x.firebaseDependencies);T&&(yield np(x.firebaseDependencies,T.token),yield function Gh(x){return jo.apply(this,arguments)}(x.firebaseDependencies));const A=yield x.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),mu.apply(this,arguments)}function pu(){return pu=(0,P.Z)(function*(x,T){try{const A=yield function P_(x,T){return Gl.apply(this,arguments)}(x.firebaseDependencies,T),H=Object.assign(Object.assign({},T),{token:A,createTime:Date.now()});return yield $c(x.firebaseDependencies,H),A}catch(A){throw yield function fu(x){return mu.apply(this,arguments)}(x),A}}),pu.apply(this,arguments)}function ya(x,T){return On.apply(this,arguments)}function On(){return(On=(0,P.Z)(function*(x,T){const H={token:yield Kb(x,T),createTime:Date.now(),subscriptionOptions:T};return yield $c(x,H),H.token})).apply(this,arguments)}function rl(){return(rl=(0,P.Z)(function*(x,T){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ou(T)})})).apply(this,arguments)}function sl(x){const T={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Zh(x,T){if(!T.notification)return;x.notification={};const A=T.notification.title;A&&(x.notification.title=A);const H=T.notification.body;H&&(x.notification.body=H);const K=T.notification.image;K&&(x.notification.image=K);const J=T.notification.icon;J&&(x.notification.icon=J)}(T,x),function $o(x,T){T.data&&(x.data=T.data)}(T,x),function ps(x,T){var A,H,K,J,ge;if(!(T.fcmOptions||null!==(A=T.notification)&&void 0!==A&&A.click_action))return;x.fcmOptions={};const et=null!==(K=null===(H=T.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==K?K:null===(J=T.notification)||void 0===J?void 0:J.click_action;et&&(x.fcmOptions.link=et);const We=null===(ge=T.fcmOptions)||void 0===ge?void 0:ge.analytics_label;We&&(x.fcmOptions.analyticsLabel=We)}(T,x),T}function Yh(x,T){const A=[];for(let H=0;H<x.length;H++)A.push(x.charAt(H)),H<T.length&&A.push(T.charAt(H));return A.join("")}function to(x){return zi.create("missing-app-config-values",{valueName:x})}Yh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Yh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Qh{constructor(T,A,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function Kh(x){if(!x||!x.options)throw to("App Configuration Object");if(!x.name)throw to("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:A}=x;for(const H of T)if(!A[H])throw to(H);return{appName:x.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:K,installations:A,analyticsProvider:H}}_delete(){return Promise.resolve()}}function Wc(){return(Wc=(0,P.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(ru,{scope:$h}),x.swRegistration.update().catch(()=>{})}catch(T){throw zi.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function gs(){return(gs=(0,P.Z)(function*(x,T){if(!T&&!x.swRegistration&&(yield function gu(x){return Wc.apply(this,arguments)}(x)),T||!x.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw zi.create("invalid-sw-registration");x.swRegistration=T}})).apply(this,arguments)}function Rt(){return(Rt=(0,P.Z)(function*(x,T){T?x.vapidKey=T:x.vapidKey||(x.vapidKey=Uc)})).apply(this,arguments)}function Xh(){return Xh=(0,P.Z)(function*(x,T){if(!navigator)throw zi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw zi.create("permission-blocked");return yield function Zc(x,T){return Rt.apply(this,arguments)}(x,T?.vapidKey),yield function ol(x,T){return gs.apply(this,arguments)}(x,T?.serviceWorkerRegistration),function hu(x){return Wh.apply(this,arguments)}(x)}),Xh.apply(this,arguments)}function vu(){return(vu=(0,P.Z)(function*(x,T,A){const H=function sp(x){switch(x){case zo.NOTIFICATION_CLICKED:return"notification_open";case zo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:A[Xm],message_name:A[si],message_time:A[Yb],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _s(){return _s=(0,P.Z)(function*(x,T){const A=T.data;if(!A.isFirebaseMessaging)return;x.onMessageHandler&&A.messageType===zo.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(sl(A)):x.onMessageHandler.next(sl(A)));const H=A.data;(function rp(x){return"object"==typeof x&&!!x&&Xm in x})(H)&&"1"===H["google.c.a.e"]&&(yield function N_(x,T,A){return vu.apply(this,arguments)}(x,A.messageType,H))}),_s.apply(this,arguments)}const Yc="@firebase/messaging",op=x=>{const T=new Qh(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Wl(x,T){return _s.apply(this,arguments)}(T,A)),T},Jh=x=>{const T=x.getProvider("messaging").getImmediate();return{getToken:H=>function _u(x,T){return Xh.apply(this,arguments)}(T,H)}};function ke(){return an.apply(this,arguments)}function an(){return(an=(0,P.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ap(){(0,ee._registerComponent)(new ae.wA("messaging",op,"PUBLIC")),(0,ee._registerComponent)(new ae.wA("messaging-internal",Jh,"PRIVATE")),(0,ee.registerVersion)(Yc,"0.12.4"),(0,ee.registerVersion)(Yc,"0.12.4","esm2017")}();const bu="analytics",ef="firebase_id",tf="origin",nr=6e4,no="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xc="https://www.googletagmanager.com/gtag/js",Wn=new xe.Yd("@firebase/analytics"),Pi=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Jc(x){if(!x.startsWith(Xc)){const T=Pi.create("invalid-gtag-resource",{gtagURL:x});return Wn.warn(T.message),""}return x}function Yl(x){return Promise.all(x.map(T=>T.catch(A=>A)))}function Go(){return(Go=(0,P.Z)(function*(x,T,A,H,K,J){const ge=H[K];try{if(ge)yield T[ge];else{const We=(yield Yl(A)).find(ut=>ut.measurementId===K);We&&(yield T[We.appId])}}catch(et){Wn.error(et)}x("config",K,J)})).apply(this,arguments)}function al(){return(al=(0,P.Z)(function*(x,T,A,H,K){try{let J=[];if(K&&K.send_to){let ge=K.send_to;Array.isArray(ge)||(ge=[ge]);const et=yield Yl(A);for(const We of ge){const ut=et.find(Lt=>Lt.measurementId===We),Bt=ut&&T[ut.appId];if(!Bt){J=[];break}J.push(Bt)}}0===J.length&&(J=Object.values(T)),yield Promise.all(J),x("event",H,K||{})}catch(J){Wn.error(J)}})).apply(this,arguments)}const F_=30,af=new class sf{constructor(T={},A=1e3){this.throttleMetadata=T,this.intervalMillis=A}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,A){this.throttleMetadata[T]=A}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function L_(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Wo(){return(Wo=(0,P.Z)(function*(x){var T;const{appId:A,apiKey:H}=x,K={method:"GET",headers:L_(H)},J=no.replace("{app-id}",A),ge=yield fetch(J,K);if(200!==ge.status&&304!==ge.status){let et="";try{const We=yield ge.json();null!==(T=We.error)&&void 0!==T&&T.message&&(et=We.error.message)}catch{}throw Pi.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:et})}return ge.json()})).apply(this,arguments)}function xu(){return(xu=(0,P.Z)(function*(x,T=af,A){const{appId:H,apiKey:K,measurementId:J}=x.options;if(!H)throw Pi.create("no-app-id");if(!K){if(J)return{measurementId:J,appId:H};throw Pi.create("no-api-key")}const ge=T.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},et=new Iu;return setTimeout((0,P.Z)(function*(){et.abort()}),void 0!==A?A:nr),dp({appId:H,apiKey:K,measurementId:J},ge,et,T)})).apply(this,arguments)}function dp(x,T,A){return ba.apply(this,arguments)}function ba(){return ba=(0,P.Z)(function*(x,{throttleEndTimeMillis:T,backoffCount:A},H,K=af){var J;const{appId:ge,measurementId:et}=x;try{yield function Eu(x,T){return new Promise((A,H)=>{const K=Math.max(T-Date.now(),0),J=setTimeout(A,K);x.addEventListener(()=>{clearTimeout(J),H(Pi.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(H,T)}catch(We){if(et)return Wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${We?.message}]`),{appId:ge,measurementId:et};throw We}try{const We=yield function Ur(x){return Wo.apply(this,arguments)}(x);return K.deleteThrottleMetadata(ge),We}catch(We){const ut=We;if(!function Cu(x){if(!(x instanceof ce.ZR&&x.customData))return!1;const T=Number(x.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ut)){if(K.deleteThrottleMetadata(ge),et)return Wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:ge,measurementId:et};throw We}const Bt=503===Number(null===(J=ut?.customData)||void 0===J?void 0:J.httpStatus)?(0,ce.$s)(A,K.intervalMillis,F_):(0,ce.$s)(A,K.intervalMillis),Lt={throttleEndTimeMillis:Date.now()+Bt,backoffCount:A+1};return K.setThrottleMetadata(ge,Lt),Wn.debug(`Calling attemptFetch again in ${Bt} millis`),dp(x,Lt,H,K)}}),ba.apply(this,arguments)}class Iu{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Ql,od;function lf(){return(lf=(0,P.Z)(function*(x,T,A,H,K){if(K&&K.global)x("event",A,H);else{const J=yield T;x("event",A,Object.assign(Object.assign({},H),{send_to:J}))}})).apply(this,arguments)}function ll(){return(ll=(0,P.Z)(function*(){if(!(0,ce.hl)())return Wn.warn(Pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(x){return Wn.warn(Pi.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function vs(){return vs=(0,P.Z)(function*(x,T,A,H,K,J,ge){var et;const We=function Un(x){return xu.apply(this,arguments)}(x);We.then(Yn=>{A[Yn.measurementId]=Yn.appId,x.options.measurementId&&Yn.measurementId!==x.options.measurementId&&Wn.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Yn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yn=>Wn.error(Yn)),T.push(We);const ut=function up(){return ll.apply(this,arguments)}().then(Yn=>{if(Yn)return H.getId()}),[Bt,Lt]=yield Promise.all([We,ut]);(function wu(x){const T=window.document.getElementsByTagName("script");for(const A of Object.values(T))if(A.src&&A.src.includes(Xc)&&A.src.includes(x))return A;return null})(J)||function nf(x,T){const A=function ed(x,T){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(x,T)),A}("firebase-js-sdk-policy",{createScriptURL:Jc}),H=document.createElement("script"),K=`${Xc}?l=${x}&id=${T}`;H.src=A?A?.createScriptURL(K):K,H.async=!0,document.head.appendChild(H)}(J,Bt.measurementId),od&&(K("consent","default",od),function xa(x){od=x}(void 0)),K("js",new Date);const yr=null!==(et=ge?.config)&&void 0!==et?et:{};return yr[tf]="firebase",yr.update=!0,null!=Lt&&(yr[ef]=Lt),K("config",Bt.measurementId,yr),Ql&&(K("set",Ql),function Su(x){Ql=x}(void 0)),Bt.measurementId}),vs.apply(this,arguments)}class ht{constructor(T){this.app=T}_delete(){return delete es[this.app.options.appId],Promise.resolve()}}let es={},cf=[];const Ea={};let Ii,Vs,ts="dataLayer",wo=!1;function hp(x,T,A){!function ns(){const x=[];if((0,ce.ru)()&&x.push("This is a browser extension environment."),(0,ce.zI)()||x.push("Cookies are not available."),x.length>0){const T=x.map((H,K)=>`(${K+1}) ${H}`).join(" "),A=Pi.create("invalid-analytics-context",{errorInfo:T});Wn.warn(A.message)}}();const H=x.options.appId;if(!H)throw Pi.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Pi.create("no-api-key");Wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=es[H])throw Pi.create("already-exists",{id:H});if(!wo){!function Kl(x){let T=[];Array.isArray(window[x])?T=window[x]:window[x]=T}(ts);const{wrappedGtag:J,gtagCore:ge}=function id(x,T,A,H,K){let J=function(...ge){window[H].push(arguments)};return window[K]&&"function"==typeof window[K]&&(J=window[K]),window[K]=function nd(x,T,A,H){function J(){return J=(0,P.Z)(function*(ge,...et){try{if("event"===ge){const[We,ut]=et;yield function qo(x,T,A,H,K){return al.apply(this,arguments)}(x,T,A,We,ut)}else if("config"===ge){const[We,ut]=et;yield function td(x,T,A,H,K,J){return Go.apply(this,arguments)}(x,T,A,H,We,ut)}else if("consent"===ge){const[We]=et;x("consent","update",We)}else if("get"===ge){const[We,ut,Bt]=et;x("get",We,ut,Bt)}else if("set"===ge){const[We]=et;x("set",We)}else x(ge,...et)}catch(We){Wn.error(We)}}),J.apply(this,arguments)}return function K(ge){return J.apply(this,arguments)}}(J,x,T,A),{gtagCore:J,wrappedGtag:window[K]}}(es,cf,Ea,ts,"gtag");Vs=J,Ii=ge,wo=!0}return es[H]=function B_(x,T,A,H,K,J,ge){return vs.apply(this,arguments)}(x,cf,Ea,T,Ii,ts,A),new ht(x)}function df(){return is.apply(this,arguments)}function is(){return(is=(0,P.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const kt="@firebase/analytics";!function gi(){(0,ee._registerComponent)(new ae.wA(bu,(T,{options:A})=>hp(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,ee._registerComponent)(new ae.wA("analytics-internal",function x(T){try{const A=T.getProvider(bu).getImmediate();return{logEvent:(H,K,J)=>function Ia(x,T,A,H){x=(0,ce.m9)(x),function wa(x,T,A,H,K){return lf.apply(this,arguments)}(Vs,es[x.app.options.appId],T,A,H).catch(K=>Wn.error(K))}(A,H,K,J)}}catch(A){throw Pi.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,ee.registerVersion)(kt,"0.10.0"),(0,ee.registerVersion)(kt,"0.10.0","esm2017")}();var vr=B(1954),Ti=B(2631);const uf=new class dl extends Ti.v{}(class bn extends vr.o{constructor(T,A){super(T,A),this.scheduler=T,this.work=A}schedule(T,A=0){return A>0?super.schedule(T,A):(this.delay=A,this.state=T,this.scheduler.flush(this),this)}execute(T,A){return A>0||this.closed?super.execute(T,A):this._execute(T,A)}requestAsyncId(T,A,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(T,A,H):(T.flush(this),0)}});var ro=B(6321),rs=B(9397),Pn=B(3093),kr=B(5137);const Mu=new c.GfV("7.6.1"),bs="__angularfire_symbol__analyticsIsSupportedValue",so="__angularfire_symbol__analyticsIsSupported",ku="__angularfire_symbol__remoteConfigIsSupportedValue",Ta="__angularfire_symbol__remoteConfigIsSupported",ul="__angularfire_symbol__messagingIsSupportedValue",Wt="__angularfire_symbol__messagingIsSupported";function Jl(x,T,A){if(T){if(1===T.length)return T[0];const J=T.filter(ge=>ge.app===A);if(1===J.length)return J[0]}return A.container.getProvider(x).getImmediate({optional:!0})}globalThis[so]||(globalThis[so]=df().then(x=>globalThis[bs]=x).catch(()=>globalThis[bs]=!1)),globalThis[Wt]||(globalThis[Wt]=ke().then(x=>globalThis[ul]=x).catch(()=>globalThis[ul]=!1)),globalThis[Ta]||(globalThis[Ta]=el().then(x=>globalThis[ku]=x).catch(()=>globalThis[ku]=!1));const Us=(x,T)=>{const A=T?[T]:(0,$.C6)(),H=[];return A.forEach(K=>{K.container.getProvider(x).instances.forEach(ge=>{H.includes(ge)||H.push(ge)})}),H};function hl(){}class _i{constructor(T,A=uf){this.zone=T,this.delegate=A}now(){return this.delegate.now()}schedule(T,A,H){const K=this.zone;return this.delegate.schedule(function(ge){K.runGuarded(()=>{T.apply(this,[ge])})},A,H)}}class Co{constructor(T){this.zone=T,this.task=null}call(T,A){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hl,{},hl,hl)),A.pipe((0,rs.b)({next:H,complete:H,error:H})).subscribe(T).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ec=(()=>{class x{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new _i(Zone.current)),this.insideAngular=A.run(()=>new _i(Zone.current,ro.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(A){return new(A||x)(c.LFG(c.R0b))},x.\u0275prov=c.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Hs(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Ru(x){return x.pipe((0,Pn.Q)(Hs().outsideAngular))}function Sa(x){return Hs(),function hf(x){return function(A){return(A=A.lift(new Co(x.ngZone))).pipe((0,kr.R)(x.outsideAngular),(0,Pn.Q)(x.insideAngular))}}(Hs())(x)}},6878:(pt,De,B)=>{B.d(De,{$:()=>ru,A:()=>Z,D:()=>Re,I:()=>Lh,J:()=>Fl,L:()=>At,N:()=>Cr,P:()=>B_,Q:()=>Ym,R:()=>Tu,U:()=>ga,V:()=>el,W:()=>tl,X:()=>Xr,Y:()=>pr,Z:()=>Xd,_:()=>Vh,a:()=>Oi,a0:()=>Uc,a1:()=>Xm,a2:()=>O_,a3:()=>Jm,a4:()=>Hc,a5:()=>zc,a6:()=>Jr,a7:()=>jc,a8:()=>va,a9:()=>tp,aA:()=>ie,aB:()=>ku,aC:()=>Ci,aD:()=>rn,aE:()=>Pn,aF:()=>ji,aG:()=>Hr,aH:()=>fi,aL:()=>Ar,aO:()=>zl,aa:()=>Gh,ab:()=>qh,ac:()=>lu,ad:()=>P_,ae:()=>np,af:()=>Gc,ai:()=>ip,aj:()=>Wh,ak:()=>fu,an:()=>R_,ao:()=>Zh,aq:()=>Rt,ar:()=>Yc,as:()=>qe,at:()=>yt,au:()=>we,av:()=>re,aw:()=>yr,ax:()=>Da,ay:()=>_t,az:()=>Ie,b:()=>yu,c:()=>Vs,d:()=>hp,e:()=>V_,f:()=>kt,g:()=>dl,h:()=>vr,i:()=>rf,j:()=>ro,k:()=>Rr,l:()=>hn,m:()=>Nu,p:()=>Me,r:()=>_r,s:()=>Mr,u:()=>up});var c=B(5861),$=B(9058),P=B(534),ee=B(7582),ce=B(7879),ae=B(4537);const Me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Re=function oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Xe=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Oe=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new ce.Yd("@firebase/auth");function mt(w,...g){Fe.logLevel<=ce.in.ERROR&&Fe.error(`Auth (${P.SDK_VERSION}): ${w}`,...g)}function re(w,...g){throw Ne(w,...g)}function Ie(w,...g){return Ne(w,...g)}function de(w,g,v){const C=Object.assign(Object.assign({},Xe()),{[g]:v});return new $.LL("auth","Firebase",C).create(g,{appName:w.name})}function ye(w,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&re(w,"argument-error"),de(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ne(w,...g){if("string"!=typeof w){const v=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=w.name),w._errorFactory.create(v,...C)}return Oe.create(w,...g)}function ie(w,g,...v){if(!w)throw Ne(g,...v)}function rt(w){const g="INTERNAL ASSERTION FAILED: "+w;throw mt(g),new Error(g)}function qe(w,g){w||rt(g)}function on(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ri(){return"http:"===xr()||"https:"===xr()}function xr(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Kr{constructor(g,v){this.shortDelay=g,this.longDelay=v,qe(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function Ks(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ri()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vo(w,g){qe(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class fe{static initialize(g,v,C){this.fetchImpl=g,v&&(this.headersImpl=v),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ce=new Kr(3e4,6e4);function he(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function Se(w,g,v,C){return ze.apply(this,arguments)}function ze(){return(ze=(0,c.Z)(function*(w,g,v,C,M={}){return tt(w,M,(0,c.Z)(function*(){let N={},X={};C&&("GET"===g?X=C:N={body:JSON.stringify(C)});const pe=(0,$.xO)(Object.assign({key:w.config.apiKey},X)).slice(1),Ge=yield w._getAdditionalHeaders();return Ge["Content-Type"]="application/json",w.languageCode&&(Ge["X-Firebase-Locale"]=w.languageCode),fe.fetch()(dn(w,w.config.apiHost,v,pe),Object.assign({method:g,headers:Ge,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function tt(w,g,v){return dt.apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(w,g,v){w._canInitEmulator=!1;const C=Object.assign(Object.assign({},_e),g);try{const M=new $t(w),N=yield Promise.race([v(),M.promise]);M.clearNetworkTimeout();const X=yield N.json();if("needConfirmation"in X)throw xn(w,"account-exists-with-different-credential",X);if(N.ok&&!("errorMessage"in X))return X;{const pe=N.ok?X.errorMessage:X.error.message,[Ge,nt]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ge)throw xn(w,"credential-already-in-use",X);if("EMAIL_EXISTS"===Ge)throw xn(w,"email-already-in-use",X);if("USER_DISABLED"===Ge)throw xn(w,"user-disabled",X);const xt=C[Ge]||Ge.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw de(w,xt,nt);re(w,xt)}}catch(M){if(M instanceof $.ZR)throw M;re(w,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function vn(w,g,v,C){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(w,g,v,C,M={}){const N=yield Se(w,g,v,C,M);return"mfaPendingCredential"in N&&re(w,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function dn(w,g,v,C){const M=`${g}${v}?${C}`;return w.config.emulator?vo(w.config,M):`${w.config.apiScheme}://${M}`}class $t{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,C)=>{this.timer=setTimeout(()=>C(Ie(this.auth,"network-request-failed")),Ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xn(w,g,v){const C={appName:w.name};v.email&&(C.email=v.email),v.phoneNumber&&(C.phoneNumber=v.phoneNumber);const M=Ie(w,g,C);return M.customData._tokenResponse=v,M}function zn(){return(zn=(0,c.Z)(function*(w,g){return Se(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function di(){return(di=(0,c.Z)(function*(w,g){return Se(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function hs(){return(hs=(0,c.Z)(function*(w,g){return Se(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ki(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Qs(){return(Qs=(0,c.Z)(function*(w,g=!1){const v=(0,$.m9)(w),C=yield v.getIdToken(g),M=gt(C);ie(M&&M.exp&&M.auth_time&&M.iat,v.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,X=N?.sign_in_provider;return{claims:M,token:C,authTime:Ki(Je(M.auth_time)),issuedAtTime:Ki(Je(M.iat)),expirationTime:Ki(Je(M.exp)),signInProvider:X||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Je(w){return 1e3*Number(w)}function gt(w){const[g,v,C]=w.split(".");if(void 0===g||void 0===v||void 0===C)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,$.tV)(v);return M?JSON.parse(M):(mt("Failed to decode base64 JWT payload"),null)}catch(M){return mt("Caught error parsing JWT payload as JSON",M?.toString()),null}}function nn(w,g){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(w,g,v=!1){if(v)return g;try{return yield g}catch(C){throw C instanceof $.ZR&&function Br({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(C)&&w.auth.currentUser===w&&(yield w.auth.signOut()),C}})).apply(this,arguments)}class Jt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield v.iteration()}),C)}iteration(){var g=this;return(0,c.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&g.schedule(!0))}g.schedule()})()}}class ui{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ki(this.lastLoginAt),this.creationTime=Ki(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ps(w){return En.apply(this,arguments)}function En(){return En=(0,c.Z)(function*(w){var g;const v=w.auth,C=yield w.getIdToken(),M=yield nn(w,function Qr(w,g){return hs.apply(this,arguments)}(v,{idToken:C}));ie(M?.users.length,v,"internal-error");const N=M.users[0];w._notifyReloadListener(N);const X=null!==(g=N.providerUserInfo)&&void 0!==g&&g.length?function fs(w){return w.map(g=>{var{providerId:v}=g,C=(0,ee._T)(g,["providerId"]);return{providerId:v,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(N.providerUserInfo):[],pe=function jn(w,g){return[...w.filter(C=>!g.some(M=>M.providerId===C.providerId)),...g]}(w.providerData,X),xt=!!w.isAnonymous&&!(w.email&&N.passwordHash||pe?.length),tn={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:pe,metadata:new ui(N.createdAt,N.lastLoginAt),isAnonymous:xt};Object.assign(w,tn)}),En.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(w){const g=(0,$.m9)(w);yield Ps(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Qi(){return(Qi=(0,c.Z)(function*(w,g){const v=yield tt(w,{},(0,c.Z)(function*(){const C=(0,$.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:N}=w.config,X=dn(w,M,"/v1/token",`key=${N}`),pe=yield w._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",fe.fetch()(X,{method:"POST",headers:pe,body:C})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class ii{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ie(g.idToken,"internal-error"),ie(typeof g.idToken<"u","internal-error"),ie(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function bt(w){const g=gt(w);return ie(g,"internal-error"),ie(typeof g.exp<"u","internal-error"),ie(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}getToken(g,v=!1){var C=this;return(0,c.Z)(function*(){return ie(!C.accessToken||C.refreshToken,g,"user-token-expired"),v||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var C=this;return(0,c.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:X}=yield function Xs(w,g){return Qi.apply(this,arguments)}(g,v);C.updateTokensAndExpiration(M,N,Number(X))})()}updateTokensAndExpiration(g,v,C){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,v){const{refreshToken:C,accessToken:M,expirationTime:N}=v,X=new ii;return C&&(ie("string"==typeof C,"internal-error",{appName:g}),X.refreshToken=C),M&&(ie("string"==typeof M,"internal-error",{appName:g}),X.accessToken=M),N&&(ie("number"==typeof N,"internal-error",{appName:g}),X.expirationTime=N),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ii,this.toJSON())}_performRefresh(){return rt("not implemented")}}function Ln(w,g){ie("string"==typeof w||typeof w>"u","internal-error",{appName:g})}class hi{constructor(g){var{uid:v,auth:C,stsTokenManager:M}=g,N=(0,ee._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new ui(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,c.Z)(function*(){const C=yield nn(v,v.stsTokenManager.getToken(v.auth,g));return ie(C,v.auth,"internal-error"),v.accessToken!==C&&(v.accessToken=C,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),C})()}getIdTokenResult(g){return function Er(w){return Qs.apply(this,arguments)}(this,g)}reload(){return function ur(w){return Ut.apply(this,arguments)}(this)}_assign(g){this!==g&&(ie(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const v=new hi(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(g){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var C=this;return(0,c.Z)(function*(){let M=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),M=!0),v&&(yield Ps(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,c.Z)(function*(){const v=yield g.getIdToken();return yield nn(g,function Xn(w,g){return zn.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var C,M,N,X,pe,Ge,nt,xt;const tn=null!==(C=v.displayName)&&void 0!==C?C:void 0,zr=null!==(M=v.email)&&void 0!==M?M:void 0,Ma=null!==(N=v.phoneNumber)&&void 0!==N?N:void 0,_p=null!==(X=v.photoURL)&&void 0!==X?X:void 0,j_=null!==(pe=v.tenantId)&&void 0!==pe?pe:void 0,vp=null!==(Ge=v._redirectEventId)&&void 0!==Ge?Ge:void 0,Fu=null!==(nt=v.createdAt)&&void 0!==nt?nt:void 0,To=null!==(xt=v.lastLoginAt)&&void 0!==xt?xt:void 0,{uid:ml,emailVerified:Xo,isAnonymous:dd,providerData:pl,stsTokenManager:Lu}=v;ie(ml&&Lu,g,"internal-error");const ud=ii.fromJSON(this.name,Lu);ie("string"==typeof ml,g,"internal-error"),Ln(tn,g.name),Ln(zr,g.name),ie("boolean"==typeof Xo,g,"internal-error"),ie("boolean"==typeof dd,g,"internal-error"),Ln(Ma,g.name),Ln(_p,g.name),Ln(j_,g.name),Ln(vp,g.name),Ln(Fu,g.name),Ln(To,g.name);const pf=new hi({uid:ml,auth:g,email:zr,emailVerified:Xo,displayName:tn,isAnonymous:dd,photoURL:_p,phoneNumber:Ma,tenantId:j_,stsTokenManager:ud,createdAt:Fu,lastLoginAt:To});return pl&&Array.isArray(pl)&&(pf.providerData=pl.map($_=>Object.assign({},$_))),vp&&(pf._redirectEventId=vp),pf}static _fromIdTokenResponse(g,v,C=!1){return(0,c.Z)(function*(){const M=new ii;M.updateFromServerResponse(v);const N=new hi({uid:v.localId,auth:g,stsTokenManager:M,isAnonymous:C});return yield Ps(N),N})()}}const $n=new Map;function Ci(w){qe(w instanceof Function,"Expected a class definition");let g=$n.get(w);return g?(qe(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,$n.set(w,g),g)}const Cr=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(v,C){var M=this;return(0,c.Z)(function*(){M.storage[v]=C})()}_get(v){var C=this;return(0,c.Z)(function*(){const M=C.storage[v];return void 0===M?null:M})()}_remove(v){var C=this;return(0,c.Z)(function*(){delete C.storage[v]})()}_addListener(v,C){}_removeListener(v,C){}}return w.type="NONE",w})();function rn(w,g,v){return`firebase:${w}:${g}:${v}`}class W{constructor(g,v,C){this.persistence=g,this.auth=v,this.userKey=C;const{config:M,name:N}=this.auth;this.fullUserKey=rn(this.userKey,M.apiKey,N),this.fullPersistenceKey=rn("persistence",M.apiKey,N),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?hi._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,c.Z)(function*(){if(v.persistence===g)return;const C=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,C?v.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,C="authUser"){return(0,c.Z)(function*(){if(!v.length)return new W(Ci(Cr),g,C);const M=(yield Promise.all(v.map(function(){var nt=(0,c.Z)(function*(xt){if(yield xt._isAvailable())return xt});return function(xt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let N=M[0]||Ci(Cr);const X=rn(C,g.config.apiKey,g.name);let pe=null;for(const nt of v)try{const xt=yield nt._get(X);if(xt){const tn=hi._fromJSON(g,xt);nt!==N&&(pe=tn),N=nt;break}}catch{}const Ge=M.filter(nt=>nt._shouldAllowMigration);return N._shouldAllowMigration&&Ge.length?(N=Ge[0],pe&&(yield N._set(X,pe.toJSON())),yield Promise.all(v.map(function(){var nt=(0,c.Z)(function*(xt){if(xt!==N)try{yield xt._remove(X)}catch{}});return function(xt){return nt.apply(this,arguments)}}())),new W(N,g,C)):new W(N,g,C)})()}}function G(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(te(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(F(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ke(g))return"Blackberry";if(wt(g))return"Webos";if(V(g))return"Safari";if((g.includes("chrome/")||O(g))&&!g.includes("edge/"))return"Chrome";if(we(g))return"Android";{const C=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function F(w=(0,$.z$)()){return/firefox\//i.test(w)}function V(w=(0,$.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function O(w=(0,$.z$)()){return/crios\//i.test(w)}function te(w=(0,$.z$)()){return/iemobile/i.test(w)}function we(w=(0,$.z$)()){return/android/i.test(w)}function Ke(w=(0,$.z$)()){return/blackberry/i.test(w)}function wt(w=(0,$.z$)()){return/webos/i.test(w)}function yt(w=(0,$.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function _t(w=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Gt(w=(0,$.z$)()){return yt(w)||we(w)||wt(w)||Ke(w)||/windows phone/i.test(w)||te(w)}function Xi(w,g=[]){let v;switch(w){case"Browser":v=G((0,$.z$)());break;case"Worker":v=`${G((0,$.z$)())}-${w}`;break;default:v=w}const C=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${P.SDK_VERSION}/${C}`}function le(){return(le=(0,c.Z)(function*(w){return(yield Se(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ve(w,g){return vt.apply(this,arguments)}function vt(){return(vt=(0,c.Z)(function*(w,g){return Se(w,"GET","/v2/recaptchaConfig",he(w,g))})).apply(this,arguments)}function Ft(w){return void 0!==w&&void 0!==w.getResponse}function Yt(w){return void 0!==w&&void 0!==w.enterprise}class ln{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function ri(w){return new Promise((g,v)=>{const C=document.createElement("script");C.setAttribute("src",w),C.onload=g,C.onerror=M=>{const N=Ie("internal-error");N.customData=M,v(N)},C.type="text/javascript",C.charset="UTF-8",function Ui(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(C)})}function Fo(w){return`__${w}${Math.floor(1e6*Math.random())}`}class Ir{constructor(g){this.type="recaptcha-enterprise",this.auth=fi(g)}verify(g="verify",v=!1){var C=this;return(0,c.Z)(function*(){function N(){return N=(0,c.Z)(function*(pe){if(!v){if(null==pe.tenantId&&null!=pe._agentRecaptchaConfig)return pe._agentRecaptchaConfig.siteKey;if(null!=pe.tenantId&&void 0!==pe._tenantRecaptchaConfigs[pe.tenantId])return pe._tenantRecaptchaConfigs[pe.tenantId].siteKey}return new Promise(function(){var Ge=(0,c.Z)(function*(nt,xt){Ve(pe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(tn=>{if(void 0!==tn.recaptchaKey){const zr=new ln(tn);return null==pe.tenantId?pe._agentRecaptchaConfig=zr:pe._tenantRecaptchaConfigs[pe.tenantId]=zr,nt(zr.siteKey)}xt(new Error("recaptcha Enterprise site key undefined"))}).catch(tn=>{xt(tn)})});return function(nt,xt){return Ge.apply(this,arguments)}}())}),N.apply(this,arguments)}function X(pe,Ge,nt){const xt=window.grecaptcha;Yt(xt)?xt.enterprise.ready(()=>{xt.enterprise.execute(pe,{action:g}).then(tn=>{Ge(tn)}).catch(()=>{Ge("NO_RECAPTCHA")})}):nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((pe,Ge)=>{(function M(pe){return N.apply(this,arguments)})(C.auth).then(nt=>{if(!v&&Yt(window.grecaptcha))X(nt,pe,Ge);else{if(typeof window>"u")return void Ge(new Error("RecaptchaVerifier is only supported in browser"));ri("https://www.google.com/recaptcha/enterprise.js?render="+nt).then(()=>{X(nt,pe,Ge)}).catch(xt=>{Ge(xt)})}}).catch(nt=>{Ge(nt)})})})()}}function Lo(w,g,v){return ua.apply(this,arguments)}function ua(){return(ua=(0,c.Z)(function*(w,g,v,C=!1){const M=new Ir(w);let N;try{N=yield M.verify(v)}catch{N=yield M.verify(v,!0)}const X=Object.assign({},g);return Object.assign(X,C?{captchaResp:N}:{captchaResponse:N}),Object.assign(X,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(X,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),X})).apply(this,arguments)}class qm{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const C=N=>new Promise((X,pe)=>{try{X(g(N))}catch(Ge){pe(Ge)}});C.onAbort=v,this.queue.push(C);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,c.Z)(function*(){if(v.auth.currentUser===g)return;const C=[];try{for(const M of v.queue)yield M(g),M.onAbort&&C.push(M.onAbort)}catch(M){C.reverse();for(const N of C)try{N()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class Mc{constructor(g,v,C,M){this.app=g,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=C,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M_(this),this.idTokenSubscription=new M_(this),this.beforeStateQueue=new qm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(g,v){var C=this;return v&&(this._popupRedirectResolver=Ci(v)),this._initializationPromise=this.queue((0,c.Z)(function*(){var M,N;if(!C._deleted&&(C.persistenceManager=yield W.create(C,g),!C._deleted)){if(null!==(M=C._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(v),C.lastNotifiedUid=(null===(N=C.currentUser)||void 0===N?void 0:N.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUser(g){var v=this;return(0,c.Z)(function*(){var C;const M=yield v.assertedPersistence.getCurrentUser();let N=M,X=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const pe=null===(C=v.redirectUser)||void 0===C?void 0:C._redirectEventId,Ge=N?._redirectEventId,nt=yield v.tryRedirectSignIn(g);(!pe||pe===Ge)&&nt?.user&&(N=nt.user,X=!0)}if(!N)return v.directlySetCurrentUser(null);if(!N._redirectEventId){if(X)try{yield v.beforeStateQueue.runMiddleware(N)}catch(pe){N=M,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(pe))}return N?v.reloadAndSetCurrentUserOrClear(N):v.directlySetCurrentUser(null)}return ie(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===N._redirectEventId?v.directlySetCurrentUser(N):v.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(g){var v=this;return(0,c.Z)(function*(){let C=null;try{C=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,c.Z)(function*(){try{yield Ps(g)}catch(C){if("auth/network-request-failed"!==C?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Fn(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,c.Z)(function*(){const C=g?(0,$.m9)(g):null;return C&&ie(C.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(C&&C._clone(v))})()}_updateCurrentUser(g,v=!1){var C=this;return(0,c.Z)(function*(){if(!C._deleted)return g&&ie(C.tenantId===g.tenantId,C,"tenant-id-mismatch"),v||(yield C.beforeStateQueue.runMiddleware(g)),C.queue((0,c.Z)(function*(){yield C.directlySetCurrentUser(g),C.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var v=this;return this.queue((0,c.Z)(function*(){yield v.assertedPersistence.setPersistence(Ci(g))}))}initializeRecaptchaConfig(){var g=this;return(0,c.Z)(function*(){const v=yield Ve(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new ln(v);null==g.tenantId?g._agentRecaptchaConfig=C:g._tenantRecaptchaConfigs[g.tenantId]=C,C.emailPasswordEnabled&&new Ir(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new $.LL("auth","Firebase",g())}onAuthStateChanged(g,v,C){return this.registerStateListener(this.authStateSubscription,g,v,C)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,C){return this.registerStateListener(this.idTokenSubscription,g,v,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var C=this;return(0,c.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(v);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,c.Z)(function*(){if(!v.redirectPersistenceManager){const C=g&&Ci(g)||v._popupRedirectResolver;ie(C,v,"argument-error"),v.redirectPersistenceManager=yield W.create(v,[Ci(C._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,c.Z)(function*(){var C,M;return v._isInitialized&&(yield v.queue((0,c.Z)(function*(){}))),(null===(C=v._currentUser)||void 0===C?void 0:C._redirectEventId)===g?v._currentUser:(null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,c.Z)(function*(){if(g===v.currentUser)return v.queue((0,c.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,C,M){if(this._deleted)return()=>{};const N="function"==typeof v?v:v.next.bind(v),X=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(X,this,"internal-error"),X.then(()=>N(this.currentUser)),"function"==typeof v?g.addObserver(v,C,M):g.addObserver(v)}directlySetCurrentUser(g){var v=this;return(0,c.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Xi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var v;const C={"X-Client-Version":g.clientVersion};g.app.options.appId&&(C["X-Firebase-gmpid"]=g.app.options.appId);const M=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();M&&(C["X-Firebase-Client"]=M);const N=yield g._getAppCheckToken();return N&&(C["X-Firebase-AppCheck"]=N),C})()}_getAppCheckToken(){var g=this;return(0,c.Z)(function*(){var v;const C=yield null===(v=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return C?.error&&function Ct(w,...g){Fe.logLevel<=ce.in.WARN&&Fe.warn(`Auth (${P.SDK_VERSION}): ${w}`,...g)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function fi(w){return(0,$.m9)(w)}class M_{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,$.ne)(v=>this.observer=v)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Lh(w,g,v){const C=fi(w);ie(C._canInitEmulator,C,"emulator-config-failed"),ie(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const M=!!v?.disableWarnings,N=kc(g),{host:X,port:pe}=function ha(w){const g=kc(w),v=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!v)return{host:"",port:null};const C=v[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const N=M[1];return{host:N,port:Rc(C.substr(N.length+1))}}{const[N,X]=C.split(":");return{host:N,port:Rc(X)}}}(g);C.config.emulator={url:`${N}//${X}${null===pe?"":`:${pe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:X,port:pe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Wm(){function w(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function kc(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function Rc(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class Fl{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return rt("not implemented")}_getIdTokenResponse(g){return rt("not implemented")}_linkToIdToken(g,v){return rt("not implemented")}_getReauthenticationResolver(g){return rt("not implemented")}}function Ll(w,g){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,c.Z)(function*(w,g){return Se(w,"POST","/v1/accounts:resetPassword",he(w,g))})).apply(this,arguments)}function Bl(w,g){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,c.Z)(function*(w,g){return Se(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(w,g){return Se(w,"POST","/v1/accounts:update",he(w,g))})).apply(this,arguments)}function Hi(w,g){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,c.Z)(function*(w,g){return vn(w,"POST","/v1/accounts:signInWithPassword",he(w,g))})).apply(this,arguments)}function yo(w,g){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,c.Z)(function*(w,g){return Se(w,"POST","/v1/accounts:sendOobCode",he(w,g))})).apply(this,arguments)}function Vl(){return(Vl=(0,c.Z)(function*(w,g){return yo(w,g)})).apply(this,arguments)}function Xa(w,g){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,c.Z)(function*(w,g){return yo(w,g)})).apply(this,arguments)}function Bh(w,g){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(w,g){return yo(w,g)})).apply(this,arguments)}function Ht(){return(Ht=(0,c.Z)(function*(w,g){return yo(w,g)})).apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(w,g){return vn(w,"POST","/v1/accounts:signInWithEmailLink",he(w,g))})).apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(w,g){return vn(w,"POST","/v1/accounts:signInWithEmailLink",he(w,g))})).apply(this,arguments)}class bo extends Fl{constructor(g,v,C,M=null){super("password",C),this._email=g,this._password=v,this._tenantId=M}static _fromEmailAndPassword(g,v){return new bo(g,v,"password")}static _fromEmailAndCode(g,v,C=null){return new bo(g,v,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,c.Z)(function*(){var C;switch(v.signInMethod){case"password":const M={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=g._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const N=yield Lo(g,M,"signInWithPassword");return Hi(g,N)}return Hi(g,M).catch(function(){var N=(0,c.Z)(function*(X){if("auth/missing-recaptcha-token"===X.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const pe=yield Lo(g,M,"signInWithPassword");return Hi(g,pe)}return Promise.reject(X)});return function(X){return N.apply(this,arguments)}}());case"emailLink":return function Jn(w,g){return Dr.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:re(g,"internal-error")}})()}_linkToIdToken(g,v){var C=this;return(0,c.Z)(function*(){switch(C.signInMethod){case"password":return Bl(g,{idToken:v,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Pc(w,g){return Ji.apply(this,arguments)}(g,{idToken:v,email:C._email,oobCode:C._password});default:re(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Rn(w,g){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,c.Z)(function*(w,g){return vn(w,"POST","/v1/accounts:signInWithIdp",he(w,g))})).apply(this,arguments)}class At extends Fl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new At(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):re("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:M}=v,N=(0,ee._T)(v,["providerId","signInMethod"]);if(!C||!M)return null;const X=new At(C,M);return X.idToken=N.idToken||void 0,X.accessToken=N.accessToken||void 0,X.secret=N.secret,X.nonce=N.nonce,X.pendingToken=N.pendingToken||null,X}_getIdTokenResponse(g){return Rn(g,this.buildRequest())}_linkToIdToken(g,v){const C=this.buildRequest();return C.idToken=v,Rn(g,C)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Rn(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,$.xO)(v)}return g}}function Nc(){return(Nc=(0,c.Z)(function*(w,g){return Se(w,"POST","/v1/accounts:sendVerificationCode",he(w,g))})).apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(w,g){return vn(w,"POST","/v1/accounts:signInWithPhoneNumber",he(w,g))})).apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(w,g){const v=yield vn(w,"POST","/v1/accounts:signInWithPhoneNumber",he(w,g));if(v.temporaryProof)throw xn(w,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const er={USER_NOT_FOUND:"user-not-found"};function Lc(){return(Lc=(0,c.Z)(function*(w,g){return vn(w,"POST","/v1/accounts:signInWithPhoneNumber",he(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),er)})).apply(this,arguments)}class tr extends Fl{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new tr({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new tr({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function Vo(w,g){return qn.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function Fc(w,g){return ma.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Ja(w,g){return Lc.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:C,verificationCode:M}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:C,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:C,phoneNumber:M,temporaryProof:N}=g;return C||v||M||N?new tr({verificationId:v,verificationCode:C,phoneNumber:M,temporaryProof:N}):null}}class Fs{constructor(g){var v,C,M,N,X,pe;const Ge=(0,$.zd)((0,$.pd)(g)),nt=null!==(v=Ge.apiKey)&&void 0!==v?v:null,xt=null!==(C=Ge.oobCode)&&void 0!==C?C:null,tn=function Sr(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ge.mode)&&void 0!==M?M:null);ie(nt&&xt&&tn,"argument-error"),this.apiKey=nt,this.operation=tn,this.code=xt,this.continueUrl=null!==(N=Ge.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(X=Ge.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(pe=Ge.tenantId)&&void 0!==pe?pe:null}static parseLink(g){const v=function Bc(w){const g=(0,$.zd)((0,$.pd)(w)).link,v=g?(0,$.zd)((0,$.pd)(g)).deep_link_id:null,C=(0,$.zd)((0,$.pd)(w)).deep_link_id;return(C?(0,$.zd)((0,$.pd)(C)).link:null)||C||v||g||w}(g);try{return new Fs(v)}catch{return null}}}let Ym=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(v,C){return bo._fromEmailAndPassword(v,C)}static credentialWithLink(v,C){const M=Fs.parseLink(C);return ie(M,"argument-error"),bo._fromEmailAndCode(v,M.code,M.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Js{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class pa extends Js{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Xr extends pa{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return ie("providerId"in v&&"signInMethod"in v,"argument-error"),At._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ie(g.idToken||g.accessToken,"argument-error"),At._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Xr.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Xr.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:N,nonce:X,providerId:pe}=g;if(!C&&!M&&!v&&!N||!pe)return null;try{return new Xr(pe)._credential({idToken:v,accessToken:C,nonce:X,pendingToken:N})}catch{return null}}}let ga=(()=>{class w extends pa{constructor(){super("facebook.com")}static credential(v){return At._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),el=(()=>{class w extends pa{constructor(){super("google.com"),this.addScope("profile")}static credential(v,C){return At._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:C})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:C,oauthAccessToken:M}=v;if(!C&&!M)return null;try{return w.credential(C,M)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),tl=(()=>{class w extends pa{constructor(){super("github.com")}static credential(v){return At._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class zl extends Fl{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return Rn(g,this.buildRequest())}_linkToIdToken(g,v){const C=this.buildRequest();return C.idToken=v,Rn(g,C)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Rn(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:M,pendingToken:N}=v;return C&&M&&N&&C===M?new zl(C,N):null}static _create(g,v){return new zl(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pr extends Js{constructor(g){ie(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return pr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return pr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=zl.fromJSON(g);return ie(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:C}=g;if(!v||!C)return null;try{return zl._create(C,v)}catch{return null}}}let Xd=(()=>{class w extends pa{constructor(){super("twitter.com")}static credential(v,C){return At._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:C})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=v;if(!C||!M)return null;try{return w.credential(C,M)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Ls(w,g){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,c.Z)(function*(w,g){return vn(w,"POST","/v1/accounts:signUp",he(w,g))})).apply(this,arguments)}class Bn{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,C,M=!1){return(0,c.Z)(function*(){const N=yield hi._fromIdTokenResponse(g,C,M),X=nl(C);return new Bn({user:N,providerId:X,_tokenResponse:C,operationType:v})})()}static _forOperation(g,v,C){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const M=nl(C);return new Bn({user:g,providerId:M,_tokenResponse:C,operationType:v})})()}}function nl(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Vh(w){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,c.Z)(function*(w){var g;const v=fi(w);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new Bn({user:v.currentUser,providerId:null,operationType:"signIn"});const C=yield Ls(v,{returnSecureToken:!0}),M=yield Bn._fromIdTokenResponse(v,"signIn",C,!0);return yield v._updateCurrentUser(M.user),M})).apply(this,arguments)}class eu extends $.ZR{constructor(g,v,C,M){var N;super(v.code,v.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,eu.prototype),this.customData={appName:g.name,tenantId:null!==(N=g.tenantId)&&void 0!==N?N:void 0,_serverResponse:v.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,v,C,M){return new eu(g,v,C,M)}}function tu(w,g,v,C){return("reauthenticate"===g?v._getReauthenticationResolver(w):v._getIdTokenResponse(w)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?eu._fromErrorAndOperation(w,N,g,C):N})}function Km(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function R_(w,g){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,c.Z)(function*(w,g){const v=(0,$.m9)(w);yield iu(!0,v,g);const{providerUserInfo:C}=yield function yn(w,g){return di.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),M=Km(C||[]);return v.providerData=v.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),Uh.apply(this,arguments)}function eo(w,g){return nu.apply(this,arguments)}function nu(){return(nu=(0,c.Z)(function*(w,g,v=!1){const C=yield nn(w,g._linkToIdToken(w.auth,yield w.getIdToken()),v);return Bn._forOperation(w,"link",C)})).apply(this,arguments)}function iu(w,g,v){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,c.Z)(function*(w,g,v){yield Ps(g);const M=!1===w?"provider-already-linked":"no-such-provider";ie(Km(g.providerData).has(v)===w,g.auth,M)})).apply(this,arguments)}function Qm(w,g){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,c.Z)(function*(w,g,v=!1){const{auth:C}=w,M="reauthenticate";try{const N=yield nn(w,tu(C,M,g,w),v);ie(N.idToken,C,"internal-error");const X=gt(N.idToken);ie(X,C,"internal-error");const{sub:pe}=X;return ie(w.uid===pe,C,"user-mismatch"),Bn._forOperation(w,M,N)}catch(N){throw"auth/user-not-found"===N?.code&&re(C,"user-mismatch"),N}})).apply(this,arguments)}function zh(w,g){return jh.apply(this,arguments)}function jh(){return(jh=(0,c.Z)(function*(w,g,v=!1){const C="signIn",M=yield tu(w,C,g),N=yield Bn._fromIdTokenResponse(w,C,M);return v||(yield w._updateCurrentUser(N.user)),N})).apply(this,arguments)}function ru(w,g){return $h.apply(this,arguments)}function $h(){return($h=(0,c.Z)(function*(w,g){return zh(fi(w),g)})).apply(this,arguments)}function Uc(w,g){return su.apply(this,arguments)}function su(){return(su=(0,c.Z)(function*(w,g){const v=(0,$.m9)(w);return yield iu(!1,v,g.providerId),eo(v,g)})).apply(this,arguments)}function Xm(w,g){return si.apply(this,arguments)}function si(){return(si=(0,c.Z)(function*(w,g){return Qm((0,$.m9)(w),g)})).apply(this,arguments)}function Ho(){return(Ho=(0,c.Z)(function*(w,g){return vn(w,"POST","/v1/accounts:signInWithCustomToken",he(w,g))})).apply(this,arguments)}function O_(w,g){return zo.apply(this,arguments)}function zo(){return zo=(0,c.Z)(function*(w,g){const v=fi(w),C=yield function Yb(w,g){return Ho.apply(this,arguments)}(v,{token:g,returnSecureToken:!0}),M=yield Bn._fromIdTokenResponse(v,"signIn",C);return yield v._updateCurrentUser(M.user),M}),zo.apply(this,arguments)}class Vr{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?ou._fromServerResponse(g,v):"totpInfo"in v?jl._fromServerResponse(g,v):re(g,"internal-error")}}class ou extends Vr{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new ou(v)}}class jl extends Vr{constructor(g){super("totp",g)}static _fromServerResponse(g,v){return new jl(v)}}function $l(w,g,v){var C;ie((null===(C=v.url)||void 0===C?void 0:C.length)>0,w,"invalid-continue-uri"),ie(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(ie(v.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(ie(v.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function Jm(w,g,v){return ep.apply(this,arguments)}function ep(){return ep=(0,c.Z)(function*(w,g,v){var C;const M=fi(w),N={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=M._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const X=yield Lo(M,N,"getOobCode",!0);v&&$l(M,X,v),yield Xa(M,X)}else v&&$l(M,N,v),yield Xa(M,N).catch(function(){var X=(0,c.Z)(function*(pe){if("auth/missing-recaptcha-token"!==pe.code)return Promise.reject(pe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ge=yield Lo(M,N,"getOobCode",!0);v&&$l(M,Ge,v),yield Xa(M,Ge)}});return function(pe){return X.apply(this,arguments)}}())}),ep.apply(this,arguments)}function Hc(w,g,v){return ms.apply(this,arguments)}function ms(){return(ms=(0,c.Z)(function*(w,g,v){yield Ll((0,$.m9)(w),{oobCode:g,newPassword:v})})).apply(this,arguments)}function zc(w,g){return oi.apply(this,arguments)}function oi(){return oi=(0,c.Z)(function*(w,g){yield function Zm(w,g){return qt.apply(this,arguments)}((0,$.m9)(w),{oobCode:g})}),oi.apply(this,arguments)}function Jr(w,g){return au.apply(this,arguments)}function au(){return(au=(0,c.Z)(function*(w,g){const v=(0,$.m9)(w),C=yield Ll(v,{oobCode:g}),M=C.requestType;switch(ie(M,v,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(C.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(C.mfaInfo,v,"internal-error");default:ie(C.email,v,"internal-error")}let N=null;return C.mfaInfo&&(N=Vr._fromServerResponse(fi(v),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function jc(w,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(w,g){const{data:v}=yield Jr((0,$.m9)(w),g);return v.email})).apply(this,arguments)}function va(w,g,v){return $c.apply(this,arguments)}function $c(){return $c=(0,c.Z)(function*(w,g,v){var C;const M=fi(w),N={returnSecureToken:!0,email:g,password:v,clientType:"CLIENT_TYPE_WEB"};let X;if(null!==(C=M._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const nt=yield Lo(M,N,"signUpPassword");X=Ls(M,nt)}else X=Ls(M,N).catch(function(){var nt=(0,c.Z)(function*(xt){if("auth/missing-recaptcha-token"===xt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const tn=yield Lo(M,N,"signUpPassword");return Ls(M,tn)}return Promise.reject(xt)});return function(xt){return nt.apply(this,arguments)}}());const pe=yield X.catch(nt=>Promise.reject(nt)),Ge=yield Bn._fromIdTokenResponse(M,"signIn",pe);return yield M._updateCurrentUser(Ge.user),Ge}),$c.apply(this,arguments)}function tp(w,g,v){return ru((0,$.m9)(w),Ym.credential(g,v))}function Gh(w,g,v){return jo.apply(this,arguments)}function jo(){return jo=(0,c.Z)(function*(w,g,v){var C;const M=fi(w),N={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function X(pe,Ge){ie(Ge.handleCodeInApp,M,"argument-error"),Ge&&$l(M,pe,Ge)}if(null!==(C=M._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const pe=yield Lo(M,N,"getOobCode",!0);X(pe,v),yield Bh(M,pe)}else X(N,v),yield Bh(M,N).catch(function(){var pe=(0,c.Z)(function*(Ge){if("auth/missing-recaptcha-token"!==Ge.code)return Promise.reject(Ge);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const nt=yield Lo(M,N,"getOobCode",!0);X(nt,v),yield Bh(M,nt)}});return function(Ge){return pe.apply(this,arguments)}}())}),jo.apply(this,arguments)}function qh(w,g){const v=Fs.parseLink(g);return"EMAIL_SIGNIN"===v?.operation}function lu(w,g,v){return zi.apply(this,arguments)}function zi(){return(zi=(0,c.Z)(function*(w,g,v){const C=(0,$.m9)(w),M=Ym.credentialWithLink(g,v||on());return ie(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),ru(C,M)})).apply(this,arguments)}function cu(){return(cu=(0,c.Z)(function*(w,g){return Se(w,"POST","/v1/accounts:createAuthUri",he(w,g))})).apply(this,arguments)}function P_(w,g){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,c.Z)(function*(w,g){const C={identifier:g,continueUri:Ri()?on():"http://localhost"},{signinMethods:M}=yield function Kb(w,g){return cu.apply(this,arguments)}((0,$.m9)(w),C);return M||[]}),Gl.apply(this,arguments)}function np(w,g){return ql.apply(this,arguments)}function ql(){return ql=(0,c.Z)(function*(w,g){const v=(0,$.m9)(w),M={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&$l(v.auth,M,g);const{email:N}=yield function Oc(w,g){return Vl.apply(this,arguments)}(v.auth,M);N!==w.email&&(yield w.reload())}),ql.apply(this,arguments)}function Gc(w,g,v){return il.apply(this,arguments)}function il(){return il=(0,c.Z)(function*(w,g,v){const C=(0,$.m9)(w),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};v&&$l(C.auth,N,v);const{email:X}=yield function at(w,g){return Ht.apply(this,arguments)}(C.auth,N);X!==w.email&&(yield w.reload())}),il.apply(this,arguments)}function uu(){return(uu=(0,c.Z)(function*(w,g){return Se(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ip(w,g){return hu.apply(this,arguments)}function hu(){return hu=(0,c.Z)(function*(w,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const C=(0,$.m9)(w),N={idToken:yield C.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},X=yield nn(C,function du(w,g){return uu.apply(this,arguments)}(C.auth,N));C.displayName=X.displayName||null,C.photoURL=X.photoUrl||null;const pe=C.providerData.find(({providerId:Ge})=>"password"===Ge);pe&&(pe.displayName=C.displayName,pe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(X)}),hu.apply(this,arguments)}function Wh(w,g){return mu((0,$.m9)(w),g,null)}function fu(w,g){return mu((0,$.m9)(w),null,g)}function mu(w,g,v){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,c.Z)(function*(w,g,v){const{auth:C}=w,N={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(N.email=g),v&&(N.password=v);const X=yield nn(w,Bl(C,N));yield w._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class ya{constructor(g,v,C={}){this.isNewUser=g,this.providerId=v,this.profile=C}}class On extends ya{constructor(g,v,C,M){super(g,v,C),this.username=M}}class qc extends ya{constructor(g,v){super(g,"facebook.com",v)}}class rl extends On{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class gr extends ya{constructor(g,v){super(g,"google.com",v)}}class sl extends On{constructor(g,v,C){super(g,"twitter.com",v,C)}}function Zh(w){const{user:g,_tokenResponse:v}=w;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function pu(w){var g,v;if(!w)return null;const{providerId:C}=w,M=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},N=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!C&&w?.idToken){const X=null===(v=null===(g=gt(w.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(X)return new ya(N,"anonymous"!==X&&"custom"!==X?X:null)}if(!C)return null;switch(C){case"facebook.com":return new qc(N,M);case"github.com":return new rl(N,M);case"google.com":return new gr(N,M);case"twitter.com":return new sl(N,M,w.screenName||null);case"custom":case"anonymous":return new ya(N,null);default:return new ya(N,C,M)}}(v)}class gs{constructor(g,v,C){this.type=g,this.credential=v,this.auth=C}static _fromIdtoken(g,v){return new gs("enroll",g,v)}static _fromMfaPendingCredential(g){return new gs("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,C;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return gs._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(C=g.multiFactorSession)&&void 0!==C&&C.idToken)return gs._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Zc{constructor(g,v,C){this.session=g,this.hints=v,this.signInResolver=C}static _fromError(g,v){const C=fi(g),M=v.customData._serverResponse,N=(M.mfaInfo||[]).map(pe=>Vr._fromServerResponse(C,pe));ie(M.mfaPendingCredential,C,"internal-error");const X=gs._fromMfaPendingCredential(M.mfaPendingCredential);return new Zc(X,N,function(){var pe=(0,c.Z)(function*(Ge){const nt=yield Ge._process(C,X);delete M.mfaInfo,delete M.mfaPendingCredential;const xt=Object.assign(Object.assign({},M),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(v.operationType){case"signIn":const tn=yield Bn._fromIdTokenResponse(C,v.operationType,xt);return yield C._updateCurrentUser(tn.user),tn;case"reauthenticate":return ie(v.user,C,"internal-error"),Bn._forOperation(v.user,v.operationType,xt);default:re(C,"internal-error")}});return function(Ge){return pe.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,c.Z)(function*(){return v.signInResolver(g)})()}}function Rt(w,g){var v;const C=(0,$.m9)(w),M=g;return ie(g.customData.operationType,C,"argument-error"),ie(null===(v=M.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,C,"argument-error"),Zc._fromError(C,M)}class Wl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(C=>Vr._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new Wl(g)}getSession(){var g=this;return(0,c.Z)(function*(){return gs._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,v){var C=this;return(0,c.Z)(function*(){const M=g,N=yield C.getSession(),X=yield nn(C.user,M._process(C.user.auth,N,v));return yield C.user._updateTokensIfNecessary(X),C.user.reload()})()}unenroll(g){var v=this;return(0,c.Z)(function*(){const C="string"==typeof g?g:g.uid,M=yield v.user.getIdToken();try{const N=yield nn(v.user,function sp(w,g){return Se(w,"POST","/v2/accounts/mfaEnrollment:withdraw",he(w,g))}(v.user.auth,{idToken:M,mfaEnrollmentId:C}));v.enrolledFactors=v.enrolledFactors.filter(({uid:X})=>X!==C),yield v.user._updateTokensIfNecessary(N),yield v.user.reload()}catch(N){throw N}})()}}const _s=new WeakMap;function Yc(w){const g=(0,$.m9)(w);return _s.has(g)||_s.set(g,Wl._fromUser(g)),_s.get(g)}const Zl="__sak";class op{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Zl,"1"),this.storage.removeItem(Zl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const yu=(()=>{class w extends op{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,C)=>this.onStorageEvent(v,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Jh(){const w=(0,$.z$)();return V(w)||yt(w)}()&&function Vi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Gt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),N=this.localCache[C];M!==N&&v(C,N,M)}}onStorageEvent(v,C=!1){if(!v.key)return void this.forAllChangedKeys((pe,Ge,nt)=>{this.notifyListeners(pe,nt)});const M=v.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(M);if(v.newValue!==pe)null!==v.newValue?this.storage.setItem(M,v.newValue):this.storage.removeItem(M);else if(this.localCache[M]===v.newValue&&!C)return}const N=()=>{const pe=this.storage.getItem(M);!C&&this.localCache[M]===pe||this.notifyListeners(M,pe)},X=this.storage.getItem(M);!function Mn(){return(0,$.w1)()&&10===document.documentMode}()||X===v.newValue||v.newValue===v.oldValue?N():setTimeout(N,10)}notifyListeners(v,C){this.localCache[v]=C;const M=this.listeners[v];if(M)for(const N of Array.from(M))N(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,C){var M=()=>super._set,N=this;return(0,c.Z)(function*(){yield M().call(N,v,C),N.localCache[v]=JSON.stringify(C)})()}_get(v){var C=()=>super._get,M=this;return(0,c.Z)(function*(){const N=yield C().call(M,v);return M.localCache[v]=JSON.stringify(N),N})()}_remove(v){var C=()=>super._remove,M=this;return(0,c.Z)(function*(){yield C().call(M,v),delete M.localCache[v]})()}}return w.type="LOCAL",w})(),Oi=(()=>{class w extends op{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,C){}_removeListener(v,C){}}return w.type="SESSION",w})();let Qc=(()=>{class w{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const C=this.receivers.find(N=>N.isListeningto(v));if(C)return C;const M=new w(v);return this.receivers.push(M),M}isListeningto(v){return this.eventTarget===v}handleEvent(v){var C=this;return(0,c.Z)(function*(){const M=v,{eventId:N,eventType:X,data:pe}=M.data,Ge=C.handlersMap[X];if(!Ge?.size)return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:X});const nt=Array.from(Ge).map(function(){var tn=(0,c.Z)(function*(zr){return zr(M.origin,pe)});return function(zr){return tn.apply(this,arguments)}}()),xt=yield function lp(w){return Promise.all(w.map(function(){var g=(0,c.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(C){return{fulfilled:!1,reason:C}}});return function(v){return g.apply(this,arguments)}}()))}(nt);M.ports[0].postMessage({status:"done",eventId:N,eventType:X,response:xt})})()}_subscribe(v,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(C)}_unsubscribe(v,C){this.handlersMap[v]&&C&&this.handlersMap[v].delete(C),(!C||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Ar(w="",g=10){let v="";for(let C=0;C<g;C++)v+=Math.floor(10*Math.random());return w+v}class cp{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,C=50){var M=this;return(0,c.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let X,pe;return new Promise((Ge,nt)=>{const xt=Ar("",20);N.port1.start();const tn=setTimeout(()=>{nt(new Error("unsupported_event"))},C);pe={messageChannel:N,onMessage(zr){const Ma=zr;if(Ma.data.eventId===xt)switch(Ma.data.status){case"ack":clearTimeout(tn),X=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),Ge(Ma.data.response);break;default:clearTimeout(tn),clearTimeout(X),nt(new Error("invalid_response"))}}},M.handlers.add(pe),N.port1.addEventListener("message",pe.onMessage),M.target.postMessage({eventType:g,eventId:xt,data:v},[N.port2])}).finally(()=>{pe&&M.removeMessageHandler(pe)})})()}}function ai(){return window}function ef(){return typeof ai().WorkerGlobalScope<"u"&&"function"==typeof ai().importScripts}function nr(){return(nr=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Wn="firebaseLocalStorageDb",Pi="firebaseLocalStorage",Jc="fbase_key";class Yl{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function ed(w,g){return w.transaction([Pi],g?"readwrite":"readonly").objectStore(Pi)}function Kl(){const w=indexedDB.open(Wn,1);return new Promise((g,v)=>{w.addEventListener("error",()=>{v(w.error)}),w.addEventListener("upgradeneeded",()=>{const C=w.result;try{C.createObjectStore(Pi,{keyPath:Jc})}catch(M){v(M)}}),w.addEventListener("success",(0,c.Z)(function*(){const C=w.result;C.objectStoreNames.contains(Pi)?g(C):(C.close(),yield function nf(){const w=indexedDB.deleteDatabase(Wn);return new Yl(w).toPromise()}(),g(yield Kl()))}))})}function td(w,g,v){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.Z)(function*(w,g,v){const C=ed(w,!0).put({[Jc]:g,value:v});return new Yl(C).toPromise()})).apply(this,arguments)}function al(){return(al=(0,c.Z)(function*(w,g){const v=ed(w,!1).get(g),C=yield new Yl(v).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function nd(w,g){const v=ed(w,!0).delete(g);return new Yl(v).toPromise()}const rf=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,c.Z)(function*(){return v.db||(v.db=yield Kl()),v.db})()}_withRetries(v){var C=this;return(0,c.Z)(function*(){let M=0;for(;;)try{const N=yield C._openDb();return yield v(N)}catch(N){if(M++>3)throw N;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,c.Z)(function*(){return ef()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,c.Z)(function*(){v.receiver=Qc._getInstance(function Xc(){return ef()?self:null}()),v.receiver._subscribe("keyChanged",function(){var C=(0,c.Z)(function*(M,N){return{keyProcessed:(yield v._poll()).includes(N.key)}});return function(M,N){return C.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var C=(0,c.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return C.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,c.Z)(function*(){var C,M;if(v.activeServiceWorker=yield function tf(){return nr.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new cp(v.activeServiceWorker);const N=yield v.sender._send("ping",{},800);N&&null!==(C=N[0])&&void 0!==C&&C.fulfilled&&null!==(M=N[0])&&void 0!==M&&M.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var C=this;return(0,c.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function no(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:v},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Kl();return yield td(v,Zl,"1"),yield nd(v,Zl),!0}catch{}return!1})()}_withPendingWrite(v){var C=this;return(0,c.Z)(function*(){C.pendingWrites++;try{yield v()}finally{C.pendingWrites--}})()}_set(v,C){var M=this;return(0,c.Z)(function*(){return M._withPendingWrite((0,c.Z)(function*(){return yield M._withRetries(N=>td(N,v,C)),M.localCache[v]=C,M.notifyServiceWorker(v)}))})()}_get(v){var C=this;return(0,c.Z)(function*(){const M=yield C._withRetries(N=>function qo(w,g){return al.apply(this,arguments)}(N,v));return C.localCache[v]=M,M})()}_remove(v){var C=this;return(0,c.Z)(function*(){return C._withPendingWrite((0,c.Z)(function*(){return yield C._withRetries(M=>nd(M,v)),delete C.localCache[v],C.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,c.Z)(function*(){const C=yield v._withRetries(X=>{const pe=ed(X,!1).getAll();return new Yl(pe).toPromise()});if(!C)return[];if(0!==v.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:X,value:pe}of C)N.add(X),JSON.stringify(v.localCache[X])!==JSON.stringify(pe)&&(v.notifyListeners(X,pe),M.push(X));for(const X of Object.keys(v.localCache))v.localCache[X]&&!N.has(X)&&(v.notifyListeners(X,null),M.push(X));return M})()}notifyListeners(v,C){this.localCache[v]=C;const M=this.listeners[v];if(M)for(const N of Array.from(M))N(C)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),Un=1e12;class xu{constructor(g){this.auth=g,this.counter=Un,this._widgets=new Map}render(g,v){const C=this.counter;return this._widgets.set(C,new dp(g,this.auth.name,v||{})),this.counter++,C}reset(g){var v;const C=g||Un;null===(v=this._widgets.get(C))||void 0===v||v.delete(),this._widgets.delete(C)}getResponse(g){var v;return(null===(v=this._widgets.get(g||Un))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,c.Z)(function*(){var C;return null===(C=v._widgets.get(g||Un))||void 0===C||C.execute(),""})()}}class dp{constructor(g,v,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;ie(M,"argument-error",{appName:v}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ba(w){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<w;C++)g.push(v.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Eu=Fo("rcb"),Cu=new Kr(3e4,6e4);class Ql{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=ai().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return ie(function wa(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(v),g,"argument-error"),this.shouldResolveImmediately(v)&&Ft(ai().grecaptcha)?Promise.resolve(ai().grecaptcha):new Promise((C,M)=>{const N=ai().setTimeout(()=>{M(Ie(g,"network-request-failed"))},Cu.get());ai()[Eu]=()=>{ai().clearTimeout(N),delete ai()[Eu];const pe=ai().grecaptcha;if(!pe||!Ft(pe))return void M(Ie(g,"internal-error"));const Ge=pe.render;pe.render=(nt,xt)=>{const tn=Ge(nt,xt);return this.counter++,tn},this.hostLanguage=v,C(pe)},ri(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Eu,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(N),M(Ie(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=ai().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class lf{load(g){return(0,c.Z)(function*(){return new xu(g)})()}clearedOneInstance(){}}const rd="recaptcha",Xl={theme:"light",type:"image"};class Tu{constructor(g,v=Object.assign({},Xl),C){this.parameters=v,this.type=rd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fi(C),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;ie(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new lf:new Ql,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(v)||new Promise(N=>{const X=pe=>{pe&&(g.tokenChangeListeners.delete(X),N(pe))};g.tokenChangeListeners.add(X),g.isInvisible&&C.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(C=>C(v)),"function"==typeof g)g(v);else if("string"==typeof g){const C=ai()[g];"function"==typeof C&&C(v)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const C=document.createElement("div");v.appendChild(C),v=C}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){ie(Ri()&&!ef(),g.auth,"internal-error"),yield function sd(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function ve(w){return le.apply(this,arguments)}(g.auth);ie(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pi{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=tr._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function Mr(w,g,v){return Du.apply(this,arguments)}function Du(){return(Du=(0,c.Z)(function*(w,g,v){const C=fi(w),M=yield xa(C,g,(0,$.m9)(v));return new pi(M,N=>ru(C,N))})).apply(this,arguments)}function hn(w,g,v){return ct.apply(this,arguments)}function ct(){return(ct=(0,c.Z)(function*(w,g,v){const C=(0,$.m9)(w);yield iu(!1,C,"phone");const M=yield xa(C.auth,g,(0,$.m9)(v));return new pi(M,N=>Uc(C,N))})).apply(this,arguments)}function _r(w,g,v){return od.apply(this,arguments)}function od(){return(od=(0,c.Z)(function*(w,g,v){const C=(0,$.m9)(w),M=yield xa(C.auth,g,(0,$.m9)(v));return new pi(M,N=>Xm(C,N))})).apply(this,arguments)}function xa(w,g,v){return Su.apply(this,arguments)}function Su(){return Su=(0,c.Z)(function*(w,g,v){var C;const M=yield v.verify();try{let N;if(ie("string"==typeof M,w,"argument-error"),ie(v.type===rd,w,"argument-error"),N="string"==typeof g?{phoneNumber:g}:g,"session"in N){const X=N.session;if("phoneNumber"in N)return ie("enroll"===X.type,w,"internal-error"),(yield function _u(w,g){return Se(w,"POST","/v2/accounts/mfaEnrollment:start",he(w,g))}(w,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ie("signin"===X.type,w,"internal-error");const pe=(null===(C=N.multiFactorHint)||void 0===C?void 0:C.uid)||N.multiFactorUid;return ie(pe,w,"missing-multi-factor-info"),(yield function sf(w,g){return Se(w,"POST","/v2/accounts/mfaSignIn:start",he(w,g))}(w,{mfaPendingCredential:X.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield function Hl(w,g){return Nc.apply(this,arguments)}(w,{phoneNumber:N.phoneNumber,recaptchaToken:M});return X}}finally{v._reset()}}),Su.apply(this,arguments)}function up(w,g){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.Z)(function*(w,g){yield eo((0,$.m9)(w),g)})).apply(this,arguments)}let B_=(()=>{class w{constructor(v){this.providerId=w.PROVIDER_ID,this.auth=fi(v)}verifyPhoneNumber(v,C){return xa(this.auth,v,(0,$.m9)(C))}static credential(v,C){return tr._fromVerification(v,C)}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:C,temporaryProof:M}=v;return C&&M?tr._fromTokenResponse(C,M):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function vs(w,g){return g?Ci(g):(ie(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class ht extends Fl{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Rn(g,this._buildIdpRequest())}_linkToIdToken(g,v){return Rn(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return Rn(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function es(w){return zh(w.auth,new ht(w),w.bypassAuthState)}function cf(w){const{auth:g,user:v}=w;return ie(v,g,"internal-error"),Qm(v,new ht(w),w.bypassAuthState)}function Ea(w){return ts.apply(this,arguments)}function ts(){return(ts=(0,c.Z)(function*(w){const{auth:g,user:v}=w;return ie(v,g,"internal-error"),eo(v,new ht(w),w.bypassAuthState)})).apply(this,arguments)}class Ca{constructor(g,v,C,M,N=!1){this.auth=g,this.resolver=C,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,c.Z)(function*(C,M){g.pendingPromise={resolve:C,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(N){g.reject(N)}});return function(C,M){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,c.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:N,tenantId:X,error:pe,type:Ge}=g;if(pe)return void v.reject(pe);const nt={auth:v.auth,requestUri:C,sessionId:M,tenantId:X||void 0,postBody:N||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Ge)(nt))}catch(xt){v.reject(xt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return es;case"linkViaPopup":case"linkViaRedirect":return Ea;case"reauthViaPopup":case"reauthViaRedirect":return cf;default:re(this.auth,"internal-error")}}resolve(g){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ii=new Kr(2e3,1e4);function Vs(w,g,v){return wo.apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(w,g,v){const C=fi(w);ye(w,g,Js);const M=vs(C,v);return new xo(C,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function V_(w,g,v){return ns.apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(w,g,v){const C=(0,$.m9)(w);ye(C.auth,g,Js);const M=vs(C.auth,v);return new xo(C.auth,"reauthViaPopup",g,M,C).executeNotNull()})).apply(this,arguments)}function hp(w,g,v){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(w,g,v){const C=(0,$.m9)(w);ye(C.auth,g,Js);const M=vs(C.auth,v);return new xo(C.auth,"linkViaPopup",g,M,C).executeNotNull()})).apply(this,arguments)}let xo=(()=>{class w extends Ca{constructor(v,C,M,N,X){super(v,C,N,X),this.provider=M,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var v=this;return(0,c.Z)(function*(){const C=yield v.execute();return ie(C,v.auth,"internal-error"),C})()}onExecution(){var v=this;return(0,c.Z)(function*(){qe(1===v.filter.length,"Popup operations only handle one event");const C=Ar();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],C),v.authWindow.associatedEvent=C,v.resolver._originValidation(v.auth).catch(M=>{v.reject(M)}),v.resolver._isIframeWebStorageSupported(v.auth,M=>{M||v.reject(Ie(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const v=()=>{var C,M;this.pollId=null!==(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ie(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Ii.get())};v()}}return w.currentPopupAction=null,w})();const df="pendingRedirect",is=new Map;class Eo extends Ca{constructor(g,v,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,c.Z)(function*(){let C=is.get(v.auth._key());if(!C){try{const N=(yield function fp(w,g){return cl.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;C=()=>Promise.resolve(N)}catch(M){C=()=>Promise.reject(M)}is.set(v.auth._key(),C)}return v.bypassAuthState||is.set(v.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,C=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(C,g);if("unknown"!==g.type){if(g.eventId){const M=yield C.auth._redirectUserForId(g.eventId);if(M)return C.user=M,v().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function cl(){return(cl=(0,c.Z)(function*(w,g){const v=Ko(g),C=Ia(w);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(v));return yield C._remove(v),M})).apply(this,arguments)}function Yo(w,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(w,g){return Ia(w)._set(Ko(g),"true")})).apply(this,arguments)}function Hr(){is.clear()}function ji(w,g){is.set(w._key(),g)}function Ia(w){return Ci(w._redirectPersistence)}function Ko(w){return rn(df,w.config.apiKey,w.name)}function kt(w,g,v){return function Zn(w,g,v){return gi.apply(this,arguments)}(w,g,v)}function gi(){return(gi=(0,c.Z)(function*(w,g,v){const C=fi(w);ye(w,g,Js),yield C._initializationPromise;const M=vs(C,v);return yield Yo(M,C),M._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function vr(w,g,v){return function bn(w,g,v){return Ti.apply(this,arguments)}(w,g,v)}function Ti(){return(Ti=(0,c.Z)(function*(w,g,v){const C=(0,$.m9)(w);ye(C.auth,g,Js),yield C.auth._initializationPromise;const M=vs(C.auth,v);yield Yo(M,C.auth);const N=yield Mu(C);return M._openRedirect(C.auth,g,"reauthViaRedirect",N)})).apply(this,arguments)}function dl(w,g,v){return function uf(w,g,v){return Au.apply(this,arguments)}(w,g,v)}function Au(){return(Au=(0,c.Z)(function*(w,g,v){const C=(0,$.m9)(w);ye(C.auth,g,Js),yield C.auth._initializationPromise;const M=vs(C.auth,v);yield iu(!1,C,g.providerId),yield Yo(M,C.auth);const N=yield Mu(C);return M._openRedirect(C.auth,g,"linkViaRedirect",N)})).apply(this,arguments)}function ro(w,g){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(w,g){return yield fi(w)._initializationPromise,Pn(w,g,!1)})).apply(this,arguments)}function Pn(w,g){return kr.apply(this,arguments)}function kr(){return(kr=(0,c.Z)(function*(w,g,v=!1){const C=fi(w),M=vs(C,g),X=yield new Eo(C,M,v).execute();return X&&!v&&(delete X.user._redirectEventId,yield C._persistUserIfCurrent(X.user),yield C._setRedirectUser(null,g)),X})).apply(this,arguments)}function Mu(w){return bs.apply(this,arguments)}function bs(){return(bs=(0,c.Z)(function*(w){const g=Ar(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class ku{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(v=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Wt(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ul(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var C;if(g.error&&!ul(g)){const M=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";v.onError(Ie(this.auth,M))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const C=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ta(g))}saveEventToCache(g){this.cachedEventUids.add(Ta(g)),this.lastProcessedEventTime=Date.now()}}function Ta(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function ul({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===g?.code}function Da(w){return mp.apply(this,arguments)}function mp(){return(mp=(0,c.Z)(function*(w,g={}){return Se(w,"GET","/v1/projects",g)})).apply(this,arguments)}const ad=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qb=/^https?/;function Us(){return(Us=(0,c.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield Da(w);for(const v of g)try{if(hl(v))return}catch{}re(w,"unauthorized-domain")})).apply(this,arguments)}function hl(w){const g=on(),{protocol:v,hostname:C}=new URL(g);if(w.startsWith("chrome-extension://")){const X=new URL(w);return""===X.hostname&&""===C?"chrome-extension:"===v&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&X.hostname===C}if(!Qb.test(v))return!1;if(ad.test(w))return C===w;const M=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const _i=new Kr(3e4,6e4);function Co(){const w=ai().___jsl;if(w?.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let v=0;v<w.CP.length;v++)w.CP[v]=null}let Hs=null;const zs=new Kr(5e3,15e3),Ru="__/auth/iframe",Ou="emulator/auth/iframe",Sa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pu(w){const g=w.config;ie(g.authDomain,w,"auth-domain-config-required");const v=g.emulator?vo(g,Ou):`https://${w.config.authDomain}/${Ru}`,C={apiKey:g.apiKey,appName:w.name,v:P.SDK_VERSION},M=hf.get(w.config.apiHost);M&&(C.eid=M);const N=w._getFrameworks();return N.length&&(C.fw=N.join(",")),`${v}?${(0,$.xO)(C).slice(1)}`}function x(){return x=(0,c.Z)(function*(w){const g=yield function ss(w){return Hs=Hs||function ec(w){return new Promise((g,v)=>{var C,M,N;function X(){Co(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Co(),v(Ie(w,"network-request-failed"))},timeout:_i.get()})}if(null!==(M=null===(C=ai().gapi)||void 0===C?void 0:C.iframes)&&void 0!==M&&M.Iframe)g(gapi.iframes.getContext());else{if(null===(N=ai().gapi)||void 0===N||!N.load){const pe=Fo("iframefcb");return ai()[pe]=()=>{gapi.load?X():v(Ie(w,"network-request-failed"))},ri(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Ge=>v(Ge))}X()}}).catch(g=>{throw Hs=null,g})}(w),Hs}(w),v=ai().gapi;return ie(v,w,"internal-error"),g.open({where:document.body,url:Pu(w),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sa,dontclear:!0},C=>new Promise(function(){var M=(0,c.Z)(function*(N,X){yield C.restyle({setHideOnLeave:!1});const pe=Ie(w,"network-request-failed"),Ge=ai().setTimeout(()=>{X(pe)},zs.get());function nt(){ai().clearTimeout(Ge),N(C)}C.ping(nt).then(nt,()=>{X(pe)})});return function(N,X){return M.apply(this,arguments)}}()))}),x.apply(this,arguments)}const T={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ge{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ut="__/auth/handler",Bt="emulator/auth/handler",Lt=encodeURIComponent("fac");function yr(w,g,v,C,M,N){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(w,g,v,C,M,N){ie(w.config.authDomain,w,"auth-domain-config-required"),ie(w.config.apiKey,w,"invalid-api-key");const X={apiKey:w.config.apiKey,appName:w.name,authType:v,redirectUrl:C,v:P.SDK_VERSION,eventId:M};if(g instanceof Js){g.setDefaultLanguage(w.languageCode),X.providerId=g.providerId||"",(0,$.xb)(g.getCustomParameters())||(X.customParameters=JSON.stringify(g.getCustomParameters()));for(const[xt,tn]of Object.entries(N||{}))X[xt]=tn}if(g instanceof pa){const xt=g.getScopes().filter(tn=>""!==tn);xt.length>0&&(X.scopes=xt.join(","))}w.tenantId&&(X.tid=w.tenantId);const pe=X;for(const xt of Object.keys(pe))void 0===pe[xt]&&delete pe[xt];const Ge=yield w._getAppCheckToken(),nt=Ge?`#${Lt}=${encodeURIComponent(Ge)}`:"";return`${function Aa({config:w}){return w.emulator?vo(w,Bt):`https://${w.authDomain}/${ut}`}(w)}?${(0,$.xO)(pe).slice(1)}${nt}`})).apply(this,arguments)}const Io="webStorageSupport",Rr=class fl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oi,this._completeRedirectFn=Pn,this._overrideRedirectResult=ji}_openPopup(g,v,C,M){var N=this;return(0,c.Z)(function*(){var X;qe(null===(X=N.eventManagers[g._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const pe=yield yr(g,v,C,on(),M);return function et(w,g,v,C=500,M=600){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),X=Math.max((window.screen.availWidth-C)/2,0).toString();let pe="";const Ge=Object.assign(Object.assign({},T),{width:C.toString(),height:M.toString(),top:N,left:X}),nt=(0,$.z$)().toLowerCase();v&&(pe=O(nt)?"_blank":v),F(nt)&&(g=g||"http://localhost",Ge.scrollbars="yes");const xt=Object.entries(Ge).reduce((zr,[Ma,_p])=>`${zr}${Ma}=${_p},`,"");if(function Pt(w=(0,$.z$)()){var g;return yt(w)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(nt)&&"_self"!==pe)return function We(w,g){const v=document.createElement("a");v.href=w,v.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(C)}(g||"",pe),new ge(null);const tn=window.open(g||"",pe,xt);ie(tn,w,"popup-blocked");try{tn.focus()}catch{}return new ge(tn)}(g,pe,Ar())})()}_openRedirect(g,v,C,M){var N=this;return(0,c.Z)(function*(){return yield N._originValidation(g),function bu(w){ai().location.href=w}(yield yr(g,v,C,on(),M)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:M,promise:N}=this.eventManagers[v];return M?Promise.resolve(M):(qe(N,"If manager is not set, promise should be"),N)}const C=this.initAndGetManager(g);return this.eventManagers[v]={promise:C},C.catch(()=>{delete this.eventManagers[v]}),C}initAndGetManager(g){var v=this;return(0,c.Z)(function*(){const C=yield function tc(w){return x.apply(this,arguments)}(g),M=new ku(g);return C.register("authEvent",N=>(ie(N?.authEvent,g,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:M},v.iframes[g._key()]=C,M})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(Io,{type:Io},M=>{var N;const X=null===(N=M?.[0])||void 0===N?void 0:N[Io];void 0!==X&&v(!!X),re(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Jl(w){return Us.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return Gt()||V()||yt()}};class Qo{constructor(g){this.factorId=g}_process(g,v,C){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,C);case"signin":return this._finalizeSignIn(g,v.credential);default:return rt("unexpected MultiFactorSessionType")}}}class nc extends Qo{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new nc(g)}_finalizeEnroll(g,v,C){return function Xh(w,g){return Se(w,"POST","/v2/accounts/mfaEnrollment:finalize",he(w,g))}(g,{idToken:v,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function af(w,g){return Se(w,"POST","/v2/accounts/mfaSignIn:finalize",he(w,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Nu=(()=>{class w{constructor(){}static assertion(v){return nc._fromCredential(v)}}return w.FACTOR_ID="phone",w})();var ic="@firebase/auth";class Xb{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,c.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(C=>{g(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);v&&(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,$.Pz)("authIdTokenMaxAge"),function gp(w){(0,P._registerComponent)(new ae.wA("auth",(g,{options:v})=>{const C=g.getProvider("app").getImmediate(),M=g.getProvider("heartbeat"),N=g.getProvider("app-check-internal"),{apiKey:X,authDomain:pe}=C.options;ie(X&&!X.includes(":"),"invalid-api-key",{appName:C.name});const Ge={apiKey:X,authDomain:pe,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xi(w)},nt=new Mc(C,M,N,Ge);return function k_(w,g){const v=g?.persistence||[],C=(Array.isArray(v)?v:[v]).map(Ci);g?.errorMap&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(C,g?.popupRedirectResolver)}(nt,v),nt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,C)=>{g.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new ae.wA("auth-internal",g=>{const v=fi(g.getProvider("auth").getImmediate());return new Xb(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(ic,"0.23.2",function Jb(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,P.registerVersion)(ic,"0.23.2","esm2017")}("Browser")},9058:(pt,De,B)=>{B.d(De,{$s:()=>Ci,BH:()=>de,DV:()=>di,Dv:()=>Ps,G6:()=>vo,GJ:()=>zn,L:()=>be,LL:()=>ze,Pz:()=>Ie,Sg:()=>ye,UG:()=>rt,UI:()=>hs,US:()=>ae,Wj:()=>Ut,Wl:()=>Mt,Yr:()=>Kr,ZB:()=>oe,ZR:()=>Se,aH:()=>re,b$:()=>Ri,cI:()=>vn,dS:()=>fs,eu:()=>_e,g5:()=>P,gK:()=>En,gQ:()=>bt,h$:()=>Me,hl:()=>fe,hu:()=>$,jU:()=>qe,lb:()=>jn,m9:()=>rn,ne:()=>nn,p$:()=>Z,pd:()=>gt,r3:()=>yn,ru:()=>on,tV:()=>q,uI:()=>ie,ug:()=>Xs,vZ:()=>Ki,w1:()=>Ks,w9:()=>Xn,xO:()=>Qs,xb:()=>Qr,z$:()=>Ne,zI:()=>Ce,zd:()=>Je});const c={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},$=function(W,G){if(!W)throw P(G)},P=function(W){return new Error("Firebase Database ("+c.SDK_VERSION+") INTERNAL ASSERT FAILED: "+W)},ee=function(W){const G=[];let F=0;for(let V=0;V<W.length;V++){let O=W.charCodeAt(V);O<128?G[F++]=O:O<2048?(G[F++]=O>>6|192,G[F++]=63&O|128):55296==(64512&O)&&V+1<W.length&&56320==(64512&W.charCodeAt(V+1))?(O=65536+((1023&O)<<10)+(1023&W.charCodeAt(++V)),G[F++]=O>>18|240,G[F++]=O>>12&63|128,G[F++]=O>>6&63|128,G[F++]=63&O|128):(G[F++]=O>>12|224,G[F++]=O>>6&63|128,G[F++]=63&O|128)}return G},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,G){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let O=0;O<W.length;O+=3){const te=W[O],we=O+1<W.length,Ke=we?W[O+1]:0,wt=O+2<W.length,yt=wt?W[O+2]:0;let Mn=(15&Ke)<<2|yt>>6,Gt=63&yt;wt||(Gt=64,we||(Mn=64)),V.push(F[te>>2],F[(3&te)<<4|Ke>>4],F[Mn],F[Gt])}return V.join("")},encodeString(W,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(W):this.encodeByteArray(ee(W),G)},decodeString(W,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(W):function(W){const G=[];let F=0,V=0;for(;F<W.length;){const O=W[F++];if(O<128)G[V++]=String.fromCharCode(O);else if(O>191&&O<224){const te=W[F++];G[V++]=String.fromCharCode((31&O)<<6|63&te)}else if(O>239&&O<365){const wt=((7&O)<<18|(63&W[F++])<<12|(63&W[F++])<<6|63&W[F++])-65536;G[V++]=String.fromCharCode(55296+(wt>>10)),G[V++]=String.fromCharCode(56320+(1023&wt))}else{const te=W[F++],we=W[F++];G[V++]=String.fromCharCode((15&O)<<12|(63&te)<<6|63&we)}}return G.join("")}(this.decodeStringToByteArray(W,G))},decodeStringToByteArray(W,G){this.init_();const F=G?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let O=0;O<W.length;){const te=F[W.charAt(O++)],Ke=O<W.length?F[W.charAt(O)]:0;++O;const yt=O<W.length?F[W.charAt(O)]:64;++O;const Pt=O<W.length?F[W.charAt(O)]:64;if(++O,null==te||null==Ke||null==yt||null==Pt)throw new xe;V.push(te<<2|Ke>>4),64!==yt&&(V.push(Ke<<4&240|yt>>2),64!==Pt&&V.push(yt<<6&192|Pt))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}};class xe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(W){const G=ee(W);return ae.encodeByteArray(G,!0)},be=function(W){return Me(W).replace(/\./g,"")},q=function(W){try{return ae.decodeString(W,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function Z(W){return oe(void 0,W)}function oe(W,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return G}for(const F in G)!G.hasOwnProperty(F)||!Be(F)||(W[F]=oe(W[F],G[F]));return W}function Be(W){return"__proto__"!==W}const Fe=()=>{try{return function Re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=W&&q(W[1]);return G&&JSON.parse(G)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},re=()=>{var W;return null===(W=Fe())||void 0===W?void 0:W.config},Ie=W=>{var G;return null===(G=Fe())||void 0===G?void 0:G[`_${W}`]};class de{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,F)=>{this.resolve=G,this.reject=F})}wrapCallback(G){return(F,V)=>{F?this.reject(F):this.resolve(V),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(F):G(F,V))}}}function ye(W,G){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=G||"demo-project",O=W.iat||0,te=W.sub||W.user_id;if(!te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const we=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:O,exp:O+3600,auth_time:O,sub:te,user_id:te,firebase:{sign_in_provider:"custom",identities:{}}},W);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(we)),""].join(".")}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function rt(){var W;const G=null===(W=Fe())||void 0===W?void 0:W.forceEnvironment;if("node"===G)return!0;if("browser"===G)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function qe(){return"object"==typeof self&&self.self===self}function on(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Ri(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ks(){const W=Ne();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Kr(){return!0===c.NODE_CLIENT||!0===c.NODE_ADMIN}function vo(){return!rt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fe(){try{return"object"==typeof indexedDB}catch{return!1}}function _e(){return new Promise((W,G)=>{try{let F=!0;const V="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(V);O.onsuccess=()=>{O.result.close(),F||self.indexedDB.deleteDatabase(V),W(!0)},O.onupgradeneeded=()=>{F=!1},O.onerror=()=>{var te;G((null===(te=O.error)||void 0===te?void 0:te.message)||"")}}catch(F){G(F)}})}function Ce(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Se extends Error{constructor(G,F,V){super(F),this.code=G,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ze.prototype.create)}}class ze{constructor(G,F,V){this.service=G,this.serviceName=F,this.errors=V}create(G,...F){const V=F[0]||{},O=`${this.service}/${G}`,te=this.errors[G],we=te?function tt(W,G){return W.replace(dt,(F,V)=>{const O=G[V];return null!=O?String(O):`<${V}?>`})}(te,V):"Error";return new Se(O,`${this.serviceName}: ${we} (${O}).`,V)}}const dt=/\{\$([^}]+)}/g;function vn(W){return JSON.parse(W)}function Mt(W){return JSON.stringify(W)}const dn=function(W){let G={},F={},V={},O="";try{const te=W.split(".");G=vn(q(te[0])||""),F=vn(q(te[1])||""),O=te[2],V=F.d||{},delete F.d}catch{}return{header:G,claims:F,data:V,signature:O}},Xn=function(W){const F=dn(W).claims;return!!F&&"object"==typeof F&&F.hasOwnProperty("iat")},zn=function(W){const G=dn(W).claims;return"object"==typeof G&&!0===G.admin};function yn(W,G){return Object.prototype.hasOwnProperty.call(W,G)}function di(W,G){if(Object.prototype.hasOwnProperty.call(W,G))return W[G]}function Qr(W){for(const G in W)if(Object.prototype.hasOwnProperty.call(W,G))return!1;return!0}function hs(W,G,F){const V={};for(const O in W)Object.prototype.hasOwnProperty.call(W,O)&&(V[O]=G.call(F,W[O],O,W));return V}function Ki(W,G){if(W===G)return!0;const F=Object.keys(W),V=Object.keys(G);for(const O of F){if(!V.includes(O))return!1;const te=W[O],we=G[O];if(ni(te)&&ni(we)){if(!Ki(te,we))return!1}else if(te!==we)return!1}for(const O of V)if(!F.includes(O))return!1;return!0}function ni(W){return null!==W&&"object"==typeof W}function Qs(W){const G=[];for(const[F,V]of Object.entries(W))Array.isArray(V)?V.forEach(O=>{G.push(encodeURIComponent(F)+"="+encodeURIComponent(O))}):G.push(encodeURIComponent(F)+"="+encodeURIComponent(V));return G.length?"&"+G.join("&"):""}function Je(W){const G={};return W.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[O,te]=V.split("=");G[decodeURIComponent(O)]=decodeURIComponent(te)}}),G}function gt(W){const G=W.indexOf("?");if(!G)return"";const F=W.indexOf("#",G);return W.substring(G,F>0?F:void 0)}class bt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,F){F||(F=0);const V=this.W_;if("string"==typeof G)for(let Pt=0;Pt<16;Pt++)V[Pt]=G.charCodeAt(F)<<24|G.charCodeAt(F+1)<<16|G.charCodeAt(F+2)<<8|G.charCodeAt(F+3),F+=4;else for(let Pt=0;Pt<16;Pt++)V[Pt]=G[F]<<24|G[F+1]<<16|G[F+2]<<8|G[F+3],F+=4;for(let Pt=16;Pt<80;Pt++){const Mn=V[Pt-3]^V[Pt-8]^V[Pt-14]^V[Pt-16];V[Pt]=4294967295&(Mn<<1|Mn>>>31)}let yt,_t,O=this.chain_[0],te=this.chain_[1],we=this.chain_[2],Ke=this.chain_[3],wt=this.chain_[4];for(let Pt=0;Pt<80;Pt++){Pt<40?Pt<20?(yt=Ke^te&(we^Ke),_t=1518500249):(yt=te^we^Ke,_t=1859775393):Pt<60?(yt=te&we|Ke&(te|we),_t=2400959708):(yt=te^we^Ke,_t=3395469782);const Mn=(O<<5|O>>>27)+yt+wt+_t+V[Pt]&4294967295;wt=Ke,Ke=we,we=4294967295&(te<<30|te>>>2),te=O,O=Mn}this.chain_[0]=this.chain_[0]+O&4294967295,this.chain_[1]=this.chain_[1]+te&4294967295,this.chain_[2]=this.chain_[2]+we&4294967295,this.chain_[3]=this.chain_[3]+Ke&4294967295,this.chain_[4]=this.chain_[4]+wt&4294967295}update(G,F){if(null==G)return;void 0===F&&(F=G.length);const V=F-this.blockSize;let O=0;const te=this.buf_;let we=this.inbuf_;for(;O<F;){if(0===we)for(;O<=V;)this.compress_(G,O),O+=this.blockSize;if("string"==typeof G){for(;O<F;)if(te[we]=G.charCodeAt(O),++we,++O,we===this.blockSize){this.compress_(te),we=0;break}}else for(;O<F;)if(te[we]=G[O],++we,++O,we===this.blockSize){this.compress_(te),we=0;break}}this.inbuf_=we,this.total_+=F}digest(){const G=[];let F=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let O=this.blockSize-1;O>=56;O--)this.buf_[O]=255&F,F/=256;this.compress_(this.buf_);let V=0;for(let O=0;O<5;O++)for(let te=24;te>=0;te-=8)G[V]=this.chain_[O]>>te&255,++V;return G}}function nn(W,G){const F=new Ei(W,G);return F.subscribe.bind(F)}class Ei{constructor(G,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{G(this)}).catch(V=>{this.error(V)})}next(G){this.forEachObserver(F=>{F.next(G)})}error(G){this.forEachObserver(F=>{F.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,F,V){let O;if(void 0===G&&void 0===F&&void 0===V)throw new Error("Missing Observer.");O=function Jt(W,G){if("object"!=typeof W||null===W)return!1;for(const F of G)if(F in W&&"function"==typeof W[F])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:F,complete:V},void 0===O.next&&(O.next=ui),void 0===O.error&&(O.error=ui),void 0===O.complete&&(O.complete=ui);const te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),te}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,G)}sendOne(G,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{F(this.observers[G])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ui(){}const Ps=function(W,G,F,V){let O;if(V<G?O="at least "+G:V>F&&(O=0===F?"none":"no more than "+F),O)throw new Error(W+" failed: Was called with "+V+(1===V?" argument.":" arguments.")+" Expects "+O+".")};function En(W,G){return`${W} failed: ${G} argument `}function Ut(W,G,F,V){if((!V||F)&&"function"!=typeof F)throw new Error(En(W,G)+"must be a valid function.")}function jn(W,G,F,V){if((!V||F)&&("object"!=typeof F||null===F))throw new Error(En(W,G)+"must be a valid context object.")}const fs=function(W){const G=[];let F=0;for(let V=0;V<W.length;V++){let O=W.charCodeAt(V);if(O>=55296&&O<=56319){const te=O-55296;V++,$(V<W.length,"Surrogate pair missing trail surrogate."),O=65536+(te<<10)+(W.charCodeAt(V)-56320)}O<128?G[F++]=O:O<2048?(G[F++]=O>>6|192,G[F++]=63&O|128):O<65536?(G[F++]=O>>12|224,G[F++]=O>>6&63|128,G[F++]=63&O|128):(G[F++]=O>>18|240,G[F++]=O>>12&63|128,G[F++]=O>>6&63|128,G[F++]=63&O|128)}return G},Xs=function(W){let G=0;for(let F=0;F<W.length;F++){const V=W.charCodeAt(F);V<128?G++:V<2048?G+=2:V>=55296&&V<=56319?(G+=4,F++):G+=3}return G},ii=1e3,Ln=2,hi=144e5,$n=.5;function Ci(W,G=ii,F=Ln){const V=G*Math.pow(F,W),O=Math.round($n*V*(Math.random()-.5)*2);return Math.min(hi,V+O)}function rn(W){return W&&W._delegate?W._delegate:W}},798:(pt,De,B)=>{var c=B(5879);let $=null;function P(){return $}class ce{}const ae=new c.OlP("DocumentToken");let xe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(be)},providedIn:"platform"}),n})();const Me=new c.OlP("Location Initialized");let be=(()=>{class n extends xe{constructor(){super(),this._doc=(0,c.f3M)(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function q(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function oe(n){return n&&"?"!==n[0]?"?"+n:n}let Be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Xe)},providedIn:"root"}),n})();const Re=new c.OlP("appBaseHref");let Xe=(()=>{class n extends Be{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return q(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+oe(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const l=this.prepareExternalUrl(r+oe(s));this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){const l=this.prepareExternalUrl(r+oe(s));this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xe),c.LFG(Re,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oe=(()=>{class n extends Be{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=q(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let l=this.prepareExternalUrl(r+oe(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){let l=this.prepareExternalUrl(r+oe(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xe),c.LFG(Re,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Qe=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function re(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Z(mt(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+oe(i))}normalize(t){return n.stripTrailingSlash(function Ct(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,mt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oe(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=oe,n.joinWithSlash=q,n.stripTrailingSlash=Z,n.\u0275fac=function(t){return new(t||n)(c.LFG(Be))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Fe(){return new Qe((0,c.LFG)(Be))}()},providedIn:"root"}),n})();function mt(n){return n.replace(/\/index.html$/,"")}const Nl=/\s+/,Fh=[];let Ir=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=Fh,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Nl):Fh}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Nl):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Nl).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class qm{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new qm(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,l),fi(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{fi(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function fi(n,e){n.context.$implicit=e.item}let hr=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new k_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Lh("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Lh("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class k_{constructor(){this.$implicit=null,this.ngIf=null}}function Lh(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class kc{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ha=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Rc=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new kc(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(ha,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Bo=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:l}=this;this._viewRef=i.createEmbeddedView(r,s,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),n})();class Hi{createSubscription(e,t){return(0,c.rg0)(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){(0,c.rg0)(()=>e.unsubscribe())}}class Sn{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const yo=new Sn,Tr=new Hi;let Oc=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,c.QGY)(t))return yo;if((0,c.F4k)(t))return Tr;throw function qt(n,e){return new c.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),er=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Ja="browser";function Fs(n){return"server"===n}let pa=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Xr((0,c.LFG)(ae),window)}),n})();class Xr{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function el(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ga(this.window.history)||ga(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ga(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class rl extends ce{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class gr extends rl{static makeCurrent(){!function ee(n){$||($=n)}(new gr)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Zh(){return sl=sl||document.querySelector("base"),sl?sl.getAttribute("href"):null}();return null==t?null:function ps(n){$o=$o||document.createElement("a"),$o.setAttribute("href",n);const e=$o.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){sl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Qa(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let $o,sl=null,Yh=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Kh=new c.OlP("EventManagerPlugins");let to=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(t,i),i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Kh),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Qh{constructor(e){this._doc=e}}const gu="ng-app-id";let Wc=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Fs(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${gu}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(gu),s;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=i,this.platformIsServer&&l.setAttribute(gu,this.appId),l}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const s=this.styleRef,l=s.get(i)?.elements;l?l.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ae),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ol={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gs=/%COMP%/g,N_=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Wl(n,e){return e.map(t=>t.replace(gs,n))}let _s=(()=>{class n{constructor(t,i,r,s,l,h,m,_=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=l,this.platformId=h,this.ngZone=m,this.nonce=_,this.rendererByCompId=new Map,this.platformIsServer=Fs(h),this.defaultRenderer=new Yc(t,l,m,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===c.ifc.ShadowDom&&(i={...i,encapsulation:c.ifc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof an?r.applyToHost(t):r instanceof ke&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const l=this.doc,h=this.ngZone,m=this.eventManager,_=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,D=this.platformIsServer;switch(i.encapsulation){case c.ifc.Emulated:s=new an(m,_,i,this.appId,b,l,h,D);break;case c.ifc.ShadowDom:return new ap(m,_,t,i,l,h,this.nonce,D);default:s=new ke(m,_,i,b,l,h,D)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(to),c.LFG(Wc),c.LFG(c.AFp),c.LFG(N_),c.LFG(ae),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Yc{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ol[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Jh(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Jh(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new c.vHH(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=ol[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=ol[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=P().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Jh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ap extends Yc{constructor(e,t,i,r,s,l,h,m){super(e,s,l,m),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=Wl(r.id,r.styles);for(const b of _){const D=document.createElement("style");h&&D.setAttribute("nonce",h),D.textContent=b,this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ke extends Yc{constructor(e,t,i,r,s,l,h,m){super(e,s,l,h),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.rendererUsageCount=0,this.styles=m?Wl(m,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class an extends ke{constructor(e,t,i,r,s,l,h,m){const _=r+"-"+i.id;super(e,t,i,s,l,h,m,_),this.contentAttr=function vu(n){return"_ngcontent-%COMP%".replace(gs,n)}(_),this.hostAttr=function sp(n){return"_nghost-%COMP%".replace(gs,n)}(_)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let yu=(()=>{class n extends Qh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Kc=["alt","control","meta","shift"],Oi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qc=(()=>{class n extends Qh{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),l="code."),Kc.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),l+=_+".")}),l+=s,0!=i.length||0===s.length)return null;const m={};return m.domEventName=r,m.fullKey=l,m}static matchEventFullKeyCode(t,i){let r=Oi[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Kc.forEach(l=>{l!==r&&(0,lp[l])(t)&&(s+=l+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Xc=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Ja},{provide:c.g9A,useValue:function ef(){gr.makeCurrent()},multi:!0},{provide:ae,useFactory:function nr(){return(0,c.RDi)(document),document},deps:[]}]),Wn=new c.OlP(""),io=[{provide:c.rWj,useClass:class rp{addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new c.vHH(5103,!1);return s},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const h=function(m){l=l||m,s--,0==s&&i(l)};r.forEach(m=>{m.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Pi=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function tf(){return new c.qLn},deps:[]},{provide:Kh,useClass:yu,multi:!0,deps:[ae,c.R0b,c.Lbi]},{provide:Kh,useClass:Qc,multi:!0,deps:[ae]},_s,Wc,to,{provide:c.FYo,useExisting:_s},{provide:class fr{},useClass:Yh,deps:[]},[]];let Jc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wn,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Pi,...io],imports:[er,c.hGG]}),n})(),td=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Kl(){return new td((0,c.LFG)(ae))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ba=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(Cu),i},providedIn:"root"}),n})(),Cu=(()=>{class n extends ba{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new c.vHH(5200,!1);case c.q3G.URL:return(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new c.vHH(5201,!1);default:throw new c.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Eu(n){return new Cu(n.get(ae))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var pi=B(5592),Mr=B(4674),hn=B(2459),ct=B(2096),_r=B(5619);const{isArray:od}=Array,{getPrototypeOf:xa,prototype:Su,keys:up}=Object;function ll(n){if(1===n.length){const e=n[0];if(od(e))return{args:e,keys:null};if(function B_(n){return n&&"object"==typeof n&&xa(n)===Su}(e)){const t=up(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var vs=B(2737),ht=B(7398);const{isArray:es}=Array;function Ea(n){return(0,ht.U)(e=>function cf(n,e){return es(e)?n(...e):n(e)}(n,e))}var ts=B(9940);function Ca(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Ii=B(8251),Vs=B(7103);function wo(...n){const e=(0,ts.yG)(n),t=(0,ts.jO)(n),{args:i,keys:r}=ll(n);if(0===i.length)return(0,hn.D)([],e);const s=new pi.y(function V_(n,e,t=vs.y){return i=>{ns(e,()=>{const{length:r}=n,s=new Array(r);let l=r,h=r;for(let m=0;m<r;m++)ns(e,()=>{const _=(0,hn.D)(n[m],e);let b=!1;_.subscribe((0,Ii.x)(i,D=>{s[m]=D,b||(b=!0,h--),h||i.next(t(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,e,r?l=>Ca(r,l):vs.y));return t?s.pipe(Ea(t)):s}function ns(n,e,t){n?(0,Vs.f)(t,n,e):e()}const Zo=(0,B(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var xo=B(7537);function is(...n){return function df(){return(0,xo.J)(1)}()((0,hn.D)(n,(0,ts.yG)(n)))}var Eo=B(4829);function fp(n){return new pi.y(e=>{(0,Eo.Xf)(n()).subscribe(e)})}var cl=B(8407);function Yo(n,e){const t=(0,Mr.m)(n)?n:()=>n,i=r=>r.error(t());return new pi.y(e?r=>e.schedule(i,0,r):i)}var ys=B(6232),Hr=B(7394),ji=B(9360);function Ia(){return(0,ji.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Ii.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Ko extends pi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ji.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Hr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ii.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Hr.w0.EMPTY)}return e}refCount(){return Ia()(this)}}var kt=B(8645),Zn=B(4664);function gi(n){return n<=0?()=>ys.E:(0,ji.e)((e,t)=>{let i=0;e.subscribe((0,Ii.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function vr(...n){const e=(0,ts.yG)(n);return(0,ji.e)((t,i)=>{(e?is(n,t,e):is(n,t)).subscribe(i)})}function bn(n,e){return(0,ji.e)((t,i)=>{let r=0;t.subscribe((0,Ii.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var Ti=B(1631);function dl(n){return(0,ji.e)((e,t)=>{let i=!1;e.subscribe((0,Ii.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function uf(n=Au){return(0,ji.e)((e,t)=>{let i=!1;e.subscribe((0,Ii.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Au(){return new Zo}function ro(n,e){const t=arguments.length>=2;return i=>i.pipe(n?bn((r,s)=>n(r,s,i)):vs.y,gi(1),t?dl(e):uf(()=>new Zo))}function rs(n,e){return(0,Mr.m)(e)?(0,Ti.z)(n,e,1):(0,Ti.z)(n,1)}var Pn=B(9397);function kr(n){return(0,ji.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,Ii.x)(t,void 0,void 0,l=>{s=(0,Eo.Xf)(n(l,kr(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function bs(n,e){return(0,ji.e)(function Mu(n,e,t,i,r){return(s,l)=>{let h=t,m=e,_=0;s.subscribe((0,Ii.x)(l,b=>{const D=_++;m=h?n(m,b,D):(h=!0,b),i&&l.next(m)},r&&(()=>{h&&l.next(m),l.complete()})))}}(n,e,arguments.length>=2,!0))}function so(n){return n<=0?()=>ys.E:(0,ji.e)((e,t)=>{let i=[];e.subscribe((0,Ii.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ta(n){return(0,ht.U)(()=>n)}function ul(n){return(0,ji.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Wt="primary",Da=Symbol("RouteTitle");class mp{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ad(n){return new mp(n)}function Qb(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],h=n[s];if(l.startsWith(":"))r[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Us(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!hl(n[r],e[r]))return!1;return!0}function hl(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function _i(n){return n.length>0?n[n.length-1]:null}function Co(n){return function Du(n){return!!n&&(n instanceof pi.y||(0,Mr.m)(n.lift)&&(0,Mr.m)(n.subscribe))}(n)?n:(0,c.QGY)(n)?(0,hn.D)(Promise.resolve(n)):(0,ct.of)(n)}const ec={exact:function Ru(n,e,t){if(!H(n.segments,e.segments)||!Pu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Ru(n.children[i],e.children[i],t))return!1;return!0},subset:Sa},Hs={exact:function zs(n,e){return Us(n,e)},subset:function Ou(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>hl(n[t],e[t]))},ignored:()=>!0};function ss(n,e,t){return ec[t.paths](n.root,e.root,t.matrixParams)&&Hs[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Sa(n,e,t){return hf(n,e,e.segments,t)}function hf(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!H(r,t)||e.hasChildren()||!Pu(r,t,i))}if(n.segments.length===t.length){if(!H(n.segments,t)||!Pu(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Sa(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(H(n.segments,r)&&Pu(n.segments,r,i)&&n.children[Wt])&&hf(n.children[Wt],e,s,i)}}function Pu(n,e,t){return e.every((i,r)=>Hs[t](n[r].parameters,i.parameters))}class tc{constructor(e=new x([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ad(this.queryParams)),this._queryParamMap}toString(){return et.serialize(this)}}class x{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return We(this)}}class T{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ad(this.parameters)),this._parameterMap}toString(){return fl(this)}}function H(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new ge},providedIn:"root"}),n})();class ge{parse(e){const t=new Xb(e);return new tc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ut(e.root,!0)}`,i=function Qo(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Lt(t)}=${Lt(r)}`).join("&"):`${Lt(t)}=${Lt(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function yr(n){return encodeURI(n)}(e.fragment)}`:""}`}}const et=new ge;function We(n){return n.segments.map(e=>fl(e)).join("/")}function ut(n,e){if(!n.hasChildren())return We(n);if(e){const t=n.children[Wt]?ut(n.children[Wt],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Wt&&i.push(`${r}:${ut(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function K(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Wt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Wt&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===Wt?[ut(n.children[Wt],!1)]:[`${r}:${ut(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Wt]?`${We(n)}/${t[0]}`:`${We(n)}/(${t.join("//")})`}}function Bt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lt(n){return Bt(n).replace(/%3B/gi,";")}function Yn(n){return Bt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Aa(n){return decodeURIComponent(n)}function Io(n){return Aa(n.replace(/\+/g,"%20"))}function fl(n){return`${Yn(n.path)}${function Rr(n){return Object.keys(n).map(e=>`;${Yn(e)}=${Yn(n[e])}`).join("")}(n.parameters)}`}const nc=/^[^\/()?;#]+/;function Nu(n){const e=n.match(nc);return e?e[0]:""}const pp=/^[^\/()?;=#]+/,U_=/^[^=?&#]+/,ic=/^[^&#]+/;class Xb{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new x([],{}):new x([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Wt]=new x(e,t)),i}parseSegment(){const e=Nu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(e),new T(Aa(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function ff(n){const e=n.match(pp);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Nu(this.remaining);r&&(i=r,this.capture(i))}e[Aa(t)]=Aa(i)}parseQueryParam(e){const t=function mf(n){const e=n.match(U_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=function ld(n){const e=n.match(ic);return e?e[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=Io(t),s=Io(i);if(e.hasOwnProperty(r)){let l=e[r];Array.isArray(l)||(l=[l],e[r]=l),l.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Nu(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Wt);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[Wt]:new x([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,!1)}}function Jb(n){return n.segments.length>0?new x([],{[Wt]:n}):n}function gp(n){const e={};for(const i of Object.keys(n.children)){const s=gp(n.children[i]);if(i===Wt&&0===s.segments.length&&s.hasChildren())for(const[l,h]of Object.entries(s.children))e[l]=h;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function e0(n){if(1===n.numberOfChildren&&n.children[Wt]){const e=n.children[Wt];return new x(n.segments.concat(e.segments),e.children)}return n}(new x(n.segments,e))}function cd(n){return n instanceof tc}function z_(n){let e;const r=Jb(function t(s){const l={};for(const m of s.children){const _=t(m);l[m.outlet]=_}const h=new x(s.url,l);return s===n&&(e=h),h}(n.root));return e??r}function t0(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return v(r,r,r,t,i);const s=function N(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new M(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Object.entries(s.outlets).forEach(([m,_])=>{h[m]="string"==typeof _?_.split("/"):_}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new M(t,e,i)}(e);if(s.toRoot())return v(r,r,new x([],{}),t,i);const l=function pe(n,e,t){if(n.isAbsolute)return new X(e,!0,0);if(!t)return new X(e,!1,NaN);if(null===t.parent)return new X(t,!0,0);const i=w(n.commands[0])?0:1;return function Ge(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new c.vHH(4005,!1);r=i.segments.length}return new X(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),h=l.processChildren?tn(l.segmentGroup,l.index,s.commands):xt(l.segmentGroup,l.index,s.commands);return v(r,l.segmentGroup,h,t,i)}function w(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function g(n){return"object"==typeof n&&null!=n&&n.outlets}function v(n,e,t,i,r){let l,s={};i&&Object.entries(i).forEach(([m,_])=>{s[m]=Array.isArray(_)?_.map(b=>`${b}`):`${_}`}),l=n===e?t:C(n,e,t);const h=Jb(gp(l));return new tc(h,s,r)}function C(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:C(s,e,t)}),new x(n.segments,i)}class M{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&w(i[0]))throw new c.vHH(4003,!1);const r=i.find(g);if(r&&r!==_i(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class X{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function xt(n,e,t){if(n||(n=new x([],{})),0===n.segments.length&&n.hasChildren())return tn(n,e,t);const i=function zr(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const l=n.segments[r],h=t[i];if(g(h))break;const m=`${h}`,_=i<t.length-1?t[i+1]:null;if(r>0&&void 0===m)break;if(m&&_&&"object"==typeof _&&void 0===_.outlets){if(!vp(m,_,l))return s;i+=2}else{if(!vp(m,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new x(n.segments.slice(0,i.pathIndex),{});return s.children[Wt]=new x(n.segments.slice(i.pathIndex),n.children),tn(s,0,r)}return i.match&&0===r.length?new x(n.segments,{}):i.match&&!n.hasChildren()?Ma(n,e,t):i.match?tn(n,0,r):Ma(n,e,t)}function tn(n,e,t){if(0===t.length)return new x(n.segments,{});{const i=function nt(n){return g(n[0])?n[0].outlets:{[Wt]:n}}(t),r={};if(!i[Wt]&&n.children[Wt]&&1===n.numberOfChildren&&0===n.children[Wt].segments.length){const s=tn(n.children[Wt],e,t);return new x(n.segments,s.children)}return Object.entries(i).forEach(([s,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(r[s]=xt(n.children[s],e,l))}),Object.entries(n.children).forEach(([s,l])=>{void 0===i[s]&&(r[s]=l)}),new x(n.segments,r)}}function Ma(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(g(s)){const m=_p(s.outlets);return new x(i,m)}if(0===r&&w(t[0])){i.push(new T(n.segments[e].path,j_(t[0]))),r++;continue}const l=g(s)?s.outlets[Wt]:`${s}`,h=r<t.length-1?t[r+1]:null;l&&h&&w(h)?(i.push(new T(l,j_(h))),r+=2):(i.push(new T(l,{})),r++)}return new x(i,{})}function _p(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=Ma(new x([],{}),0,i))}),e}function j_(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function vp(n,e,t){return n==t.path&&Us(e,t.parameters)}const Fu="imperative";class To{constructor(e,t){this.id=e,this.url=t}}class ml extends To{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xo extends To{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dd extends To{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pl extends To{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Lu extends To{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ud extends To{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pf extends To{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $_ extends To{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class G_ extends To{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q_ extends To{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gl{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yM{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bM{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wM{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zC{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n0{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jC{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xM{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new gf,this.attachRef=null}}let gf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new xM,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $C{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=r0(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=r0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ws(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ws(e,this._root).map(t=>t.value)}}function r0(n,e){if(n===e.value)return e;for(const t of e.children){const i=r0(n,t);if(i)return i}return null}function ws(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ws(n,t);if(i.length)return i.unshift(e),i}return[]}class ka{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class W_ extends $C{constructor(e,t){super(e),this.snapshot=t,Z_(this,e)}toString(){return this.snapshot.toString()}}function os(n,e){const t=function yp(n,e){const l=new bp([],{},{},"",{},Wt,e,null,{});return new GC("",new ka(l,[]))}(0,e),i=new _r.X([new T("",{})]),r=new _r.X({}),s=new _r.X({}),l=new _r.X({}),h=new _r.X(""),m=new Vu(i,r,l,h,s,Wt,e,t.root);return m.snapshot=t.root,new W_(new ka(m,[]),t)}class Vu{constructor(e,t,i,r,s,l,h,m){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=l,this.component=h,this._futureSnapshot=m,this.title=this.dataSubject?.pipe((0,ht.U)(_=>_[Da]))??(0,ct.of)(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(e=>ad(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(e=>ad(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function s0(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function EM(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class bp{get title(){return this.data?.[Da]}constructor(e,t,i,r,s,l,h,m,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=h,this.routeConfig=m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ad(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ad(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GC extends $C{constructor(e,t){super(t),this.url=e,Z_(this,t)}toString(){return qC(this._root)}}function Z_(n,e){e.value._routerState=n,e.children.forEach(t=>Z_(n,t))}function qC(n){const e=n.children.length>0?` { ${n.children.map(qC).join(", ")} } `:"";return`${n.value}${e}`}function Y_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Us(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Us(e.params,t.params)||n.paramsSubject.next(t.params),function Jl(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Us(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Us(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function o0(n,e){const t=Us(n.params,e.params)&&function A(n,e){return H(n,e)&&n.every((t,i)=>Us(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||o0(n.parent,e.parent))}let a0=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(gf),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(_f,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=t;const r=this.location,l=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new l0(t,h,r.injector);this.activated=r.createComponent(l,{index:r.length,injector:m,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class l0{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Vu?this.route:e===gf?this.childContexts:this.parent.get(e,t)}}const _f=new c.OlP("");let WC=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=wo([i.queryParams,i.params,i.data]).pipe((0,Zn.w)(([s,l,h],m)=>(h={...s,...l,...h},0===m?(0,ct.of)(h):Promise.resolve(h)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const l=(0,c.qFp)(i.component);if(l)for(const{templateName:h}of l.inputs)t.activatedComponentRef.setInput(h,s[h]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function xp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function CM(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return xp(n,i,r);return xp(n,i)})}(n,e,t);return new ka(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(h=>xp(n,h)),l}}const i=function ZC(n){return new Vu(new _r.X(n.url),new _r.X(n.params),new _r.X(n.queryParams),new _r.X(n.fragment),new _r.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>xp(n,s));return new ka(i,r)}}const K_="ngNavigationCancelingError";function c0(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=cd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Uu(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Uu(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[K_]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Ep(n){return d0(n)&&cd(n.url)}function d0(n){return n&&n[K_]}let Q_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},dependencies:[a0],encapsulation:2}),n})();function J_(n){const e=n.children&&n.children.map(J_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Wt&&(t.component=Q_),t}function Do(n){return n.outlet||Wt}function Cp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Hu{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Y_(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Bu(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Bu(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(i&&i.outlet){const l=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Bu(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Bu(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new n0(s.value.snapshot))}),e.children.length&&this.forwardEvent(new wM(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Y_(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),Y_(h.route.value),this.activateChildRoutes(e,null,l.children)}else{const h=Cp(r.snapshot);l.attachRef=null,l.route=r,l.injector=h,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,i)}}class h0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ip{constructor(e,t){this.component=e,this.route=t}}function DM(n,e,t){const i=n._root;return Tp(i,e?e._root:null,t,[i.value])}function rc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:i}function Tp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Bu(e);return n.children.forEach(l=>{(function XC(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const m=function JC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!H(n.url,e.url);case"pathParamsOrQueryParamsChange":return!H(n.url,e.url)||!Us(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!o0(n,e)||!Us(n.queryParams,e.queryParams);default:return!o0(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new h0(i)):(s.data=l.data,s._resolvedData=l._resolvedData),Tp(n,e,s.component?h?h.children:null:t,i,r),m&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Ip(h.outlet.component,l))}else l&&vf(e,h,r),r.canActivateChecks.push(new h0(i)),Tp(n,null,s.component?h?h.children:null:t,i,r)})(l,s[l.value.outlet],t,i.concat([l.value]),r),delete s[l.value.outlet]}),Object.entries(s).forEach(([l,h])=>vf(h,t.getContext(l),r)),r}function vf(n,e,t){const i=Bu(n),r=n.value;Object.entries(i).forEach(([s,l])=>{vf(l,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Ip(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function zu(n){return"function"==typeof n}function yf(n){return n instanceof Zo||"EmptyError"===n?.name}const nv=Symbol("INITIAL_VALUE");function ju(){return(0,Zn.w)(n=>wo(n.map(e=>e.pipe(gi(1),vr(nv)))).pipe((0,ht.U)(e=>{for(const t of e)if(!0!==t){if(t===nv)return nv;if(!1===t||t instanceof tc)return t}return!0}),bn(e=>e!==nv),gi(1)))}function rI(n){return(0,cl.z)((0,Pn.b)(e=>{if(cd(e))throw c0(0,e)}),(0,ht.U)(e=>!0===e))}class rv{constructor(e){this.segmentGroup=e||null}}class sv{constructor(e){this.urlTree=e}}function wf(n){return Yo(new rv(n))}function xf(n){return Yo(new sv(n))}class sI{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new c.vHH(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,ct.of)(i);if(r.numberOfChildren>1||!r.children[Wt])return Yo(new c.vHH(4e3,!1));r=r.children[Wt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new tc(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);i[r]=t[h]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let l={};return Object.entries(t.children).forEach(([h,m])=>{l[h]=this.createSegmentGroup(e,m,i,r)}),new x(s,l)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new c.vHH(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const av={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oI(n,e,t,i,r){const s=sc(n,e,t);return s.matched?(i=function X_(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function kF(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,ct.of)(!0);const s=r.map(l=>{const h=rc(l,n);return Co(function tv(n){return n&&zu(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))});return(0,ct.of)(s).pipe(ju(),rI())}(i,e,t).pipe((0,ht.U)(l=>!0===l?s:{...av}))):(0,ct.of)(s)}function sc(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...av}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Qb)(t,n,e);if(!r)return{...av};const s={};Object.entries(r.posParams??{}).forEach(([h,m])=>{s[h]=m.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function aI(n,e,t,i){return t.length>0&&function NM(n,e,t){return t.some(i=>Jo(n,e,i)&&Do(i)!==Wt)}(n,t,i)?{segmentGroup:new x(e,PM(i,new x(t,n.children))),slicedSegments:[]}:0===t.length&&function FM(n,e,t){return t.some(i=>Jo(n,e,i))}(n,t,i)?{segmentGroup:new x(n.segments,OM(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new x(n.segments,n.children),slicedSegments:t}}function OM(n,e,t,i,r){const s={};for(const l of i)if(Jo(n,t,l)&&!r[Do(l)]){const h=new x([],{});s[Do(l)]=h}return{...r,...s}}function PM(n,e){const t={};t[Wt]=e;for(const i of n)if(""===i.path&&Do(i)!==Wt){const r=new x([],{});t[Do(i)]=r}return t}function Jo(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class VM{constructor(e,t,i,r,s,l,h){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=l,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new sI(this.urlSerializer,this.urlTree)}noMatchError(e){return new c.vHH(4002,!1)}recognize(){const e=aI(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Wt).pipe(kr(t=>{if(t instanceof sv)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof rv?this.noMatchError(t):t}),(0,ht.U)(t=>{const i=new bp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,{}),r=new ka(i,t),s=new GC("",r),l=function H_(n,e,t=null,i=null){return t0(z_(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(s._root),{state:s,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Wt).pipe(kr(i=>{throw i instanceof rv?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=s0(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,hn.D)(r).pipe(rs(s=>{const l=i.children[s],h=function TM(n,e){const t=n.filter(i=>Do(i)===e);return t.push(...n.filter(i=>Do(i)!==e)),t}(t,s);return this.processSegmentGroup(e,h,l,s)}),bs((s,l)=>(s.push(...l),s)),dl(null),function ku(n,e){const t=arguments.length>=2;return i=>i.pipe(n?bn((r,s)=>n(r,s,i)):vs.y,so(1),t?dl(e):uf(()=>new Zo))}(),(0,Ti.z)(s=>{if(null===s)return wf(i);const l=lI(s);return function UM(n){n.sort((e,t)=>e.value.outlet===Wt?-1:t.value.outlet===Wt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,ct.of)(l)}))}processSegment(e,t,i,r,s,l){return(0,hn.D)(t).pipe(rs(h=>this.processSegmentAgainstRoute(h._injector??e,t,h,i,r,s,l).pipe(kr(m=>{if(m instanceof rv)return(0,ct.of)(null);throw m}))),ro(h=>!!h),kr(h=>{if(yf(h))return function LM(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?(0,ct.of)([]):wf(i);throw h}))}processSegmentAgainstRoute(e,t,i,r,s,l,h){return function Ef(n,e,t,i){return!!(Do(n)===i||i!==Wt&&Jo(e,t,n))&&("**"===n.path||sc(e,n,t).matched)}(i,r,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,l,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,l):wf(r):wf(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?xf(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,Ti.z)(l=>{const h=new x(l,{});return this.processSegment(e,t,h,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){const{matched:h,consumedSegments:m,remainingSegments:_,positionalParamSegments:b}=sc(t,r,s);if(!h)return wf(t);const D=this.applyRedirects.applyRedirectCommands(m,r.redirectTo,b);return r.redirectTo.startsWith("/")?xf(D):this.applyRedirects.lineralizeSegments(r,D).pipe((0,Ti.z)(k=>this.processSegment(e,i,t,k.concat(_),l,!1)))}matchSegmentAgainstRoute(e,t,i,r,s,l){let h;if("**"===i.path){const m=r.length>0?_i(r).parameters:{},_=new bp(r,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cI(i),Do(i),i.component??i._loadedComponent??null,i,dI(i));h=(0,ct.of)({snapshot:_,consumedSegments:[],remainingSegments:[]}),t.children={}}else h=oI(t,i,r,e).pipe((0,ht.U)(({matched:m,consumedSegments:_,remainingSegments:b,parameters:D})=>m?{snapshot:new bp(_,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cI(i),Do(i),i.component??i._loadedComponent??null,i,dI(i)),consumedSegments:_,remainingSegments:b}:null));return h.pipe((0,Zn.w)(m=>null===m?wf(t):this.getChildConfig(e=i._injector??e,i,r).pipe((0,Zn.w)(({routes:_})=>{const b=i._loadedInjector??e,{snapshot:D,consumedSegments:k,remainingSegments:L}=m,{segmentGroup:j,slicedSegments:Y}=aI(t,k,L,_);if(0===Y.length&&j.hasChildren())return this.processChildren(b,_,j).pipe((0,ht.U)(Le=>null===Le?null:[new ka(D,Le)]));if(0===_.length&&0===Y.length)return(0,ct.of)([new ka(D,[])]);const se=Do(i)===s;return this.processSegment(b,_,j,Y,se?Wt:s,!0).pipe((0,ht.U)(Le=>[new ka(D,Le)]))}))))}getChildConfig(e,t,i){return t.children?(0,ct.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,ct.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function RM(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,ct.of)(!0);const s=r.map(l=>{const h=rc(l,n);return Co(function ev(n){return n&&zu(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))});return(0,ct.of)(s).pipe(ju(),rI())}(e,t,i).pipe((0,Ti.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Pn.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function g0(n){return Yo(Uu(!1,3))}())):(0,ct.of)({routes:[],injector:e})}}function HM(n){const e=n.value.routeConfig;return e&&""===e.path}function lI(n){const e=[],t=new Set;for(const i of n){if(!HM(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=lI(i.children);e.push(new ka(i.value,r))}return e.filter(i=>!t.has(i))}function cI(n){return n.data||{}}function dI(n){return n.resolve||{}}function _0(n){return"string"==typeof n.title||null===n.title}function cv(n){return(0,Zn.w)(e=>{const t=n(e);return t?(0,hn.D)(t).pipe((0,ht.U)(()=>e)):(0,ct.of)(e)})}const Ap=new c.OlP("ROUTES");let hI=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,ct.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Co(t.loadComponent()).pipe((0,ht.U)(dv),(0,Pn.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),ul(()=>{this.componentLoaders.delete(t)})),r=new Ko(i,()=>new kt.x).pipe(Ia());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,ct.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ht.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let m,_;return Array.isArray(h)?_=h:(m=h.create(t).injector,_=m.get(Ap,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:_.map(J_),injector:m}}),ul(()=>{this.childrenLoaders.delete(i)})),l=new Ko(s,()=>new kt.x).pipe(Ia());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(t){return Co(t()).pipe((0,ht.U)(dv),(0,Ti.z)(i=>i instanceof c.YKP||Array.isArray(i)?(0,ct.of)(i):(0,hn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dv(n){return function RF(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Cf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new kt.x,this.configLoader=(0,c.f3M)(hI),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(J),this.rootContexts=(0,c.f3M)(gf),this.inputBindingEnabled=null!==(0,c.f3M)(_f,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ct.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new yM(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new gl(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new _r.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fu,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(bn(i=>0!==i.id),(0,ht.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),(0,Zn.w)(i=>{let r=!1,s=!1;return(0,ct.of)(i).pipe((0,Pn.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Zn.w)(l=>{const h=t.browserUrlTree.toString(),m=!t.navigated||l.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(!m&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const b="";return this.events.next(new pl(l.id,t.serializeUrl(i.rawUrl),b,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),ys.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return GM(l.source)&&(t.browserUrlTree=l.extractedUrl),(0,ct.of)(l).pipe((0,Zn.w)(b=>{const D=this.transitions?.getValue();return this.events.next(new ml(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),D!==this.transitions?.getValue()?ys.E:Promise.resolve(b)}),function jM(n,e,t,i,r,s){return(0,Ti.z)(l=>function BM(n,e,t,i,r,s,l="emptyOnly"){return new VM(n,e,t,i,r,l,s).recognize()}(n,e,t,i,l.extractedUrl,r,s).pipe((0,ht.U)(({state:h,tree:m})=>({...l,targetSnapshot:h,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Pn.b)(b=>{if(i.targetSnapshot=b.targetSnapshot,i.urlAfterRedirects=b.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!b.extras.skipLocationChange){const k=t.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);t.setBrowserUrl(k,b)}t.browserUrlTree=b.urlAfterRedirects}const D=new ud(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(D)}));if(m&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:b,extractedUrl:D,source:k,restoredState:L,extras:j}=l,Y=new ml(b,this.urlSerializer.serialize(D),k,L);this.events.next(Y);const se=os(0,this.rootComponentType).snapshot;return i={...l,targetSnapshot:se,urlAfterRedirects:D,extras:{...j,skipLocationChange:!1,replaceUrl:!1}},(0,ct.of)(i)}{const b="";return this.events.next(new pl(l.id,t.serializeUrl(i.extractedUrl),b,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),ys.E}}),(0,Pn.b)(l=>{const h=new pf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),(0,ht.U)(l=>i={...l,guards:DM(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function AM(n,e){return(0,Ti.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?(0,ct.of)({...t,guardsResult:!0}):function MM(n,e,t,i){return(0,hn.D)(n).pipe((0,Ti.z)(r=>function bf(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,ct.of)(!0);const l=s.map(h=>{const m=Cp(e)??r,_=rc(h,m);return Co(function f0(n){return n&&zu(n.canDeactivate)}(_)?_.canDeactivate(n,e,t,i):m.runInContext(()=>_(n,e,t,i))).pipe(ro())});return(0,ct.of)(l).pipe(ju())}(r.component,r.route,t,e,i)),ro(r=>!0!==r,!0))}(l,i,r,n).pipe((0,Ti.z)(h=>h&&function eI(n){return"boolean"==typeof n}(h)?function kM(n,e,t,i){return(0,hn.D)(e).pipe(rs(r=>is(function iI(n,e){return null!==n&&e&&e(new bM(n)),(0,ct.of)(!0)}(r.route.parent,i),function nI(n,e){return null!==n&&e&&e(new zC(n)),(0,ct.of)(!0)}(r.route,i),function p0(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function MF(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>fp(()=>{const h=l.guards.map(m=>{const _=Cp(l.node)??t,b=rc(m,_);return Co(function tI(n){return n&&zu(n.canActivateChild)}(b)?b.canActivateChild(i,n):_.runInContext(()=>b(i,n))).pipe(ro())});return(0,ct.of)(h).pipe(ju())}));return(0,ct.of)(s).pipe(ju())}(n,r.path,t),function iv(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,ct.of)(!0);const r=i.map(s=>fp(()=>{const l=Cp(e)??t,h=rc(s,l);return Co(function Dp(n){return n&&zu(n.canActivate)}(h)?h.canActivate(e,n):l.runInContext(()=>h(e,n))).pipe(ro())}));return(0,ct.of)(r).pipe(ju())}(n,r.route,t))),ro(r=>!0!==r,!0))}(i,s,n,e):(0,ct.of)(h)),(0,ht.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Pn.b)(l=>{if(i.guardsResult=l.guardsResult,cd(l.guardsResult))throw c0(0,l.guardsResult);const h=new $_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),bn(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),cv(l=>{if(l.guards.canActivateChecks.length)return(0,ct.of)(l).pipe((0,Pn.b)(h=>{const m=new G_(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}),(0,Zn.w)(h=>{let m=!1;return(0,ct.of)(h).pipe(function $M(n,e){return(0,Ti.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,ct.of)(t);let s=0;return(0,hn.D)(r).pipe(rs(l=>function lv(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!_0(r)&&(s[Da]=r.title),function oc(n,e,t,i){const r=function Sp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,ct.of)({});const s={};return(0,hn.D)(r).pipe((0,Ti.z)(l=>function uI(n,e,t,i){const r=Cp(e)??i,s=rc(n,r);return Co(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[l],e,t,i).pipe(ro(),(0,Pn.b)(h=>{s[l]=h}))),so(1),Ta(s),kr(l=>yf(l)?ys.E:Yo(l)))}(s,n,e,i).pipe((0,ht.U)(l=>(n._resolvedData=l,n.data=s0(n,t).resolve,r&&_0(r)&&(n.data[Da]=r.title),null)))}(l.route,i,n,e)),(0,Pn.b)(()=>s++),so(1),(0,Ti.z)(l=>s===r.length?(0,ct.of)(t):ys.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Pn.b)({next:()=>m=!0,complete:()=>{m||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,Pn.b)(h=>{const m=new q_(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}))}),cv(l=>{const h=m=>{const _=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(m.routeConfig).pipe((0,Pn.b)(b=>{m.component=b}),(0,ht.U)(()=>{})));for(const b of m.children)_.push(...h(b));return _};return wo(h(l.targetSnapshot.root)).pipe(dl(),gi(1))}),cv(()=>this.afterPreactivation()),(0,ht.U)(l=>{const h=function wp(n,e,t){const i=xp(n,e._root,t?t._root:void 0);return new W_(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:h}}),(0,Pn.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t,i)=>(0,ht.U)(r=>(new Hu(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),gi(1),(0,Pn.b)({next:l=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Xo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{r=!0}}),ul(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),kr(l=>{if(s=!0,d0(l)){Ep(l)||(t.navigated=!0,t.restoreHistory(i,!0));const h=new dd(i.id,this.urlSerializer.serialize(i.extractedUrl),l.message,l.cancellationCode);if(this.events.next(h),Ep(l)){const m=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),_={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||GM(i.source)};t.scheduleNavigation(m,Fu,null,_,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const h=new Lu(i.id,this.urlSerializer.serialize(i.extractedUrl),l,i.targetSnapshot??void 0);this.events.next(h);try{i.resolve(t.errorHandler(l))}catch(m){i.reject(m)}}return ys.E}))}))}cancelNavigationTransition(t,i,r){const s=new dd(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GM(n){return n!==Fu}let qM=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Wt);return i}getResolvedTitleForRoute(t){return t.data[Da]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(fI)},providedIn:"root"}),n})(),fI=(()=>{class n extends qM{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(td))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(YM)},providedIn:"root"}),n})();class ZM{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let YM=(()=>{class n extends ZM{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uv=new c.OlP("",{providedIn:"root",factory:()=>({})});let mI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(hv)},providedIn:"root"}),n})(),hv=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var oo=(()=>((oo=oo||{})[oo.COMPLETE=0]="COMPLETE",oo[oo.FAILED=1]="FAILED",oo[oo.REDIRECTING=2]="REDIRECTING",oo))();function fv(n,e){n.events.pipe(bn(t=>t instanceof Xo||t instanceof dd||t instanceof Lu||t instanceof pl),(0,ht.U)(t=>t instanceof Xo||t instanceof pl?oo.COMPLETE:t instanceof dd&&(0===t.code||1===t.code)?oo.REDIRECTING:oo.FAILED),bn(t=>t!==oo.REDIRECTING),gi(1)).subscribe(()=>{e()})}function KM(n){throw n}function ir(n,e,t){return e.parse("/")}const pI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},QM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xs=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(uv,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||KM,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ir,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(mI),this.routeReuseStrategy=(0,c.f3M)(WM),this.titleStrategy=(0,c.f3M)(qM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(Ap,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(Cf),this.urlSerializer=(0,c.f3M)(J),this.location=(0,c.f3M)(Qe),this.componentInputBindingEnabled=!!(0,c.f3M)(_f,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new tc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=os(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const m={...r};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(s.state=m)}const h=this.parseUrl(t);this.scheduleNavigation(h,i,l,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(J_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:h,preserveFragment:m}=i,_=m?this.currentUrlTree.fragment:l;let D,b=null;switch(h){case"merge":b={...this.currentUrlTree.queryParams,...s};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}null!==b&&(b=this.removeEmptyProps(b));try{D=z_(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),D=this.currentUrlTree.root}return t0(D,t,b,_??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=cd(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Fu,null,i)}navigate(t,i={skipLocationChange:!1}){return function gI(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new c.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...pI}:!1===i?{...QM}:i,cd(t))return ss(this.currentUrlTree,t,r);const s=this.parseUrl(t);return ss(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,l){if(this.disposed)return Promise.resolve(!1);let h,m,_;l?(h=l.resolve,m=l.reject,_=l.promise):_=new Promise((D,k)=>{h=D,m=k});const b=this.pendingTasks.add();return fv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:h,reject:m,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(D=>Promise.reject(D))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$u=(()=>{class n{constructor(t,i,r,s,l,h){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=l,this.locationStrategy=h,this.href=null,this.commands=null,this.onChanges=new kt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(_=>{_ instanceof Xo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(xs),c.Y36(Vu),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Be))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&c.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&c.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]}),n})();class _I{}let OF=(()=>{class n{constructor(t,i,r,s,l){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(bn(t=>t instanceof Xo),rs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,c.MMx)(s.providers,t,`Route: ${s.path}`));const l=s._injector??t,h=s._loadedInjector??l;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(l,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,hn.D)(r).pipe((0,xo.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,ct.of)(null);const s=r.pipe((0,Ti.z)(l=>null===l?(0,ct.of)(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,hn.D)([s,l]).pipe((0,xo.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xs),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(_I),c.LFG(hI))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gu=new c.OlP("");let kn=(()=>{class n{constructor(t,i,r,s,l={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ml?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xo?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof pl&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jC&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jC(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function _l(n,e){return{\u0275kind:n,\u0275providers:e}}function y0(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const i=n.get(xs),r=n.get(pv);1===n.get(bI)&&i.initialNavigation(),n.get(w0,null,c.XFs.Optional)?.setUpPreloading(),n.get(Gu,null,c.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const pv=new c.OlP("",{factory:()=>new kt.x}),bI=new c.OlP("",{providedIn:"root",factory:()=>1}),w0=new c.OlP("");function xI(n){return _l(0,[{provide:w0,useExisting:OF},{provide:_I,useExisting:n}])}const _v=new c.OlP("ROUTER_FORROOT_GUARD"),vv=[Qe,{provide:J,useClass:ge},xs,gf,{provide:Vu,useFactory:function v0(n){return n.routerState.root},deps:[xs]},hI,[]];function qu(){return new c.PXZ("Router",xs)}let yv=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[vv,[],{provide:Ap,multi:!0,useValue:t},{provide:_v,useFactory:CI,deps:[[xs,new c.FiY,new c.tp0]]},{provide:uv,useValue:i||{}},i?.useHash?{provide:Be,useClass:Oe}:{provide:Be,useClass:Xe},{provide:Gu,useFactory:()=>{const n=(0,c.f3M)(pa),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(uv),i=(0,c.f3M)(Cf),r=(0,c.f3M)(J);return t.scrollOffset&&n.setOffset(t.scrollOffset),new kn(r,i,n,e,t)}},i?.preloadingStrategy?xI(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:qu},i?.initialNavigation?Tf(i):[],i?.bindToComponentInputs?_l(8,[WC,{provide:_f,useExisting:WC}]).\u0275providers:[],[{provide:II,useFactory:y0},{provide:c.tb,multi:!0,useExisting:II}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ap,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_v,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function CI(n){return"guarded"}function Tf(n){return["disabled"===n.initialNavigation?_l(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(xs);return()=>{e.setUpLocationChangeListener()}}},{provide:bI,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?_l(2,[{provide:bI,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(Me,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(xs),s=e.get(pv);fv(r,()=>{i(!0)}),e.get(Cf).afterPreactivation=()=>(i(!0),s.closed?(0,ct.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const II=new c.OlP("");function Kn(n){return null!=n&&"false"!=`${n}`}function Ra(n,e=0){return function lk(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function bv(n){return Array.isArray(n)?n:[n]}function Or(n){return null==n?"":"string"==typeof n?n:`${n}px`}function hd(n){return n instanceof c.SBq?n.nativeElement:n}function SI(n){return bn((e,t)=>n<=t)}var fd=B(6321);function Wu(n,e=fd.z){return(0,ji.e)((t,i)=>{let r=null,s=null,l=null;const h=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function m(){const _=l+n,b=e.now();if(b<_)return r=this.schedule(void 0,_-b),void i.add(r);h()}t.subscribe((0,Ii.x)(i,_=>{s=_,l=e.now(),r||(r=e.schedule(m,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}var Zu=B(2420);function Di(n){return(0,ji.e)((e,t)=>{(0,Eo.Xf)(n).subscribe((0,Ii.x)(t,()=>t.complete(),Zu.Z)),!t.closed&&e.subscribe(t)})}let Mp;try{Mp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Mp=!1}let vl,ei=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Bc(n){return n===Ja}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Mp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const I0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function wv(){if(vl)return vl;if("object"!=typeof document||!document)return vl=new Set(I0),vl;let n=document.createElement("input");return vl=new Set(I0.filter(e=>(n.setAttribute("type",e),n.type===e))),vl}let md,Df,gd,xv;function pd(n){return function VF(){if(null==md&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>md=!0}))}finally{md=md||!1}return md}()?n:!!n.capture}function AI(){if(null==gd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return gd=!1,gd;if("scrollBehavior"in document.documentElement.style)gd=!0;else{const n=Element.prototype.scrollTo;gd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return gd}function kp(){if("object"!=typeof document||!document)return 0;if(null==Df){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),Df=0,0===n.scrollLeft&&(n.scrollLeft=1,Df=0===n.scrollLeft?1:2),n.remove()}return Df}function Yu(n){return n.composedPath?n.composedPath()[0]:n.target}function T0(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Ev=new Set;let Ku,RI=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Cv}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function D0(n,e){if(!Ev.has(n))try{Ku||(Ku=document.createElement("style"),e&&(Ku.nonce=e),Ku.setAttribute("type","text/css"),document.head.appendChild(Ku)),Ku.sheet&&(Ku.sheet.insertRule(`@media ${n} {body{ }}`,0),Ev.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ei),c.LFG(c.Ojb,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cv(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let S0=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new kt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return A0(bv(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=wo(A0(bv(t)).map(l=>this._registerQuery(l).observable));return s=is(s.pipe(gi(1)),s.pipe(SI(1),Wu(0))),s.pipe((0,ht.U)(l=>{const h={matches:!1,breakpoints:{}};return l.forEach(({matches:m,query:_})=>{h.matches=h.matches||m,h.breakpoints[_]=m}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new pi.y(l=>{const h=m=>this._zone.run(()=>l.next(m));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(vr(i),(0,ht.U)(({matches:l})=>({query:t,matches:l})),Di(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(RI),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function A0(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const OI_Handset="(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)";var PI=B(6878),U=B(9058),js=B(534),$s=B(7879),Oa=B(4537),Es=B(3019),_d=B(3093),uk=B(4552);class NI extends kt.x{constructor(e=1/0,t=1/0,i=uk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:l}=this;t||(i.push(e),!r&&i.push(s.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let l=0;l<s.length&&!e.closed;l+=i?1:2)e.next(s[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const l=t.now();let h=0;for(let m=1;m<i.length&&i[m]<=l;m+=2)h=m;h&&i.splice(0,h+1)}}}var M0=B(3020);function Iv(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,M0.B)({connector:()=>new NI(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function FI(n,e){return(0,Mr.m)(e)?(0,Zn.w)(()=>n,e):(0,Zn.w)(()=>n)}var Tv=B(5137),An=B(8186),rr=B(6304);B(3182);var Ee=B(5861);const k0=new Map,vk={activated:!1,tokenObservers:[]},GF={initialized:!1,enabled:!1};function Ni(n){return k0.get(n)||Object.assign({},vk)}function R0(){return GF}const Dv="https://content-firebaseappcheck.googleapis.com/v1",UI="exchangeDebugToken",O0={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class HI{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new U.BH,yield function zI(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new U.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const as=new U.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function P0(n){if(!Ni(n).activated)throw as.create("use-before-activation",{appName:n.name})}function Av(n,e){return Mv.apply(this,arguments)}function Mv(){return(Mv=(0,Ee.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const D=yield r.getHeartbeatsHeader();D&&(i["X-Firebase-Client"]=D)}const s={method:"POST",body:JSON.stringify(e),headers:i};let l,h;try{l=yield fetch(n,s)}catch(D){throw as.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==l.status)throw as.create("fetch-status-error",{httpStatus:l.status});try{h=yield l.json()}catch(D){throw as.create("fetch-parse-error",{originalErrorMessage:D?.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw as.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const _=1e3*Number(m[1]),b=Date.now();return{token:h.token,expireTimeMillis:b+_,issuedAtTimeMillis:b}})).apply(this,arguments)}function wk(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${Dv}/projects/${t}/apps/${i}:${UI}?key=${r}`,body:{debug_token:e}}}const jI="firebase-app-check-database",$I=1,ea="firebase-app-check-store";let Fp=null;function Bp(){return(Bp=(0,Ee.Z)(function*(n,e){const i=(yield function GI(){return Fp||(Fp=new Promise((n,e)=>{try{const t=indexedDB.open(jI,$I);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(as.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ea,{keyPath:"compositeKey"})}}catch(t){e(as.create("storage-open",{originalErrorMessage:t?.message}))}}),Fp)}()).transaction(ea,"readwrite"),s=i.objectStore(ea).put({compositeKey:n,value:e});return new Promise((l,h)=>{s.onsuccess=m=>{l()},i.onerror=m=>{var _;h(as.create("storage-set",{originalErrorMessage:null===(_=m.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Xu=new $s.Yd("@firebase/app-check");function U0(n,e){return(0,U.hl)()?function kf(n,e){return function L0(n,e){return Bp.apply(this,arguments)}(function B0(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Xu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function z0(){return R0().enabled}function j0(){return $0.apply(this,arguments)}function $0(){return($0=(0,Ee.Z)(function*(){const n=R0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ZI={error:"UNKNOWN_ERROR"};function Ek(n){return U.US.encodeString(JSON.stringify(n),!1)}function Ov(n){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,Ee.Z)(function*(n,e=!1){const t=n.app;P0(t);const i=Ni(t);let s,r=i.token;if(r&&!Rf(r)&&(i.token=void 0,r=void 0),!r){const m=yield i.cachedTokenPromise;m&&(Rf(m)?r=m:yield U0(t,void 0))}if(!e&&r&&Rf(r))return{token:r.token};let h,l=!1;if(z0()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Av(wk(t,yield j0()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const m=yield i.exchangeTokenPromise;return yield U0(t,m),i.token=m,{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield Ni(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Xu.warn(m.message):Xu.error(m),s=m}return r?s?h=Rf(r)?{token:r.token,internalError:s}:W0(s):(h={token:r.token},i.token=r,yield U0(t,r)):h=W0(s),l&&function QI(n,e){const t=Ni(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,h),h})).apply(this,arguments)}function YI(n){return G0.apply(this,arguments)}function G0(){return(G0=(0,Ee.Z)(function*(n){const e=n.app;P0(e);const{provider:t}=Ni(e);if(z0()){const i=yield j0(),{token:r}=yield Av(wk(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function Up(n,e){const t=Ni(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function q0(n){const{app:e}=n,t=Ni(e);let i=t.tokenRefresher;i||(i=function Ck(n){const{app:e}=n;return new HI((0,Ee.Z)(function*(){let i;if(i=Ni(e).token?yield Ov(n,!0):yield Ov(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Ni(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},O0.RETRIAL_MIN_WAIT,O0.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Rf(n){return n.expireTimeMillis-Date.now()>0}function W0(n){return{token:Ek(ZI),error:n}}class Ik{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ni(this.app);for(const t of e)Up(this.app,t.next);return Promise.resolve()}}const nT="app-check-internal";!function YF(){(0,js._registerComponent)(new Oa.wA("app-check",n=>function Tk(n,e){return new Ik(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(nT).initialize()})),(0,js._registerComponent)(new Oa.wA(nT,n=>function Z0(n){return{getToken:e=>Ov(n,e),getLimitedUseToken:()=>YI(n),addTokenListener:e=>function KI(n,e,t,i){const{app:r}=n,s=Ni(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&Rf(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),q0(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>q0(n))}(n,"INTERNAL",e),removeTokenListener:e=>Up(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,js.registerVersion)("@firebase/app-check","0.8.0")}();class bd{constructor(){return(0,An.vb)("app-check")}}typeof window<"u"&&window;var Bv=B(7142);const rw=new c.OlP("angularfire2.auth.use-emulator"),sT=new c.OlP("angularfire2.auth.settings"),sw=new c.OlP("angularfire2.auth.tenant-id"),ow=new c.OlP("angularfire2.auth.langugage-code"),aw=new c.OlP("angularfire2.auth.use-device-language"),lw=new c.OlP("angularfire.auth.persistence"),cw=(n,e,t,i,r,s,l,h)=>(0,rr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),i&&(m.tenantId=i),m.languageCode=r,s&&m.useDeviceLanguage(),l)for(const[_,b]of Object.entries(l))m.settings[_]=b;return h&&m.setPersistence(h),m},[t,i,r,s,l,h]);let zp=(()=>{class n{constructor(t,i,r,s,l,h,m,_,b,D,k,L){const j=new kt.x,Y=(0,ct.of)(void 0).pipe((0,_d.Q)(l.outsideAngular),(0,Zn.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,6365)))),(0,ht.U)(()=>(0,rr.on)(t,s,i)),(0,ht.U)(se=>cw(se,s,h,_,b,D,m,k)),Iv({bufferSize:1,refCount:!1}));if(Fs(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ct.of)(null);else{Y.pipe(ro()).subscribe();const Le=Y.pipe((0,Zn.w)(Ye=>Ye.getRedirectResult().then(St=>St,()=>null)),An.iC,Iv({bufferSize:1,refCount:!1})),$e=Y.pipe((0,Zn.w)(Ye=>new pi.y(St=>({unsubscribe:s.runOutsideAngular(()=>Ye.onAuthStateChanged(Nt=>St.next(Nt),Nt=>St.error(Nt),()=>St.complete()))})))),je=Y.pipe((0,Zn.w)(Ye=>new pi.y(St=>({unsubscribe:s.runOutsideAngular(()=>Ye.onIdTokenChanged(Nt=>St.next(Nt),Nt=>St.error(Nt),()=>St.complete()))}))));this.authState=Le.pipe(FI($e),(0,Tv.R)(l.outsideAngular),(0,_d.Q)(l.insideAngular)),this.user=Le.pipe(FI(je),(0,Tv.R)(l.outsideAngular),(0,_d.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,Zn.w)(Ye=>Ye?(0,hn.D)(Ye.getIdToken()):(0,ct.of)(null))),this.idTokenResult=this.user.pipe((0,Zn.w)(Ye=>Ye?(0,hn.D)(Ye.getIdTokenResult()):(0,ct.of)(null))),this.credential=(0,Es.T)(Le,j,this.authState.pipe(bn(Ye=>!Ye))).pipe((0,ht.U)(Ye=>Ye?.user?Ye:null),(0,Tv.R)(l.outsideAngular),(0,_d.Q)(l.insideAngular))}return(0,rr.pX)(this,Y,s,{spy:{apply:(se,Le,$e)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&$e.then(je=>j.next(je))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(rr.Dh),c.LFG(rr.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(An.HU),c.LFG(rw,8),c.LFG(sT,8),c.LFG(sw,8),c.LFG(ow,8),c.LFG(aw,8),c.LFG(lw,8),c.LFG(bd,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Hk=(()=>{class n{constructor(){Bv.Z.registerVersion("angularfire",An.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[zp]}),n})();function Vv(){return(0,ji.e)((n,e)=>{let t,i=!1;n.subscribe((0,Ii.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}var lt,Ju=B(3997),Nf=(B(6365),B(3106)),zk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pa={},dw=dw||{},Qt=zk||self;function Uv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function jp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Hv="closure_uid_"+(1e9*Math.random()>>>0),jk=0;function eL(n,e,t){return n.call.apply(n.bind,arguments)}function aT(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function ls(n,e,t){return(ls=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eL:aT).apply(null,arguments)}function uw(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function sr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[r].apply(i,l)}}function wd(){this.s=this.s,this.o=this.o}wd.prototype.s=!1,wd.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function oT(n){Object.prototype.hasOwnProperty.call(n,Hv)&&n[Hv]||(n[Hv]=++jk)}(this)},wd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function hw(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Na(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Uv(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let l=0;l<s;l++)n[r+l]=i[l]}else n.push(i)}}function br(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}br.prototype.h=function(){this.defaultPrevented=!0};var Cs=function(){if(!Qt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Qt.addEventListener("test",()=>{},e),Qt.removeEventListener("test",()=>{},e)}catch{}return n}();function Fa(n){return/^[\s\xa0]*$/.test(n)}function eh(){var n=Qt.navigator;return n&&(n=n.userAgent)?n:""}function or(n){return-1!=eh().indexOf(n)}function $p(n){return $p[" "](n),n}$p[" "]=function(){};var Ed,n,Lf=or("Opera"),La=or("Trident")||or("MSIE"),th=or("Edge"),xd=th||La,nh=or("Gecko")&&!(-1!=eh().toLowerCase().indexOf("webkit")&&!or("Edge"))&&!(or("Trident")||or("MSIE"))&&!or("Edge"),Bf=-1!=eh().toLowerCase().indexOf("webkit")&&!or("Edge");function ih(){var n=Qt.document;return n?n.documentMode:void 0}e:{var jv="",$v=(n=eh(),nh?/rv:([^\);]+)(\)|;)/.exec(n):th?/Edge\/([\d\.]+)/.exec(n):La?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Bf?/WebKit\/(\S+)/.exec(n):Lf?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if($v&&(jv=$v?$v[1]:""),La){var Gv=ih();if(null!=Gv&&Gv>parseFloat(jv)){Ed=String(Gv);break e}}Ed=jv}var lT=Qt.document&&La&&(ih()||parseInt(Ed,10))||void 0;function Vf(n,e){if(br.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(nh){e:{try{$p(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:cT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Vf.$.h.call(this)}}sr(Vf,br);var cT={2:"touch",3:"pen",4:"mouse"};Vf.prototype.h=function(){Vf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Uf="closure_listenable_"+(1e6*Math.random()|0),mw=0;function Gk(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++mw,this.fa=this.ia=!1}function pw(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function dT(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function uT(n){const e={};for(const t in n)e[t]=n[t];return e}const Wk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hT(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<Wk.length;s++)t=Wk[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function gw(n){this.src=n,this.g={},this.h=0}function _w(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=zv(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(pw(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function vw(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}gw.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=vw(n,e,i,r);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new Gk(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var yw="closure_lm_"+(1e6*Math.random()|0),Gp={};function Hf(n,e,t,i,r){if(i&&i.once)return bw(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Hf(n,e[s],t,i,r);return null}return t=Ew(t),n&&n[Uf]?n.O(e,t,jp(i)?!!i.capture:!!i,r):Wv(n,e,t,!1,i,r)}function Wv(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var l=jp(r)?!!r.capture:!!r,h=ww(n);if(h||(n[yw]=h=new gw(n)),(t=h.add(e,t,i,l,s)).proxy)return t;if(i=function Zv(){const e=qp;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Cs||(r=l),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(fT(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function bw(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)bw(n,e[s],t,i,r);return null}return t=Ew(t),n&&n[Uf]?n.P(e,t,jp(i)?!!i.capture:!!i,r):Wv(n,e,t,!0,i,r)}function zf(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)zf(n,e[s],t,i,r);else i=jp(i)?!!i.capture:!!i,t=Ew(t),n&&n[Uf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=vw(s=n.g[e],t,i,r))&&(pw(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=ww(n))&&(e=n.g[e.toString()],n=-1,e&&(n=vw(e,t,i,r)),(t=-1<n?e[n]:null)&&Yv(t))}function Yv(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Uf])_w(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(fT(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=ww(e))?(_w(t,n),0==t.h&&(t.src=null,e[yw]=null)):pw(n)}}}function fT(n){return n in Gp?Gp[n]:Gp[n]="on"+n}function qp(n,e){if(n.fa)n=!0;else{e=new Vf(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Yv(n),n=t.call(i,e)}return n}function ww(n){return(n=n[yw])instanceof gw?n:null}var xw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ew(n){return"function"==typeof n?n:(n[xw]||(n[xw]=function(e){return n.handleEvent(e)}),n[xw])}function jr(){wd.call(this),this.i=new gw(this),this.S=this,this.J=null}function Pr(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new br(e,n);else if(e instanceof br)e.target=e.target||n;else{var r=e;hT(e=new br(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];r=rh(l,i,!0,e)&&r}if(r=rh(l=e.g=n,i,!0,e)&&r,r=rh(l,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=rh(l=e.g=t[s],i,!1,e)&&r}function rh(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.fa&&l.capture==t){var h=l.listener,m=l.la||l.src;l.ia&&_w(n.i,l),r=!1!==h.call(m,i)&&r}}return r&&!i.defaultPrevented}sr(jr,wd),jr.prototype[Uf]=!0,jr.prototype.removeEventListener=function(n,e,t,i){zf(this,n,e,t,i)},jr.prototype.N=function(){if(jr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)pw(t[i]);delete n.g[e],n.h--}}this.J=null},jr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},jr.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var jf=Qt.JSON.stringify;function Zk(){var n=Qv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Kv=new class tL{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Kk,n=>n.reset());class Kk{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function mT(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Qk(n){Qt.setTimeout(()=>{throw n},0)}let Wp,$f=!1,Qv=new class Yk{constructor(){this.h=this.g=null}add(e,t){const i=Kv.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Cw=()=>{const n=Qt.Promise.resolve(void 0);Wp=()=>{n.then(Xk)}};var Xk=()=>{for(var n;n=Zk();){try{n.h.call(n.g)}catch(t){Qk(t)}var e=Kv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}$f=!1};function Xv(n,e){jr.call(this),this.h=n||1,this.g=e||Qt,this.j=ls(this.qb,this),this.l=Date.now()}function Iw(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Jv(n,e,t){if("function"==typeof n)t&&(n=ls(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ls(n.handleEvent,n)}return 2147483647<Number(e)?-1:Qt.setTimeout(n,e||0)}function ey(n){n.g=Jv(()=>{n.g=null,n.i&&(n.i=!1,ey(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}sr(Xv,jr),(lt=Xv.prototype).ga=!1,lt.T=null,lt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pr(this,"tick"),this.ga&&(Iw(this),this.start()))}},lt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.N=function(){Xv.$.N.call(this),Iw(this),delete this.g};class Tw extends wd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ey(this)}N(){super.N(),this.g&&(Qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zp(n){wd.call(this),this.h=n,this.g={}}sr(Zp,wd);var Yp=[];function Kp(n,e,t,i){Array.isArray(t)||(t&&(Yp[0]=t.toString()),t=Yp);for(var r=0;r<t.length;r++){var s=Hf(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function ty(n){dT(n.g,function(e,t){this.g.hasOwnProperty(t)&&Yv(e)},n),n.g={}}function Qp(){this.g=!0}function Gf(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function iy(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return jf(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Zp.prototype.N=function(){Zp.$.N.call(this),ty(this)},Zp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qp.prototype.Ea=function(){this.g=!1},Qp.prototype.info=function(){};var ac={},Dw=null;function ry(){return Dw=Dw||new jr}function pT(n){br.call(this,ac.Ta,n)}function qf(n){const e=ry();Pr(e,new pT(e))}function sy(n,e){br.call(this,ac.STAT_EVENT,n),this.stat=e}function Is(n){const e=ry();Pr(e,new sy(e,n))}function oy(n,e){br.call(this,ac.Ua,n),this.size=e}function sh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Qt.setTimeout(function(){n()},e)}ac.Ta="serverreachability",sr(pT,br),ac.STAT_EVENT="statevent",sr(sy,br),ac.Ua="timingevent",sr(oy,br);var ay={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Sw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ly(){}function Mw(){}ly.prototype.h=null;var Jp,Xp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function cy(){br.call(this,"d")}function dy(){br.call(this,"c")}function Wf(){}function Zf(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Zp(this),this.P=gT,this.V=new Xv(n=xd?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new kw}function kw(){this.i=null,this.g="",this.h=!1}sr(cy,br),sr(dy,br),sr(Wf,ly),Wf.prototype.g=function(){return new XMLHttpRequest},Wf.prototype.i=function(){return{}},Jp=new Wf;var gT=45e3,uy={},eg={};function hy(n,e,t){n.L=1,n.v=rg(cc(e)),n.s=t,n.S=!0,Rw(n,null)}function Rw(n,e){n.G=Date.now(),ng(n),n.A=cc(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Va(t.i,"t",i),n.C=0,t=n.l.J,n.h=new kw,n.g=ex(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Tw(ls(n.Pa,n,n.g),n.O)),Kp(n.U,n.g,"readystatechange",n.nb),e=n.I?uT(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),qf(),function Jk(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",h=s.split("&"),m=0;m<h.length;m++){var _=h[m].split("=");if(1<_.length){var b=_[0];_=_[1];var D=b.split("_");l=2<=D.length&&"type"==D[1]?l+(b+"=")+_+"&":l+(b+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Ow(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function tg(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=Cd(n,t),r==eg){4==e&&(n.o=4,Is(14),i=!1),Gf(n.j,n.m,null,"[Incomplete Response]");break}if(r==uy){n.o=4,Is(15),Gf(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Gf(n.j,n.m,r,null),Pw(n,r)}Ow(n)&&r!=eg&&r!=uy&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Is(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Kw(e),e.M=!0,Is(11))):(Gf(n.j,n.m,t,"[Invalid Chunked Response]"),lc(n),Ba(n))}function Cd(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?eg:(t=Number(e.substring(t,i)),isNaN(t)?uy:(i+=1)+t>e.length?eg:(e=e.slice(i,i+t),n.C=i+t,e))}function ng(n){n.Y=Date.now()+n.P,_T(n,n.P)}function _T(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=sh(ls(n.lb,n),e)}function Yf(n){n.B&&(Qt.clearTimeout(n.B),n.B=null)}function Ba(n){0==n.l.H||n.J||FT(n.l,n)}function lc(n){Yf(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Iw(n.V),ty(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Pw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Bw(t.i,n)))if(!n.K&&Bw(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;by(t),vy(t)}Yw(t),Is(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=sh(ls(t.ib,t),6e3));if(1>=Lw(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Td(t,11)}else if((n.K||t.g==n)&&by(t),!Fa(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let _=r[e];if(t.V=_[0],_=_[1],2==t.H)if("c"==_[0]){t.K=_[1],t.pa=_[2];const b=_[3];null!=b&&(t.ra=b,t.l.info("VER="+t.ra));const D=_[4];null!=D&&(t.Ga=D,t.l.info("SVER="+t.Ga));const k=_[5];null!=k&&"number"==typeof k&&0<k&&(t.L=i=1.5*k,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const L=n.g;if(L){const j=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var s=i.i;s.g||-1==j.indexOf("spdy")&&-1==j.indexOf("quic")&&-1==j.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Vw(s,s.h),s.h=null))}if(i.F){const Y=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(i.Da=Y,vi(i.I,i.F,Y))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((i=t).wa=Jw(i,i.J?i.pa:null,i.Y),l.K){ET(i.i,l);var h=l,m=i.L;m&&h.setTimeout(m),h.B&&(Yf(h),ng(h)),i.g=l}else PT(i);0<t.j.length&&yy(t)}else"stop"!=_[0]&&"close"!=_[0]||Td(t,7);else 3==t.H&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Td(t,7):Zw(t):"noop"!=_[0]&&t.h&&t.h.Aa(_),t.A=0)}qf()}catch{}}function tR(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Uv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function nL(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Uv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Nw(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Uv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(lt=Zf.prototype).setTimeout=function(n){this.P=n},lt.nb=function(n){n=n.target;const e=this.M;e&&3==Ha(n)?e.l():this.Pa(n)},lt.Pa=function(n){try{if(n==this.g)e:{const b=Ha(this.g);var e=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||xd||this.g&&(this.h.h||this.g.ja()||qw(this.g)))){this.J||4!=b||7==e||qf(),Yf(this);var t=this.g.da();this.ca=t;t:if(Ow(this)){var i=qw(this.g);n="";var r=i.length,s=4==Ha(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){lc(this),Ba(this);var l="";break t}this.h.i=new Qt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function eR(n,e,t,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.W,b,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fa(h)){var _=h;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,Is(12),lc(this),Ba(this);break e}Gf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pw(this,t)}this.S?(tg(this,b,l),xd&&this.i&&3==b&&(Kp(this.U,this.V,"tick",this.mb),this.V.start())):(Gf(this.j,this.m,l,null),Pw(this,l)),4==b&&lc(this),this.i&&!this.J&&(4==b?FT(this.l,this):(this.i=!1,ng(this)))}else(function ST(n){const e={};n=(n.g&&2<=Ha(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Fa(n[i]))continue;var t=mT(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function qk(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Is(12)):(this.o=0,Is(13)),lc(this),Ba(this)}}}catch{}},lt.mb=function(){if(this.g){var n=Ha(this.g),e=this.g.ja();this.C<e.length&&(Yf(this),tg(this,n,e),this.i&&4!=n&&ng(this))}},lt.cancel=function(){this.J=!0,lc(this)},lt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function ny(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(qf(),Is(17)),lc(this),this.o=2,Ba(this)):_T(this,this.Y-n)};var vT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Id(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Id){this.h=n.h,$i(this,n.j),this.s=n.s,this.g=n.g,ig(this,n.m),this.l=n.l;var e=n.i,t=new Qf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),yT(this,t),this.o=n.o}else n&&(e=String(n).match(vT))?(this.h=!1,$i(this,e[1]||"",!0),this.s=sg(e[2]||""),this.g=sg(e[3]||"",!0),ig(this,e[4]),this.l=sg(e[5]||"",!0),yT(this,e[6]||"",!0),this.o=sg(e[7]||"")):(this.h=!1,this.i=new Qf(null,this.h))}function cc(n){return new Id(n)}function $i(n,e,t){n.j=t?sg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ig(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function yT(n,e,t){e instanceof Qf?(n.i=e,function xT(n,e){e&&!n.j&&(ah(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(fy(this,i),Va(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Kf(e,wT)),n.i=new Qf(e,n.h))}function vi(n,e,t){n.i.set(e,t)}function rg(n){return vi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function sg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Kf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,bT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function bT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Id.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Kf(e,oh,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Kf(e,oh,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Kf(t,"/"==t.charAt(0)?rR:iR,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Kf(t,sR)),n.join("")};var oh=/[#\/\?@]/g,iR=/[#\?:]/g,rR=/[#\?]/g,wT=/[#\?@]/g,sR=/#/g;function Qf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ah(n){n.g||(n.g=new Map,n.h=0,n.i&&function nR(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function fy(n,e){ah(n),e=Xf(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function my(n,e){return ah(n),e=Xf(n,e),n.g.has(e)}function Va(n,e,t){fy(n,e),0<t.length&&(n.i=null,n.g.set(Xf(n,e),hw(t)),n.h+=t.length)}function Xf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ta(n){this.l=n||Ua,n=Qt.PerformanceNavigationTiming?0<(n=Qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Qt.g&&Qt.g.Ka&&Qt.g.Ka()&&Qt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=Qf.prototype).add=function(n,e){ah(this),this.i=null,n=Xf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},lt.forEach=function(n,e){ah(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},lt.ta=function(){ah(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},lt.Z=function(n){ah(this);let e=[];if("string"==typeof n)my(this,n)&&(e=e.concat(this.g.get(Xf(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},lt.set=function(n,e){return ah(this),this.i=null,my(this,n=Xf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},lt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=s;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var Ua=10;function Fw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Lw(n){return n.h?1:n.g?n.g.size:0}function Bw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Vw(n,e){n.g?n.g.add(e):n.h=e}function ET(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function CT(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return hw(n.i)}ta.prototype.cancel=function(){if(this.i=CT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Uw=class{stringify(n){return Qt.JSON.stringify(n,void 0)}parse(n){return Qt.JSON.parse(n,void 0)}};function og(){this.g=new Uw}function oR(n,e,t){const i=t||"";try{tR(n,function(r,s){let l=r;jp(r)&&(l=jf(r)),e.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function py(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function ag(n){this.l=n.fc||null,this.j=n.ob||!1}function lg(n,e){jr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=gy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sr(ag,ly),ag.prototype.g=function(){return new lg(this.l,this.j)},ag.prototype.i=function(n){return function(){return n}}({}),sr(lg,jr);var gy=0;function cg(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function dg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jf(n)}function Jf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=lg.prototype).open=function(n,e){if(this.readyState!=gy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Jf(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Qt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dg(this)),this.readyState=gy},lt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jf(this)),this.g&&(this.readyState=3,Jf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Qt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cg(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},lt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?dg(this):Jf(this),3==this.readyState&&cg(this)}},lt.Za=function(n){this.g&&(this.response=this.responseText=n,dg(this))},lt.Ya=function(n){this.g&&(this.response=n,dg(this))},lt.ka=function(){this.g&&dg(this)},lt.setRequestHeader=function(n,e){this.v.append(n,e)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(lg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var TT=Qt.JSON.parse;function Fi(n){jr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=DT,this.L=this.M=!1}sr(Fi,jr);var DT="",aR=/^https?$/i,Hw=["POST","PUT"];function zw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,jw(n),ug(n)}function jw(n){n.F||(n.F=!0,Pr(n,"complete"),Pr(n,"error"))}function $w(n){if(n.h&&typeof dw<"u"&&(!n.C[1]||4!=Ha(n)||2!=n.da()))if(n.v&&4==Ha(n))Jv(n.La,0,n);else if(Pr(n,"readystatechange"),4==Ha(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===l){var r=String(n.I).match(vT)[1]||null;!r&&Qt.self&&Qt.self.location&&(r=Qt.self.location.protocol.slice(0,-1)),i=!aR.test(r?r.toLowerCase():"")}t=i}if(t)Pr(n,"complete"),Pr(n,"success");else{n.m=6;try{var s=2<Ha(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",jw(n)}}finally{ug(n)}}}function ug(n,e){if(n.g){Gw(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Pr(n,"ready");try{t.onreadystatechange=i}catch{}}}function Gw(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Qt.clearTimeout(n.A),n.A=null)}function Ha(n){return n.g?n.g.readyState:0}function qw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case DT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function AT(n){let e="";return dT(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Ww(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=AT(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):vi(n,e,t))}function hg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function MT(n){this.Ga=0,this.j=[],this.l=new Qp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hg("baseRetryDelayMs",5e3,n),this.hb=hg("retryDelaySeedMs",1e4,n),this.eb=hg("forwardChannelMaxRetries",2,n),this.xa=hg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new ta(n&&n.concurrentRequestLimit),this.Ja=new og,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Zw(n){if(kT(n),3==n.H){var e=n.W++,t=cc(n.I);if(vi(t,"SID",n.K),vi(t,"RID",e),vi(t,"TYPE","terminate"),fg(n,t),(e=new Zf(n,n.l,e)).L=2,e.v=rg(cc(t)),t=!1,Qt.navigator&&Qt.navigator.sendBeacon)try{t=Qt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Qt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ex(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ng(e)}Xw(n)}function vy(n){n.g&&(Kw(n),n.g.cancel(),n.g=null)}function kT(n){vy(n),n.u&&(Qt.clearTimeout(n.u),n.u=null),by(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Qt.clearTimeout(n.m),n.m=null)}function yy(n){if(!Fw(n.i)&&!n.m){n.m=!0;var e=n.Na;Wp||Cw(),$f||(Wp(),$f=!0),Qv.add(e,n),n.C=0}}function RT(n,e){var t;t=e?e.m:n.W++;const i=cc(n.I);vi(i,"SID",n.K),vi(i,"RID",t),vi(i,"AID",n.V),fg(n,i),n.o&&n.s&&Ww(i,n.o,n.s),t=new Zf(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=OT(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Vw(n.i,t),hy(t,i,e)}function fg(n,e){n.na&&dT(n.na,function(t,i){vi(e,i,t)}),n.h&&tR({},function(t,i){vi(e,i,t)})}function OT(n,e,t){t=Math.min(n.j.length,t);var i=n.h?ls(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=r[0].g,l.push("ofs="+s)):s=0:l.push("ofs="+s);let h=!0;for(let m=0;m<t;m++){let _=r[m].g;const b=r[m].map;if(_-=s,0>_)s=Math.max(0,r[m].g-100),h=!1;else try{oR(b,l,"req"+_+"_")}catch{i&&i(b)}}if(h){i=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function PT(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Wp||Cw(),$f||(Wp(),$f=!0),Qv.add(e,n),n.A=0}}function Yw(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=sh(ls(n.Ma,n),Qw(n,n.A)),n.A++,0))}function Kw(n){null!=n.B&&(Qt.clearTimeout(n.B),n.B=null)}function NT(n){n.g=new Zf(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=cc(n.wa);vi(e,"RID","rpc"),vi(e,"SID",n.K),vi(e,"AID",n.V),vi(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&vi(e,"TO",n.qa),vi(e,"TYPE","xmlhttp"),fg(n,e),n.o&&n.s&&Ww(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=rg(cc(e)),t.s=null,t.S=!0,Rw(t,n)}function by(n){null!=n.v&&(Qt.clearTimeout(n.v),n.v=null)}function FT(n,e){var t=null;if(n.g==e){by(n),Kw(n),n.g=null;var i=2}else{if(!Bw(n.i,e))return;t=e.F,ET(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Pr(i=ry(),new oy(i,t)),yy(n)}else PT(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function lR(n,e){return!(Lw(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=sh(ls(n.Na,n,e),Qw(n,n.C)),n.C++,0)))}(n,e)||2==i&&Yw(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Td(n,5);break;case 4:Td(n,10);break;case 3:Td(n,6);break;default:Td(n,2)}}function Qw(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Td(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=ls(n.pb,n);t||(t=new Id("//www.google.com/images/cleardot.gif"),Qt.location&&"http"==Qt.location.protocol||$i(t,"https"),rg(t)),function IT(n,e){const t=new Qp;if(Qt.Image){const i=new Image;i.onload=uw(py,t,i,"TestLoadImage: loaded",!0,e),i.onerror=uw(py,t,i,"TestLoadImage: error",!1,e),i.onabort=uw(py,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=uw(py,t,i,"TestLoadImage: timeout",!1,e),Qt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Is(2);n.H=0,n.h&&n.h.za(e),Xw(n),kT(n)}function Xw(n){if(n.H=0,n.ma=[],n.h){const e=CT(n.i);(0!=e.length||0!=n.j.length)&&(Na(n.ma,e),Na(n.ma,n.j),n.i.i.length=0,hw(n.j),n.j.length=0),n.h.ya()}}function Jw(n,e,t){var i=t instanceof Id?cc(t):new Id(t);if(""!=i.g)e&&(i.g=e+"."+i.g),ig(i,i.m);else{var r=Qt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Id(null);i&&$i(s,i),e&&(s.g=e),r&&ig(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&vi(i,t,e),vi(i,"VER",n.ra),fg(n,i),i}function ex(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fi(t&&n.Ha&&!n.va?new ag({ob:!0}):n.va)).Oa(n.J),e}function tx(){}function mg(){if(La&&!(10<=Number(lT)))throw Error("Environmental error: no available transport.")}function ao(n,e){jr.call(this),this.g=new MT(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Fa(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fa(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Dd(this)}function nx(n){cy.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function wy(){dy.call(this),this.status=1}function Dd(n){this.g=n}function za(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ix(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],l=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;l=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(l<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((s=(e=t+((l=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=s+((l=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Cn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(lt=Fi.prototype).Oa=function(n){this.M=n},lt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Jp.g(),this.C=function Aw(n){return n.h||(n.h=n.i())}(this.u?this.u:Jp),this.g.onreadystatechange=ls(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void zw(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=Qt.FormData&&n instanceof Qt.FormData,!(0<=zv(Hw,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of t)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gw(this),0<this.B&&((this.L=function _y(n){return La&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ls(this.ua,this)):this.A=Jv(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){zw(this,s)}},lt.ua=function(){typeof dw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pr(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Pr(this,"complete"),Pr(this,"abort"),ug(this))},lt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ug(this,!0)),Fi.$.N.call(this)},lt.La=function(){this.s||(this.G||this.v||this.l?$w(this):this.kb())},lt.kb=function(){$w(this)},lt.isActive=function(){return!!this.g},lt.da=function(){try{return 2<Ha(this)?this.g.status:-1}catch{return-1}},lt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},lt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),TT(e)}},lt.Ia=function(){return this.m},lt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=MT.prototype).ra=8,lt.H=1,lt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Zf(this,this.l,n);let s=this.s;if(this.U&&(s?(s=uT(s),hT(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=OT(this,r,e),vi(t=cc(this.I),"RID",n),vi(t,"CVER",22),this.F&&vi(t,"X-HTTP-Session-Id",this.F),fg(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(AT(s)))+"&"+e:this.o&&Ww(t,this.o,s)),Vw(this.i,r),this.bb&&vi(t,"TYPE","init"),this.P?(vi(t,"$req",e),vi(t,"SID","null"),r.aa=!0,hy(r,t,null)):hy(r,t,e),this.H=2}}else 3==this.H&&(n?RT(this,n):0==this.j.length||Fw(this.i)||RT(this))},lt.Ma=function(){if(this.u=null,NT(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=sh(ls(this.jb,this),n)}},lt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Is(10),vy(this),NT(this))},lt.ib=function(){null!=this.v&&(this.v=null,vy(this),Yw(this),Is(19))},lt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Is(2)):(this.l.info("Failed to ping google.com"),Is(1))},lt.isActive=function(){return!!this.h&&this.h.isActive(this)},(lt=tx.prototype).Ba=function(){},lt.Aa=function(){},lt.za=function(){},lt.ya=function(){},lt.isActive=function(){return!0},lt.Va=function(){},mg.prototype.g=function(n,e){return new ao(n,e)},sr(ao,jr),ao.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Is(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Jw(n,null,n.Y),yy(n)},ao.prototype.close=function(){Zw(this.g)},ao.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=jf(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&yy(e)},ao.prototype.N=function(){this.g.h=null,delete this.j,Zw(this.g),delete this.g,ao.$.N.call(this)},sr(nx,cy),sr(wy,dy),sr(Dd,tx),Dd.prototype.Ba=function(){Pr(this.g,"a")},Dd.prototype.Aa=function(n){Pr(this.g,new nx(n))},Dd.prototype.za=function(n){Pr(this.g,new wy)},Dd.prototype.ya=function(){Pr(this.g,"b")},sr(za,function lh(){this.blockSize=-1}),za.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},za.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)ix(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){ix(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){ix(this,i),r=0;break}}this.h=r,this.i+=e},za.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var iL={};function pg(n){return-128<=n&&128>n?function Ff(n,e){var t=iL;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Cn([0|e],0>e?-1:0)}):new Cn([0|n],0>n?-1:0)}function dc(n){if(isNaN(n)||!isFinite(n))return gg;if(0>n)return Gi(dc(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=xy;return new Cn(e,0)}var xy=4294967296,gg=pg(0),Ot=pg(1),LT=pg(16777216);function uc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function na(n){return-1==n.h}function Gi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Cn(t,~n.h).add(Ot)}function Ey(n,e){return n.add(Gi(e))}function ch(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Sd(n,e){this.g=n,this.h=e}function yi(n,e){if(uc(e))throw Error("division by zero");if(uc(n))return new Sd(gg,gg);if(na(n))return e=yi(Gi(n),e),new Sd(Gi(e.g),Gi(e.h));if(na(e))return e=yi(n,Gi(e)),new Sd(Gi(e.g),e.h);if(30<n.g.length){if(na(n)||na(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Ot,i=e;0>=i.X(n);)t=cR(t),i=cR(i);var r=dh(t,1),s=dh(i,1);for(i=dh(i,2),t=dh(t,2);!uc(i);){var l=s.add(i);0>=l.X(n)&&(r=r.add(t),s=l),i=dh(i,1),t=dh(t,1)}return e=Ey(n,r.R(e)),new Sd(r,e)}for(r=gg;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),l=(s=dc(t)).R(e);na(l)||0<l.X(n);)l=(s=dc(t-=i)).R(e);uc(s)&&(s=Ot),r=r.add(s),n=Ey(n,l)}return new Sd(r,n)}function cR(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Cn(t,n.h)}function dh(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Cn(r,n.h)}(lt=Cn.prototype).ea=function(){if(na(this))return-Gi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:xy+i)*e,e*=xy}return n},lt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(uc(this))return"0";if(na(this))return"-"+Gi(this).toString(n);for(var e=dc(Math.pow(n,6)),t=this,i="";;){var r=yi(t,e).g,s=((0<(t=Ey(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(uc(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},lt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},lt.X=function(n){return na(n=Ey(this,n))?-1:uc(n)?0:1},lt.abs=function(){return na(this)?Gi(this):this},lt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),l=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,t[r]=(l&=65535)<<16|(s&=65535)}return new Cn(t,-2147483648&t[t.length-1]?-1:0)},lt.R=function(n){if(uc(this)||uc(n))return gg;if(na(this))return na(n)?Gi(this).R(Gi(n)):Gi(Gi(this).R(n));if(na(n))return Gi(this.R(Gi(n)));if(0>this.X(LT)&&0>n.X(LT))return dc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,l=65535&this.D(i),h=n.D(r)>>>16,m=65535&n.D(r);t[2*i+2*r]+=l*m,ch(t,2*i+2*r),t[2*i+2*r+1]+=s*m,ch(t,2*i+2*r+1),t[2*i+2*r+1]+=l*h,ch(t,2*i+2*r+1),t[2*i+2*r+2]+=s*h,ch(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Cn(t,0)},lt.gb=function(n){return yi(this,n).h},lt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Cn(t,this.h&n.h)},lt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Cn(t,this.h|n.h)},lt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Cn(t,this.h^n.h)},mg.prototype.createWebChannel=mg.prototype.g,ao.prototype.send=ao.prototype.u,ao.prototype.open=ao.prototype.m,ao.prototype.close=ao.prototype.close,ay.NO_ERROR=0,ay.TIMEOUT=8,ay.HTTP_ERROR=6,Sw.COMPLETE="complete",Mw.EventType=Xp,Xp.OPEN="a",Xp.CLOSE="b",Xp.ERROR="c",Xp.MESSAGE="d",jr.prototype.listen=jr.prototype.O,Fi.prototype.listenOnce=Fi.prototype.P,Fi.prototype.getLastError=Fi.prototype.Sa,Fi.prototype.getLastErrorCode=Fi.prototype.Ia,Fi.prototype.getStatus=Fi.prototype.da,Fi.prototype.getResponseJson=Fi.prototype.Wa,Fi.prototype.getResponseText=Fi.prototype.ja,Fi.prototype.send=Fi.prototype.ha,Fi.prototype.setWithCredentials=Fi.prototype.Oa,za.prototype.digest=za.prototype.l,za.prototype.reset=za.prototype.reset,za.prototype.update=za.prototype.j,Cn.prototype.add=Cn.prototype.add,Cn.prototype.multiply=Cn.prototype.R,Cn.prototype.modulo=Cn.prototype.gb,Cn.prototype.compare=Cn.prototype.X,Cn.prototype.toNumber=Cn.prototype.ea,Cn.prototype.toString=Cn.prototype.toString,Cn.prototype.getBits=Cn.prototype.D,Cn.fromNumber=dc,Cn.fromString=function rx(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Gi(rx(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=dc(Math.pow(e,8)),i=gg,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+s),e);8>s?(s=dc(Math.pow(e,s)),i=i.R(s).add(dc(l))):i=(i=i.R(t)).add(dc(l))}return i};var BT=Pa.createWebChannelTransport=function(){return new mg},dR=Pa.getStatEventTarget=function(){return ry()},Cy=Pa.ErrorCode=ay,VT=Pa.EventType=Sw,UT=Pa.Event=ac,sx=Pa.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},uR=Pa.FetchXmlHttpFactory=ag,Iy=Pa.WebChannel=Mw,hR=Pa.XhrIo=Fi,_g=Pa.Md5=za,em=Pa.Integer=Cn;const HT="@firebase/firestore";class $r{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$r.UNAUTHENTICATED=new $r(null),$r.GOOGLE_CREDENTIALS=new $r("google-credentials-uid"),$r.FIRST_PARTY=new $r("first-party-uid"),$r.MOCK_USER=new $r("mock-user");let hc="9.23.0";const fc=new $s.Yd("@firebase/firestore");function Ty(){return fc.logLevel}function He(n,...e){if(fc.logLevel<=$s.in.DEBUG){const t=e.map(ox);fc.debug(`Firestore (${hc}): ${n}`,...t)}}function bi(n,...e){if(fc.logLevel<=$s.in.ERROR){const t=e.map(ox);fc.error(`Firestore (${hc}): ${n}`,...t)}}function Ts(n,...e){if(fc.logLevel<=$s.in.WARN){const t=e.map(ox);fc.warn(`Firestore (${hc}): ${n}`,...t)}}function ox(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ft(n="Unexpected state"){const e=`FIRESTORE (${hc}) INTERNAL ASSERTION FAILED: `+n;throw bi(e),new Error(e)}function It(n,e){n||ft()}function st(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends U.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $T{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($r.UNAUTHENTICATED))}shutdown(){}}class rL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sL{constructor(e){this.t=e,this.currentUser=$r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,t(_)):Promise.resolve();let l=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new wr,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const _=l;e.enqueueRetryable((0,Ee.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},m=_=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(_=>m(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new wr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(It("string"==typeof i.accessToken),new $T(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return It(null===e||"string"==typeof e),new $r(e)}}class oL{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=$r.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class aL{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new oL(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t($r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ax{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dy{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.T;return this.T=s.token,He("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(It("string"==typeof t.token),this.T=t.token,new ax(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class lx{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=mR(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function zt(n,e){return n<e?-1:n>e?1:0}function tm(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function GT(n){return n+"\0"}class Si{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Si.fromMillis(Date.now())}static fromDate(e){return Si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Si(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new Si(0,0))}static max(){return new Dt(new Si(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Sy{constructor(e,t,i){void 0===t?t=0:t>e.length&&ft(),void 0===i?i=e.length-t:i>e.length-t&&ft(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Sy.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sy?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),l=t.get(r);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class In extends Sy{construct(e,t,i){return new In(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Pe(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new In(t)}static emptyPath(){return new In([])}}const qT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qi extends Sy{construct(e,t,i){return new qi(e,t,i)}static isValidIdentifier(e){return qT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Pe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Pe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Pe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,r+=2}else"`"===h?(l=!l,r++):"."!==h||l?(i+=h,r++):(s(),r++)}if(s(),l)throw new Pe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qi(t)}static emptyPath(){return new qi([])}}class it{constructor(e){this.path=e}static fromPath(e){return new it(In.fromString(e))}static fromName(e){return new it(In.fromString(e).popFirst(5))}static empty(){return new it(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===In.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return In.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new In(e.slice()))}}class Ad{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function cx(n){return n.fields.find(e=>2===e.kind)}function Md(n){return n.fields.filter(e=>2!==e.kind)}Ad.UNKNOWN_ID=-1;class vg{constructor(e,t){this.fieldPath=e,this.kind=t}}class nm{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new nm(0,So.min())}}function WT(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Dt.fromTimestamp(1e9===i?new Si(t+1,0):new Si(t,i));return new So(r,it.empty(),e)}function Ay(n){return new So(n.readTime,n.key,-1)}class So{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new So(Dt.min(),it.empty(),-1)}static max(){return new So(Dt.max(),it.empty(),-1)}}function My(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=it.comparator(n.documentKey,e.documentKey),0!==t?t:zt(n.largestBatchId,e.largestBatchId))}const dx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function kd(n){return ux.apply(this,arguments)}function ux(){return ux=(0,Ee.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==dx)throw n;He("LocalStore","Unexpectedly lost primary lease")}),ux.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let r=0,s=0,l=!1;e.forEach(h=>{++r,h.next(()=>{++s,l&&s===r&&t()},m=>i(m))}),l=!0,s===r&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(r=>r?ue.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new ue((i,r)=>{const s=e.length,l=new Array(s);let h=0;for(let m=0;m<s;m++){const _=m;t(e[_]).next(b=>{l[_]=b,++h,h===s&&i(l)},b=>r(b))}})}static doWhile(e,t){return new ue((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class ky{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new wr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new yg(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=hx(i.target.error);this.v.reject(new yg(e,r))}}static open(e,t,i,r){try{return new ky(t,e.transaction(r,i))}catch(s){throw new yg(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(He("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new vR(t)}}class ia{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===ia.S((0,U.z$)())&&bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return He("SimpleDb","Removing database:",e),uh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,U.hl)())return!1;if(ia.C())return!0;const e=(0,U.z$)(),t=ia.S(e),i=0<t&&t<10,r=ia.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(He("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=l=>{i(l.target.result)},s.onblocked=()=>{r(new yg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const h=l.target.error;r("VersionError"===h.name?new Pe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Pe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new yg(e,h))},s.onupgradeneeded=l=>{He("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,s.transaction,l.oldVersion,t.version).next(()=>{He("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Ee.Z)(function*(){const l="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.$(e);const m=ky.open(s.db,e,l?"readonly":"readwrite",i),_=r(m).next(b=>(m.P(),b)).catch(b=>(m.abort(b),ue.reject(b))).toPromise();return _.catch(()=>{}),yield m.R,_}catch(m){const _=m,b="FirebaseError"!==_.name&&h<3;if(He("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),s.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _R{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return uh(this.L.delete())}}class yg extends Pe{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Rd(n){return"IndexedDbTransactionError"===n.name}class vR{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(He("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),uh(i)}add(e){return He("SimpleDb","ADD",this.store.name,e,e),uh(this.store.add(e))}get(e){return uh(this.store.get(e)).next(t=>(void 0===t&&(t=null),He("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return He("SimpleDb","DELETE",this.store.name,e),uh(this.store.delete(e))}count(){return He("SimpleDb","COUNT",this.store.name),uh(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(l,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new ue((s,l)=>{r.onerror=h=>{l(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ue((r,s)=>{i.onerror=l=>{s(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}J(e,t){He("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,l,h)=>h.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new ue((i,r)=>{t.onerror=s=>{const l=hx(s.target.error);r(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(h=>{h?l.continue():i()}):i()}})}W(e,t){const i=[];return new ue((r,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const h=l.target.result;if(!h)return void r();const m=new _R(h),_=t(h.primaryKey,h.value,m);if(_ instanceof ue){const b=_.catch(D=>(m.done(),ue.reject(D)));i.push(b)}m.isDone?r():null===m.K?h.continue():h.continue(m.K)}}).next(()=>ue.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function uh(n){return new ue((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=hx(i.target.error);t(r)}})}let YT=!1;function hx(n){const e=ia.S((0,U.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return YT||(YT=!0,setTimeout(()=>{throw i},0)),i}}return n}class yR{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;He("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ee.Z)(function*(){t.task=null;try{He("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Rd(i)?He("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield kd(i)}yield t.et(6e4)}))}}class KT{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ee.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,s=!0;return ue.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!i.has(l))return He("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,r).next(h=>{r-=h,i.add(l)});s=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(r,s)).next(h=>(He("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>l.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,s)=>{const l=Ay(s);My(l,i)>0&&(i=l)}),new So(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let lo=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function bg(n){return null==n}function wg(n){return 0===n&&1/n==-1/0}function fx(n){return"number"==typeof n&&Number.isInteger(n)&&!wg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ds(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=QT(e)),e=bR(n.get(t),e);return QT(e)}function bR(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function QT(n){return n+"\x01\x01"}function ra(n){const e=n.length;if(It(e>=2),2===e)return It("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),In.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const l=n.indexOf("\x01",s);switch((l<0||l>t)&&ft(),n.charAt(l+1)){case"\x01":const h=n.substring(s,l);let m;0===r.length?m=h:(r+=h,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(s,l),r+="\0";break;case"\x11":r+=n.substring(s,l+1);break;default:ft()}s=l+2}return new In(i)}const Ry=["userId","batchId"];function xg(n,e){return[n,Ds(e)]}function Oy(n,e,t){return[n,Ds(e),t]}const wR={},xR=["prefixPath","collectionGroup","readTime","documentId"],mx=["prefixPath","collectionGroup","documentId"],ER=["collectionGroup","readTime","prefixPath","documentId"],XT=["canonicalId","targetId"],im=["targetId","path"],JT=["path","targetId"],CR=["collectionId","parent"],cL=["indexId","uid"],px=["uid","sequenceNumber"],gx=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],IR=["indexId","uid","orderedDocumentKey"],eD=["userId","collectionPath","documentId"],tD=["userId","collectionPath","largestBatchId"],TR=["userId","collectionGroup","largestBatchId"],_x=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vx=[..._x,"documentOverlays"],yx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bx=yx,nD=[...bx,"indexConfiguration","indexState","indexEntries"];class Py extends ZT{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Gr(n,e){const t=st(n);return ia.M(t.ht,e)}function iD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Od(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ti{constructor(e,t){this.comparator=e,this.root=t||qr.EMPTY}insert(e,t){return new ti(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qr.BLACK,null,null))}remove(e){return new ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wx(this.root,e,this.comparator,!1)}getReverseIterator(){return new wx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wx(this.root,e,this.comparator,!0)}}class wx{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??qr.RED,this.left=r??qr.EMPTY,this.right=s??qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new qr(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return qr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}qr.EMPTY=null,qr.RED=!0,qr.BLACK=!1,qr.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,e,t,i,r){return this}insert(n,e,t){return new qr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wi{constructor(e){this.comparator=e,this.data=new ti(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sD(this.data.getIterator())}getIteratorFrom(e){return new sD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof wi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wi(this.comparator);return t.data=e,t}}class sD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Eg(n){return n.hasNext()?n.getNext():void 0}class co{constructor(e){this.fields=e,e.sort(qi.comparator)}static empty(){return new co([])}unionWith(e){let t=new wi(qi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new co(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tm(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class oD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new oD("Invalid base64 string: "+r):r}}(e);return new Nr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const SR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pd(n){if(It(!!n),"string"==typeof n){let e=0;const t=SR.exec(n);if(It(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Wi(n.seconds),nanos:Wi(n.nanos)}}function Wi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function mc(n){return"string"==typeof n?Nr.fromBase64String(n):Nr.fromUint8Array(n)}function Ny(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fy(n){const e=n.mapValue.fields.__previous_value__;return Ny(e)?Fy(e):e}function Cg(n){const e=Pd(n.mapValue.fields.__local_write_time__.timestampValue);return new Si(e.seconds,e.nanos)}class AR{constructor(e,t,i,r,s,l,h,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=_}}class sa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sa&&e.projectId===this.projectId&&e.database===this.database}}const pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ig={nullValue:"NULL_VALUE"};function gc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ny(n)?4:cD(n)?9007199254740991:10:ft()}function ja(n,e){if(n===e)return!0;const t=gc(n);if(t!==gc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cg(n).isEqual(Cg(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Pd(i.timestampValue),l=Pd(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,mc(n.bytesValue).isEqual(mc(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Wi(i.geoPointValue.latitude)===Wi(r.geoPointValue.latitude)&&Wi(i.geoPointValue.longitude)===Wi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Wi(i.integerValue)===Wi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Wi(i.doubleValue),l=Wi(r.doubleValue);return s===l?wg(s)===wg(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return tm(n.arrayValue.values||[],e.arrayValue.values||[],ja);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(iD(s)!==iD(l))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===l[h]||!ja(s[h],l[h])))return!1;return!0}(n,e);default:return ft()}var r}function rm(n,e){return void 0!==(n.values||[]).find(t=>ja(t,e))}function _c(n,e){if(n===e)return 0;const t=gc(n),i=gc(e);if(t!==i)return zt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const l=Wi(r.integerValue||r.doubleValue),h=Wi(s.integerValue||s.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(n,e);case 3:return aD(n.timestampValue,e.timestampValue);case 4:return aD(Cg(n),Cg(e));case 5:return zt(n.stringValue,e.stringValue);case 6:return function(r,s){const l=mc(r),h=mc(s);return l.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const l=r.split("/"),h=s.split("/");for(let m=0;m<l.length&&m<h.length;m++){const _=zt(l[m],h[m]);if(0!==_)return _}return zt(l.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const l=zt(Wi(r.latitude),Wi(s.latitude));return 0!==l?l:zt(Wi(r.longitude),Wi(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const l=r.values||[],h=s.values||[];for(let m=0;m<l.length&&m<h.length;++m){const _=_c(l[m],h[m]);if(_)return _}return zt(l.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===pc.mapValue&&s===pc.mapValue)return 0;if(r===pc.mapValue)return 1;if(s===pc.mapValue)return-1;const l=r.fields||{},h=Object.keys(l),m=s.fields||{},_=Object.keys(m);h.sort(),_.sort();for(let b=0;b<h.length&&b<_.length;++b){const D=zt(h[b],_[b]);if(0!==D)return D;const k=_c(l[h[b]],m[_[b]]);if(0!==k)return k}return zt(h.length,_.length)}(n.mapValue,e.mapValue);default:throw ft()}}function aD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return zt(n,e);const t=Pd(n),i=Pd(e),r=zt(t.seconds,i.seconds);return 0!==r?r:zt(t.nanos,i.nanos)}function Tg(n){return Ly(n)}function Ly(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Pd(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?mc(n.bytesValue).toBase64():"referenceValue"in n?it.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=Ly(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const h of r)l?l=!1:s+=",",s+=`${h}:${Ly(i.fields[h])}`;return s+"}"}(n.mapValue):ft();var e}function hh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function xx(n){return!!n&&"integerValue"in n}function Dg(n){return!!n&&"arrayValue"in n}function sm(n){return!!n&&"nullValue"in n}function lD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function om(n){return!!n&&"mapValue"in n}function uo(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Od(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=uo(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uo(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Vy(n){return"nullValue"in n?Ig:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?hh(sa.empty(),it.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function Sg(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?hh(sa.empty(),it.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?pc:ft()}function dD(n,e){const t=_c(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function uD(n,e){const t=_c(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class cs{constructor(e){this.value=e}static empty(){return new cs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!om(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uo(t)}setAll(e){let t=qi.emptyPath(),i={},r=[];e.forEach((l,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,i,r),i={},r=[],t=h.popLast()}l?i[h.lastSegment()]=uo(l):r.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());om(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ja(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];om(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Od(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new cs(uo(this.value))}}function Ag(n){const e=[];return Od(n.fields,(t,i)=>{const r=new qi([t]);if(om(i)){const s=Ag(i.mapValue).fields;if(0===s.length)e.push(r);else for(const l of s)e.push(r.child(l))}else e.push(r)}),new co(e)}class li{constructor(e,t,i,r,s,l,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=l,this.documentState=h}static newInvalidDocument(e){return new li(e,0,Dt.min(),Dt.min(),Dt.min(),cs.empty(),0)}static newFoundDocument(e,t,i,r){return new li(e,1,t,Dt.min(),i,r,0)}static newNoDocument(e,t){return new li(e,2,t,Dt.min(),Dt.min(),cs.empty(),0)}static newUnknownDocument(e,t){return new li(e,3,t,Dt.min(),Dt.min(),cs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof li&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nd{constructor(e,t){this.position=e,this.inclusive=t}}function hD(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],l=n.position[r];if(i=s.field.isKeyField()?it.comparator(it.fromName(l.referenceValue),t.key):_c(l,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function Uy(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ja(n.position[t],e.position[t]))return!1;return!0}class am{constructor(e,t="asc"){this.field=e,this.dir=t}}function MR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Ex{}class pn extends Ex{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new kR(e,t,i):"array-contains"===t?new RR(e,i):"in"===t?new jy(e,i):"not-in"===t?new Dx(e,i):"array-contains-any"===t?new _D(e,i):new pn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new mD(e,i):new pD(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_c(t,this.value)):null!==t&&gc(this.value)===gc(t)&&this.matchesComparison(_c(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Hn extends Ex{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Hn(e,t)}matches(e){return fh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function fh(n){return"and"===n.op}function lm(n){return"or"===n.op}function Cx(n){return fD(n)&&fh(n)}function fD(n){for(const e of n.filters)if(e instanceof Hn)return!1;return!0}function Hy(n){if(n instanceof pn)return n.field.canonicalString()+n.op.toString()+Tg(n.value);if(Cx(n))return n.filters.map(e=>Hy(e)).join(",");{const e=n.filters.map(t=>Hy(t)).join(",");return`${n.op}(${e})`}}function Ix(n,e){return n instanceof pn?(t=n,(i=e)instanceof pn&&t.op===i.op&&t.field.isEqual(i.field)&&ja(t.value,i.value)):n instanceof Hn?function(t,i){return i instanceof Hn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,l)=>r&&Ix(s,i.filters[l]),!0)}(n,e):void ft();var t,i}function zy(n,e){const t=n.filters.concat(e);return Hn.create(t,n.op)}function Tx(n){return n instanceof pn?`${(e=n).field.canonicalString()} ${e.op} ${Tg(e.value)}`:n instanceof Hn?function(e){return e.op.toString()+" {"+e.getFilters().map(Tx).join(" ,")+"}"}(n):"Filter";var e}class kR extends pn{constructor(e,t,i){super(e,t,i),this.key=it.fromName(i.referenceValue)}matches(e){const t=it.comparator(e.key,this.key);return this.matchesComparison(t)}}class mD extends pn{constructor(e,t){super(e,"in",t),this.keys=gD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pD extends pn{constructor(e,t){super(e,"not-in",t),this.keys=gD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>it.fromName(i.referenceValue))}class RR extends pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dg(t)&&rm(t.arrayValue,this.value)}}class jy extends pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rm(this.value.arrayValue,t)}}class Dx extends pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(rm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rm(this.value.arrayValue,t)}}class _D extends pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>rm(this.value.arrayValue,i))}}class Sx{constructor(e,t=null,i=[],r=[],s=null,l=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=h,this.dt=null}}function Mg(n,e=null,t=[],i=[],r=null,s=null,l=null){return new Sx(n,e,t,i,r,s,l)}function mh(n){const e=st(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Hy(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),bg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Tg(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Tg(i)).join(",")),e.dt=t}return e.dt}function kg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!MR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ix(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Uy(n.startAt,e.startAt)&&Uy(n.endAt,e.endAt)}function $y(n){return it.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Gy(n,e){return n.filters.filter(t=>t instanceof pn&&t.field.isEqual(e))}function Ax(n,e,t){let i=Ig,r=!0;for(const s of Gy(n,e)){let l=Ig,h=!0;switch(s.op){case"<":case"<=":l=Vy(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,h=!1;break;case"!=":case"not-in":l=Ig}dD({value:i,inclusive:r},{value:l,inclusive:h})<0&&(i=l,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];dD({value:i,inclusive:r},{value:l,inclusive:t.inclusive})<0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}function qy(n,e,t){let i=pc,r=!0;for(const s of Gy(n,e)){let l=pc,h=!0;switch(s.op){case">=":case">":l=Sg(s.value),h=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,h=!1;break;case"!=":case"not-in":l=pc}uD({value:i,inclusive:r},{value:l,inclusive:h})>0&&(i=l,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];uD({value:i,inclusive:r},{value:l,inclusive:t.inclusive})>0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}class wl{constructor(e,t=null,i=[],r=[],s=null,l="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=h,this.endAt=m,this.wt=null,this._t=null}}function Mx(n,e,t,i,r,s,l,h){return new wl(n,e,t,i,r,s,l,h)}function ph(n){return new wl(n)}function kx(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Rx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Rg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Wy(n){return null!==n.collectionGroup}function gh(n){const e=st(n);if(null===e.wt){e.wt=[];const t=Rg(e),i=Rx(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new am(t)),e.wt.push(new am(qi.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new am(qi.keyField(),s))}}}return e.wt}function Ss(n){const e=st(n);if(!e._t)if("F"===e.limitType)e._t=Mg(e.path,e.collectionGroup,gh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of gh(e))t.push(new am(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Nd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Nd(e.startAt.position,e.startAt.inclusive):null;e._t=Mg(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function Zy(n,e){e.getFirstInequalityField(),Rg(n);const t=n.filters.concat([e]);return new wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Wr(n,e,t){return new wl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xl(n,e){return kg(Ss(n),Ss(e))&&n.limitType===e.limitType}function vD(n){return`${mh(Ss(n))}|lt:${n.limitType}`}function Ox(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Tx(i)).join(", ")}]`),bg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Tg(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Tg(i)).join(",")),`Target(${t})`}(Ss(n))}; limitType=${n.limitType})`}function Yy(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):it.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of gh(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,l){const h=hD(r,s,l);return r.inclusive?h<=0:h<0}(t.startAt,gh(t),i)||t.endAt&&!function(r,s,l){const h=hD(r,s,l);return r.inclusive?h>=0:h>0}(t.endAt,gh(t),i)));var t,i}function OR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Px(n){return(e,t)=>{let i=!1;for(const r of gh(n)){const s=Nx(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function Nx(n,e,t){const i=n.field.isKeyField()?it.comparator(e.key,t.key):function(r,s,l){const h=s.data.field(r),m=l.data.field(r);return null!==h&&null!==m?_c(h,m):ft()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ft()}}class Ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Od(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return rD(this.inner)}size(){return this.innerSize}}const PR=new ti(it.comparator);function As(){return PR}const yD=new ti(it.comparator);function cm(...n){let e=yD;for(const t of n)e=e.insert(t.key,t);return e}function bD(n){let e=yD;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function El(){return _h()}function wD(){return _h()}function _h(){return new Ao(n=>n.toString(),(n,e)=>n.isEqual(e))}const xD=new ti(it.comparator),NR=new wi(it.comparator);function Xt(...n){let e=NR;for(const t of n)e=e.add(t);return e}const Fx=new wi(zt);function ED(){return Fx}function Lx(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wg(e)?"-0":e}}function CD(n){return{integerValue:""+n}}function Bx(n,e){return fx(e)?CD(e):Lx(n,e)}class vc{constructor(){this._=void 0}}function FR(n,e,t){return n instanceof Og?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Ny(r)&&(r=Fy(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof vh?LR(n,e):n instanceof yh?TD(n,e):function(i,r){const s=Ky(i,r),l=Vx(s)+Vx(i.gt);return xx(s)&&xx(i.gt)?CD(l):Lx(i.serializer,l)}(n,e)}function ID(n,e,t){return n instanceof vh?LR(n,e):n instanceof yh?TD(n,e):t}function Ky(n,e){return n instanceof dm?xx(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Og extends vc{}class vh extends vc{constructor(e){super(),this.elements=e}}function LR(n,e){const t=Ux(e);for(const i of n.elements)t.some(r=>ja(r,i))||t.push(i);return{arrayValue:{values:t}}}class yh extends vc{constructor(e){super(),this.elements=e}}function TD(n,e){let t=Ux(e);for(const i of n.elements)t=t.filter(r=>!ja(r,i));return{arrayValue:{values:t}}}class dm extends vc{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Vx(n){return Wi(n.integerValue||n.doubleValue)}function Ux(n){return Dg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Pg{constructor(e,t){this.field=e,this.transform=t}}class SD{constructor(e,t){this.version=e,this.transformResults=t}}class Ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ng{}function AD(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Fg(n.key,Ai.none()):new hm(n.key,n.data,Ai.none());{const t=n.data,i=cs.empty();let r=new wi(qi.comparator);for(let s of e.fields)if(!r.has(s)){let l=t.field(s);null===l&&s.length>1&&(s=s.popLast(),l=t.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new yc(n.key,i,new co(r.toArray()),Ai.none())}}function MD(n,e,t){n instanceof hm?function(i,r,s){const l=i.value.clone(),h=zx(i.fieldTransforms,r,s.transformResults);l.setAll(h),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof yc?function(i,r,s){if(!Qy(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=zx(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(BR(i)),h.setAll(l),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function um(n,e,t,i){return n instanceof hm?function(r,s,l,h){if(!Qy(r.precondition,s))return l;const m=r.value.clone(),_=VR(r.fieldTransforms,h,s);return m.setAll(_),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof yc?function(r,s,l,h){if(!Qy(r.precondition,s))return l;const m=VR(r.fieldTransforms,h,s),_=s.data;return _.setAll(BR(r)),_.setAll(m),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,e,t,i):(l=t,Qy(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function kD(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=Ky(i.transform,r||null);null!=s&&(null===t&&(t=cs.empty()),t.set(i.field,s))}return t||null}function Hx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&tm(t,i,(r,s)=>function DD(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof vh&&i instanceof vh||t instanceof yh&&i instanceof yh?tm(t.elements,i.elements,ja):t instanceof dm&&i instanceof dm?ja(t.gt,i.gt):t instanceof Og&&i instanceof Og);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class hm extends Ng{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class yc extends Ng{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function BR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function zx(n,e,t){const i=new Map;It(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],l=s.transform,h=e.data.field(s.field);i.set(s.field,ID(l,h,t[r]))}return i}function VR(n,e,t){const i=new Map;for(const r of n){const s=r.transform,l=t.data.field(r.field);i.set(r.field,FR(s,l,e))}return i}class Fg extends Ng{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RD extends Ng{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OD{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&MD(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=um(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=um(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=wD();return this.mutations.forEach(r=>{const s=e.get(r.key),l=s.overlayedDocument;let h=this.applyToLocalView(l,s.mutatedFields);h=t.has(r.key)?null:h;const m=AD(l,h);null!==m&&i.set(r.key,m),l.isValidDocument()||l.convertToNoDocument(Dt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xt())}isEqual(e){return this.batchId===e.batchId&&tm(this.mutations,e.mutations,(t,i)=>Hx(t,i))&&tm(this.baseMutations,e.baseMutations,(t,i)=>Hx(t,i))}}class PD{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){It(e.mutations.length===i.length);let r=xD;const s=e.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new PD(e,t,i,r)}}class ND{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class uL{constructor(e,t){this.count=e,this.unchangedNames=t}}var Fr,wn;function Xy(n){switch(n){default:return ft();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function jx(n){if(void 0===n)return bi("GRPC error has no .code"),me.UNKNOWN;switch(n){case Fr.OK:return me.OK;case Fr.CANCELLED:return me.CANCELLED;case Fr.UNKNOWN:return me.UNKNOWN;case Fr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Fr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Fr.INTERNAL:return me.INTERNAL;case Fr.UNAVAILABLE:return me.UNAVAILABLE;case Fr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Fr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Fr.NOT_FOUND:return me.NOT_FOUND;case Fr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Fr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Fr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Fr.ABORTED:return me.ABORTED;case Fr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Fr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Fr.DATA_LOSS:return me.DATA_LOSS;default:return ft()}}(wn=Fr||(Fr={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";class $x{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return bh}static getOrCreateInstance(){return null===bh&&(bh=new $x),bh}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let bh=null;function FD(){return new TextEncoder}const hL=new em([4294967295,4294967295],0);function UR(n){const e=FD().encode(n),t=new _g;return t.update(e),new Uint8Array(t.digest())}function HR(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new em([t,i],0),new em([r,s],0)]}class Jy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Lg(`Invalid padding: ${t}`);if(i<0)throw new Lg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Lg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Lg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=em.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(em.fromNumber(i)));return 1===r.compare(hL)&&(r=new em([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=UR(e),[i,r]=HR(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);if(!this.At(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new Jy(s,r,t);return i.forEach(h=>l.insert(h)),l}insert(e){if(0===this.It)return;const t=UR(e),[i,r]=HR(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Lg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bg{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Vg.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Bg(Dt.min(),r,new ti(zt),As(),Xt())}}class Vg{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Vg(i,t,Xt(),Xt(),Xt())}}class Gx{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class LD{constructor(e,t){this.targetId=e,this.Vt=t}}class qx{constructor(e,t,i=Nr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Wx{constructor(){this.St=0,this.Dt=Zx(),this.Ct=Nr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Xt(),t=Xt(),i=Xt();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ft()}}),new Vg(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=Zx()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class fL{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=As(),this.zt=oa(),this.Wt=new ti(zt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const l=s.target;if($y(l))if(0===r){const h=new it(l.path);this.Yt(i,h,li.newNoDocument(h,Dt.min()))}else It(1===r);else{const h=this.ie(i);if(h!==r){const m=this.re(e,h);0!==m&&(this.ee(i),this.Wt=this.Wt.insert(i,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=$x.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(_,b,D){var k,L,j,Y,se,Le;const $e={localCacheCount:b,existenceFilterCount:D.count},je=D.unchangedNames;return je&&($e.bloomFilter={applied:0===_,hashCount:null!==(k=je?.hashCount)&&void 0!==k?k:0,bitmapLength:null!==(Y=null===(j=null===(L=je?.bits)||void 0===L?void 0:L.bitmap)||void 0===j?void 0:j.length)&&void 0!==Y?Y:0,padding:null!==(Le=null===(se=je?.bits)||void 0===se?void 0:se.padding)&&void 0!==Le?Le:0}),$e}(m,h,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=i;let m,_;try{m=mc(s).toUint8Array()}catch(b){if(b instanceof oD)return Ts("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{_=new Jy(m,l,h)}catch(b){return Ts(b instanceof Lg?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===_.It?1:r!==t-this.oe(e.targetId,_)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const l=this.Gt.ue(),h=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;t.vt(h)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,l)=>{const h=this.se(l);if(h){if(s.current&&$y(h.target)){const m=new it(h.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,li.newNoDocument(m,e))}s.Mt&&(t.set(l,s.Ot()),s.Ft())}});let i=Xt();this.zt.forEach((s,l)=>{let h=!0;l.forEachWhile(m=>{const _=this.se(m);return!_||"TargetPurposeLimboResolution"===_.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.jt.forEach((s,l)=>l.setReadTime(e));const r=new Bg(e,t,this.Wt,this.jt,i);return this.jt=As(),this.zt=oa(),this.Wt=new ti(zt),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Wx,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new wi(zt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||He("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Wx),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function oa(){return new ti(it.comparator)}function Zx(){return new ti(it.comparator)}const zR={asc:"ASCENDING",desc:"DESCENDING"},mL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qs={and:"AND",or:"OR"};class jR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ug(n,e){return n.useProto3Json||bg(e)?e:{value:e}}function fm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Yx(n,e){return fm(n,e.toTimestamp())}function Zi(n){return It(!!n),Dt.fromTimestamp(function(e){const t=Pd(e);return new Si(t.seconds,t.nanos)}(n))}function eb(n,e){return(t=n,new In(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function VD(n){const e=In.fromString(n);return It(rb(e)),e}function mm(n,e){return eb(n.databaseId,e.path)}function $a(n,e){const t=VD(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new it(Qx(t))}function tb(n,e){return eb(n.databaseId,e)}function Kx(n){const e=VD(n);return 4===e.length?In.emptyPath():Qx(e)}function Hg(n){return new In(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Qx(n){return It(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function UD(n,e,t){return{name:mm(n,e),fields:t.value.mapValue.fields}}function nb(n,e,t){const i=$a(n,e.name),r=Zi(e.updateTime),s=e.createTime?Zi(e.createTime):Dt.min(),l=new cs({mapValue:{fields:e.fields}}),h=li.newFoundDocument(i,r,s,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function wh(n,e){let t;if(e instanceof hm)t={update:UD(n,e.key,e.value)};else if(e instanceof Fg)t={delete:mm(n,e.key)};else if(e instanceof yc)t={update:UD(n,e.key,e.data),updateMask:gL(e.fieldMask)};else{if(!(e instanceof RD))return ft();t={verify:mm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof Og)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof vh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof yh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof dm)return{fieldPath:s.field.canonicalString(),increment:l.gt};throw ft()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Yx(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ft()),t;var r}function zg(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Ai.updateTime(Zi(r.updateTime)):void 0!==r.exists?Ai.exists(r.exists):Ai.none():Ai.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,l){let h=null;"setToServerValue"in l?(It("REQUEST_TIME"===l.setToServerValue),h=new Og):"appendMissingElements"in l?h=new vh(l.appendMissingElements.values||[]):"removeAllFromArray"in l?h=new yh(l.removeAllFromArray.values||[]):"increment"in l?h=new dm(s,l.increment):ft();const m=qi.fromServerFormat(l.fieldPath);return new Pg(m,h)}(n,r)):[];var r;if(e.update){const r=$a(n,e.update.name),s=new cs({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new co((e.updateMask.fieldPaths||[]).map(_=>qi.fromServerFormat(_)));return new yc(r,s,l,t,i)}return new hm(r,s,t,i)}if(e.delete){const r=$a(n,e.delete);return new Fg(r,t)}if(e.verify){const r=$a(n,e.verify);return new RD(r,t)}return ft()}function GR(n,e){return{documents:[tb(n,e.path)]}}function ib(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=tb(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=tb(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(m){if(0!==m.length)return Xx(Hn.create(m,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(m){if(0!==m.length)return m.map(_=>{return{field:bc((b=_).field),direction:WR(b.dir)};var b})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=Ug(n,e.limit);var h,m;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function zD(n){let e=Kx(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){It(1===i);const b=t.from[0];b.allDescendants?r=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=function(b){const D=jD(b);return D instanceof Hn&&Cx(D)?D.getFilters():[D]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(b=>{return new am(pm((D=b).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let h=null;t.limit&&(h=function(b){let D;return D="object"==typeof b?b.value:b,bg(D)?null:D}(t.limit));let m=null;var b;t.startAt&&(m=new Nd((b=t.startAt).values||[],!!b.before));let _=null;return t.endAt&&(_=function(b){return new Nd(b.values||[],!b.before)}(t.endAt)),Mx(e,r,l,s,h,"F",m,_)}function jD(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=pm(e.unaryFilter.field);return pn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=pm(e.unaryFilter.field);return pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=pm(e.unaryFilter.field);return pn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=pm(e.unaryFilter.field);return pn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(n):void 0!==n.fieldFilter?pn.create(pm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Hn.create(e.compositeFilter.filters.map(t=>jD(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ft()}}(e.compositeFilter.op))}(n):ft();var e}function WR(n){return zR[n]}function $D(n){return mL[n]}function pL(n){return qs[n]}function bc(n){return{fieldPath:n.canonicalString()}}function pm(n){return qi.fromServerFormat(n.fieldPath)}function Xx(n){return n instanceof pn?function(e){if("=="===e.op){if(lD(e.value))return{unaryFilter:{field:bc(e.field),op:"IS_NAN"}};if(sm(e.value))return{unaryFilter:{field:bc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lD(e.value))return{unaryFilter:{field:bc(e.field),op:"IS_NOT_NAN"}};if(sm(e.value))return{unaryFilter:{field:bc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bc(e.field),op:$D(e.op),value:e.value}}}(n):n instanceof Hn?function(e){const t=e.getFilters().map(i=>Xx(i));return 1===t.length?t[0]:{compositeFilter:{op:pL(e.op),filters:t}}}(n):ft()}function gL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Cl{constructor(e,t,i,r,s=Dt.min(),l=Dt.min(),h=Nr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Cl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Jx{constructor(e){this.fe=e}}function eE(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:jg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:mm(r=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:fm(r,s.version.toTimestamp()),createTime:fm(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:aa(e.version)};else{if(!e.isUnknownDocument())return ft();i.unknownDocument={path:t.path.toArray(),version:aa(e.version)}}var r,s;return i}function jg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function aa(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Il(n){const e=new Si(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function Ld(n,e){const t=(e.baseMutations||[]).map(s=>zg(n.fe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const i=e.mutations.map(s=>zg(n.fe,s)),r=Si.fromMillis(e.localWriteTimeMs);return new OD(e.batchId,r,t,i)}function gm(n){const e=Il(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Il(n.lastLimboFreeSnapshotVersion):Dt.min();let i;var r;return void 0!==n.query.documents?(It(1===(r=n.query).documents.length),i=Ss(ph(Kx(r.documents[0])))):i=Ss(zD(n.query)),new Cl(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Nr.fromBase64String(n.resumeToken))}function GD(n,e){const t=aa(e.snapshotVersion),i=aa(e.lastLimboFreeSnapshotVersion);let r;r=$y(e.target)?GR(n.fe,e.target):ib(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:mh(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function tE(n){const e=zD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Wr(e,e.limit,"L"):e}function qD(n,e){return new ND(e.largestBatchId,zg(n.fe,e.overlayMutation))}function nE(n,e){const t=e.path.lastSegment();return[n,Ds(e.path.popLast()),t]}function WD(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:aa(i.readTime),documentKey:Ds(i.documentKey.path),largestBatchId:i.largestBatchId}}class YR{getBundleMetadata(e,t){return KR(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Il(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return KR(e).put({bundleId:(i=t).id,createTime:aa(Zi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return QR(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:tE(r.bundledQuery),readTime:Il(r.readTime)};var r})}saveNamedQuery(e,t){return QR(e).put({name:(i=t).name,readTime:aa(Zi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function KR(n){return Gr(n,"bundles")}function QR(n){return Gr(n,"namedQueries")}class iE{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new iE(e,t.uid||"")}getOverlay(e,t){return _m(e).get(nE(this.userId,t)).next(i=>i?qD(this.serializer,i):null)}getOverlays(e,t){const i=El();return ue.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,l)=>{const h=new ND(t,l);r.push(this.we(e,h))}),ue.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(l=>r.add(Ds(l.getCollectionPath())));const s=[];return r.forEach(l=>{const h=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);s.push(_m(e).J("collectionPathOverlayIndex",h))}),ue.waitFor(s)}getOverlaysForCollection(e,t,i){const r=El(),s=Ds(t),l=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return _m(e).j("collectionPathOverlayIndex",l).next(h=>{for(const m of h){const _=qD(this.serializer,m);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=El();let l;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return _m(e).X({index:"collectionGroupOverlayIndex",range:h},(m,_,b)=>{const D=qD(this.serializer,_);s.size()<r||D.largestBatchId===l?(s.set(D.getKey(),D),l=D.largestBatchId):b.done()}).next(()=>s)}we(e,t){return _m(e).put(function(i,r,s){const[l,h,m]=nE(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:m,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:wh(i.fe,s.mutation)}}(this.serializer,this.userId,t))}}function _m(n){return Gr(n,"documentOverlays")}class xh{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Wi(e.integerValue));else if("doubleValue"in e){const i=Wi(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),wg(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(mc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?cD(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ft()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),it.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function XR(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function ZD(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=XR(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}xh.Ve=new xh;class _L{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=ZD(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=ZD(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class vL{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class yL{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class sb{constructor(){this.je=new _L,this.ze=new vL(this.je),this.We=new yL(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class vm{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new vm(this.indexId,this.documentKey,this.arrayValue,i)}}function Bd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=$g(n.arrayValue,e.arrayValue),0!==t?t:(t=$g(n.directionalValue,e.directionalValue),0!==t?t:it.comparator(n.documentKey,e.documentKey)))}function $g(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class JR{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){It(e.collectionGroup===this.collectionId);const t=cx(e);if(void 0!==t&&!this.en(t))return!1;const i=Md(e);let r=new Set,s=0,l=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const h=i[s];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[l++],h))return!1}++s}for(;s<i.length;++s)if(l>=this.Ye.length||!this.sn(this.Ye[l++],i[s]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function YD(n){var e,t;if(It(n instanceof pn||n instanceof Hn),n instanceof pn){if(n instanceof jy){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>pn.create(n.field,"==",s)))||[];return Hn.create(r,"or")}return n}const i=n.filters.map(r=>YD(r));return Hn.create(i,n.op)}function KD(n){if(0===n.getFilters().length)return[];const e=Gg(YD(n));return It(ab(e)),wc(e)||ob(e)?[e]:e.getFilters()}function wc(n){return n instanceof pn}function ob(n){return n instanceof Hn&&Cx(n)}function ab(n){return wc(n)||ob(n)||function(e){if(e instanceof Hn&&lm(e)){for(const t of e.getFilters())if(!wc(t)&&!ob(t))return!1;return!0}return!1}(n)}function Gg(n){if(It(n instanceof pn||n instanceof Hn),n instanceof pn)return n;if(1===n.filters.length)return Gg(n.filters[0]);const e=n.filters.map(i=>Gg(i));let t=Hn.create(e,n.op);return t=ym(t),ab(t)?t:(It(t instanceof Hn),It(fh(t)),It(t.filters.length>1),t.filters.reduce((i,r)=>rE(i,r)))}function rE(n,e){let t;return It(n instanceof pn||n instanceof Hn),It(e instanceof pn||e instanceof Hn),t=n instanceof pn?e instanceof pn?Hn.create([n,e],"and"):lb(n,e):e instanceof pn?lb(e,n):function(i,r){if(It(i.filters.length>0&&r.filters.length>0),fh(i)&&fh(r))return zy(i,r.getFilters());const s=lm(i)?i:r,l=lm(i)?r:i,h=s.filters.map(m=>rE(m,l));return Hn.create(h,"or")}(n,e),ym(t)}function lb(n,e){if(fh(e))return zy(e,n.getFilters());{const t=e.filters.map(i=>rE(n,i));return Hn.create(t,"or")}}function ym(n){if(It(n instanceof pn||n instanceof Hn),n instanceof pn)return n;const e=n.getFilters();if(1===e.length)return ym(e[0]);if(fD(n))return n;const t=e.map(r=>ym(r)),i=[];return t.forEach(r=>{r instanceof pn?i.push(r):r instanceof Hn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Hn.create(i,n.op)}class cb{constructor(){this.rn=new QD}addToCollectionParentIndex(e,t){return this.rn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(So.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(So.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class QD{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new wi(In.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new wi(In.comparator)).toArray()}}const sE=new Uint8Array(0);class bL{constructor(e,t){this.user=e,this.databaseId=t,this.on=new QD,this.un=new Ao(i=>mh(i),(i,r)=>kg(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:i,parent:Ds(r)};return oE(e).put(s)}return ue.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[GT(t),""],!1,!0);return oE(e).j(r).next(s=>{for(const l of s){if(l.collectionId!==t)break;i.push(ra(l.parent))}return i})}addFieldIndex(e,t){const i=db(e),r={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;delete r.indexId;const s=i.add(r);if(t.indexState){const l=Wg(e);return s.next(h=>{l.put(WD(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=db(e),r=Wg(e),s=qg(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=qg(e);let r=!0;const s=new Map;return ue.forEach(this.cn(t),l=>this.an(e,l).next(h=>{r&&(r=!!h),s.set(l,h)})).next(()=>{if(r){let l=Xt();const h=[];return ue.forEach(s,(m,_)=>{var b;He("IndexedDbIndexManager",`Using index ${b=m,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(je=>`${je.fieldPath}:${je.kind}`).join(",")}`} to execute ${mh(t)}`);const D=function(je,Ye){const St=cx(Ye);if(void 0===St)return null;for(const Nt of Gy(je,St.fieldPath))switch(Nt.op){case"array-contains-any":return Nt.value.arrayValue.values||[];case"array-contains":return[Nt.value]}return null}(_,m),k=function(je,Ye){const St=new Map;for(const Nt of Md(Ye))for(const Dn of Gy(je,Nt.fieldPath))switch(Dn.op){case"==":case"in":St.set(Nt.fieldPath.canonicalString(),Dn.value);break;case"not-in":case"!=":return St.set(Nt.fieldPath.canonicalString(),Dn.value),Array.from(St.values())}return null}(_,m),L=function(je,Ye){const St=[];let Nt=!0;for(const Dn of Md(Ye)){const cr=0===Dn.kind?Ax(je,Dn.fieldPath,je.startAt):qy(je,Dn.fieldPath,je.startAt);St.push(cr.value),Nt&&(Nt=cr.inclusive)}return new Nd(St,Nt)}(_,m),j=function(je,Ye){const St=[];let Nt=!0;for(const Dn of Md(Ye)){const cr=0===Dn.kind?qy(je,Dn.fieldPath,je.endAt):Ax(je,Dn.fieldPath,je.endAt);St.push(cr.value),Nt&&(Nt=cr.inclusive)}return new Nd(St,Nt)}(_,m),Y=this.hn(m,_,L),se=this.hn(m,_,j),Le=this.ln(m,_,k),$e=this.fn(m.indexId,D,Y,L.inclusive,se,j.inclusive,Le);return ue.forEach($e,je=>i.H(je,t.limit).next(Ye=>{Ye.forEach(St=>{const Nt=it.fromSegments(St.documentKey);l.has(Nt)||(l=l.add(Nt),h.push(Nt))})}))}).next(()=>h)}return ue.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:KD(Hn.create(e.filters,"and")).map(i=>Mg(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,s,l,h){const m=(null!=t?t.length:1)*Math.max(i.length,s.length),_=m/(null!=t?t.length:1),b=[];for(let D=0;D<m;++D){const k=t?this.dn(t[D/_]):sE,L=this.wn(e,k,i[D%_],r),j=this._n(e,k,s[D%_],l),Y=h.map(se=>this.wn(e,k,se,!0));b.push(...this.createRange(L,j,Y))}return b}wn(e,t,i,r){const s=new vm(e,it.empty(),t,i);return r?s:s.Je()}_n(e,t,i,r){const s=new vm(e,it.empty(),t,i);return r?s.Je():s}an(e,t){const i=new JR(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let l=null;for(const h of s)i.tn(h)&&(!l||h.fields.length>l.fields.length)&&(l=h);return l})}getIndexType(e,t){let i=2;const r=this.cn(t);return ue.forEach(r,s=>this.an(e,s).next(l=>{l?0!==i&&l.fields.length<function(h){let m=new wi(qi.comparator),_=!1;for(const b of h.filters)for(const D of b.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?_=!0:m=m.add(D.field));for(const b of h.orderBy)b.field.isKeyField()||(m=m.add(b.field));return m.size+(_?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new sb;for(const r of Md(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const l=i.He(r.kind);xh.Ve._e(s,l)}return i.Qe()}dn(e){const t=new sb;return xh.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new sb;return xh.Ve._e(hh(this.databaseId,t),i.He(function(r){const s=Md(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new sb);let s=0;for(const l of Md(e)){const h=i[s++];for(const m of r)if(this.yn(t,l.fieldPath)&&Dg(h))r=this.pn(r,l,h);else{const _=m.He(l.kind);xh.Ve._e(h,_)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],s=[];for(const l of i.arrayValue.values||[])for(const h of r){const m=new sb;m.seed(h.Qe()),xh.Ve._e(l,m.He(t.kind)),s.push(m)}return s}yn(e,t){return!!e.filters.find(i=>i instanceof pn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=db(e),r=Wg(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(s=>{const l=[];return ue.forEach(s,h=>r.get([h.indexId,this.uid]).next(m=>{l.push(function(_,b){const D=b?new nm(b.sequenceNumber,new So(Il(b.readTime),new it(ra(b.documentKey)),b.largestBatchId)):nm.empty(),k=_.fields.map(([L,j])=>new vg(qi.fromServerFormat(L),j));return new Ad(_.indexId,_.collectionGroup,k,D)}(h,m))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:zt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=db(e),s=Wg(e);return this.Tn(e).next(l=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>ue.forEach(h,m=>s.put(WD(m.indexId,this.user,l,i)))))}updateIndexEntries(e,t){const i=new Map;return ue.forEach(t,(r,s)=>{const l=i.get(r.collectionGroup);return(l?ue.resolve(l):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ue.forEach(h,m=>this.En(e,r,m).next(_=>{const b=this.An(s,m);return _.isEqual(b)?ue.resolve():this.vn(e,s,m,_,b)}))))})}Rn(e,t,i,r){return qg(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return qg(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=qg(e);let s=new wi(Bd);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(l,h)=>{s=s.add(new vm(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}An(e,t){let i=new wi(Bd);const r=this.mn(t,e);if(null==r)return i;const s=cx(t);if(null!=s){const l=e.data.field(s.fieldPath);if(Dg(l))for(const h of l.arrayValue.values||[])i=i.add(new vm(t.indexId,e.key,this.dn(h),r))}else i=i.add(new vm(t.indexId,e.key,sE,r));return i}vn(e,t,i,r,s){He("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(h,m,_,b,D){const k=h.getIterator(),L=m.getIterator();let j=Eg(k),Y=Eg(L);for(;j||Y;){let se=!1,Le=!1;if(j&&Y){const $e=_(j,Y);$e<0?Le=!0:$e>0&&(se=!0)}else null!=j?Le=!0:se=!0;se?(b(Y),Y=Eg(L)):Le?(D(j),j=Eg(k)):(j=Eg(k),Y=Eg(L))}}(r,s,Bd,h=>{l.push(this.Rn(e,t,i,h))},h=>{l.push(this.Pn(e,t,i,h))}),ue.waitFor(l)}Tn(e){let t=1;return Wg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((l,h)=>Bd(l,h)).filter((l,h,m)=>!h||0!==Bd(l,m[h-1]));const r=[];r.push(e);for(const l of i){const h=Bd(l,e),m=Bd(l,t);if(0===h)r[0]=e.Je();else if(h>0&&m<0)r.push(l),r.push(l.Je());else if(m>0)break}r.push(t);const s=[];for(let l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];s.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,sE,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,sE,[]]))}return s}bn(e,t){return Bd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(XD)}getMinOffset(e,t){return ue.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||ft())).next(XD)}}function oE(n){return Gr(n,"collectionParents")}function qg(n){return Gr(n,"indexEntries")}function db(n){return Gr(n,"indexConfiguration")}function Wg(n){return Gr(n,"indexState")}function XD(n){It(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;My(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new So(e.readTime,e.documentKey,t)}const aE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ds{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ds(e,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lE(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],l=IDBKeyRange.only(t.batchId);let h=0;const m=i.X({range:l},(b,D,k)=>(h++,k.delete()));s.push(m.next(()=>{It(1===h)}));const _=[];for(const b of t.mutations){const D=Oy(e,b.key.path,t.batchId);s.push(r.delete(D)),_.push(b.key)}return ue.waitFor(s).next(()=>_)}function ub(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ft();e=n.noDocument}return JSON.stringify(e).length}ds.DEFAULT_COLLECTION_PERCENTILE=10,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ds.DEFAULT=new ds(41943040,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ds.DISABLED=new ds(-1,0,0);class hb{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){It(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new hb(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tl(e).X({index:"userMutationsIndex",range:i},(r,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Zg(e),l=Tl(e);return l.add({}).next(h=>{It("number"==typeof h);const m=new OD(h,t,i,r),_=function(k,L,j){const Y=j.baseMutations.map(Le=>wh(k.fe,Le)),se=j.mutations.map(Le=>wh(k.fe,Le));return{userId:L,batchId:j.batchId,localWriteTimeMs:j.localWriteTime.toMillis(),baseMutations:Y,mutations:se}}(this.serializer,this.userId,m),b=[];let D=new wi((k,L)=>zt(k.canonicalString(),L.canonicalString()));for(const k of r){const L=Oy(this.userId,k.key.path,h);D=D.add(k.key.path.popLast()),b.push(l.put(_)),b.push(s.put(L,wR))}return D.forEach(k=>{b.push(this.indexManager.addToCollectionParentIndex(e,k))}),e.addOnCommittedListener(()=>{this.Vn[h]=m.keys()}),ue.waitFor(b).next(()=>m)})}lookupMutationBatch(e,t){return Tl(e).get(t).next(i=>i?(It(i.userId===this.userId),Ld(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?ue.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Tl(e).X({index:"userMutationsIndex",range:r},(l,h,m)=>{h.userId===this.userId&&(It(h.batchId>=i),s=Ld(this.serializer,h)),m.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Tl(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,s,l)=>{i=s.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tl(e).j("userMutationsIndex",t).next(i=>i.map(r=>Ld(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=xg(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Zg(e).X({range:r},(l,h,m)=>{const[_,b,D]=l,k=ra(b);if(_===this.userId&&t.path.isEqual(k))return Tl(e).get(D).next(L=>{if(!L)throw ft();It(L.userId===this.userId),s.push(Ld(this.serializer,L))});m.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new wi(zt);const r=[];return t.forEach(s=>{const l=xg(this.userId,s.path),h=IDBKeyRange.lowerBound(l),m=Zg(e).X({range:h},(_,b,D)=>{const[k,L,j]=_,Y=ra(L);k===this.userId&&s.path.isEqual(Y)?i=i.add(j):D.done()});r.push(m)}),ue.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=xg(this.userId,i),l=IDBKeyRange.lowerBound(s);let h=new wi(zt);return Zg(e).X({range:l},(m,_,b)=>{const[D,k,L]=m,j=ra(k);D===this.userId&&i.isPrefixOf(j)?j.length===r&&(h=h.add(L)):b.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Tl(e).get(s).next(l=>{if(null===l)throw ft();It(l.userId===this.userId),i.push(Ld(this.serializer,l))}))}),ue.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return lE(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ue.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ue.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Zg(e).X({range:i},(s,l,h)=>{if(s[0]===this.userId){const m=ra(s[1]);r.push(m)}else h.done()}).next(()=>{It(0===r.length)})})}containsKey(e,t){return cE(e,this.userId,t)}xn(e){return dE(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function cE(n,e,t){const i=xg(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let l=!1;return Zg(n).X({range:s,Y:!0},(h,m,_)=>{const[b,D,k]=h;b===e&&D===r&&(l=!0),_.done()}).next(()=>l)}function Tl(n){return Gr(n,"mutations")}function Zg(n){return Gr(n,"documentMutations")}function dE(n){return Gr(n,"mutationQueues")}class xc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new xc(0)}static Mn(){return new xc(-1)}}class e1{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new xc(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Dt.fromTimestamp(new Si(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>bm(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(It(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return bm(e).X((l,h)=>{const m=gm(h);m.sequenceNumber<=t&&null===i.get(m.targetId)&&(r++,s.push(this.removeTargetData(e,m)))}).next(()=>ue.waitFor(s)).next(()=>r)}forEachTarget(e,t){return bm(e).X((i,r)=>{const s=gm(r);t(s)})}$n(e){return t1(e).get("targetGlobalKey").next(t=>(It(null!==t),t))}On(e,t){return t1(e).put("targetGlobalKey",t)}Fn(e,t){return bm(e).put(GD(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=mh(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return bm(e).X({range:r,index:"queryTargetsIndex"},(l,h,m)=>{const _=gm(h);kg(t,_.target)&&(s=_,m.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=Eh(e);return t.forEach(l=>{const h=Ds(l.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,l))}),ue.waitFor(r)}removeMatchingKeys(e,t,i){const r=Eh(e);return ue.forEach(t,s=>{const l=Ds(s.path);return ue.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=Eh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Eh(e);let s=Xt();return r.X({range:i,Y:!0},(l,h,m)=>{const _=ra(l[1]),b=new it(_);s=s.add(b)}).next(()=>s)}containsKey(e,t){const i=Ds(t.path),r=IDBKeyRange.bound([i],[GT(i)],!1,!0);let s=0;return Eh(e).X({index:"documentTargetsIndex",Y:!0,range:r},([l,h],m,_)=>{0!==l&&(s++,_.done())}).next(()=>s>0)}le(e,t){return bm(e).get(t).next(i=>i?gm(i):null)}}function bm(n){return Gr(n,"targets")}function t1(n){return Gr(n,"targetGlobal")}function Eh(n){return Gr(n,"targetDocuments")}function JD([n,e],[t,i]){const r=zt(n,t);return 0===r?zt(e,i):r}class n1{constructor(e){this.Ln=e,this.buffer=new wi(JD),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();JD(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eS{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;He("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ee.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Rd(i)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield kd(i)}yield t.Qn(3e5)}))}}class r1{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(lo.ct);const i=new n1(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(aE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aE):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,s,l,h,m,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,l=Date.now(),this.nthSequenceNumber(e,r))).next(D=>(i=D,h=Date.now(),this.removeTargets(e,i,t))).next(D=>(s=D,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(D=>(_=Date.now(),Ty()<=$s.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-b}ms\n\tDetermined least recently used ${r} in `+(h-l)+`ms\n\tRemoved ${s} targets in `+(m-h)+`ms\n\tRemoved ${D} documents in `+(_-m)+`ms\nTotal Duration: ${_-b}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:D})))}}class tS{constructor(e,t){this.db=e,this.garbageCollector=function uE(n,e){return new r1(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return hE(e,i)}removeReference(e,t,i){return hE(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return hE(e,t)}Xn(e,t){return function(i,r){let s=!1;return dE(i).Z(l=>cE(i,l,r).next(h=>(h&&(s=!0),ue.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(e,(l,h)=>{if(h<=t){const m=this.Xn(e,l).next(_=>{if(!_)return s++,i.getEntry(e,l).next(()=>(i.removeEntry(l,Dt.min()),Eh(e).delete([0,Ds(l.path)])))});r.push(m)}}).next(()=>ue.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return hE(e,t)}Yn(e,t){const i=Eh(e);let r,s=lo.ct;return i.X({index:"documentTargetsIndex"},([l,h],{path:m,sequenceNumber:_})=>{0===l?(s!==lo.ct&&t(new it(ra(r)),s),s=_,r=m):s=lo.ct}).next(()=>{s!==lo.ct&&t(new it(ra(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hE(n,e){return Eh(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ds(e.path),sequenceNumber:i}));var i}class nS{constructor(){this.changes=new Ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,li.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fE{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ec(e).put(i)}removeEntry(e,t,i){return Ec(e).delete(function(r,s){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],jg(s),l[l.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=li.newInvalidDocument(t);return Ec(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Yg(t))},(r,s)=>{i=this.ts(t,s)}).next(()=>i)}es(e,t){let i={size:0,document:li.newInvalidDocument(t)};return Ec(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Yg(t))},(r,s)=>{i={document:this.ts(t,s),size:ub(s)}}).next(()=>i)}getEntries(e,t){let i=As();return this.ns(e,t,(r,s)=>{const l=this.ts(r,s);i=i.insert(r,l)}).next(()=>i)}ss(e,t){let i=As(),r=new ti(it.comparator);return this.ns(e,t,(s,l)=>{const h=this.ts(s,l);i=i.insert(s,h),r=r.insert(s,ub(l))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return ue.resolve();let r=new wi(pE);t.forEach(m=>r=r.add(m));const s=IDBKeyRange.bound(Yg(r.first()),Yg(r.last())),l=r.getIterator();let h=l.getNext();return Ec(e).X({index:"documentKeyIndex",range:s},(m,_,b)=>{const D=it.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;h&&pE(h,D)<0;)i(h,null),h=l.getNext();h&&h.isEqual(D)&&(i(h,_),h=l.hasNext()?l.getNext():null),h?b.G(Yg(h)):b.done()}).next(()=>{for(;h;)i(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const s=t.path,l=[s.popLast().toArray(),s.lastSegment(),jg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ec(e).j(IDBKeyRange.bound(l,h,!0)).next(m=>{let _=As();for(const b of m){const D=this.ts(it.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);D.isFoundDocument()&&(Yy(t,D)||r.has(D.key))&&(_=_.insert(D.key,D))}return _})}getAllFromCollectionGroup(e,t,i,r){let s=As();const l=sS(t,i),h=sS(t,So.max());return Ec(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,h,!0)},(m,_,b)=>{const D=this.ts(it.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(D.key,D),s.size===r&&b.done()}).next(()=>s)}newChangeBuffer(e){return new iS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return rS(e).get("remoteDocumentGlobalKey").next(t=>(It(!!t),t))}Zn(e,t){return rS(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function ZR(n,e){let t;if(e.document)t=nb(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=it.fromSegments(e.noDocument.path),r=Il(e.noDocument.readTime);t=li.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ft();{const i=it.fromSegments(e.unknownDocument.path),r=Il(e.unknownDocument.version);t=li.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Si(i[0],i[1]);return Dt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Dt.min()))return i}return li.newInvalidDocument(e)}}function mE(n){return new fE(n)}class iS extends nS{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Ao(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new wi((s,l)=>zt(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const h=this.us.get(s);if(t.push(this.os.removeEntry(e,s,h.readTime)),l.isValidDocument()){const m=eE(this.os.serializer,l);r=r.add(s.path.popLast());const _=ub(m);i+=_-h.size,t.push(this.os.addEntry(e,s,m))}else if(i-=h.size,this.trackRemovals){const m=eE(this.os.serializer,l.convertToNoDocument(Dt.min()));t.push(this.os.addEntry(e,s,m))}}),r.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,i)),ue.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((s,l)=>{this.us.set(s,{size:l,readTime:i.get(s).readTime})}),i))}}function rS(n){return Gr(n,"remoteDocumentGlobal")}function Ec(n){return Gr(n,"remoteDocumentsV14")}function Yg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function sS(n,e){const t=e.documentKey.path.toArray();return[n,jg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function pE(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=zt(t[s],i[s]),r)return r;return r=zt(t.length,i.length),r||(r=zt(t[t.length-2],i[i.length-2]),r||zt(t[t.length-1],i[i.length-1]))}class oS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class s1{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&um(i.mutation,r,co.empty(),Si.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Xt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Xt()){const r=El();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let l=cm();return s.forEach((h,m)=>{l=l.insert(h,m.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=El();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Xt()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((l,h)=>{t.set(l,h)})})}computeViews(e,t,i,r){let s=As();const l=_h(),h=_h();return t.forEach((m,_)=>{const b=i.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof yc)?s=s.insert(_.key,_):void 0!==b?(l.set(_.key,b.mutation.getFieldMask()),um(b.mutation,_,b.mutation.getFieldMask(),Si.now())):l.set(_.key,co.empty())}),this.recalculateAndSaveOverlays(e,s).next(m=>(m.forEach((_,b)=>l.set(_,b)),t.forEach((_,b)=>{var D;return h.set(_,new oS(b,null!==(D=l.get(_))&&void 0!==D?D:null))}),h))}recalculateAndSaveOverlays(e,t){const i=_h();let r=new ti((l,h)=>l-h),s=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const h of l)h.keys().forEach(m=>{const _=t.get(m);if(null===_)return;let b=i.get(m)||co.empty();b=h.applyToLocalView(_,b),i.set(m,b);const D=(r.get(h.batchId)||Xt()).add(m);r=r.insert(h.batchId,D)})}).next(()=>{const l=[],h=r.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),_=m.key,b=m.value,D=wD();b.forEach(k=>{if(!s.has(k)){const L=AD(t.get(k),i.get(k));null!==L&&D.set(k,L),s=s.add(k)}}),l.push(this.documentOverlayCache.saveOverlays(e,_,D))}return ue.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return it.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Wy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):ue.resolve(El());let h=-1,m=s;return l.next(_=>ue.forEach(_,(b,D)=>(h<D.largestBatchId&&(h=D.largestBatchId),s.get(b)?ue.resolve():this.remoteDocumentCache.getEntry(e,b).next(k=>{m=m.insert(b,k)}))).next(()=>this.populateOverlays(e,_,s)).next(()=>this.computeViews(e,m,_,Xt())).next(b=>({batchId:h,changes:bD(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new it(t)).next(i=>{let r=cm();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=cm();return this.indexManager.getCollectionParents(e,r).next(l=>ue.forEach(l,h=>{const m=(_=t,b=h.child(r),new wl(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(e,m,i).next(_=>{_.forEach((b,D)=>{s=s.insert(b,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((h,m)=>{const _=m.getKey();null===s.get(_)&&(s=s.insert(_,li.newInvalidDocument(_)))});let l=cm();return s.forEach((h,m)=>{const _=r.get(h);void 0!==_&&um(_.mutation,m,co.empty(),Si.now()),Yy(t,m)&&(l=l.insert(h,m))}),l})}}class o1{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ue.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Zi(i.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:tE(i.bundledQuery),readTime:Zi(i.readTime)}),ue.resolve();var i}}class fb{constructor(){this.overlays=new ti(it.comparator),this.ls=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=El();return ue.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const r=El(),s=t.length+1,l=new it(t.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const m=h.getNext().value,_=m.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===s&&m.largestBatchId>i&&r.set(m.getKey(),m)}return ue.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new ti((_,b)=>_-b);const l=this.overlays.getIterator();for(;l.hasNext();){const _=l.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let b=s.get(_.largestBatchId);null===b&&(b=El(),s=s.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const h=El(),m=s.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((_,b)=>h.set(_,b)),!(h.size()>=r)););return ue.resolve(h)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new ND(t,i));let s=this.ls.get(t);void 0===s&&(s=Xt(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class aS{constructor(){this.fs=new wi(Zr.ds),this.ws=new wi(Zr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Zr(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Zr(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new it(new In([])),i=new Zr(t,e),r=new Zr(t,e+1),s=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),s.push(l.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new it(new In([])),i=new Zr(t,e),r=new Zr(t,e+1);let s=Xt();return this.ws.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new Zr(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Zr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return it.comparator(e.key,t.key)||zt(e.As,t.As)}static _s(e,t){return zt(e.As,t.As)||it.comparator(e.key,t.key)}}class wL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new wi(Zr.ds)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const l=new OD(s,t,i,r);this.mutationQueue.push(l);for(const h of r)this.Rs=this.Rs.add(new Zr(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(l)}lookupMutationBatch(e,t){return ue.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return ue.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Zr(t,0),r=new Zr(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],l=>{const h=this.Ps(l.As);s.push(h)}),ue.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new wi(zt);return t.forEach(r=>{const s=new Zr(r,0),l=new Zr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,l],h=>{i=i.add(h.As)})}),ue.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;it.isDocumentKey(s)||(s=s.child(""));const l=new Zr(new it(s),0);let h=new wi(zt);return this.Rs.forEachWhile(m=>{const _=m.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(h=h.add(m.As)),!0)},l),ue.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){It(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ue.forEach(t.mutations,r=>{const s=new Zr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Zr(t,0),r=this.Rs.firstAfterOrEqual(i);return ue.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ue.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class xL{constructor(e){this.Ds=e,this.docs=new ti(it.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,l=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():li.newInvalidDocument(t))}getEntries(e,t){let i=As();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():li.newInvalidDocument(r))}),ue.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=As();const l=t.path,h=new it(l.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:_,value:{document:b}}=m.getNext();if(!l.isPrefixOf(_.path))break;_.path.length>l.length+1||My(Ay(b),i)<=0||(r.has(b.key)||Yy(t,b))&&(s=s.insert(b.key,b.mutableCopy()))}return ue.resolve(s)}getAllFromCollectionGroup(e,t,i,r){ft()}Cs(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new a1(this)}getSize(e){return ue.resolve(this.size)}}class a1 extends nS{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class EL{constructor(e){this.persistence=e,this.xs=new Ao(t=>mh(t),kg),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new aS,this.targetCount=0,this.Ms=xc.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),ue.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new xc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Fn(t),ue.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((l,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.xs.delete(l),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),ue.waitFor(s).next(()=>r)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(l=>{s.push(r.markPotentiallyOrphaned(e,l))}),ue.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this.ks.containsKey(t))}}class lS{constructor(e,t){this.$s={},this.overlays={},this.Os=new lo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new EL(this),this.indexManager=new cb,this.remoteDocumentCache=new xL(i=>this.referenceDelegate.Ls(i)),this.serializer=new Jx(t),this.qs=new o1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new wL(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){He("MemoryPersistence","Starting transaction:",e);const r=new CL(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return ue.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class CL extends ZT{constructor(e){super(),this.currentSequenceNumber=e}}class gE{constructor(e){this.persistence=e,this.Qs=new aS,this.js=null}static zs(e){return new gE(e)}get Ws(){if(this.js)return this.js;throw ft()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Ws,i=>{const r=it.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,Dt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ue.or([()=>ue.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class l1{constructor(e){this.serializer=e}O(e,t,i,r){const s=new ky("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ry,{unique:!0}),h.createObjectStore("documentMutations"),c1(e),function(h){h.createObjectStore("remoteDocuments")}(e));let l=ue.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),c1(e)),l=l.next(()=>function(h){const m=h.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(h,m){return m.store("mutations").j().next(_=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ry,{unique:!0});const b=m.store("mutations"),D=_.map(k=>b.put(k));return ue.waitFor(D)})}(e,s))),l=l.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(l=l.next(()=>this.Ys(s))),i<6&&r>=6&&(l=l.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),i<7&&r>=7&&(l=l.next(()=>this.Zs(s))),i<8&&r>=8&&(l=l.next(()=>this.ti(e,s))),i<9&&r>=9&&(l=l.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(l=l.next(()=>this.ei(s))),i<11&&r>=11&&(l=l.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(l=l.next(()=>{!function(h){const m=h.createObjectStore("documentOverlays",{keyPath:eD});m.createIndex("collectionPathOverlayIndex",tD,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",TR,{unique:!1})}(e)})),i<13&&r>=13&&(l=l.next(()=>function(h){const m=h.createObjectStore("remoteDocumentsV14",{keyPath:xR});m.createIndex("documentKeyIndex",mx),m.createIndex("collectionGroupIndex",ER)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.si(e,s))),i<15&&r>=15&&(l=l.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:cL}).createIndex("sequenceNumberIndex",px,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:gx}).createIndex("documentKeyIndex",IR,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=ub(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>ue.forEach(r,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",l).next(h=>ue.forEach(h,m=>{It(m.userId===s.userId);const _=Ld(this.serializer,m);return lE(e,s.userId,_).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((l,h)=>{const m=new In(l),_=[0,Ds(m)];s.push(t.get(_).next(b=>b?ue.resolve():t.put({targetId:0,path:Ds(m),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ue.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:CR});const i=t.store("collectionParents"),r=new QD,s=l=>{if(r.add(l)){const h=l.lastSegment(),m=l.popLast();return i.put({collectionId:h,parent:Ds(m)})}};return t.store("remoteDocuments").X({Y:!0},(l,h)=>{const m=new In(l);return s(m.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,h,m],_)=>{const b=ra(h);return s(b.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const s=gm(r),l=GD(this.serializer,s);return t.put(l)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((s,l)=>{const h=t.store("remoteDocumentsV14"),m=(_=l,_.document?new it(In.fromString(_.document.name).popFirst(5)):_.noDocument?it.fromSegments(_.noDocument.path):_.unknownDocument?it.fromSegments(_.unknownDocument.path):ft()).path.toArray();var _;const b={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(h.put(b))}).next(()=>ue.waitFor(r))}si(e,t){const i=t.store("mutations"),r=mE(this.serializer),s=new lS(gE.zs,this.serializer.fe);return i.j().next(l=>{const h=new Map;return l.forEach(m=>{var _;let b=null!==(_=h.get(m.userId))&&void 0!==_?_:Xt();Ld(this.serializer,m).keys().forEach(D=>b=b.add(D)),h.set(m.userId,b)}),ue.forEach(h,(m,_)=>{const b=new $r(_),D=iE.de(this.serializer,b),k=s.getIndexManager(b),L=hb.de(b,this.serializer,k,s.referenceDelegate);return new s1(r,L,D,k).recalculateAndSaveOverlaysForDocumentKeys(new Py(t,lo.ct),m).next()})})}}function c1(n){n.createObjectStore("targetDocuments",{keyPath:im}).createIndex("documentTargetsIndex",JT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",XT,{unique:!0}),n.createObjectStore("targetGlobal")}const cS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class dS{constructor(e,t,i,r,s,l,h,m,_,b,D=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=s,this.window=l,this.document=h,this.ri=_,this.oi=b,this.ui=D,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=k=>Promise.resolve(),!dS.D())throw new Pe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tS(this,r),this.di=t+"main",this.serializer=new Jx(m),this.wi=new ia(this.di,this.ui,new l1(this.serializer)),this.Bs=new e1(this.referenceDelegate,this.serializer),this.remoteDocumentCache=mE(this.serializer),this.qs=new YR,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===b&&bi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(me.FAILED_PRECONDITION,cS);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new lo(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,Ee.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Ee.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>vE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Rd(e))return He("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return mb(e).get("owner").next(t=>ue.resolve(this.Ri(t)))}Pi(e){return vE(e).delete(this.clientId)}bi(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Gr(i,"clientMetadata");return r.j().next(s=>{const l=e.Si(s,18e5),h=s.filter(m=>-1===l.indexOf(m));return ue.forEach(h,m=>r.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ue.resolve(!0):mb(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Pe(me.FAILED_PRECONDITION,cS);return!1}}return!(!this.networkEnabled||!this.inForeground)||vE(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&He("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Py(t,lo.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>vE(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return hb.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new bL(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return iE.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){He("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(l=this.ui)?nD:14===l?bx:13===l?yx:12===l?vx:11===l?_x:void ft();var l;let h;return this.wi.runTransaction(e,r,s,m=>(h=new Py(m,this.Os?this.Os.next():lo.ct),"readwrite-primary"===t?this.Ti(h).next(_=>!!_||this.Ei(h)).next(_=>{if(!_)throw bi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Pe(me.FAILED_PRECONDITION,dx);return i(h)}).next(_=>this.vi(h).next(()=>_)):this.Oi(h).next(()=>i(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}Oi(e){return mb(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Pe(me.FAILED_PRECONDITION,cS)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mb(e).put("owner",t)}static D(){return ia.D()}Ai(e){const t=mb(e);return t.get("owner").next(i=>this.Ri(i)?(He("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(bi(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,U.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return He("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return bi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){bi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mb(n){return Gr(n,"owner")}function vE(n){return Gr(n,"clientMetadata")}function yE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class uS{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=Xt(),r=Xt();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new uS(e,t.fromCache,i,r)}}class o{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(kx(t))return ue.resolve(null);let i=Ss(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Wr(t,null,"F"),i=Ss(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const l=Xt(...s);return this.Ui.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,i).next(m=>{const _=this.ji(t,h);return this.zi(t,_,l,m.readTime)?this.Ki(e,Wr(t,null,"F")):this.Wi(e,_,t,m)}))})))}Gi(e,t,i,r){return kx(t)||r.isEqual(Dt.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const l=this.ji(t,s);return this.zi(t,l,i,r)?this.Qi(e,t):(Ty()<=$s.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ox(t)),this.Wi(e,l,t,WT(r,-1)))})}ji(e,t){let i=new wi(Px(e));return t.forEach((r,s)=>{Yy(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return Ty()<=$s.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",Ox(t)),this.Ui.getDocumentsMatchingQuery(e,t,So.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}class a{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new ti(zt),this.Yi=new Ao(s=>mh(s),kg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s1(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function d(n,e,t,i){return new a(n,e,t,i)}function u(n,e){return f.apply(this,arguments)}function f(){return f=(0,Ee.Z)(function*(n,e){const t=st(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],h=[];let m=Xt();for(const _ of r){l.push(_.batchId);for(const b of _.mutations)m=m.add(b.key)}for(const _ of s){h.push(_.batchId);for(const b of _.mutations)m=m.add(b.key)}return t.localDocuments.getDocuments(i,m).next(_=>({er:_,removedBatchIds:l,addedBatchIds:h}))})})}),f.apply(this,arguments)}function y(n){const e=st(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function I(n,e,t){let i=Xt(),r=Xt();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let l=As();return t.forEach((h,m)=>{const _=s.get(h);m.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(h)),m.isNoDocument()&&m.version.isEqual(Dt.min())?(e.removeEntry(h,m.readTime),l=l.insert(h,m)):!_.isValidDocument()||m.version.compareTo(_.version)>0||0===m.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(m),l=l.insert(h,m)):He("LocalStore","Ignoring outdated watch update for ",h,". Current version:",_.version," Watch version:",m.version)}),{nr:l,sr:r}})}function S(n,e){const t=st(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function R(n,e){const t=st(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,ue.resolve(r)):t.Bs.allocateTargetId(i).next(l=>(r=new Cl(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function z(n,e,t){return Q.apply(this,arguments)}function Q(){return Q=(0,Ee.Z)(function*(n,e,t){const i=st(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Rd(l))throw l;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),Q.apply(this,arguments)}function ne(n,e,t){const i=st(n);let r=Dt.min(),s=Xt();return i.persistence.runTransaction("Execute query","readonly",l=>function(h,m,_){const b=st(h),D=b.Yi.get(_);return void 0!==D?ue.resolve(b.Ji.get(D)):b.Bs.getTargetData(m,_)}(i,l,Ss(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,h.targetId).next(m=>{s=m})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,e,t?r:Dt.min(),t?s:Xt())).next(h=>(ot(i,OR(e),h),{documents:h,ir:s})))}function Te(n,e){const t=st(n),i=st(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.le(s,e).next(l=>l?l.target:null))}function Ue(n,e){const t=st(n),i=t.Xi.get(e)||Dt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,WT(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(ot(t,e,r),r))}function ot(n,e,t){let i=n.Xi.get(e)||Dt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}function Ae(){return Ae=(0,Ee.Z)(function*(n,e,t,i){const r=st(n);let s=Xt(),l=As();for(const _ of t){const b=e.rr(_.metadata.name);_.document&&(s=s.add(b));const D=e.ur(_);D.setReadTime(e.cr(_.metadata.readTime)),l=l.insert(b,D)}const h=r.Zi.newChangeBuffer({trackRemovals:!0}),m=yield R(r,(_=i,Ss(ph(In.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>I(_,h,l).next(b=>(h.apply(_),b)).next(b=>r.Bs.removeMatchingKeysForTargetId(_,m.targetId).next(()=>r.Bs.addMatchingKeys(_,s,m.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,b.nr,b.sr)).next(()=>b.nr)))}),Ae.apply(this,arguments)}function Kt(n,e){return cn.apply(this,arguments)}function cn(){return cn=(0,Ee.Z)(function*(n,e,t=Xt()){const i=yield R(n,Ss(tE(e.bundledQuery))),r=st(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const l=Zi(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.qs.saveNamedQuery(s,e);const h=i.withResumeToken(Nr.EMPTY_BYTE_STRING,l);return r.Ji=r.Ji.insert(h.targetId,h),r.Bs.updateTargetData(s,h).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,t,i.targetId)).next(()=>r.qs.saveNamedQuery(s,e))})}),cn.apply(this,arguments)}function gn(n,e){return`firestore_clients_${n}_${e}`}function us(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function wm(n,e){return`firestore_targets_${n}_${e}`}class pb{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let s,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new Pe(r.error.code,r.error.message))),l?new pb(e,t,r.state,s):(bi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kg{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Pe(i.error.code,i.error.message))),s?new Kg(e,i.state,r):(bi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=ED();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=fx(i.activeTargetIds[l]),s=s.add(i.activeTargetIds[l]);return r?new hS(e,s):(bi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class d1{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new d1(t.clientId,t.onlineState):(bi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class u1{constructor(){this.activeTargetIds=ED()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h1{constructor(e,t,i,r,s){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ti(zt),this.started=!1,this.yr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=gn(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new u1),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const s=e.getItem(gn(e.persistenceKey,r));if(s){const l=hS.ar(r,s);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(wm(this.persistenceKey,e));if(i){const r=Kg.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(wm(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return He("SharedClientState","READ",e,t),t}setItem(e,t){He("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){He("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(He("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void bi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(s){let l=lo.ct;if(null!=s)try{const h=JSON.parse(s);It("number"==typeof h),l=h}catch(h){bi("SharedClientState","Failed to read sequence number from WebStorage",h)}return l}(i.newValue);r!==lo.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Qr(s)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new pb(this.currentUser,e,t,i),s=us(this.persistenceKey,this.currentUser,e);this.setItem(s,r.hr())}Cr(e){const t=us(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=wm(this.persistenceKey,e),s=new Kg(e,t,i);this.setItem(r,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return hS.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return pb.ar(new $r(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return Kg.ar(r,t)}br(e){return d1.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);He("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),s=this.Sr(i),l=[],h=[];return s.forEach(m=>{r.has(m)||l.push(m)}),r.forEach(m=>{s.has(m)||h.push(m)}),this.syncEngine.Wr(l,h).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=ED();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class IL{constructor(){this.Hr=new u1,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new u1,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oj{Yr(e){}shutdown(){}}class TL{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let fS=null;function f1(){return null===fS?fS=268435456+Math.round(2147483648*Math.random()):fS++,"0x"+fS.toString(16)}const aj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lj{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ho="WebChannelConnection";class cj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const l=f1(),h=this.To(e,t);He("RestConnection",`Sending RPC '${e}' ${l}:`,h,i);const m={};return this.Eo(m,r,s),this.Ao(e,h,m,i).then(_=>(He("RestConnection",`Received RPC '${e}' ${l}: `,_),_),_=>{throw Ts("RestConnection",`RPC '${e}' ${l} failed with error: `,_,"url: ",h,"request:",i),_})}vo(e,t,i,r,s,l){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+hc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${aj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=f1();return new Promise((l,h)=>{const m=new hR;m.setWithCredentials(!0),m.listenOnce(VT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Cy.NO_ERROR:const b=m.getResponseJson();He(ho,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(b)),l(b);break;case Cy.TIMEOUT:He(ho,`RPC '${e}' ${s} timed out`),h(new Pe(me.DEADLINE_EXCEEDED,"Request time out"));break;case Cy.HTTP_ERROR:const D=m.getStatus();if(He(ho,`RPC '${e}' ${s} failed with status:`,D,"response text:",m.getResponseText()),D>0){let k=m.getResponseJson();Array.isArray(k)&&(k=k[0]);const L=k?.error;if(L&&L.status&&L.message){const j=function(Y){const se=Y.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(se)>=0?se:me.UNKNOWN}(L.status);h(new Pe(j,L.message))}else h(new Pe(me.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Pe(me.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{He(ho,`RPC '${e}' ${s} completed.`)}});const _=JSON.stringify(r);He(ho,`RPC '${e}' ${s} sending request:`,r),m.send(t,"POST",_,i,15)})}Ro(e,t,i){const r=f1(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=BT(),h=dR(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;void 0!==_&&(m.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(m.xmlHttpFactory=new uR({})),this.Eo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const b=s.join("");He(ho,`Creating RPC '${e}' stream ${r}: ${b}`,m);const D=l.createWebChannel(b,m);let k=!1,L=!1;const j=new lj({ro:se=>{L?He(ho,`Not sending because RPC '${e}' stream ${r} is closed:`,se):(k||(He(ho,`Opening RPC '${e}' stream ${r} transport.`),D.open(),k=!0),He(ho,`RPC '${e}' stream ${r} sending:`,se),D.send(se))},oo:()=>D.close()}),Y=(se,Le,$e)=>{se.listen(Le,je=>{try{$e(je)}catch(Ye){setTimeout(()=>{throw Ye},0)}})};return Y(D,Iy.EventType.OPEN,()=>{L||He(ho,`RPC '${e}' stream ${r} transport opened.`)}),Y(D,Iy.EventType.CLOSE,()=>{L||(L=!0,He(ho,`RPC '${e}' stream ${r} transport closed`),j.wo())}),Y(D,Iy.EventType.ERROR,se=>{L||(L=!0,Ts(ho,`RPC '${e}' stream ${r} transport errored:`,se),j.wo(new Pe(me.UNAVAILABLE,"The operation could not be completed")))}),Y(D,Iy.EventType.MESSAGE,se=>{var Le;if(!L){const $e=se.data[0];It(!!$e);const Ye=$e.error||(null===(Le=$e[0])||void 0===Le?void 0:Le.error);if(Ye){He(ho,`RPC '${e}' stream ${r} received error:`,Ye);const St=Ye.status;let Nt=function(cr){const go=Fr[cr];if(void 0!==go)return jx(go)}(St),Dn=Ye.message;void 0===Nt&&(Nt=me.INTERNAL,Dn="Unknown error status: "+St+" with message "+Ye.message),L=!0,j.wo(new Pe(Nt,Dn)),D.close()}else He(ho,`RPC '${e}' stream ${r} received:`,$e),j._o($e)}}),Y(h,UT.STAT_EVENT,se=>{se.stat===sx.PROXY?He(ho,`RPC '${e}' stream ${r} detected buffering proxy`):se.stat===sx.NOPROXY&&He(ho,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{j.fo()},0),j}}function DL(){return typeof window<"u"?window:null}function mS(){return typeof document<"u"?document:null}function bE(n){return new jR(n,!0)}class m1{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&He("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class SL{constructor(e,t,i,r,s,l,h,m){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new m1(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ee.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ee.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,Ee.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(bi(t.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Pe(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,Ee.Z)(function*(){e.state=0,e.start()}))}tu(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dj extends SL{constructor(e,t,i,r,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function HD(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:ft(),r=e.targetChange.targetIds||[],s=function(m,_){return m.useProto3Json?(It(void 0===_||"string"==typeof _),Nr.fromBase64String(_||"")):(It(void 0===_||_ instanceof Uint8Array),Nr.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(m){const _=void 0===m.code?me.UNKNOWN:jx(m.code);return new Pe(_,m.message||"")}(l);t=new qx(i,r,s,h||null)}else if("documentChange"in e){const i=e.documentChange,r=$a(n,i.document.name),s=Zi(i.document.updateTime),l=i.document.createTime?Zi(i.document.createTime):Dt.min(),h=new cs({mapValue:{fields:i.document.fields}}),m=li.newFoundDocument(r,s,l,h);t=new Gx(i.targetIds||[],i.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const i=e.documentDelete,r=$a(n,i.document),s=i.readTime?Zi(i.readTime):Dt.min(),l=li.newNoDocument(r,s);t=new Gx([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,r=$a(n,i.document);t=new Gx([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ft();{const i=e.filter,{count:r=0,unchangedNames:s}=i,l=new uL(r,s);t=new LD(i.targetId,l)}}var m;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Dt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Dt.min():s.readTime?Zi(s.readTime):Dt.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Hg(this.serializer),t.addTarget=function(r,s){let l;const h=s.target;if(l=$y(h)?{documents:GR(r,h)}:{query:ib(r,h)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=BD(r,s.resumeToken);const m=Ug(r,s.expectedCount);null!==m&&(l.expectedCount=m)}else if(s.snapshotVersion.compareTo(Dt.min())>0){l.readTime=fm(r,s.snapshotVersion.toTimestamp());const m=Ug(r,s.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,e);const i=function qR(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Hg(this.serializer),t.removeTarget=e,this.Wo(t)}}class uj extends SL{constructor(e,t,i,r,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(It(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function $R(n,e){return n&&n.length>0?(It(void 0!==e),n.map(t=>function(i,r){let s=Zi(i.updateTime?i.updateTime:r);return s.isEqual(Dt.min())&&(s=Zi(r)),new SD(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Zi(e.commitTime);return this.listener.cu(i,t)}return It(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Hg(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>wh(this.serializer,i))};this.Wo(t)}}class hj extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Pe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Pe(me.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.vo(e,t,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(me.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class mj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(bi(t),this.mu=!1):He("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class pj{constructor(e,t,i,r,s){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(h=>{i.enqueueAndForget((0,Ee.Z)(function*(){var m;xm(l)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,Ee.Z)(function*(_){const b=st(_);b.vu.add(4),yield gb(b),b.bu.set("Unknown"),b.vu.delete(4),yield wE(b)}),function(_){return m.apply(this,arguments)})(l))}))}),this.bu=new mj(i,r)}}function wE(n){return g1.apply(this,arguments)}function g1(){return g1=(0,Ee.Z)(function*(n){if(xm(n))for(const e of n.Ru)yield e(!0)}),g1.apply(this,arguments)}function gb(n){return _1.apply(this,arguments)}function _1(){return _1=(0,Ee.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),_1.apply(this,arguments)}function pS(n,e){const t=st(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),b1(t)?y1(t):vb(t).Ko()&&v1(t,e))}function xE(n,e){const t=st(n),i=vb(t);t.Au.delete(e),i.Ko()&&AL(t,e),0===t.Au.size&&(i.Ko()?i.jo():xm(t)&&t.bu.set("Unknown"))}function v1(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vb(n).su(e)}function AL(n,e){n.Vu.qt(e),vb(n).iu(e)}function y1(n){n.Vu=new fL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),vb(n).start(),n.bu.gu()}function b1(n){return xm(n)&&!vb(n).Uo()&&n.Au.size>0}function xm(n){return 0===st(n).vu.size}function ML(n){n.Vu=void 0}function gj(n){return w1.apply(this,arguments)}function w1(){return w1=(0,Ee.Z)(function*(n){n.Au.forEach((e,t)=>{v1(n,e)})}),w1.apply(this,arguments)}function _j(n,e){return x1.apply(this,arguments)}function x1(){return x1=(0,Ee.Z)(function*(n,e){ML(n),b1(n)?(n.bu.Iu(e),y1(n)):n.bu.set("Unknown")}),x1.apply(this,arguments)}function vj(n,e,t){return E1.apply(this,arguments)}function E1(){return E1=(0,Ee.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof qx&&2===e.state&&e.cause)try{yield(i=(0,Ee.Z)(function*(r,s){const l=s.cause;for(const h of s.targetIds)r.Au.has(h)&&(yield r.remoteSyncer.rejectListen(h,l),r.Au.delete(h),r.Vu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield gS(n,i)}else if(e instanceof Gx?n.Vu.Ht(e):e instanceof LD?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Dt.min()))try{const i=yield y(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const l=r.Vu.ce(s);return l.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const _=r.Au.get(m);_&&r.Au.set(m,_.withResumeToken(h.resumeToken,s))}}),l.targetMismatches.forEach((h,m)=>{const _=r.Au.get(h);if(!_)return;r.Au.set(h,_.withResumeToken(Nr.EMPTY_BYTE_STRING,_.snapshotVersion)),AL(r,h);const b=new Cl(_.target,h,m,_.sequenceNumber);v1(r,b)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(i){He("RemoteStore","Failed to raise snapshot:",i),yield gS(n,i)}var i}),E1.apply(this,arguments)}function gS(n,e,t){return C1.apply(this,arguments)}function C1(){return C1=(0,Ee.Z)(function*(n,e,t){if(!Rd(e))throw e;n.vu.add(1),yield gb(n),n.bu.set("Offline"),t||(t=()=>y(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield wE(n)}))}),C1.apply(this,arguments)}function kL(n,e){return e().catch(t=>gS(n,t,e))}function _b(n){return I1.apply(this,arguments)}function I1(){return I1=(0,Ee.Z)(function*(n){const e=st(n),t=Em(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;yj(e);)try{const r=yield S(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,bj(e,r)}catch(r){yield gS(e,r)}RL(e)&&OL(e)}),I1.apply(this,arguments)}function yj(n){return xm(n)&&n.Eu.length<10}function bj(n,e){n.Eu.push(e);const t=Em(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function RL(n){return xm(n)&&!Em(n).Uo()&&n.Eu.length>0}function OL(n){Em(n).start()}function wj(n){return T1.apply(this,arguments)}function T1(){return T1=(0,Ee.Z)(function*(n){Em(n).hu()}),T1.apply(this,arguments)}function xj(n){return D1.apply(this,arguments)}function D1(){return D1=(0,Ee.Z)(function*(n){const e=Em(n);for(const t of n.Eu)e.uu(t.mutations)}),D1.apply(this,arguments)}function Ej(n,e,t){return S1.apply(this,arguments)}function S1(){return S1=(0,Ee.Z)(function*(n,e,t){const i=n.Eu.shift(),r=PD.from(i,e,t);yield kL(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield _b(n)}),S1.apply(this,arguments)}function Cj(n,e){return A1.apply(this,arguments)}function A1(){return A1=(0,Ee.Z)(function*(n,e){var t;e&&Em(n).ou&&(yield(t=(0,Ee.Z)(function*(i,r){if(Xy(s=r.code)&&s!==me.ABORTED){const l=i.Eu.shift();Em(i).Qo(),yield kL(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield _b(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),RL(n)&&OL(n)}),A1.apply(this,arguments)}function PL(n,e){return M1.apply(this,arguments)}function M1(){return M1=(0,Ee.Z)(function*(n,e){const t=st(n);t.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const i=xm(t);t.vu.add(3),yield gb(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield wE(t)}),M1.apply(this,arguments)}function k1(n,e){return R1.apply(this,arguments)}function R1(){return R1=(0,Ee.Z)(function*(n,e){const t=st(n);e?(t.vu.delete(2),yield wE(t)):e||(t.vu.add(2),yield gb(t),t.bu.set("Unknown"))}),R1.apply(this,arguments)}function vb(n){return n.Su||(n.Su=function(e,t,i){const r=st(e);return r.fu(),new dj(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:gj.bind(null,n),ao:_j.bind(null,n),nu:vj.bind(null,n)}),n.Ru.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Su.Qo(),b1(n)?y1(n):n.bu.set("Unknown")):(yield n.Su.stop(),ML(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Em(n){return n.Du||(n.Du=function(e,t,i){const r=st(e);return r.fu(),new uj(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:wj.bind(null,n),ao:Cj.bind(null,n),au:xj.bind(null,n),cu:Ej.bind(null,n)}),n.Ru.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Du.Qo(),yield _b(n)):(yield n.Du.stop(),n.Eu.length>0&&(He("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class O1{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,i,r,s){const l=Date.now()+i,h=new O1(e,t,l,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yb(n,e){if(bi("AsyncQueue",`${e}: ${n}`),Rd(n))return new Pe(me.UNAVAILABLE,`${e}: ${n}`);throw n}class bb{constructor(e){this.comparator=e?(t,i)=>e(t,i)||it.comparator(t.key,i.key):(t,i)=>it.comparator(t.key,i.key),this.keyedMap=cm(),this.sortedSet=new ti(this.comparator)}static emptySet(e){return new bb(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bb)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new bb;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class NL{constructor(){this.Cu=new ti(it.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ft():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class wb{constructor(e,t,i,r,s,l,h,m,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,r,s){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new wb(e,t,bb.emptySet(t),l,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Ij{constructor(){this.Nu=void 0,this.listeners=[]}}class Tj{constructor(){this.queries=new Ao(e=>vD(e),xl),this.onlineState="Unknown",this.ku=new Set}}function P1(n,e){return N1.apply(this,arguments)}function N1(){return N1=(0,Ee.Z)(function*(n,e){const t=st(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new Ij),r)try{s.Nu=yield t.onListen(i)}catch(l){const h=yb(l,`Initialization of query '${Ox(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&B1(t)}),N1.apply(this,arguments)}function F1(n,e){return L1.apply(this,arguments)}function L1(){return L1=(0,Ee.Z)(function*(n,e){const t=st(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),L1.apply(this,arguments)}function Dj(n,e){const t=st(n);let i=!1;for(const r of e){const l=t.queries.get(r.query);if(l){for(const h of l.listeners)h.$u(r)&&(i=!0);l.Nu=r}}i&&B1(t)}function Sj(n,e,t){const i=st(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function B1(n){n.ku.forEach(e=>{e.next()})}class V1{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new wb(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=wb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Aj{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class FL{constructor(e){this.serializer=e}rr(e){return $a(this.serializer,e)}ur(e){return e.metadata.exists?nb(this.serializer,e.document,!1):li.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Zi(e)}}class Mj{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=LL(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=In.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new FL(this.serializer);for(const r of e)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const l of r.metadata.queries){const h=(t.get(l)||Xt()).add(s);t.set(l,h)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function Et(n,e,t,i){return Ae.apply(this,arguments)}(e.localStore,new FL(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield Kt(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function LL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class BL{constructor(e){this.key=e}}class VL{constructor(e){this.key=e}}class UL{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Xt(),this.mutatedKeys=Xt(),this.tc=Px(e),this.ec=new bb(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new NL,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,l=r,h=!1;const m="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((b,D)=>{const k=r.get(b),L=Yy(this.query,D)?D:null,j=!!k&&this.mutatedKeys.has(k.key),Y=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let se=!1;k&&L?k.data.isEqual(L.data)?j!==Y&&(i.track({type:3,doc:L}),se=!0):this.rc(k,L)||(i.track({type:2,doc:L}),se=!0,(m&&this.tc(L,m)>0||_&&this.tc(L,_)<0)&&(h=!0)):!k&&L?(i.track({type:0,doc:L}),se=!0):k&&!L&&(i.track({type:1,doc:k}),se=!0,(m||_)&&(h=!0)),se&&(L?(l=l.add(L),s=Y?s.add(b):s.delete(b)):(l=l.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const b="F"===this.query.limitType?l.last():l.first();l=l.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{ec:l,ic:i,zi:h,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((_,b)=>function(D,k){const L=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return L(D)-L(k)}(_.type,b.type)||this.tc(_.doc,b.doc)),this.oc(i);const l=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,m=h!==this.Xu;return this.Xu=h,0!==s.length||m?{snapshot:new wb(this.query,e.ec,r,s,e.mutatedKeys,0===h,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new NL,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Xt(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new VL(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new BL(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Xt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return wb.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class kj{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Rj{constructor(e){this.key=e,this.fc=!1}}class Oj{constructor(e,t,i,r,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Ao(h=>vD(h),xl),this._c=new Map,this.mc=new Set,this.gc=new ti(it.comparator),this.yc=new Map,this.Ic=new aS,this.Tc={},this.Ec=new Map,this.Ac=xc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Pj(n,e){return U1.apply(this,arguments)}function U1(){return U1=(0,Ee.Z)(function*(n,e){const t=cO(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const l=yield R(t.localStore,Ss(e)),h=t.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield H1(t,e,i,"current"===h,l.resumeToken),t.isPrimaryClient&&pS(t.remoteStore,l)}return r}),U1.apply(this,arguments)}function H1(n,e,t,i,r){return z1.apply(this,arguments)}function z1(){return z1=(0,Ee.Z)(function*(n,e,t,i,r){n.Rc=(D,k,L)=>{return(j=(0,Ee.Z)(function*(Y,se,Le,$e){let je=se.view.sc(Le);je.zi&&(je=yield ne(Y.localStore,se.query,!1).then(({documents:Nt})=>se.view.sc(Nt,je)));const Ye=$e&&$e.targetChanges.get(se.targetId),St=se.view.applyChanges(je,Y.isPrimaryClient,Ye);return X1(Y,se.targetId,St.cc),St.snapshot}),function(Y,se,Le,$e){return j.apply(this,arguments)})(n,D,k,L);var j};const s=yield ne(n.localStore,e,!0),l=new UL(e,s.ir),h=l.sc(s.documents),m=Vg.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),_=l.applyChanges(h,n.isPrimaryClient,m);X1(n,t,_.cc);const b=new kj(e,t,l);return n.wc.set(e,b),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),_.snapshot}),z1.apply(this,arguments)}function Nj(n,e){return j1.apply(this,arguments)}function j1(){return j1=(0,Ee.Z)(function*(n,e){const t=st(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!xl(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield z(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),xE(t.remoteStore,i.targetId),xb(t,i.targetId)}).catch(kd))):(xb(t,i.targetId),yield z(t.localStore,i.targetId,!0))}),j1.apply(this,arguments)}function $1(){return $1=(0,Ee.Z)(function*(n,e,t){const i=dO(n);try{const r=yield function(s,l){const h=st(s),m=Si.now(),_=l.reduce((k,L)=>k.add(L.key),Xt());let b,D;return h.persistence.runTransaction("Locally write mutations","readwrite",k=>{let L=As(),j=Xt();return h.Zi.getEntries(k,_).next(Y=>{L=Y,L.forEach((se,Le)=>{Le.isValidDocument()||(j=j.add(se))})}).next(()=>h.localDocuments.getOverlayedDocuments(k,L)).next(Y=>{b=Y;const se=[];for(const Le of l){const $e=kD(Le,b.get(Le.key).overlayedDocument);null!=$e&&se.push(new yc(Le.key,$e,Ag($e.value.mapValue),Ai.exists(!0)))}return h.mutationQueue.addMutationBatch(k,m,se,l)}).next(Y=>{D=Y;const se=Y.applyToLocalDocumentSet(b,j);return h.documentOverlayCache.saveOverlays(k,Y.batchId,se)})}).then(()=>({batchId:D.batchId,changes:bD(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,h){let m=s.Tc[s.currentUser.toKey()];m||(m=new ti(zt)),m=m.insert(l,h),s.Tc[s.currentUser.toKey()]=m}(i,r.batchId,t),yield Ch(i,r.changes),yield _b(i.remoteStore)}catch(r){const s=yb(r,"Failed to persist write");t.reject(s)}}),$1.apply(this,arguments)}function HL(n,e){return G1.apply(this,arguments)}function G1(){return G1=(0,Ee.Z)(function*(n,e){const t=st(n);try{const i=yield function E(n,e){const t=st(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const h=[];e.targetChanges.forEach((b,D)=>{const k=r.get(D);if(!k)return;h.push(t.Bs.removeMatchingKeys(s,b.removedDocuments,D).next(()=>t.Bs.addMatchingKeys(s,b.addedDocuments,D)));let L=k.withSequenceNumber(s.currentSequenceNumber);var j,Y,se;null!==e.targetMismatches.get(D)?L=L.withResumeToken(Nr.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):b.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(b.resumeToken,i)),r=r.insert(D,L),Y=L,se=b,(0===(j=k).resumeToken.approximateByteSize()||Y.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(s,L))});let m=As(),_=Xt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,b))}),h.push(I(s,l,e.documentUpdates).next(b=>{m=b.nr,_=b.sr})),!i.isEqual(Dt.min())){const b=t.Bs.getLastRemoteSnapshotVersion(s).next(D=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(b)}return ue.waitFor(h).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,m,_)).next(()=>m)}).then(s=>(t.Ji=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const l=t.yc.get(s);l&&(It(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?It(l.fc):r.removedDocuments.size>0&&(It(l.fc),l.fc=!1))}),yield Ch(t,i,e)}catch(i){yield kd(i)}}),G1.apply(this,arguments)}function zL(n,e,t){const i=st(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,l)=>{const h=l.view.Mu(e);h.snapshot&&r.push(h.snapshot)}),function(s,l){const h=st(s);h.onlineState=l;let m=!1;h.queries.forEach((_,b)=>{for(const D of b.listeners)D.Mu(l)&&(m=!0)}),m&&B1(h)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Lj(n,e,t){return q1.apply(this,arguments)}function q1(){return q1=(0,Ee.Z)(function*(n,e,t){const i=st(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let l=new ti(it.comparator);l=l.insert(s,li.newNoDocument(s,Dt.min()));const h=Xt().add(s),m=new Bg(Dt.min(),new Map,new ti(zt),l,h);yield HL(i,m),i.gc=i.gc.remove(s),i.yc.delete(e),J1(i)}else yield z(i.localStore,e,!1).then(()=>xb(i,e,t)).catch(kd)}),q1.apply(this,arguments)}function Bj(n,e){return W1.apply(this,arguments)}function W1(){return W1=(0,Ee.Z)(function*(n,e){const t=st(n),i=e.batch.batchId;try{const r=yield function p(n,e){const t=st(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,h,m,_){const b=m.batch,D=b.keys();let k=ue.resolve();return D.forEach(L=>{k=k.next(()=>_.getEntry(h,L)).next(j=>{const Y=m.docVersions.get(L);It(null!==Y),j.version.compareTo(Y)<0&&(b.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),_.addEntry(j)))})}),k.next(()=>l.mutationQueue.removeMutationBatch(h,b))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let h=Xt();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(h=h.add(l.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);Q1(t,i,null),K1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ch(t,r)}catch(r){yield kd(r)}}),W1.apply(this,arguments)}function Vj(n,e,t){return Z1.apply(this,arguments)}function Z1(){return Z1=(0,Ee.Z)(function*(n,e,t){const i=st(n);try{const r=yield function(s,l){const h=st(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return h.mutationQueue.lookupMutationBatch(m,l).next(b=>(It(null!==b),_=b.keys(),h.mutationQueue.removeMutationBatch(m,b))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,_,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>h.localDocuments.getDocuments(m,_))})}(i.localStore,e);Q1(i,e,t),K1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ch(i,r)}catch(r){yield kd(r)}}),Z1.apply(this,arguments)}function Y1(){return Y1=(0,Ee.Z)(function*(n,e){const t=st(n);xm(t.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const l=st(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>l.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=yb(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Y1.apply(this,arguments)}function K1(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function Q1(n,e,t){const i=st(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function xb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||jL(n,i)})}function jL(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(xE(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),J1(n))}function X1(n,e,t){for(const i of t)i instanceof BL?(n.Ic.addReference(i.key,e),Hj(n,i)):i instanceof VL?(He("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||jL(n,i.key)):ft()}function Hj(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(He("SyncEngine","New document in limbo: "+t),n.mc.add(i),J1(n))}function J1(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new it(In.fromString(e)),i=n.Ac.next();n.yc.set(i,new Rj(t)),n.gc=n.gc.insert(t,i),pS(n.remoteStore,new Cl(Ss(ph(t.path)),i,"TargetPurposeLimboResolution",lo.ct))}}function Ch(n,e,t){return eO.apply(this,arguments)}function eO(){return eO=(0,Ee.Z)(function*(n,e,t){const i=st(n),r=[],s=[],l=[];var h;i.wc.isEmpty()||(i.wc.forEach((h,m)=>{l.push(i.Rc(m,e,t).then(_=>{if((_||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,_?.fromCache?"not-current":"current"),_){r.push(_);const b=uS.Li(m.targetId,_);s.push(b)}}))}),yield Promise.all(l),i.dc.nu(r),yield(h=(0,Ee.Z)(function*(m,_){const b=st(m);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>ue.forEach(_,k=>ue.forEach(k.Fi,L=>b.persistence.referenceDelegate.addReference(D,k.targetId,L)).next(()=>ue.forEach(k.Bi,L=>b.persistence.referenceDelegate.removeReference(D,k.targetId,L)))))}catch(D){if(!Rd(D))throw D;He("LocalStore","Failed to update sequence numbers: "+D)}for(const D of _){const k=D.targetId;if(!D.fromCache){const L=b.Ji.get(k),Y=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);b.Ji=b.Ji.insert(k,Y)}}}),function(m,_){return h.apply(this,arguments)})(i.localStore,s))}),eO.apply(this,arguments)}function zj(n,e){return tO.apply(this,arguments)}function tO(){return tO=(0,Ee.Z)(function*(n,e){const t=st(n);if(!t.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const i=yield u(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(l=>{l.forEach(h=>{h.reject(new Pe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ch(t,i.er)}var r}),tO.apply(this,arguments)}function jj(n,e){const t=st(n),i=t.yc.get(e);if(i&&i.fc)return Xt().add(i.key);{let r=Xt();const s=t._c.get(e);if(!s)return r;for(const l of s){const h=t.wc.get(l);r=r.unionWith(h.view.nc)}return r}}function $j(n,e){return nO.apply(this,arguments)}function nO(){return nO=(0,Ee.Z)(function*(n,e){const t=st(n),i=yield ne(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&X1(t,e.targetId,r.cc),r}),nO.apply(this,arguments)}function Gj(n,e){return iO.apply(this,arguments)}function iO(){return iO=(0,Ee.Z)(function*(n,e){const t=st(n);return Ue(t.localStore,e).then(i=>Ch(t,i))}),iO.apply(this,arguments)}function qj(n,e,t,i){return rO.apply(this,arguments)}function rO(){return rO=(0,Ee.Z)(function*(n,e,t,i){const r=st(n),s=yield function(l,h){const m=st(l),_=st(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.Sn(b,h).next(D=>D?m.localDocuments.getDocuments(b,D):ue.resolve(null)))}(r.localStore,e);var h;null!==s?("pending"===t?yield _b(r.remoteStore):"acknowledged"===t||"rejected"===t?(Q1(r,e,i||null),K1(r,e),h=e,st(st(r.localStore).mutationQueue).Cn(h)):ft(),yield Ch(r,s)):He("SyncEngine","Cannot apply mutation batch with id: "+e)}),rO.apply(this,arguments)}function sO(){return sO=(0,Ee.Z)(function*(n,e){const t=st(n);if(cO(t),dO(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield $L(t,i.toArray());t.vc=!0,yield k1(t.remoteStore,!0);for(const s of r)pS(t.remoteStore,s)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(xb(t,l),z(t.localStore,l,!0))),xE(t.remoteStore,l)}),yield r,yield $L(t,i),function(s){const l=st(s);l.yc.forEach((h,m)=>{xE(l.remoteStore,m)}),l.Ic.Ts(),l.yc=new Map,l.gc=new ti(it.comparator)}(t),t.vc=!1,yield k1(t.remoteStore,!1)}}),sO.apply(this,arguments)}function $L(n,e,t){return oO.apply(this,arguments)}function oO(){return oO=(0,Ee.Z)(function*(n,e,t){const i=st(n),r=[],s=[];for(const l of e){let h;const m=i._c.get(l);if(m&&0!==m.length){h=yield R(i.localStore,Ss(m[0]));for(const _ of m){const b=i.wc.get(_),D=yield $j(i,b);D.snapshot&&s.push(D.snapshot)}}else{const _=yield Te(i.localStore,l);h=yield R(i.localStore,_),yield H1(i,GL(_),l,!1,h.resumeToken)}r.push(h)}return i.dc.nu(s),r}),oO.apply(this,arguments)}function GL(n){return Mx(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Zj(n){const e=st(n);return st(st(e.localStore).persistence).$i()}function Yj(n,e,t,i){return aO.apply(this,arguments)}function aO(){return aO=(0,Ee.Z)(function*(n,e,t,i){const r=st(n);if(r.vc)return void He("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=yield Ue(r.localStore,OR(s[0])),h=Bg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Nr.EMPTY_BYTE_STRING);yield Ch(r,l,h);break}case"rejected":yield z(r.localStore,e,!0),xb(r,e,i);break;default:ft()}}),aO.apply(this,arguments)}function Kj(n,e,t){return lO.apply(this,arguments)}function lO(){return lO=(0,Ee.Z)(function*(n,e,t){const i=cO(n);if(i.vc){for(const r of e){if(i._c.has(r)){He("SyncEngine","Adding an already active target "+r);continue}const s=yield Te(i.localStore,r),l=yield R(i.localStore,s);yield H1(i,GL(s),l.targetId,!1,l.resumeToken),pS(i.remoteStore,l)}for(const r of t)i._c.has(r)&&(yield z(i.localStore,r,!1).then(()=>{xE(i.remoteStore,r),xb(i,r)}).catch(kd))}}),lO.apply(this,arguments)}function cO(n){const e=st(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lj.bind(null,e),e.dc.nu=Dj.bind(null,e.eventManager),e.dc.Pc=Sj.bind(null,e.eventManager),e}function dO(n){const e=st(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vj.bind(null,e),e}class EE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.serializer=bE(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return d(this.persistence,new o,e.initialUser,this.serializer)}createPersistence(e){return new lS(gE.zs,this.serializer)}createSharedClientState(e){return new IL}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class uO extends EE{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield dO(i.Vc.syncEngine),yield _b(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return d(this.persistence,new o,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new eS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new KT(t,this.persistence);return new yR(e.asyncQueue,i)}createPersistence(e){const t=yE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ds.withCacheSize(this.cacheSizeBytes):ds.DEFAULT;return new dS(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,DL(),mS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new IL}}class qL extends uO{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ee.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof h1&&(i.sharedClientState.syncEngine={jr:qj.bind(null,r),zr:Yj.bind(null,r),Wr:Kj.bind(null,r),$i:Zj.bind(null,r),Qr:Gj.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,Ee.Z)(function*(l){yield function Wj(n,e){return sO.apply(this,arguments)}(i.Vc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=DL();if(!h1.D(t))throw new Pe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=yE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new h1(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Eb{initialize(e,t){var i=this;return(0,Ee.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>zL(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=zj.bind(null,i.syncEngine),yield k1(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Tj}createDatastore(e){const t=bE(e.databaseInfo.databaseId),i=new cj(e.databaseInfo);return new hj(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=h=>zL(this.syncEngine,h,0),l=TL.D()?new TL:new oj,new pj(t,i,r,s,l);var t,i,r,s,l}createSyncEngine(e,t){return function(i,r,s,l,h,m,_){const b=new Oj(i,r,s,l,h,m);return _&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const i=st(t);He("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield gb(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function WL(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class _S{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Jj{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new wr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const s=yield e.$c(r);return new Aj(JSON.parse(s),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Ee.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class e6{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Pe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ee.Z)(function*(s,l){const h=st(s),m=Hg(h.serializer)+"/documents",_={documents:l.map(L=>mm(h.serializer,L))},b=yield h.vo("BatchGetDocuments",m,_,l.length),D=new Map;b.forEach(L=>{const j=function Fd(n,e){return"found"in e?function(t,i){It(!!i.found);const r=$a(t,i.found.name),s=Zi(i.found.updateTime),l=i.found.createTime?Zi(i.found.createTime):Dt.min(),h=new cs({mapValue:{fields:i.found.fields}});return li.newFoundDocument(r,s,l,h)}(n,e):"missing"in e?function(t,i){It(!!i.missing),It(!!i.readTime);const r=$a(t,i.missing),s=Zi(i.readTime);return li.newNoDocument(r,s)}(n,e):ft()}(h.serializer,L);D.set(j.key.toString(),j)});const k=[];return l.forEach(L=>{const j=D.get(L.toString());It(!!j),k.push(j)}),k}),function(s,l){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=it.fromPath(r);e.mutations.push(new RD(s,e.precondition(s)))}),yield(i=(0,Ee.Z)(function*(r,s){const l=st(r),h=Hg(l.serializer)+"/documents",m={writes:s.map(_=>wh(l.serializer,_))};yield l.Io("Commit",h,m)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ft();t=Dt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Pe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Dt.min())?Ai.exists(!1):Ai.updateTime(t):Ai.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dt.min()))throw new Pe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ai.updateTime(t)}return Ai.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class t6{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new m1(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Ee.Z)(function*(){const t=new e6(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Uc(s)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!bg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Xy(t)}return!1}}class n6{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=$r.UNAUTHENTICATED,this.clientId=lx.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,Ee.Z)(function*(h){He("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(He("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=yb(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function vS(n,e){return hO.apply(this,arguments)}function hO(){return hO=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ee.Z)(function*(s){i.isEqual(s)||(yield u(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),hO.apply(this,arguments)}function fO(n,e){return mO.apply(this,arguments)}function mO(){return mO=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield pO(n);He("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>PL(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>PL(e.remoteStore,s)),n._onlineComponents=e}),mO.apply(this,arguments)}function ZL(n){return"FirebaseError"===n.name?n.code===me.FAILED_PRECONDITION||n.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function pO(n){return gO.apply(this,arguments)}function gO(){return gO=(0,Ee.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){He("FirestoreClient","Using user provided OfflineComponentProvider");try{yield vS(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!ZL(t))throw t;Ts("Error using user provided cache. Falling back to memory cache: "+t),yield vS(n,new EE)}}else He("FirestoreClient","Using default OfflineComponentProvider"),yield vS(n,new EE);return n._offlineComponents}),gO.apply(this,arguments)}function yS(n){return _O.apply(this,arguments)}function _O(){return _O=(0,Ee.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(He("FirestoreClient","Using user provided OnlineComponentProvider"),yield fO(n,n._uninitializedComponentsProvider._online)):(He("FirestoreClient","Using default OnlineComponentProvider"),yield fO(n,new Eb))),n._onlineComponents}),_O.apply(this,arguments)}function YL(n){return pO(n).then(e=>e.persistence)}function bS(n){return pO(n).then(e=>e.localStore)}function KL(n){return yS(n).then(e=>e.remoteStore)}function vO(n){return yS(n).then(e=>e.syncEngine)}function Cb(n){return yO.apply(this,arguments)}function yO(){return yO=(0,Ee.Z)(function*(n){const e=yield yS(n),t=e.eventManager;return t.onListen=Pj.bind(null,e.syncEngine),t.onUnlisten=Nj.bind(null,e.syncEngine),t}),yO.apply(this,arguments)}function XL(n,e,t={}){const i=new wr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,s,l,h,m){const _=new _S({next:D=>{s.enqueueAndForget(()=>F1(r,b));const k=D.docs.has(l);!k&&D.fromCache?m.reject(new Pe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&D.fromCache&&h&&"server"===h.source?m.reject(new Pe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(D)},error:D=>m.reject(D)}),b=new V1(ph(l.path),_,{includeMetadataChanges:!0,Ku:!0});return P1(r,b)}(yield Cb(n),n.asyncQueue,e,t,i)})),i.promise}function JL(n,e,t={}){const i=new wr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(r,s,l,h,m){const _=new _S({next:D=>{s.enqueueAndForget(()=>F1(r,b)),D.fromCache&&"server"===h.source?m.reject(new Pe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(D)},error:D=>m.reject(D)}),b=new V1(l,_,{includeMetadataChanges:!0,Ku:!0});return P1(r,b)}(yield Cb(n),n.asyncQueue,e,t,i)})),i.promise}function e2(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const t2=new Map;function bO(n,e,t){if(!t)throw new Pe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function n2(n,e,t,i){if(!0===e&&!0===i)throw new Pe(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function r2(n){if(!it.isDocumentKey(n))throw new Pe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function s2(n){if(it.isDocumentKey(n))throw new Pe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ft()}function Tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wS(n);throw new Pe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function o2(n,e){if(e<=0)throw new Pe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class a2{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Pe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=e2(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class CE{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new fR;switch(t.type){case"firstParty":return new aL(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Pe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=t2.get(e);t&&(He("ComponentProvider","Removing Datastore"),t2.delete(e),t.terminate())}(this),Promise.resolve()}}class Li{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Li(this.firestore,e,this._key)}}class Ws{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ws(this.firestore,e,this._query)}}class Vd extends Ws{constructor(e,t,i){super(e,t,ph(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Li(this.firestore,null,new it(e))}withConverter(e){return new Vd(this.firestore,e,this._path)}}function c2(n,e,...t){if(n=(0,U.m9)(n),bO("collection","path",e),n instanceof CE){const i=In.fromString(e,...t);return s2(i),new Vd(n,null,i)}{if(!(n instanceof Li||n instanceof Vd))throw new Pe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(In.fromString(e,...t));return s2(i),new Vd(n.firestore,null,i)}}function xS(n,e,...t){if(n=(0,U.m9)(n),1===arguments.length&&(e=lx.A()),bO("doc","path",e),n instanceof CE){const i=In.fromString(e,...t);return r2(i),new Li(n,null,new it(i))}{if(!(n instanceof Li||n instanceof Vd))throw new Pe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(In.fromString(e,...t));return r2(i),new Li(n.firestore,n instanceof Vd?n.converter:null,new it(i))}}function d2(n,e){return n=(0,U.m9)(n),e=(0,U.m9)(e),(n instanceof Li||n instanceof Vd)&&(e instanceof Li||e instanceof Vd)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function wO(n,e){return n=(0,U.m9)(n),e=(0,U.m9)(e),n instanceof Ws&&e instanceof Ws&&n.firestore===e.firestore&&xl(n._query,e._query)&&n.converter===e.converter}class h6{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new m1(this,"async_queue_retry"),this.Xc=()=>{const t=mS();t&&He("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=mS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=mS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new wr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Rd(t))throw t;He("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,bi("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=O1.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&ft()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function xO(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class f6{constructor(){this._progressObserver={},this._taskCompletionResolver=new wr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Bi extends CE{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new h6,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||u2(this),this._firestoreClient.terminate()}}function Lr(n){return n._firestoreClient||u2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function u2(n){var e,t,i;const r=n._freezeSettings(),s=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new AR(n._databaseId,h,n._persistenceKey,(_=r).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,e2(_.experimentalLongPollingOptions),_.useFetchStreams));var h,_;n._firestoreClient=new n6(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function h2(n,e,t){const i=new wr;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield vS(n,t),yield fO(n,e),i.resolve()}catch(r){const s=r;if(!ZL(s))throw s;Ts("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function f2(n){if(n._initialized||n._terminated)throw new Pe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ud{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ud(Nr.fromBase64String(e))}catch(t){throw new Pe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ud(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ih{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Pe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qg{constructor(e){this._methodName=e}}class ES{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}const C6=/^__.*__$/;class I6{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new yc(e,this.data,this.fieldMask,t,this.fieldTransforms):new hm(e,this.data,t,this.fieldTransforms)}}class m2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new yc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function p2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class CS{constructor(e,t,i,r,s,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new CS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return DS(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(p2(this.ca)&&C6.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class T6{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||bE(e)}ya(e,t,i,r=!1){return new CS({ca:e,methodName:t,ga:i,path:qi.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xg(n){const e=n._freezeSettings(),t=bE(n._databaseId);return new T6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function IS(n,e,t,i,r,s={}){const l=n.ya(s.merge||s.mergeFields?2:0,e,t,r);TO("Data must be an object, but it was:",l,i);const h=v2(i,l);let m,_;if(s.merge)m=new co(l.fieldMask),_=l.fieldTransforms;else if(s.mergeFields){const b=[];for(const D of s.mergeFields){const k=DE(e,D,t);if(!l.contains(k))throw new Pe(me.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);b2(b,k)||b.push(k)}m=new co(b),_=l.fieldTransforms.filter(D=>m.covers(D.field))}else m=null,_=l.fieldTransforms;return new I6(new cs(h),m,_)}class TE extends Qg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof TE}}function g2(n,e,t){return new CS({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class EO extends Qg{_toFieldTransform(e){return new Pg(e.path,new Og)}isEqual(e){return e instanceof EO}}class D6 extends Qg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=g2(this,e,!0),i=this.pa.map(s=>Jg(s,t)),r=new vh(i);return new Pg(e.path,r)}isEqual(e){return this===e}}class S6 extends Qg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=g2(this,e,!0),i=this.pa.map(s=>Jg(s,t)),r=new yh(i);return new Pg(e.path,r)}isEqual(e){return this===e}}class A6 extends Qg{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new dm(e.serializer,Bx(e.serializer,this.Ia));return new Pg(e.path,t)}isEqual(e){return this===e}}function CO(n,e,t,i){const r=n.ya(1,e,t);TO("Data must be an object, but it was:",r,i);const s=[],l=cs.empty();Od(i,(m,_)=>{const b=TS(e,m,t);_=(0,U.m9)(_);const D=r.da(b);if(_ instanceof TE)s.push(b);else{const k=Jg(_,D);null!=k&&(s.push(b),l.set(b,k))}});const h=new co(s);return new m2(l,h,r.fieldTransforms)}function IO(n,e,t,i,r,s){const l=n.ya(1,e,t),h=[DE(e,i,t)],m=[r];if(s.length%2!=0)throw new Pe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<s.length;k+=2)h.push(DE(e,s[k])),m.push(s[k+1]);const _=[],b=cs.empty();for(let k=h.length-1;k>=0;--k)if(!b2(_,h[k])){const L=h[k];let j=m[k];j=(0,U.m9)(j);const Y=l.da(L);if(j instanceof TE)_.push(L);else{const se=Jg(j,Y);null!=se&&(_.push(L),b.set(L,se))}}const D=new co(_);return new m2(b,D,l.fieldTransforms)}function _2(n,e,t,i=!1){return Jg(t,n.ya(i?4:3,e))}function Jg(n,e){if(y2(n=(0,U.m9)(n)))return TO("Unsupported field value:",e,n),v2(n,e);if(n instanceof Qg)return function(t,i){if(!p2(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const l of t){let h=Jg(l,i.wa(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,U.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Bx(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Si.fromDate(t);return{timestampValue:fm(i.serializer,r)}}if(t instanceof Si){const r=new Si(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:fm(i.serializer,r)}}if(t instanceof ES)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ud)return{bytesValue:BD(i.serializer,t._byteString)};if(t instanceof Li){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:eb(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${wS(t)}`)}(n,e)}function v2(n,e){const t={};return rD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Od(n,(i,r)=>{const s=Jg(r,e.ha(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function y2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Si||n instanceof ES||n instanceof Ud||n instanceof Li||n instanceof Qg)}function TO(n,e,t){if(!y2(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=wS(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function DE(n,e,t){if((e=(0,U.m9)(e))instanceof Ih)return e._internalPath;if("string"==typeof e)return TS(n,e);throw DS("Field path arguments must be of type string or ",n,!1,void 0,t)}const M6=new RegExp("[~\\*/\\[\\]]");function TS(n,e,t){if(e.search(M6)>=0)throw DS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ih(...e.split("."))._internalPath}catch{throw DS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function DS(n,e,t,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(s||l)&&(m+=" (found",s&&(m+=` in field ${i}`),l&&(m+=` in document ${r}`),m+=")"),new Pe(me.INVALID_ARGUMENT,h+n+m)}function b2(n,e){return n.some(t=>t.isEqual(e))}class SE{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Li(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new k6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(SS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class k6 extends SE{data(){return super.data()}}function SS(n,e){return"string"==typeof e?TS(n,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}function w2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Pe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DO{}class AE extends DO{}function Cm(n,e,...t){let i=[];e instanceof DO&&i.push(e),i=i.concat(t),function(r){const s=r.filter(h=>h instanceof Ib).length,l=r.filter(h=>h instanceof ME).length;if(s>1||s>0&&l>0)throw new Pe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class ME extends AE{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new ME(e,t,i)}_apply(e){const t=this._parse(e);return I2(e._query,t),new Ws(e.firestore,e.converter,Zy(e._query,t))}_parse(e){const t=Xg(e.firestore);return function(r,s,l,h,m,_,b){let D;if(m.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Pe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){C2(b,_);const k=[];for(const L of b)k.push(E2(h,r,L));D={arrayValue:{values:k}}}else D=E2(h,r,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||C2(b,_),D=_2(l,"where",b,"in"===_||"not-in"===_);return pn.create(m,_,D)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ib extends DO{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ib(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Hn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const l=r.getFlattenedFilters();for(const h of l)I2(s,h),s=Zy(s,h)}(e._query,t),new Ws(e.firestore,e.converter,Zy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class SO extends AE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new SO(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Pe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Pe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new am(r,s);return function(h,m){if(null===Rx(h)){const _=Rg(h);null!==_&&T2(0,_,m.field)}}(i,l),l}(e._query,this._field,this._direction);return new Ws(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new wl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class AS extends AE{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new AS(e,t,i)}_apply(e){return new Ws(e.firestore,e.converter,Wr(e._query,this._limit,this._limitType))}}class MS extends AE{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new MS(e,t,i)}_apply(e){const t=x2(e,this.type,this._docOrFields,this._inclusive);return new Ws(e.firestore,e.converter,(r=t,new wl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class kS extends AE{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new kS(e,t,i)}_apply(e){const t=x2(e,this.type,this._docOrFields,this._inclusive);return new Ws(e.firestore,e.converter,(r=t,new wl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function x2(n,e,t,i){if(t[0]=(0,U.m9)(t[0]),t[0]instanceof SE)return function(r,s,l,h,m){if(!h)throw new Pe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const _=[];for(const b of gh(r))if(b.field.isKeyField())_.push(hh(s,h.key));else{const D=h.data.field(b.field);if(Ny(D))throw new Pe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const k=b.field.canonicalString();throw new Pe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}_.push(D)}return new Nd(_,m)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Xg(n.firestore);return function(s,l,h,m,_,b){const D=s.explicitOrderBy;if(_.length>D.length)throw new Pe(me.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let L=0;L<_.length;L++){const j=_[L];if(D[L].field.isKeyField()){if("string"!=typeof j)throw new Pe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof j}`);if(!Wy(s)&&-1!==j.indexOf("/"))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${j}' contains a slash.`);const Y=s.path.child(In.fromString(j));if(!it.isDocumentKey(Y))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const se=new it(Y);k.push(hh(l,se))}else{const Y=_2(h,m,j);k.push(Y)}}return new Nd(k,b)}(n._query,n.firestore._databaseId,r,e,t,i)}}function E2(n,e,t){if("string"==typeof(t=(0,U.m9)(t))){if(""===t)throw new Pe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wy(e)&&-1!==t.indexOf("/"))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(In.fromString(t));if(!it.isDocumentKey(i))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return hh(n,new it(i))}if(t instanceof Li)return hh(n,t._key);throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wS(t)}.`)}function C2(n,e){if(!Array.isArray(n)||0===n.length)throw new Pe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function I2(n,e){if(e.isInequality()){const i=Rg(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=Rx(n);null!==s&&T2(0,r,s)}const t=function(i,r){for(const s of i)for(const l of s.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Pe(me.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function T2(n,e,t){if(!t.isEqual(e))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class AO{convertValue(e,t="none"){switch(gc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ft()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Od(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new ES(Wi(e.latitude),Wi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Fy(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Cg(e));default:return null}}convertTimestamp(e){const t=Pd(e);return new Si(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=In.fromString(e);It(rb(i));const r=new sa(i.get(1),i.get(3)),s=new it(i.popFirst(5));return r.isEqual(t)||bi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function RS(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class U6 extends AO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ud(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Li(this.firestore,null,t)}}class e_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Th extends SE{constructor(e,t,i,r,s,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(SS("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class kE extends Th{data(e={}){return super.data(e)}}class Im{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new e_(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new kE(this._firestore,this._userDataWriter,i.key,i,new e_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new kE(i._firestore,i._userDataWriter,l.doc.key,l.doc,new e_(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const h=new kE(i._firestore,i._userDataWriter,l.doc.key,l.doc,new e_(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,_=-1;return 0!==l.type&&(m=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),_=s.indexOf(l.doc.key)),{type:z6(l.type),doc:h,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function z6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function S2(n,e){return n instanceof Th&&e instanceof Th?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Im&&e instanceof Im&&n._firestore===e._firestore&&wO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Tm extends AO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ud(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Li(this.firestore,null,t)}}function A2(n,e,t){n=Tn(n,Li);const i=Tn(n.firestore,Bi),r=RS(n.converter,e,t);return Tb(i,[IS(Xg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Ai.none())])}function M2(n,e,t,...i){n=Tn(n,Li);const r=Tn(n.firestore,Bi),s=Xg(r);let l;return l="string"==typeof(e=(0,U.m9)(e))||e instanceof Ih?IO(s,"updateDoc",n._key,e,t,i):CO(s,"updateDoc",n._key,e),Tb(r,[l.toMutation(n._key,Ai.exists(!0))])}function k2(n,...e){var t,i,r;n=(0,U.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||xO(e[l])||(s=e[l],l++);const h={includeMetadataChanges:s.includeMetadataChanges};if(xO(e[l])){const D=e[l];e[l]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[l+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),e[l+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let m,_,b;if(n instanceof Li)_=Tn(n.firestore,Bi),b=ph(n._key.path),m={next:D=>{e[l]&&e[l](MO(_,n,D))},error:e[l+1],complete:e[l+2]};else{const D=Tn(n,Ws);_=Tn(D.firestore,Bi),b=D._query;const k=new Tm(_);m={next:L=>{e[l]&&e[l](new Im(_,k,D,L))},error:e[l+1],complete:e[l+2]},w2(n._query)}return function(D,k,L,j){const Y=new _S(j),se=new V1(k,Y,L);return D.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return P1(yield Cb(D),se)})),()=>{Y.Dc(),D.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return F1(yield Cb(D),se)}))}}(Lr(_),b,h,m)}function Tb(n,e){return function(t,i){const r=new wr;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function Fj(n,e,t){return $1.apply(this,arguments)}(yield vO(t),i,r)})),r.promise}(Lr(n),e)}function MO(n,e,t){const i=t.docs.get(e._key),r=new Tm(n);return new Th(n,r,e._key,i,new e_(t.hasPendingWrites,t.fromCache),e.converter)}const o$={maxAttempts:5};class R2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xg(e)}set(e,t,i){this._verifyNotCommitted();const r=Dm(e,this._firestore),s=RS(r.converter,t,i),l=IS(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,Ai.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Dm(e,this._firestore);let l;return l="string"==typeof(t=(0,U.m9)(t))||t instanceof Ih?IO(this._dataReader,"WriteBatch.update",s._key,t,i,r):CO(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,Ai.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Dm(e,this._firestore);return this._mutations=this._mutations.concat(new Fg(t._key,Ai.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Dm(n,e){if((n=(0,U.m9)(n)).firestore!==e)throw new Pe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class a$ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Xg(e)}get(e){const t=Dm(e,this._firestore),i=new U6(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ft();const s=r[0];if(s.isFoundDocument())return new SE(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new SE(this._firestore,i,t._key,null,t.converter);throw ft()})}set(e,t,i){const r=Dm(e,this._firestore),s=RS(r.converter,t,i),l=IS(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(e,t,i,...r){const s=Dm(e,this._firestore);let l;return l="string"==typeof(t=(0,U.m9)(t))||t instanceof Ih?IO(this._dataReader,"Transaction.update",s._key,t,i,r):CO(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=Dm(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Dm(e,this._firestore),i=new Tm(this._firestore);return super.get(e).then(r=>new Th(this._firestore,i,t._key,r._document,new e_(!1,!1),t.converter))}}function kO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function P2(){if(typeof Uint8Array>"u")throw new Pe("unimplemented","Uint8Arrays are not available in this environment.")}function N2(){if(!function DR(){return typeof atob<"u"}())throw new Pe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){hc=js.SDK_VERSION,(0,js._registerComponent)(new Oa.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),l=new Bi(new sL(t.getProvider("auth-internal")),new Dy(t.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Pe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sa(h.options.projectId,m)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,js.registerVersion)(HT,"3.13.0",n),(0,js.registerVersion)(HT,"3.13.0","esm2017")}();class RE{constructor(e){this._delegate=e}static fromBase64String(e){return N2(),new RE(Ud.fromBase64String(e))}static fromUint8Array(e){return P2(),new RE(Ud.fromUint8Array(e))}toBase64(){return N2(),this._delegate.toBase64()}toUint8Array(){return P2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function RO(n){return function g$(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class _${enableIndexedDbPersistence(e,t){return function p6(n,e){f2(n=Tn(n,Bi));const t=Lr(n);if(t._uninitializedComponentsProvider)throw new Pe(me.FAILED_PRECONDITION,"SDK cache is already specified.");Ts("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Eb;return h2(t,r,new uO(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function g6(n){f2(n=Tn(n,Bi));const e=Lr(n);if(e._uninitializedComponentsProvider)throw new Pe(me.FAILED_PRECONDITION,"SDK cache is already specified.");Ts("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Eb;return h2(e,i,new qL(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function _6(n){if(n._initialized&&!n._terminated)throw new Pe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(i){if(!ia.D())return Promise.resolve();const r=i+"main";yield ia.delete(r)}),function(i){return t.apply(this,arguments)})(yE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class F2{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof sa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ts("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function l2(n,e,t,i={}){var r;const s=(n=Tn(n,CE))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==l&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),i.mockUserToken){let h,m;if("string"==typeof i.mockUserToken)h=i.mockUserToken,m=$r.MOCK_USER;else{h=(0,U.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Pe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new $r(_)}n._authCredentials=new rL(new $T(h,m))}}(this._delegate,e,t,i)}enableNetwork(){return function y6(n){return function i6(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield YL(n),t=yield KL(n);return e.setNetworkEnabled(!0),function(i){const r=st(i);return r.vu.delete(0),wE(r)}(t)}))}(Lr(n=Tn(n,Bi)))}(this._delegate)}disableNetwork(){return function b6(n){return function r6(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield YL(n),t=yield KL(n);return e.setNetworkEnabled(!1),(i=(0,Ee.Z)(function*(r){const s=st(r);s.vu.add(0),yield gb(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Lr(n=Tn(n,Bi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,n2("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function v6(n){return function(e){const t=new wr;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function Uj(n,e){return Y1.apply(this,arguments)}(yield vO(e),t)})),t.promise}(Lr(n=Tn(n,Bi)))}(this._delegate)}onSnapshotsInSync(e){return function Q6(n,e){return function a6(n,e){const t=new _S(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield Cb(n),r=t,st(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return i=yield Cb(n),r=t,void st(i).ku.delete(r);var i,r}))}}(Lr(n=Tn(n,Bi)),xO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Pe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Db(this,c2(this._delegate,e))}catch(t){throw Mo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Dl(this,xS(this._delegate,e))}catch(t){throw Mo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ko(this,function u6(n,e){if(n=Tn(n,CE),bO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pe(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ws(n,null,(t=e,new wl(In.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Mo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function l$(n,e,t){n=Tn(n,Bi);const i=Object.assign(Object.assign({},o$),t);return function(r){if(r.maxAttempts<1)throw new Pe(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,l){const h=new wr;return r.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const m=yield function QL(n){return yS(n).then(e=>e.datastore)}(r);new t6(r.asyncQueue,m,l,s,h).run()})),h.promise}(Lr(n),r=>e(new a$(n,r)),i)}(this._delegate,t=>e(new L2(this,t)))}batch(){return Lr(this._delegate),new B2(new R2(this._delegate,e=>Tb(this._delegate,e)))}loadBundle(e){return function w6(n,e){const t=Lr(n=Tn(n,Bi)),i=new f6;return function l6(n,e,t,i){const r=function(s,l){let h;return h="string"==typeof s?FD().encode(s):s,m=function(m,_){if(m instanceof Uint8Array)return WL(m,_);if(m instanceof ArrayBuffer)return WL(new Uint8Array(m),_);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new Jj(m,l);var m}(t,bE(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function Qj(n,e,t){const i=st(n);var r;(r=(0,Ee.Z)(function*(s,l,h){try{const m=yield l.getMetadata();if(yield function(k,L){const j=st(k),Y=Zi(L.createTime);return j.persistence.runTransaction("hasNewerBundle","readonly",se=>j.qs.getBundleMetadata(se,L.id)).then(se=>!!se&&se.createTime.compareTo(Y)>=0)}(s.localStore,m))return yield l.close(),h._completeWith({taskState:"Success",documentsLoaded:(k=m).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);h._updateProgress(LL(m));const _=new Mj(m,s.localStore,l.serializer);let b=yield l.bc();for(;b;){const k=yield _.zu(b);k&&h._updateProgress(k),b=yield l.bc()}const D=yield _.complete();return yield Ch(s,D.Ju,void 0),yield function(k,L){const j=st(k);return j.persistence.runTransaction("Save bundle","readwrite",Y=>j.qs.saveBundleMetadata(Y,L))}(s.localStore,m),h._completeWith(D.progress),Promise.resolve(D.Hu)}catch(m){return Ts("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m),Promise.resolve(new Set)}var k}),function(s,l,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield vO(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function x6(n,e){return function c6(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,i){const r=st(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield bS(n),e)}))}(Lr(n=Tn(n,Bi)),e).then(t=>t?new Ws(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ko(this,t):null)}}class OS extends AO{constructor(e){super(),this.firestore=e}convertBytes(e){return new RE(new Ud(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Dl.forKey(t,this.firestore,null)}}class L2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new OS(e)}get(e){const t=n_(e);return this._delegate.get(t).then(i=>new OE(this._firestore,new Th(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=n_(e);return i?(kO("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=n_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=n_(e);return this._delegate.delete(t),this}}class B2{constructor(e){this._delegate=e}set(e,t,i){const r=n_(e);return i?(kO("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=n_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=n_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class t_{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new kE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new PE(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=t_.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new t_(e,new OS(e),t),r.set(t,s)),s}}t_.INSTANCES=new WeakMap;class Dl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new OS(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Pe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Dl(t,new Li(t._delegate,i,new it(e)))}static forKey(e,t,i){return new Dl(t,new Li(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Db(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Db(this.firestore,c2(this._delegate,e))}catch(t){throw Mo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,U.m9)(e))instanceof Li&&d2(this._delegate,e)}set(e,t){t=kO("DocumentReference.set",t);try{return t?A2(this._delegate,e,t):A2(this._delegate,e)}catch(i){throw Mo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?M2(this._delegate,e):M2(this._delegate,e,t,...i)}catch(r){throw Mo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Y6(n){return Tb(Tn(n.firestore,Bi),[new Fg(n._key,Ai.none())])}(this._delegate)}onSnapshot(...e){const t=V2(e),i=U2(e,r=>new OE(this.firestore,new Th(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return k2(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function $6(n){n=Tn(n,Li);const e=Tn(n.firestore,Bi),t=Lr(e),i=new Tm(e);return function s6(n,e){const t=new wr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,s,l){try{const h=yield function(m,_){const b=st(m);return b.persistence.runTransaction("read document","readonly",D=>b.localDocuments.getDocument(D,_))}(r,s);h.isFoundDocument()?l.resolve(h):h.isNoDocument()?l.resolve(null):l.reject(new Pe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=yb(h,`Failed to get document '${s} from cache`);l.reject(m)}}),function(r,s,l){return i.apply(this,arguments)})(yield bS(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Th(e,i,n._key,r,new e_(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function G6(n){n=Tn(n,Li);const e=Tn(n.firestore,Bi);return XL(Lr(e),n._key,{source:"server"}).then(t=>MO(e,n,t))}(this._delegate):function j6(n){n=Tn(n,Li);const e=Tn(n.firestore,Bi);return XL(Lr(e),n._key).then(t=>MO(e,n,t))}(this._delegate),t.then(i=>new OE(this.firestore,new Th(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Dl(this.firestore,this._delegate.withConverter(e?t_.getInstance(this.firestore,e):null))}}function Mo(n,e,t){return n.message=n.message.replace(e,t),n}function V2(n){for(const e of n)if("object"==typeof e&&!RO(e))return e;return{}}function U2(n,e){var t,i;let r;return r=RO(n[0])?n[0]:RO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class OE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Dl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return S2(this._delegate,e._delegate)}}class PE extends OE{data(e){const t=this._delegate.data(e);return function jT(n,e){n||ft()}(void 0!==t),t}}class ko{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new OS(e)}where(e,t,i){try{return new ko(this.firestore,Cm(this._delegate,function R6(n,e,t){const i=e,r=SS("where",n);return ME._create(r,i,t)}(e,t,i)))}catch(r){throw Mo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ko(this.firestore,Cm(this._delegate,function O6(n,e="asc"){const t=e,i=SS("orderBy",n);return SO._create(i,t)}(e,t)))}catch(i){throw Mo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ko(this.firestore,Cm(this._delegate,function P6(n){return o2("limit",n),AS._create("limit",n,"F")}(e)))}catch(t){throw Mo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ko(this.firestore,Cm(this._delegate,function N6(n){return o2("limitToLast",n),AS._create("limitToLast",n,"L")}(e)))}catch(t){throw Mo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ko(this.firestore,Cm(this._delegate,function F6(...n){return MS._create("startAt",n,!0)}(...e)))}catch(t){throw Mo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ko(this.firestore,Cm(this._delegate,function L6(...n){return MS._create("startAfter",n,!1)}(...e)))}catch(t){throw Mo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ko(this.firestore,Cm(this._delegate,function B6(...n){return kS._create("endBefore",n,!1)}(...e)))}catch(t){throw Mo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ko(this.firestore,Cm(this._delegate,function V6(...n){return kS._create("endAt",n,!0)}(...e)))}catch(t){throw Mo(t,"endAt()","Query.endAt()")}}isEqual(e){return wO(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function W6(n){n=Tn(n,Ws);const e=Tn(n.firestore,Bi),t=Lr(e),i=new Tm(e);return function o6(n,e){const t=new wr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(i=(0,Ee.Z)(function*(r,s,l){try{const h=yield ne(r,s,!0),m=new UL(s,h.ir),_=m.sc(h.documents),b=m.applyChanges(_,!1);l.resolve(b.snapshot)}catch(h){const m=yb(h,`Failed to execute query '${s} against cache`);l.reject(m)}}),function(r,s,l){return i.apply(this,arguments)})(yield bS(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Im(e,i,n,r))}(this._delegate):"server"===e?.source?function Z6(n){n=Tn(n,Ws);const e=Tn(n.firestore,Bi),t=Lr(e),i=new Tm(e);return JL(t,n._query,{source:"server"}).then(r=>new Im(e,i,n,r))}(this._delegate):function q6(n){n=Tn(n,Ws);const e=Tn(n.firestore,Bi),t=Lr(e),i=new Tm(e);return w2(n._query),JL(t,n._query).then(r=>new Im(e,i,n,r))}(this._delegate),t.then(i=>new OO(this.firestore,new Im(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=V2(e),i=U2(e,r=>new OO(this.firestore,new Im(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return k2(this._delegate,t,i)}withConverter(e){return new ko(this.firestore,this._delegate.withConverter(e?t_.getInstance(this.firestore,e):null))}}class y${constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new PE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class OO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ko(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new PE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new y$(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new PE(this._firestore,i))})}isEqual(e){return S2(this._delegate,e._delegate)}}class Db extends ko{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Dl(this.firestore,e):null}doc(e){try{return new Dl(this.firestore,void 0===e?xS(this._delegate):xS(this._delegate,e))}catch(t){throw Mo(t,"doc()","CollectionReference.doc()")}}add(e){return function K6(n,e){const t=Tn(n.firestore,Bi),i=xS(n),r=RS(n.converter,e);return Tb(t,[IS(Xg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ai.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Dl(this.firestore,t))}isEqual(e){return d2(this._delegate,e._delegate)}withConverter(e){return new Db(this.firestore,this._delegate.withConverter(e?t_.getInstance(this.firestore,e):null))}}function n_(n){return Tn(n,Li)}class PO{constructor(...e){this._delegate=new Ih(...e)}static documentId(){return new PO(qi.keyField().canonicalString())}isEqual(e){return(e=(0,U.m9)(e))instanceof Ih&&this._delegate._internalPath.isEqual(e._internalPath)}}class i_{constructor(e){this._delegate=e}static serverTimestamp(){const e=function d$(){return new EO("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new i_(e)}static delete(){const e=function c$(){return new TE("deleteField")}();return e._methodName="FieldValue.delete",new i_(e)}static arrayUnion(...e){const t=function u$(...n){return new D6("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new i_(t)}static arrayRemove(...e){const t=function h$(...n){return new S6("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new i_(t)}static increment(e){const t=function f$(n){return new A6("increment",n)}(e);return t._methodName="FieldValue.increment",new i_(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const b$={Firestore:F2,GeoPoint:ES,Timestamp:Si,Blob:RE,Transaction:L2,WriteBatch:B2,DocumentReference:Dl,DocumentSnapshot:OE,Query:ko,QueryDocumentSnapshot:PE,QuerySnapshot:OO,CollectionReference:Db,FieldPath:PO,FieldValue:i_,setLogLevel:function v$(n){!function zT(n){fc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function H2(n,e){return function E$(n,e=fd.z){return new pi.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function NO(n,e){return H2(n,e).pipe((0,ht.U)(t=>({payload:t,type:"query"})))}function PS(n,e){return NO(n,e).pipe(vr(void 0),Vv(),(0,ht.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,h)=>{const m=r.find(b=>b.doc.ref.isEqual(l.ref)),_=t?.payload.docs.find(b=>b.ref.isEqual(l.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(l.metadata)||!m&&_&&JSON.stringify(_.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:l}})}),s}))}function z2(n,e,t){return PS(n,t).pipe(bs((i,r)=>function I$(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function T$(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return FO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return FO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return FO(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),(0,Ju.x)(),(0,ht.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function FO(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function j2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function x$(n){(function w$(n,e){n.INTERNAL.registerComponent(new Oa.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},b$)))})(n,(e,t)=>new F2(e,t,new _$)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(Nf.Z);class $2{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=PS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ht.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(vr(void 0),Vv(),bn(([i,r])=>r.length>0||!i),(0,ht.U)(([i,r])=>r),An.iC)}auditTrail(e){return this.stateChanges(e).pipe(bs((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=j2(e);return z2(this.query,t,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(e={}){return NO(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),An.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(An.iC)}add(e){return this.ref.add(e)}doc(e){return new G2(this.ref.doc(e),this.afs)}}class G2{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=Z2(i,t);return new $2(r,s,this.afs)}snapshotChanges(){return function C$(n,e){return H2(n,e).pipe(vr(void 0),Vv(),(0,ht.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,hn.D)(this.ref.get(e)).pipe(An.iC)}}class D${constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?PS(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),bn(t=>t.length>0),An.iC):PS(this.query,this.afs.schedulers.outsideAngular).pipe(An.iC)}auditTrail(e){return this.stateChanges(e).pipe(bs((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=j2(e);return z2(this.query,t,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(e={}){return NO(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),An.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(An.iC)}}const q2=new c.OlP("angularfire2.enableFirestorePersistence"),W2=new c.OlP("angularfire2.firestore.persistenceSettings"),S$=new c.OlP("angularfire2.firestore.settings"),A$=new c.OlP("angularfire2.firestore.use-emulator");function Z2(n,e=(t=>t)){return{query:e(n),ref:n}}let LO=(()=>{class n{constructor(t,i,r,s,l,h,m,_,b,D,k,L,j,Y,se,Le,$e){this.schedulers=m;const je=(0,rr.on)(t,h,i),Ye=b;D&&cw(je,h,k,j,Y,se,L,Le),[this.firestore,this.persistenceEnabled$]=(0,rr.cc)(`${je.name}.firestore`,"AngularFirestore",je.name,()=>{const St=h.runOutsideAngular(()=>je.firestore());if(s&&St.settings(s),Ye&&St.useEmulator(...Ye),r&&!Fs(l)){const Nt=()=>{try{return(0,hn.D)(St.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(Dn){return typeof console<"u"&&console.warn(Dn),(0,ct.of)(!1)}};return[St,h.runOutsideAngular(Nt)]}return[St,(0,ct.of)(!1)]},[s,Ye,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:l}=Z2(r,i),h=this.schedulers.ngZone.run(()=>s);return new $2(h,l,this)}collectionGroup(t,i){const r=i||(l=>l),s=this.firestore.collectionGroup(t);return new D$(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new G2(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(rr.Dh),c.LFG(rr.xv,8),c.LFG(q2,8),c.LFG(S$,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(An.HU),c.LFG(W2,8),c.LFG(A$,8),c.LFG(zp,8),c.LFG(rw,8),c.LFG(sT,8),c.LFG(sw,8),c.LFG(ow,8),c.LFG(aw,8),c.LFG(lw,8),c.LFG(bd,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),M$=(()=>{class n{constructor(){Bv.Z.registerVersion("angularfire",An.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:q2,useValue:!0},{provide:W2,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[LO]}),n})();function NE(n){return(NE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Ze(n,e,t){return(e=function R$(n){var e=function k$(n,e){if("object"!==NE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!==NE(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===NE(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}class Y2{}class O${}const Dh="*";function r_(n,e){return{type:7,name:n,definitions:e,options:{}}}function Hd(n,e=null){return{type:4,styles:e,timings:n}}function K2(n,e=null){return{type:2,steps:n,options:e}}function Ms(n){return{type:6,styles:n,offset:null}}function Sl(n,e,t){return{type:0,name:n,styles:e,options:t}}function zd(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class FE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Q2{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const X2=["toast-component",""];function P$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.remove())}),c.TgZ(1,"span",6),c._uU(2,"\xd7"),c.qZA()()}}function N$(n,e){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const t=c.oxw(2);c.xp6(1),c.hij("[",t.duplicatesCount+1,"]")}}function F$(n,e){if(1&n&&(c.TgZ(0,"div"),c._uU(1),c.YNc(2,N$,2,1,"ng-container",4),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.titleClass),c.uIk("aria-label",t.title),c.xp6(1),c.hij(" ",t.title," "),c.xp6(1),c.Q6J("ngIf",t.duplicatesCount)}}function L$(n,e){if(1&n&&c._UZ(0,"div",7),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.Q6J("innerHTML",t.message,c.oJD)}}function B$(n,e){if(1&n&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Tol(t.options.messageClass),c.uIk("aria-label",t.message),c.xp6(1),c.hij(" ",t.message," ")}}function V$(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"div",9),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Udp("width",t.width+"%")}}class q${constructor(e,t){Ze(this,"_attachedHost",void 0),Ze(this,"component",void 0),Ze(this,"viewContainerRef",void 0),Ze(this,"injector",void 0),this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class W${constructor(){Ze(this,"_attachedPortal",void 0),Ze(this,"_disposeFn",void 0)}attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class Z${constructor(e){Ze(this,"_overlayRef",void 0),Ze(this,"componentInstance",void 0),Ze(this,"duplicatesCount",0),Ze(this,"_afterClosed",new kt.x),Ze(this,"_activate",new kt.x),Ze(this,"_manualClose",new kt.x),Ze(this,"_resetTimeout",new kt.x),Ze(this,"_countDuplicate",new kt.x),this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class NS{constructor(e,t,i,r,s,l){Ze(this,"toastId",void 0),Ze(this,"config",void 0),Ze(this,"message",void 0),Ze(this,"title",void 0),Ze(this,"toastType",void 0),Ze(this,"toastRef",void 0),Ze(this,"_onTap",new kt.x),Ze(this,"_onAction",new kt.x),this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=s,this.toastRef=l,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const eB=new c.OlP("ToastConfig");class Y$ extends W${constructor(e,t,i){super(),Ze(this,"_hostDomElement",void 0),Ze(this,"_componentFactoryResolver",void 0),Ze(this,"_appRef",void 0),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let K$=(()=>{class n{constructor(){Ze(this,"_document",(0,c.f3M)(ae)),Ze(this,"_containerElement",void 0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return Ze(n,"\u0275fac",function(t){return new(t||n)}),Ze(n,"\u0275prov",c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})();class Q${constructor(e){Ze(this,"_portalHost",void 0),this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let X$=(()=>{class n{constructor(){Ze(this,"_overlayContainer",(0,c.f3M)(K$)),Ze(this,"_componentFactoryResolver",(0,c.f3M)(c._Vd)),Ze(this,"_appRef",(0,c.f3M)(c.z2F)),Ze(this,"_document",(0,c.f3M)(ae)),Ze(this,"_paneElements",new Map)}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new Y$(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Q$(this._createPortalHost(t))}}return Ze(n,"\u0275fac",function(t){return new(t||n)}),Ze(n,"\u0275prov",c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})(),FS=(()=>{class n{constructor(t,i,r,s,l){Ze(this,"overlay",void 0),Ze(this,"_injector",void 0),Ze(this,"sanitizer",void 0),Ze(this,"ngZone",void 0),Ze(this,"toastrConfig",void 0),Ze(this,"currentlyActive",0),Ze(this,"toasts",[]),Ze(this,"overlayContainer",void 0),Ze(this,"previousToastMessage",void 0),Ze(this,"index",0),this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=l,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},s=""){return this._preBuildNotification(s,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,s){const{includeTitleDuplicates:l}=this.toastrConfig;for(const h of this.toasts)if((!l||l&&h.title===t)&&h.message===i)return h.toastRef.onDuplicate(r,s),h;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,s)):this._buildNotification(t,i,r,s)}_buildNotification(t,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");const l=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==l)return l;this.previousToastMessage=i;let h=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(h=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const m=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let _=i;i&&s.enableHtml&&(_=this.sanitizer.sanitize(c.q3G.HTML,i));const b=new Z$(m),D=new NS(this.index,s,_,r,t,b),L=c.zs3.create({providers:[{provide:NS,useValue:D}],parent:this._injector}),j=new q$(s.toastComponent,L),Y=m.attach(j,s.newestOnTop);b.componentInstance=Y.instance;const se={toastId:this.index,title:r||"",message:i||"",toastRef:b,onShown:b.afterActivate(),onHidden:b.afterClosed(),onTap:D.onTap(),onAction:D.onAction(),portal:Y};return h||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{se.toastRef.activate()})),this.toasts.push(se),se}}return Ze(n,"\u0275fac",function(t){return new(t||n)(c.LFG(eB),c.LFG(X$),c.LFG(c.zs3),c.LFG(ba),c.LFG(c.R0b))}),Ze(n,"\u0275prov",c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})();const J$={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(t,i,r){Ze(this,"toastrService",void 0),Ze(this,"toastPackage",void 0),Ze(this,"ngZone",void 0),Ze(this,"message",void 0),Ze(this,"title",void 0),Ze(this,"options",void 0),Ze(this,"duplicatesCount",void 0),Ze(this,"originalTimeout",void 0),Ze(this,"width",-1),Ze(this,"toastClasses",""),Ze(this,"state",void 0),Ze(this,"timeout",void 0),Ze(this,"intervalId",void 0),Ze(this,"hideTime",void 0),Ze(this,"sub",void 0),Ze(this,"sub1",void 0),Ze(this,"sub2",void 0),Ze(this,"sub3",void 0),this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return Ze(n,"\u0275fac",function(t){return new(t||n)(c.Y36(FS),c.Y36(NS),c.Y36(c.R0b))}),Ze(n,"\u0275cmp",c.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(c.d8E("@flyInOut",i.state),c.Tol(i.toastClasses),c.Udp("display",i.displayStyle))},standalone:!0,features:[c.jDz],attrs:X2,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(c.YNc(0,P$,3,0,"button",0),c.YNc(1,F$,3,5,"div",1),c.YNc(2,L$,1,3,"div",2),c.YNc(3,B$,2,4,"div",3),c.YNc(4,V$,2,2,"div",4)),2&t&&(c.Q6J("ngIf",i.options.closeButton),c.xp6(1),c.Q6J("ngIf",i.title),c.xp6(1),c.Q6J("ngIf",i.message&&i.options.enableHtml),c.xp6(1),c.Q6J("ngIf",i.message&&!i.options.enableHtml),c.xp6(1),c.Q6J("ngIf",i.options.progressBar))},dependencies:[hr],encapsulation:2,data:{animation:[r_("flyInOut",[Sl("inactive",Ms({opacity:0})),Sl("active",Ms({opacity:1})),Sl("removed",Ms({opacity:0})),zd("inactive => active",Hd("{{ easeTime }}ms {{ easing }}")),zd("active => removed",Hd("{{ easeTime }}ms {{ easing }}"))])]}})),n})()},eG=(n={})=>(0,c.MR2)([{provide:eB,useValue:{default:J$,config:n}}]);let tG=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[eG(t)]}}}return Ze(n,"\u0275fac",function(t){return new(t||n)}),Ze(n,"\u0275mod",c.oAB({type:n})),Ze(n,"\u0275inj",c.cJS({})),n})(),LS=(()=>{class n{constructor(){this.isMenuVisible$$=new _r.X(!0),this.isLoading$$=new _r.X(!1),this.isMenuVisible$=this.isMenuVisible$$.asObservable(),this.isLoading$=this.isLoading$$.asObservable()}setMenuVisible(t){this.isMenuVisible$$.next(t)}setLoading(t){this.isLoading$$.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sm=(()=>{class n{constructor(){this.afs=(0,c.f3M)(LO),this.afAuth=(0,c.f3M)(zp),this.ngZone=(0,c.f3M)(c.R0b),this.router=(0,c.f3M)(xs),this.toastrService=(0,c.f3M)(FS),this.helperService=(0,c.f3M)(LS),this.afAuth.authState.subscribe(t=>{t?(this.userData=t,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}signIn(t,i){return this.helperService.setLoading(!0),this.afAuth.signInWithEmailAndPassword(t,i).then(r=>{this.setUserData(r.user),this.afAuth.authState.subscribe(s=>{s&&(this.helperService.setLoading(!1),this.router.navigate(["dashboard"]))})}).catch(r=>{this.helperService.setLoading(!1),this.toastrService.error(r.message,"Error",{closeButton:!0})})}signUp(t,i){return this.afAuth.createUserWithEmailAndPassword(t,i).then(r=>{this.sendVerificationMail(),this.setUserData(r.user)}).catch(r=>{this.toastrService.error(r.message,"Error",{closeButton:!0})})}sendVerificationMail(){return this.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}forgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(i=>{this.toastrService.error(i.message,"Error",{closeButton:!0})})}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}googleAuth(){return this.authLogin(new PI.V).then(t=>{this.router.navigate(["dashboard"])})}authLogin(t){return this.afAuth.signInWithPopup(t).then(i=>{this.router.navigate(["dashboard"]),this.setUserData(i.user)}).catch(i=>{this.toastrService.error(i.message,"Error",{closeButton:!0})})}setUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}signOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.helperService.setMenuVisible(!1),this.router.navigate(["login"])})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LE(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class _G{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new kt.x,this._typeaheadSubscription=Hr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new kt.x,this.change=new kt.x,e instanceof c.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Pn.b)(t=>this._pressedLetters.push(t)),Wu(e),bn(()=>this._pressedLetters.length>0),(0,ht.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,l=i[s];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(s<l?s:l-1,-1);break}return;default:return void((r||LE(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}class aB extends _G{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let lB=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function yG(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function vG(n){try{return n.frameElement}catch{return null}}(function DG(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===dB(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=dB(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function IG(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function TG(n){return!function wG(n){return function EG(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function bG(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function xG(n){return function CG(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||cB(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ei))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cB(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function dB(n){if(!cB(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class SG{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(gi(1)).subscribe(e)}}let AG=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new SG(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lB),c.LFG(c.R0b),c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function $O(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const MG=new c.OlP("cdk-input-modality-detector-options"),kG={ignoreKeys:[18,17,224,91,16]},Sb=pd({passive:!0,capture:!0});let RG=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new _r.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(h=>h===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Yu(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(jO(l)?"keyboard":"mouse"),this._mostRecentTarget=Yu(l))},this._onTouchstart=l=>{$O(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Yu(l))},this._options={...kG,...s},this.modalityDetected=this._modality.pipe(SI(1)),this.modalityChanged=this.modalityDetected.pipe((0,Ju.x)()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Sb),r.addEventListener("mousedown",this._onMousedown,Sb),r.addEventListener("touchstart",this._onTouchstart,Sb)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Sb),document.removeEventListener("mousedown",this._onMousedown,Sb),document.removeEventListener("touchstart",this._onTouchstart,Sb))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ei),c.LFG(c.R0b),c.LFG(ae),c.LFG(MG,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PG=new c.OlP("cdk-focus-monitor-default-options"),BS=pd({passive:!0,capture:!0});let BE=(()=>{class n{constructor(t,i,r,s,l){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new kt.x,this._rootNodeFocusAndBlurListener=h=>{for(let _=Yu(h);_;_=_.parentElement)"focus"===h.type?this._onFocus(h,_):this._onBlur(h,_)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(t,i=!1){const r=hd(t);if(!this._platform.isBrowser||1!==r.nodeType)return(0,ct.of)();const s=function ck(n){if(function MI(){if(null==xv){const n=typeof document<"u"?document.head:null;xv=!(!n||!n.createShadowRoot&&!n.attachShadow)}return xv}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const h={checkChildren:i,subject:new kt.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=hd(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=hd(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,m])=>this._originChanged(h,i,m)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Yu(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,BS),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,BS)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Di(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,BS),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,BS),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(ei),c.LFG(RG),c.LFG(ae,8),c.LFG(PG,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hB="cdk-high-contrast-black-on-white",fB="cdk-high-contrast-white-on-black",GO="cdk-high-contrast-active";let NG=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,c.f3M)(S0).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(GO,hB,fB),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(GO,hB):2===i&&t.add(GO,fB)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ei),c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FG=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function LG(){return(0,c.f3M)(ae)}}),BG=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ab=(()=>{class n{constructor(t){this.value="ltr",this.change=new c.vpe,t&&(this.value=function VG(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?BG.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(FG,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const HG=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function UG(){return!0}});let ci=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!T0()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(NG),c.LFG(HG,8),c.LFG(ae))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[VE,VE]}),n})();function gB(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Kn(e)}constructor(...e){super(...e),this._disabled=!1}}}function VS(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function _B(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Kn(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function zG(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Ra(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function jG(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let GG=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ci,ci]}),n})();class qG{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const yB=pd({passive:!0,capture:!0});class WG{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Yu(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const l=s.get(i);l?l.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,yB)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,yB)))}}const bB={enterDuration:225,exitDuration:150},wB=pd({passive:!0,capture:!0}),xB=["mousedown","touchstart"],EB=["mouseup","mouseleave","touchend","touchcancel"];class s_{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=hd(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...bB,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const l=i.radius||function YG(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,m=t-r.top,_=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=h-l+"px",b.style.top=m-l+"px",b.style.height=2*l+"px",b.style.width=2*l+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b);const D=window.getComputedStyle(b),L=D.transitionDuration,j="none"===D.transitionProperty||"0s"===L||"0s, 0s"===L||0===r.width&&0===r.height,Y=new qG(this,b,i,j);b.style.transform="scale3d(1, 1, 1)",Y.state=0,i.persistent||(this._mostRecentTransientRipple=Y);let se=null;return!j&&(_||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Le=()=>this._finishRippleTransition(Y),$e=()=>this._destroyRipple(Y);b.addEventListener("transitionend",Le),b.addEventListener("transitioncancel",$e),se={onTransitionEnd:Le,onTransitionCancel:$e}}),this._activeRipples.set(Y,se),(j||!_)&&this._finishRippleTransition(Y),Y}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...bB,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=hd(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,xB.forEach(i=>{s_._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{EB.forEach(t=>{this._triggerElement.addEventListener(t,this,wB)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=jO(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!$O(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(xB.forEach(t=>s_._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&EB.forEach(t=>e.removeEventListener(t,this,wB)))}}s_._eventManager=new WG;const HE=new c.OlP("mat-ripple-global-options");let CB=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new s_(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(ei),c.Y36(HE,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),qO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ci,ci]}),n})(),KG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ci]}),n})();const QG=["*"],e5=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],t5=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],n5=new c.OlP("MAT_CARD_CONFIG");let WO=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(n5,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:QG,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),ZO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),YO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),KO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:t5,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,i){1&t&&(c.F$t(e5),c.Hsn(0),c.TgZ(1,"div",0),c.Hsn(2,1),c.qZA(),c.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),a5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ci,er,ci]}),n})();function IB(...n){const e=(0,ts.jO)(n),{args:t,keys:i}=ll(n),r=new pi.y(s=>{const{length:l}=t;if(!l)return void s.complete();const h=new Array(l);let m=l,_=l;for(let b=0;b<l;b++){let D=!1;(0,Eo.Xf)(t[b]).subscribe((0,Ii.x)(s,k=>{D||(D=!0,_--),h[b]=k},()=>m--,void 0,()=>{(!m||!D)&&(_||s.next(i?Ca(i,h):h),s.complete())}))}});return e?r.pipe(Ea(e)):r}class QO{}class Sh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),l=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Sh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Sh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Sh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let l=this.headers.get(t);if(!l)return;l=l.filter(h=>-1===s.indexOf(h)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class l5{encodeKey(e){return TB(e)}encodeValue(e){return TB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const d5=/%(\d[a-f0-9])/gi,u5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function TB(n){return encodeURIComponent(n).replace(d5,(e,t)=>u5[t]??e)}function US(n){return`${n}`}class Am{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new l5,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function c5(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,h]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],m=t.get(l)||[];m.push(h),t.set(l,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(US):[US(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Am({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(US(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(US(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class h5{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function DB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function SB(n){return typeof Blob<"u"&&n instanceof Blob}function AB(n){return typeof FormData<"u"&&n instanceof FormData}class zE{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function f5(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Sh),this.context||(this.context=new h5),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+l}}else this.params=new Am,this.urlWithParams=t}serializeBody(){return null===this.body?null:DB(this.body)||SB(this.body)||AB(this.body)||function m5(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Am?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||AB(this.body)?null:SB(this.body)?this.body.type||null:DB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Am?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,_=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((D,k)=>D.set(k,e.setHeaders[k]),m)),e.setParams&&(_=Object.keys(e.setParams).reduce((D,k)=>D.set(k,e.setParams[k]),_)),new zE(t,i,s,{params:_,headers:m,context:b,reportProgress:h,responseType:r,withCredentials:l})}}var Zs=(()=>((Zs=Zs||{})[Zs.Sent=0]="Sent",Zs[Zs.UploadProgress=1]="UploadProgress",Zs[Zs.ResponseHeader=2]="ResponseHeader",Zs[Zs.DownloadProgress=3]="DownloadProgress",Zs[Zs.Response=4]="Response",Zs[Zs.User=5]="User",Zs))();class p5{constructor(e,t=200,i="OK"){this.headers=e.headers||new Sh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class jE extends p5{constructor(e={}){super(e),this.type=Zs.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new jE({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function JO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let eP=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof zE)s=t;else{let m,_;m=r.headers instanceof Sh?r.headers:new Sh(r.headers),r.params&&(_=r.params instanceof Am?r.params:new Am({fromObject:r.params})),s=new zE(t,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=(0,ct.of)(s).pipe(rs(m=>this.handler.handle(m)));if(t instanceof zE||"events"===r.observe)return l;const h=l.pipe(bn(m=>m instanceof jE));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,ht.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe((0,ht.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe((0,ht.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe((0,ht.U)(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Am).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,JO(r,i))}post(t,i,r={}){return this.request("POST",t,JO(r,i))}put(t,i,r={}){return this.request("PUT",t,JO(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(QO))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const N5=["*"];let jS;function $E(n){return function F5(){if(void 0===jS&&(jS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(jS=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return jS}()?.createHTML(n)||n}function VB(n){return Error(`Unable to find icon with the name "${n}"`)}function UB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function HB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class l_{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let $S=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new l_(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const l=this._sanitizer.sanitize(c.q3G.HTML,r);if(!l)throw HB(r);const h=$E(l);return this._addSvgIconConfig(t,i,new l_("",h,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new l_(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(c.q3G.HTML,i);if(!s)throw HB(i);const l=$E(s);return this._addSvgIconSetConfig(t,new l_("",l,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!i)throw UB(t);const r=this._cachedIconsByUrl.get(i);return r?(0,ct.of)(GS(r)):this._loadSvgIconFromConfig(new l_(t,null)).pipe((0,Pn.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,ht.U)(s=>GS(s)))}getNamedSvgIcon(t,i=""){const r=zB(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(t,l):Yo(VB(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,ct.of)(GS(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,ht.U)(i=>GS(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?(0,ct.of)(r):IB(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(kr(h=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,l.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(_)),(0,ct.of)(null)})))).pipe((0,ht.U)(()=>{const l=this._extractIconWithNameFromAnySet(t,i);if(!l)throw VB(t);return l}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const l=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(l,t,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Pn.b)(i=>t.svgText=i),(0,ht.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,ct.of)(null):this._fetchIcon(t).pipe((0,Pn.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const l=s.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const h=this._svgElementFromString($E("<svg></svg>"));return h.appendChild(l),this._setSvgAttributes(h,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString($E("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:l,value:h}=r[s];"id"!==l&&i.setAttribute(l,h)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function L5(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,i);if(!l)throw UB(i);const h=this._inProgressUrlFetches.get(l);if(h)return h;const m=this._httpClient.get(l,{responseType:"text",withCredentials:s}).pipe((0,ht.U)(_=>$E(_)),ul(()=>this._inProgressUrlFetches.delete(l)),(0,M0.B)());return this._inProgressUrlFetches.set(l,m),m}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(zB(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return V5(s)?new l_(s.url,null,s.options):new l_(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(eP,8),c.LFG(ba),c.LFG(ae,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GS(n){return n.cloneNode(!0)}function zB(n,e){return n+":"+e}function V5(n){return!(!n.url||!n.options)}const U5=VS(class{constructor(n){this._elementRef=n}}),H5=new c.OlP("MAT_ICON_DEFAULT_OPTIONS"),z5=new c.OlP("mat-icon-location",{providedIn:"root",factory:function j5(){const n=(0,c.f3M)(ae),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),jB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$5=jB.map(n=>`[${n}]`).join(", "),G5=/^url\(['"]?#(.*?)['"]?\)$/;let nP=(()=>{class n extends U5{get inline(){return this._inline}set inline(t){this._inline=Kn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,s,l,h){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Hr.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(l=>{s.setAttribute(l.name,`url('${t}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll($5),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)jB.forEach(l=>{const h=i[s],m=h.getAttribute(l),_=m?m.match(G5):null;if(_){let b=r.get(h);b||(b=[],r.set(h,b)),b.push({name:l,value:_[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(gi(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36($S),c.$8M("aria-hidden"),c.Y36(z5),c.Y36(c.qLn),c.Y36(H5,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:N5,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),q5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ci,ci]}),n})();const W5=["mat-button",""],$B=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],GB=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Y5=["mat-fab",""],K5=["mat-icon-button",""],Q5=["*"],qB={capture:!0},WB=["focus","click","mouseenter","touchstart"],GE="mat-button-ripple-uninitialized";let X5=(()=>{class n{constructor(){this._document=(0,c.f3M)(ae,{optional:!0}),this._animationMode=(0,c.f3M)(c.QbO,{optional:!0}),this._globalRippleOptions=(0,c.f3M)(HE,{optional:!0}),this._platform=(0,c.f3M)(ei),this._ngZone=(0,c.f3M)(c.R0b),this._onInteraction=t=>{if(t.target===this._document)return;const r=t.target.closest(`[${GE}]`);r&&(r.removeAttribute(GE),this._appendRipple(r))},this._ngZone.runOutsideAngular(()=>{for(const t of WB)this._document?.addEventListener(t,this._onInteraction,qB)})}ngOnDestroy(){for(const t of WB)this._document?.removeEventListener(t,this._onInteraction,qB)}_appendRipple(t){if(!this._document)return;const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const r=new J5(t,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);r.rippleConfig.centered=t.hasAttribute("mat-icon-button"),new s_(r,this._ngZone,i,this._platform).setupTriggerEvents(t),t.append(i)}_createMatRipple(t){if(!this._document)return;t.querySelector(".mat-mdc-button-ripple")?.remove(),t.removeAttribute(GE);const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const r=new CB(new c.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=t,t.append(i),r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class J5{constructor(e,t,i){this._button=e,this._globalRippleOptions=t,this._setRippleConfig(t,i)}_setRippleConfig(e,t){this.rippleConfig=e||{},"NoopAnimations"===t&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const eq=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],tq=VS(gB(_B(class{constructor(n){this._elementRef=n}})));let iP=(()=>{class n extends tq{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(t){this._ripple=t}constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,c.f3M)(BE),this._rippleLoader=(0,c.f3M)(X5),this._isFab=!1;const l=t.nativeElement.classList;for(const h of eq)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(m=>{l.add(m)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,features:[c.qOj,c.TTD]}),n})(),iq=(()=>{class n extends iP{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ei),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:W5,ngContentSelectors:GB,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(c.F$t($B),c._UZ(0,"span",0),c.Hsn(1),c.TgZ(2,"span",1),c.Hsn(3,1),c.qZA(),c.Hsn(4,2),c._UZ(5,"span",2)(6,"span",3)),2&t&&c.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})();const rq=new c.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:ZB});function ZB(){return{color:"accent"}}const YB=ZB();let sq=(()=>{class n extends iP{get extended(){return this._extended}set extended(t){this._extended=Kn(t)}constructor(t,i,r,s,l){super(t,i,r,s),this._options=l,this._isFab=!0,this._options=this._options||YB,this.color=this.defaultColor=this._options.color||YB.color}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ei),c.Y36(c.R0b),c.Y36(c.QbO,8),c.Y36(rq,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-fab",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:11,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0)("mdc-fab--extended",i.extended)("mat-mdc-extended-fab",i.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[c.qOj],attrs:Y5,ngContentSelectors:GB,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(c.F$t($B),c._UZ(0,"span",0),c.Hsn(1),c.TgZ(2,"span",1),c.Hsn(3,1),c.qZA(),c.Hsn(4,2),c._UZ(5,"span",2)(6,"span",3)),2&t&&c.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),n})(),KB=(()=>{class n extends iP{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ei),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:K5,ngContentSelectors:Q5,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(c.F$t(),c._UZ(0,"span",0),c.Hsn(1),c._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),oq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ci,qO,ci]}),n})();const QB=["*"];class lq{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,t){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=t.map(i=>this._trackTile(i))}_trackTile(e){const t=this._findMatchingGap(e.colspan);return this._markTilePosition(t,e),this.columnIndex=t+e.colspan,new cq(this.rowIndex,t)}_findMatchingGap(e){let t=-1,i=-1;do{this.columnIndex+e>this.tracker.length?(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)):(t=this.tracker.indexOf(0,this.columnIndex),-1!=t?(i=this._findGapEndIndex(t),this.columnIndex=t+1):(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)))}while(i-t<e||0==i);return Math.max(t,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let t=e+1;t<this.tracker.length;t++)if(0!=this.tracker[t])return t;return this.tracker.length}_markTilePosition(e,t){for(let i=0;i<t.colspan;i++)this.tracker[e+i]=t.rowspan}}class cq{constructor(e,t){this.row=e,this.col=t}}const XB=new c.OlP("MAT_GRID_LIST");let JB=(()=>{class n{constructor(t,i){this._element=t,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(Ra(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(Ra(t))}_setStyle(t,i){this._element.nativeElement.style[t]=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(XB,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,i){2&t&&c.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:QB,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})();const dq=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class rP{constructor(){this._rows=0,this._rowspan=0}init(e,t,i,r){this._gutterSize=eV(e),this._rows=t.rowCount,this._rowspan=t.rowspan,this._cols=i,this._direction=r}getBaseTileSize(e,t){return`(${e}% - (${this._gutterSize} * ${t}))`}getTilePosition(e,t){return 0===t?"0":c_(`(${e} + ${this._gutterSize}) * ${t}`)}getTileSize(e,t){return`(${e} * ${t}) + (${t-1} * ${this._gutterSize})`}setStyle(e,t,i){let r=100/this._cols,s=(this._cols-1)/this._cols;this.setColStyles(e,i,r,s),this.setRowStyles(e,t,r,s)}setColStyles(e,t,i,r){let s=this.getBaseTileSize(i,r);e._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(s,t)),e._setStyle("width",c_(this.getTileSize(s,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}}class uq extends rP{constructor(e){super(),this.fixedRowHeight=e}init(e,t,i,r){super.init(e,t,i,r),this.fixedRowHeight=eV(this.fixedRowHeight),dq.test(this.fixedRowHeight)}setRowStyles(e,t){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,t)),e._setStyle("height",c_(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",c_(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class hq extends rP{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,t,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,t)),e._setStyle("paddingTop",c_(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",c_(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(e){const t=e.split(":");this.rowHeightRatio=parseFloat(t[0])/parseFloat(t[1])}}class fq extends rP{setRowStyles(e,t){let s=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);e._setStyle("top",this.getTilePosition(s,t)),e._setStyle("height",c_(this.getTileSize(s,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function c_(n){return`calc(${n})`}function eV(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let pq=(()=>{class n{constructor(t,i){this._element=t,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(Ra(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${t??""}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const i=`${t??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new fq:t&&t.indexOf(":")>-1?new hq(t):new uq(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new lq);const t=this._tileCoordinator,i=this._tiles.filter(s=>!s._gridList||s._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,t,this.cols,r),i.forEach((s,l)=>{const h=t.positions[l];this._tileStyler.setStyle(s,h.row,h.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Ab,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,JB,5),2&t){let s;c.iGM(s=c.CRH())&&(i._tiles=s)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[c._Bn([{provide:XB,useExisting:n}])],ngContentSelectors:QB,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div"),c.Hsn(1),c.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})(),gq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[vB,ci,vB,ci]}),n})();var tV=B(1954);let sP,_q=1;const qS={};function nV(n){return n in qS&&(delete qS[n],!0)}const vq={setImmediate(n){const e=_q++;return qS[e]=!0,sP||(sP=Promise.resolve()),sP.then(()=>nV(e)&&n()),e},clearImmediate(n){nV(n)}},{setImmediate:yq,clearImmediate:bq}=vq,WS={setImmediate(...n){const{delegate:e}=WS;return(e?.setImmediate||yq)(...n)},clearImmediate(n){const{delegate:e}=WS;return(e?.clearImmediate||bq)(n)},delegate:void 0};var iV=B(2631);const oP=new class xq extends iV.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class wq extends tV.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=WS.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(WS.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function rV(n,e){return e?t=>is(e.pipe(gi(1),function Eq(){return(0,ji.e)((n,e)=>{n.subscribe((0,Ii.x)(e,Zu.Z))})}()),t.pipe(rV(n))):(0,Ti.z)((t,i)=>(0,Eo.Xf)(n(t,i)).pipe(gi(1),Ta(t)))}var Cq=B(671);function sV(n=0,e,t=fd.P){let i=-1;return null!=e&&((0,Cq.K)(e)?t=e:i=e),new pi.y(r=>{let s=function Iq(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let l=0;return t.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function oV(n,e=fd.z){const t=sV(n,e);return rV(()=>t)}class aP{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Tq extends aP{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class lP extends aP{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Dq extends aP{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class aV{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Tq?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof lP?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Dq?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Sq extends aV{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const h=l.element,m=this._document.createComment("dom-portal");h.parentNode.insertBefore(m,h),this.outletElement.appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Aq=(()=>{class n extends aV{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=s=>{const l=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),l.parentNode.insertBefore(h,l),this._getRootNode().appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(l,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),l=i.createComponent(s,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=t,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(ae))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),lV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var Mq=B(4266);const kq=["addListener","removeListener"],Rq=["addEventListener","removeEventListener"],Oq=["on","off"];function qE(n,e,t,i){if((0,Mr.m)(t)&&(i=t,t=void 0),i)return qE(n,e,t).pipe(Ea(i));const[r,s]=function Fq(n){return(0,Mr.m)(n.addEventListener)&&(0,Mr.m)(n.removeEventListener)}(n)?Rq.map(l=>h=>n[l](e,h,t)):function Pq(n){return(0,Mr.m)(n.addListener)&&(0,Mr.m)(n.removeListener)}(n)?kq.map(cV(n,e)):function Nq(n){return(0,Mr.m)(n.on)&&(0,Mr.m)(n.off)}(n)?Oq.map(cV(n,e)):[];if(!r&&(0,Mq.z)(n))return(0,Ti.z)(l=>qE(l,e,t))((0,Eo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new pi.y(l=>{const h=(...m)=>l.next(1<m.length?m:m[0]);return r(h),()=>s(h)})}function cV(n,e){return t=>i=>n[t](e,i)}const WE={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=WE;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Hr.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=WE;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=WE;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class Bq extends iV.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Lq extends tV.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=WE.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(WE.cancelAnimationFrame(t),e._scheduled=void 0)}});function dV(n,e=fd.z){return function Uq(n){return(0,ji.e)((e,t)=>{let i=!1,r=null,s=null,l=!1;const h=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const _=r;r=null,t.next(_)}l&&t.complete()},m=()=>{s=null,l&&t.complete()};e.subscribe((0,Ii.x)(t,_=>{i=!0,r=_,s||(0,Eo.Xf)(n(_)).subscribe(s=(0,Ii.x)(t,h,m))},()=>{l=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>sV(n,e))}let ZS=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new kt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new pi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(dV(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ct.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(bn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=hd(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>qE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(ei),c.LFG(ae,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZE=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new kt.x,this._elementScrolled=new pi.y(l=>this.ngZone.runOutsideAngular(()=>qE(this.elementRef.nativeElement,"scroll").pipe(Di(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=kp()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==kp()?t.left=t.right:1==kp()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;AI()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==t?t=l?r:i:"end"==t&&(t=l?i:r),l&&2==kp()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:l&&1==kp()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ZS),c.Y36(c.R0b),c.Y36(Ab,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),cP=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new kt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(dV(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ei),c.LFG(c.R0b),c.LFG(ae,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),uV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[VE,YE,VE,YE]}),n})();const hV=AI();class jq{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Or(-this._previousScrollPosition.left),e.style.top=Or(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),hV&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),hV&&(i.scrollBehavior=s,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class $q{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(bn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class fV{enable(){}disable(){}attach(){}}function dP(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function mV(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Gq{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();dP(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let qq=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new fV,this.close=l=>new $q(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new jq(this._viewportRuler,this._document),this.reposition=l=>new Gq(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ZS),c.LFG(cP),c.LFG(c.R0b),c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pV{constructor(e){if(this.scrollStrategy=new fV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Wq{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let gV=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zq=(()=>{class n extends gV{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const h=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ae),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yq=(()=>{class n extends gV{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Yu(s)},this._clickListener=s=>{const l=Yu(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let _=m.length-1;_>-1;_--){const b=m[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(l)||b.overlayElement.contains(h))break;const D=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(s)):D.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ae),c.LFG(ei),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_V=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||T0()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),T0()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ae),c.LFG(ei))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Kq{constructor(e,t,i,r,s,l,h,m,_,b=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=l,this._document=h,this._location=m,this._outsideClickDispatcher=_,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new kt.x,this._attachments=new kt.x,this._detachments=new kt.x,this._locationChanges=Hr.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new kt.x,this._outsidePointerEvents=new kt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(gi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Or(this._config.width),e.height=Or(this._config.height),e.minWidth=Or(this._config.minWidth),e.minHeight=Or(this._config.minHeight),e.maxWidth=Or(this._config.maxWidth),e.maxHeight=Or(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=bv(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Di((0,Es.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const vV="cdk-overlay-connected-position-bounding-box",Qq=/([A-Za-z%]+)$/;class Xq{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new kt.x,this._resizeSubscription=Hr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(vV),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let l;for(let h of this._preferredPositions){let m=this._getOriginPoint(e,r,h),_=this._getOverlayPoint(m,t,h),b=this._getOverlayFit(_,t,i,h);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(b,_,i)?s.push({position:h,origin:m,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!l||l.overlayFit.visibleArea<b.visibleArea)&&(l={overlayFit:b,overlayPoint:_,originPoint:m,position:h,overlayRect:t})}if(s.length){let h=null,m=-1;for(const _ of s){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>m&&(m=b,h=_)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&d_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(vV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?l:h}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=bV(t);let{x:l,y:h}=e,m=this._getOffset(r,"x"),_=this._getOffset(r,"y");m&&(l+=m),_&&(h+=_);let k=0-h,L=h+s.height-i.height,j=this._subtractOverflows(s.width,0-l,l+s.width-i.width),Y=this._subtractOverflows(s.height,k,L),se=j*Y;return{visibleArea:se,isCompletelyWithinViewport:s.width*s.height===se,fitsInViewportVertically:Y===s.height,fitsInViewportHorizontally:j==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,l=yV(this._overlayRef.getConfig().minHeight),h=yV(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=l&&l<=r)&&(e.fitsInViewportHorizontally||null!=h&&h<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=bV(t),s=this._viewportRect,l=Math.max(e.x+r.width-s.width,0),h=Math.max(e.y+r.height-s.height,0),m=Math.max(s.top-i.top-e.y,0),_=Math.max(s.left-i.left-e.x,0);let b=0,D=0;return b=r.width<=s.width?_||-l:e.x<this._viewportMargin?s.left-i.left-e.x:0,D=r.height<=s.height?m||-h:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:b,y:D},{x:e.x+b,y:e.y+D}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Wq(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,l,h,b,D,k;if("top"===t.overlayY)l=e.y,s=i.height-l+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const L=Math.min(i.bottom-e.y+i.top,e.y),j=this._lastBoundingBoxSize.height;s=2*L,l=e.y-L,s>j&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-j/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)k=i.width-e.x+this._viewportMargin,b=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)D=e.x,b=i.right-e.x;else{const L=Math.min(i.right-e.x+i.left,e.x),j=this._lastBoundingBoxSize.width;b=2*L,D=e.x-L,b>j&&!this._isInitialRender&&!this._growAfterOpen&&(D=e.x-j/2)}return{top:l,left:D,bottom:h,right:k,width:b,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=Or(i.height),r.top=Or(i.top),r.bottom=Or(i.bottom),r.width=Or(i.width),r.left=Or(i.left),r.right=Or(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Or(s)),l&&(r.maxWidth=Or(l))}this._lastBoundingBoxSize=i,d_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){d_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){d_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();d_(i,this._getExactOverlayY(t,e,b)),d_(i,this._getExactOverlayX(t,e,b))}else i.position="static";let h="",m=this._getOffset(t,"x"),_=this._getOffset(t,"y");m&&(h+=`translateX(${m}px) `),_&&(h+=`translateY(${_}px)`),i.transform=h.trim(),l.maxHeight&&(r?i.maxHeight=Or(l.maxHeight):s&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=Or(l.maxWidth):s&&(i.maxWidth="")),d_(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Or(s.y),r}_getExactOverlayX(e,t,i){let l,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Or(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mV(e,i),isOriginOutsideView:dP(e,i),isOverlayClipped:mV(t,i),isOverlayOutsideView:dP(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&bv(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function d_(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function yV(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Qq);return t&&"px"!==t?null:parseFloat(e)}return n||null}function bV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const wV="cdk-global-overlay-wrapper";class Jq{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(wV),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:l,maxHeight:h}=i,m=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),_=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),b=this._xPosition,D=this._xOffset,k="rtl"===this._overlayRef.getConfig().direction;let L="",j="",Y="";m?Y="flex-start":"center"===b?(Y="center",k?j=D:L=D):k?"left"===b||"end"===b?(Y="flex-end",L=D):("right"===b||"start"===b)&&(Y="flex-start",j=D):"left"===b||"start"===b?(Y="flex-start",L=D):("right"===b||"end"===b)&&(Y="flex-end",j=D),e.position=this._cssPosition,e.marginLeft=m?"0":L,e.marginTop=_?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=m?"0":j,t.justifyContent=Y,t.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(wV),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let eW=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new Jq}flexibleConnectedTo(t){return new Xq(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(cP),c.LFG(ae),c.LFG(ei),c.LFG(_V))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tW=0,YS=(()=>{class n{constructor(t,i,r,s,l,h,m,_,b,D,k,L){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=h,this._ngZone=m,this._document=_,this._directionality=b,this._location=D,this._outsideClickDispatcher=k,this._animationsModuleType=L}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),l=new pV(t);return l.direction=l.direction||this._directionality.value,new Kq(s,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+tW++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new Sq(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qq),c.LFG(_V),c.LFG(c._Vd),c.LFG(eW),c.LFG(Zq),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(ae),c.LFG(Ab),c.LFG(Qe),c.LFG(Yq),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rW={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[YS],useFactory:function iW(n){return()=>n.scrollStrategies.reposition()}};let sW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[YS,rW],imports:[VE,lV,uV,uV]}),n})();const oW=["mat-menu-item",""];function aW(n,e){1&n&&(c.O4$(),c.TgZ(0,"svg",3),c._UZ(1,"polygon",4),c.qZA())}const lW=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],cW=["mat-icon, [matMenuItemIcon]","*"];function dW(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",0),c.NdJ("keydown",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s._handleKeydown(r))})("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){c.CHM(t);const s=c.oxw();return c.KtG(s._onAnimationDone(r))}),c.TgZ(1,"div",1),c.Hsn(2),c.qZA()()}if(2&n){const t=c.oxw();c.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),c.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const uW=["*"],uP=new c.OlP("MAT_MENU_PANEL"),hW=_B(gB(class{}));let KS=(()=>{class n extends hW{constructor(t,i,r,s,l){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new kt.x,this._focused=new kt.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ae),c.Y36(BE),c.Y36(uP,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(t,i){1&t&&c.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(c.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),c.ekj("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[c.qOj],attrs:oW,ngContentSelectors:cW,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(c.F$t(lW),c.Hsn(0),c.TgZ(1,"span",0),c.Hsn(2,1),c.qZA(),c._UZ(3,"div",1),c.YNc(4,aW,2,0,"svg",2)),2&t&&(c.xp6(3),c.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),c.xp6(1),c.Q6J("ngIf",i._triggersSubmenu))},dependencies:[hr,CB],encapsulation:2,changeDetection:0}),n})();const fW=new c.OlP("MatMenuContent"),QS={transformMenu:r_("transformMenu",[Sl("void",Ms({opacity:0,transform:"scale(0.8)"})),zd("void => enter",Hd("120ms cubic-bezier(0, 0, 0.2, 1)",Ms({opacity:1,transform:"scale(1)"}))),zd("* => void",Hd("100ms 25ms linear",Ms({opacity:0})))]),fadeInItems:r_("fadeInItems",[Sl("showing",Ms({opacity:1})),zd("void => *",[Ms({opacity:0}),Hd("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let mW=0;const xV=new c.OlP("mat-menu-default-options",{providedIn:"root",factory:function pW(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let KE=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Kn(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Kn(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,i,r,s){this._elementRef=t,this._ngZone=i,this._changeDetectorRef=s,this._directDescendantItems=new c.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new kt.x,this.closed=new c.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+mW++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this._overlapTrigger=r.overlapTrigger,this._hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new aB(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(vr(this._directDescendantItems),(0,Zn.w)(t=>(0,Es.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(vr(this._directDescendantItems),(0,Zn.w)(i=>(0,Es.T)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:LE(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(gi(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(vr(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(xV),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,fW,5),c.Suo(r,KS,5),c.Suo(r,KS,4)),2&t){let s;c.iGM(s=c.CRH())&&(i.lazyContent=s.first),c.iGM(s=c.CRH())&&(i._allItems=s),c.iGM(s=c.CRH())&&(i.items=s)}},viewQuery:function(t,i){if(1&t&&c.Gf(c.Rgc,5),2&t){let r;c.iGM(r=c.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),gW=(()=>{class n extends KE{constructor(t,i,r,s){super(t,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(xV),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(t,i){2&t&&c.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[c._Bn([{provide:uP,useExisting:n}]),c.qOj],ngContentSelectors:uW,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(t,i){1&t&&(c.F$t(),c.YNc(0,dW,3,6,"ng-template"))},dependencies:[Ir],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mdc-list-item__primary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[QS.transformMenu,QS.fadeInItems]},changeDetection:0}),n})();const EV=new c.OlP("mat-menu-scroll-strategy"),vW={provide:EV,deps:[YS],useFactory:function _W(n){return()=>n.scrollStrategies.reposition()}},CV=pd({passive:!0});let yW=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,i,r,s,l,h,m,_,b){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=m,this._focusMonitor=_,this._ngZone=b,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Hr.w0.EMPTY,this._hoverSubscription=Hr.w0.EMPTY,this._menuCloseSubscription=Hr.w0.EMPTY,this._changeDetectorRef=(0,c.f3M)(c.sBO),this._handleTouchStart=D=>{$O(D)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new c.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new c.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=l instanceof KE?l:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,CV)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,CV),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),s=r.positionStrategy;this._setPosition(t,s),r.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof KE&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Di(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof KE?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(bn(r=>"void"===r.toState),gi(1),Di(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new pV({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",l="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,l)):t.setPositionClasses(s,l)})}_setPosition(t,i){let[r,s]="before"===t.xPosition?["end","start"]:["start","end"],[l,h]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[m,_]=[l,h],[b,D]=[r,s],k=0;if(this.triggersSubmenu()){if(D=r="before"===t.xPosition?"start":"end",s=b="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const L=this._parentMaterialMenu.items.first;this._parentInnerPadding=L?L._getHostElement().offsetTop:0}k="bottom"===l?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(m="top"===l?"bottom":"top",_="top"===h?"bottom":"top");i.withPositions([{originX:r,originY:m,overlayX:b,overlayY:l,offsetY:k},{originX:s,originY:m,overlayX:D,overlayY:l,offsetY:k},{originX:r,originY:_,overlayX:b,overlayY:h,offsetY:-k},{originX:s,originY:_,overlayX:D,overlayY:h,offsetY:-k}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,ct.of)(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(bn(l=>l!==this._menuItemInstance),bn(()=>this._menuOpen)):(0,ct.of)();return(0,Es.T)(t,r,s,i)}_handleMousedown(t){jO(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(bn(t=>t===this._menuItemInstance&&!t.disabled),oV(0,oP)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof KE&&this.menu._isAnimating?this.menu._animationDone.pipe(gi(1),oV(0,oP),Di(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new lP(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(YS),c.Y36(c.SBq),c.Y36(c.s_b),c.Y36(EV),c.Y36(uP,8),c.Y36(KS,10),c.Y36(Ab,8),c.Y36(BE),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,hostVars:3,hostBindings:function(t,i){1&t&&c.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&t&&c.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),bW=(()=>{class n extends yW{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[c.qOj]}),n})(),wW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[vW],imports:[er,qO,ci,sW,YE,ci]}),n})();function xW(n,e){if(1&n&&(c.TgZ(0,"mat-grid-tile",11)(1,"mat-card",12)(2,"mat-card-header")(3,"mat-card-title"),c._uU(4),c.TgZ(5,"button",13)(6,"mat-icon"),c._uU(7,"more_vert"),c.qZA()(),c.TgZ(8,"mat-menu",14,15)(10,"button",16),c._uU(11,"Expand"),c.qZA(),c.TgZ(12,"button",16),c._uU(13,"Remove"),c.qZA()()()(),c.TgZ(14,"mat-card-content",17)(15,"div"),c._uU(16,"Card Content Here"),c.qZA()()()()),2&n){const t=e.$implicit,i=c.MAs(9);c.Q6J("colspan",t.cols)("rowspan",t.rows),c.xp6(4),c.hij(" ",t.title," "),c.xp6(1),c.Q6J("matMenuTriggerFor",i)}}function EW(n,e){if(1&n&&(c.TgZ(0,"div",18)(1,"div",19)(2,"div",20),c._UZ(3,"img",21),c.TgZ(4,"div",22)(5,"h1"),c._uU(6,"Hello: "),c.TgZ(7,"strong"),c._uU(8),c.qZA()(),c.TgZ(9,"p"),c._uU(10,"User ID: "),c.TgZ(11,"strong"),c._uU(12),c.qZA()(),c.TgZ(13,"p"),c._uU(14,"Email: "),c.TgZ(15,"strong"),c._uU(16),c.qZA()(),c.TgZ(17,"p"),c._uU(18,"Email Verified: "),c.TgZ(19,"strong"),c._uU(20),c.qZA()()()()()()),2&n){const t=e.ngIf;c.xp6(3),c.s9C("src",t.photoURL?t.photoURL:"/assets/dummy-user.png",c.LSH),c.s9C("alt",t.displayName),c.xp6(5),c.Oqu(t.displayName?t.displayName:"User"),c.xp6(4),c.Oqu(t.uid),c.xp6(4),c.Oqu(t.email),c.xp6(4),c.Oqu(t.emailVerified)}}let CW=(()=>{class n{constructor(){this.authService=(0,c.f3M)(Sm),this.helperService=(0,c.f3M)(LS),this.breakpointObserver=(0,c.f3M)(S0),this.cards=this.breakpointObserver.observe(OI_Handset).pipe((0,ht.U)(({matches:t})=>t?[{title:"Card 1",cols:1,rows:1},{title:"Card 2",cols:1,rows:1},{title:"Card 3",cols:1,rows:1},{title:"Card 4",cols:1,rows:1}]:[{title:"Card 1",cols:2,rows:1},{title:"Card 2",cols:1,rows:1},{title:"Card 3",cols:1,rows:2},{title:"Card 4",cols:1,rows:1}])),this.helperService.setMenuVisible(!0)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dashboard"]],decls:15,vars:4,consts:[[1,"grid-container"],[1,"mat-h1"],["cols","2","rowHeight","350px"],[3,"colspan","rowspan",4,"ngFor","ngForOf"],["role","main",1,"col-md-9","ml-sm-auto","col-lg-10","px-4"],[1,"inner-adjust"],[1,"pt-3","pb-2","mb-3","border-bottom"],[1,"h2"],[1,"nav-link",3,"click"],[1,"fas","fa-sign-out-alt"],["class","row",4,"ngIf"],[3,"colspan","rowspan"],[1,"dashboard-card"],["mat-icon-button","","aria-label","Toggle menu",1,"more-button",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item",""],[1,"dashboard-card-content"],[1,"row"],[1,"col-md-12"],[1,"media"],[1,"align-self-start","mr-5","img-thumbnail","rounded-circle",3,"src","alt"],[1,"media-body"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"h1",1),c._uU(2,"Dashboard"),c.qZA(),c.TgZ(3,"mat-grid-list",2),c.YNc(4,xW,17,4,"mat-grid-tile",3),c.ALo(5,"async"),c.qZA()(),c.TgZ(6,"main",4)(7,"div",5)(8,"div",6)(9,"h1",7),c._uU(10,"User Profile "),c.TgZ(11,"a",8),c.NdJ("click",function(){return i.authService.signOut()}),c._UZ(12,"i",9),c._uU(13,"Log out "),c.qZA()()(),c.YNc(14,EW,21,6,"div",10),c.qZA()()),2&t&&(c.xp6(4),c.Q6J("ngForOf",c.lcZ(5,2,i.cards)),c.xp6(10),c.Q6J("ngIf",i.authService.userData))},dependencies:[Mc,hr,WO,YO,KO,ZO,nP,KB,pq,JB,gW,KS,bW,Oc],styles:[".grid-container[_ngcontent-%COMP%]{margin:20px}.dashboard-card[_ngcontent-%COMP%]{position:absolute;inset:15px}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.dashboard-card-content[_ngcontent-%COMP%]{text-align:center}"]}),n})(),IV=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),u_=(()=>{class n extends IV{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Cc=new c.OlP("NgValueAccessor"),TW={provide:Cc,useExisting:(0,c.Gpc)(()=>XS),multi:!0},SW=new c.OlP("CompositionEventMode");let XS=(()=>{class n extends IV{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function DW(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(SW,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[c._Bn([TW]),c.qOj]}),n})();function Mm(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function DV(n){return null!=n&&"number"==typeof n.length}const fo=new c.OlP("NgValidators"),km=new c.OlP("NgAsyncValidators"),AW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class JS{static min(e){return function SV(n){return e=>{if(Mm(e.value)||Mm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function AV(n){return e=>{if(Mm(e.value)||Mm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return MV(e)}static requiredTrue(e){return function kV(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function RV(n){return Mm(n.value)||AW.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function OV(n){return e=>Mm(e.value)||!DV(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function PV(n){return e=>DV(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function NV(n){if(!n)return eA;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Mm(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return HV(e)}static composeAsync(e){return zV(e)}}function MV(n){return Mm(n.value)?{required:!0}:null}function eA(n){return null}function FV(n){return null!=n}function LV(n){return(0,c.QGY)(n)?(0,hn.D)(n):n}function BV(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function VV(n,e){return e.map(t=>t(n))}function UV(n){return n.map(e=>function MW(n){return!n.validate}(e)?e:t=>e.validate(t))}function HV(n){if(!n)return null;const e=n.filter(FV);return 0==e.length?null:function(t){return BV(VV(t,e))}}function hP(n){return null!=n?HV(UV(n)):null}function zV(n){if(!n)return null;const e=n.filter(FV);return 0==e.length?null:function(t){return IB(VV(t,e).map(LV)).pipe((0,ht.U)(BV))}}function fP(n){return null!=n?zV(UV(n)):null}function jV(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function $V(n){return n._rawValidators}function GV(n){return n._rawAsyncValidators}function mP(n){return n?Array.isArray(n)?n:[n]:[]}function tA(n,e){return Array.isArray(n)?n.includes(e):n===e}function qV(n,e){const t=mP(e);return mP(n).forEach(r=>{tA(t,r)||t.push(r)}),t}function WV(n,e){return mP(e).filter(t=>!tA(n,t))}class ZV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ro extends ZV{get formDirective(){return null}get path(){return null}}class Ah extends ZV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class YV{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let KV=(()=>{class n extends YV{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ah,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})(),QV=(()=>{class n extends YV{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ro,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[c.qOj]}),n})();const QE="VALID",iA="INVALID",Mb="PENDING",XE="DISABLED";function _P(n){return(rA(n)?n.validators:n)||null}function vP(n,e){return(rA(e)?e.asyncValidators:n)||null}function rA(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function JV(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[t])throw new c.vHH(1001,"")}function eU(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new c.vHH(1002,"")})}class sA{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===QE}get invalid(){return this.status===iA}get pending(){return this.status==Mb}get disabled(){return this.status===XE}get enabled(){return this.status!==XE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(WV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(WV(e,this._rawAsyncValidators))}hasValidator(e){return tA(this._rawValidators,e)}hasAsyncValidator(e){return tA(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Mb,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=XE,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=QE,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===QE||this.status===Mb)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?XE:QE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Mb,this._hasOwnPendingAsyncValidator=!0;const t=LV(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?XE:this.errors?iA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mb)?Mb:this._anyControlsHaveStatus(iA)?iA:QE}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rA(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function PW(n){return Array.isArray(n)?hP(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function NW(n){return Array.isArray(n)?fP(n):n||null}(this._rawAsyncValidators)}}class JE extends sA{constructor(e,t,i){super(_P(t),vP(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){eU(this,0,e),Object.keys(e).forEach(i=>{JV(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class tU extends JE{}const kb=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>oA}),oA="always";function eC(n,e,t=oA){yP(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function LW(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&nU(n,e)})}(n,e),function VW(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function BW(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&nU(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function FW(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function lA(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),dA(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function cA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function yP(n,e){const t=$V(n);null!==e.validator?n.setValidators(jV(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=GV(n);null!==e.asyncValidator?n.setAsyncValidators(jV(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();cA(e._rawValidators,r),cA(e._rawAsyncValidators,r)}function dA(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=$V(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=GV(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return cA(e._rawValidators,i),cA(e._rawAsyncValidators,i),t}function nU(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function iU(n,e){yP(n,e)}function rU(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const $W={provide:Ro,useExisting:(0,c.Gpc)(()=>uA)},tC=(()=>Promise.resolve())();let uA=(()=>{class n extends Ro{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new JE({},hP(t),fP(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){tC.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),eC(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){tC.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){tC.then(()=>{const i=this._findContainer(t.path),r=new JE({});iU(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){tC.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){tC.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,rU(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(fo,10),c.Y36(km,10),c.Y36(kb,8))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([$W]),c.qOj]}),n})();function sU(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function oU(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const nC=class extends sA{constructor(e=null,t,i){super(_P(t),vP(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rA(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=oU(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){oU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let uU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),fU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const EP=new c.OlP("NgModelWithFormControlWarning"),JW={provide:Ro,useExisting:(0,c.Gpc)(()=>iC)};let iC=(()=>{class n extends Ro{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return eC(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){lA(t.control||null,t,!1),function jW(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,rU(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(lA(i||null,t),(n=>n instanceof nC)(r)&&(eC(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);iU(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function UW(n,e){return dA(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yP(this.form,this),this._oldForm&&dA(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(fo,10),c.Y36(km,10),c.Y36(kb,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([JW]),c.qOj,c.TTD]}),n})();const n8={provide:Ah,useExisting:(0,c.Gpc)(()=>TP)};let TP=(()=>{class n extends Ah{set isDisabled(t){}constructor(t,i,r,s,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function xP(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===XS?t=s:function zW(n){return Object.getPrototypeOf(n.constructor)===u_}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function wP(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function aA(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(Ro,13),c.Y36(fo,10),c.Y36(km,10),c.Y36(Cc,10),c.Y36(EP,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([n8]),c.qOj,c.TTD]}),n})(),h_=(()=>{class n{constructor(){this._validator=eA}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):eA,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const u8={provide:fo,useExisting:(0,c.Gpc)(()=>hA),multi:!0};let hA=(()=>{class n extends h_{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.VuI,this.createValidator=t=>MV}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([u8]),c.qOj]}),n})(),_8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[fU]}),n})();class AU extends sA{constructor(e,t,i){super(_P(t),vP(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){eU(this,0,e),e.forEach((i,r)=>{JV(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function MU(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let v8=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return MU(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new JE(r,s)}record(t,i=null){const r=this._reduceControls(t);return new tU(r,i)}control(t,i,r){let s={};return this.useNonNullable?(MU(i)?s=i:(s.validators=i,s.asyncValidators=r),new nC(t,{...s,nonNullable:!0})):new nC(t,i,r)}array(t,i,r){const s=t.map(l=>this._createControl(l));return new AU(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof nC||t instanceof sA?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:EP,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:kb,useValue:t.callSetDisabledState??oA}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[_8]}),n})(),b8=(()=>{class n{constructor(){this.firestore=(0,c.f3M)(LO)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kU=pd({passive:!0});let w8=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ys.E;const i=hd(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new kt.x,l="cdk-text-field-autofilled",h=m=>{"cdk-text-field-autofill-start"!==m.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===m.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>s.next({target:m.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>s.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,kU),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,kU)}}),s}stopMonitoring(t){const i=hd(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ei),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class E8{constructor(e){this._box=e,this._destroyed=new kt.x,this._resizeSubject=new kt.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new pi.y(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(bn(t=>t.some(i=>i.target===e)),Iv({bufferSize:1,refCount:!0}),Di(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let C8=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,c.f3M)(c.R0b)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new E8(r)),this._observers.get(r).observe(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RU=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I8=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=hd(t);return new pi.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new kt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(RU))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OU=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=Kn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Ra(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Wu(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(I8),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),PU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[RU]}),n})();const T8=["notch"],D8=["matFormFieldNotchedOutline",""],S8=["*"],A8=["textField"],M8=["iconPrefixContainer"],k8=["textPrefixContainer"];function R8(n,e){1&n&&c._UZ(0,"span",19)}function O8(n,e){if(1&n&&(c.TgZ(0,"label",17),c.Hsn(1,1),c.YNc(2,R8,1,0,"span",18),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function P8(n,e){if(1&n&&c.YNc(0,O8,3,6,"label",16),2&n){const t=c.oxw();c.Q6J("ngIf",t._hasFloatingLabel())}}function N8(n,e){1&n&&c._UZ(0,"div",20)}function F8(n,e){}function L8(n,e){if(1&n&&c.YNc(0,F8,0,0,"ng-template",22),2&n){c.oxw(2);const t=c.MAs(1);c.Q6J("ngTemplateOutlet",t)}}function B8(n,e){if(1&n&&(c.TgZ(0,"div",21),c.YNc(1,L8,1,1,"ng-template",9),c.qZA()),2&n){const t=c.oxw();c.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),c.xp6(1),c.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function V8(n,e){1&n&&(c.TgZ(0,"div",23,24),c.Hsn(2,2),c.qZA())}function U8(n,e){1&n&&(c.TgZ(0,"div",25,26),c.Hsn(2,3),c.qZA())}function H8(n,e){}function z8(n,e){if(1&n&&c.YNc(0,H8,0,0,"ng-template",22),2&n){c.oxw();const t=c.MAs(1);c.Q6J("ngTemplateOutlet",t)}}function j8(n,e){1&n&&(c.TgZ(0,"div",27),c.Hsn(1,4),c.qZA())}function $8(n,e){1&n&&(c.TgZ(0,"div",28),c.Hsn(1,5),c.qZA())}function G8(n,e){1&n&&c._UZ(0,"div",29)}function q8(n,e){if(1&n&&(c.TgZ(0,"div",30),c.Hsn(1,6),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function W8(n,e){if(1&n&&(c.TgZ(0,"mat-hint",34),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function Z8(n,e){if(1&n&&(c.TgZ(0,"div",31),c.YNc(1,W8,2,2,"mat-hint",32),c.Hsn(2,7),c._UZ(3,"div",33),c.Hsn(4,8),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const Y8=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],K8=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let AP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),Q8=0;const NU=new c.OlP("MatError");let X8=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+Q8++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(c.$8M("aria-live"),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(t,i){2&t&&c.Ikx("id",i.id)},inputs:{id:"id"},features:[c._Bn([{provide:NU,useExisting:n}])]}),n})(),J8=0,FU=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+J8++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(c.Ikx("id",i.id),c.uIk("align",null),c.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const e9=new c.OlP("MatPrefix"),t9=new c.OlP("MatSuffix"),LU=new c.OlP("FloatingLabelParent");let BU=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,c.f3M)(C8),this._ngZone=(0,c.f3M)(c.R0b),this._parent=(0,c.f3M)(LU),this._resizeSubscription=new Hr.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function n9(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),n})();const VU="mdc-line-ripple--active",fA="mdc-line-ripple--deactivating";let UU=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,l=s.contains(fA);"opacity"===r.propertyName&&l&&s.remove(VU,fA)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(fA),t.add(VU)}deactivate(){this._elementRef.nativeElement.classList.add(fA)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),HU=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(t,i){if(1&t&&c.Gf(T8,5),2&t){let r;c.iGM(r=c.CRH())&&(i._notch=r.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mdc-notched-outline--notched",i.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:D8,ngContentSelectors:S8,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1,2),c.Hsn(3),c.qZA(),c._UZ(4,"div",3))},encapsulation:2,changeDetection:0}),n})();const i9={transitionMessages:r_("transitionMessages",[Sl("enter",Ms({opacity:1,transform:"translateY(0%)"})),zd("void => enter",[Ms({opacity:0,transform:"translateY(-5px)"}),Hd("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let zU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const jU=new c.OlP("MatFormField"),r9=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let $U=0,a9=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Kn(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,s,l,h,m,_){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=l,this._defaults=h,this._animationMode=m,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+$U++,this._hintLabelId="mat-mdc-hint-"+$U++,this._subscriptAnimationState="",this._destroyed=new kt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,h&&(h.appearance&&(this.appearance=h.appearance),this._hideRequiredMarker=!!h?.hideRequiredMarker,h.color&&(this.color=h.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Di(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Es.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Di(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Di(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(Ab),c.Y36(ei),c.Y36(r9,8),c.Y36(c.QbO,8),c.Y36(ae))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,AP,5),c.Suo(r,AP,7),c.Suo(r,zU,5),c.Suo(r,e9,5),c.Suo(r,t9,5),c.Suo(r,NU,5),c.Suo(r,FU,5)),2&t){let s;c.iGM(s=c.CRH())&&(i._labelChildNonStatic=s.first),c.iGM(s=c.CRH())&&(i._labelChildStatic=s.first),c.iGM(s=c.CRH())&&(i._formFieldControl=s.first),c.iGM(s=c.CRH())&&(i._prefixChildren=s),c.iGM(s=c.CRH())&&(i._suffixChildren=s),c.iGM(s=c.CRH())&&(i._errorChildren=s),c.iGM(s=c.CRH())&&(i._hintChildren=s)}},viewQuery:function(t,i){if(1&t&&(c.Gf(A8,5),c.Gf(M8,5),c.Gf(k8,5),c.Gf(BU,5),c.Gf(HU,5),c.Gf(UU,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._textField=r.first),c.iGM(r=c.CRH())&&(i._iconPrefixContainer=r.first),c.iGM(r=c.CRH())&&(i._textPrefixContainer=r.first),c.iGM(r=c.CRH())&&(i._floatingLabel=r.first),c.iGM(r=c.CRH())&&(i._notchedOutline=r.first),c.iGM(r=c.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&c.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:jU,useExisting:n},{provide:LU,useExisting:n}])],ngContentSelectors:K8,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(c.F$t(Y8),c.YNc(0,P8,1,1,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.NdJ("click",function(s){return i._control.onContainerClick(s)}),c.YNc(4,N8,1,0,"div",3),c.TgZ(5,"div",4),c.YNc(6,B8,2,2,"div",5),c.YNc(7,V8,3,0,"div",6),c.YNc(8,U8,3,0,"div",7),c.TgZ(9,"div",8),c.YNc(10,z8,1,1,"ng-template",9),c.Hsn(11),c.qZA(),c.YNc(12,j8,2,0,"div",10),c.YNc(13,$8,2,0,"div",11),c.qZA(),c.YNc(14,G8,1,0,"div",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,q8,2,1,"div",14),c.YNc(17,Z8,5,2,"div",15),c.qZA()),2&t&&(c.xp6(2),c.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),c.xp6(2),c.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),c.xp6(2),c.Q6J("ngIf",i._hasOutline()),c.xp6(1),c.Q6J("ngIf",i._hasIconPrefix),c.xp6(1),c.Q6J("ngIf",i._hasTextPrefix),c.xp6(2),c.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),c.xp6(2),c.Q6J("ngIf",i._hasTextSuffix),c.xp6(1),c.Q6J("ngIf",i._hasIconSuffix),c.xp6(1),c.Q6J("ngIf",!i._hasOutline()),c.xp6(1),c.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[hr,Bo,ha,Rc,FU,BU,HU,UU],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[i9.transitionMessages]},changeDetection:0}),n})(),MP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ci,er,PU,ci]}),n})();const l9=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),c9=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let d9=0;const u9=jG(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new kt.x}});let h9=(()=>{class n extends u9{get disabled(){return this._disabled}set disabled(t){this._disabled=Kn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(JS.required)??!1}set required(t){this._required=Kn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&wv().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Kn(t)}constructor(t,i,r,s,l,h,m,_,b,D){super(h,s,l,r),this._elementRef=t,this._platform=i,this._autofillMonitor=_,this._formField=D,this._uid="mat-input-"+d9++,this.focused=!1,this.stateChanges=new kt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(j=>wv().has(j)),this._iOSKeyupListener=j=>{const Y=j.target;!Y.value&&0===Y.selectionStart&&0===Y.selectionEnd&&(Y.setSelectionRange(1,1),Y.setSelectionRange(0,0))};const k=this._elementRef.nativeElement,L=k.nodeName.toLowerCase();this._inputValueAccessor=m||k,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=k.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){c9.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ei),c.Y36(Ah,10),c.Y36(uA,8),c.Y36(iC,8),c.Y36(GG),c.Y36(l9,10),c.Y36(w8),c.Y36(c.R0b),c.Y36(jU,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(c.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),c.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),c.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:zU,useExisting:n}]),c.qOj,c.TTD]}),n})(),f9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ci,MP,MP,x8,ci]}),n})();function m9(n,e){1&n&&c._UZ(0,"mat-error")}function p9(n,e){1&n&&c._UZ(0,"mat-error")}let g9=(()=>{class n{constructor(){this.userServices=(0,c.f3M)(b8),this.authService=(0,c.f3M)(Sm),this.toastrService=(0,c.f3M)(FS),this.helperService=(0,c.f3M)(LS),this.formBuilder=(0,c.f3M)(v8),this.handleError=(t,i)=>this.loginForm.controls[t].hasError(i),this.helperService.setMenuVisible(!1)}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",JS.required],password:["",JS.compose([JS.required])]})}onSubmit(){this.loginForm.invalid||this.authService.signIn(this.loginForm?.value.email,this.loginForm?.value.password)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:25,vars:4,consts:[[1,"row"],[1,"col-md-4"],[3,"formGroup","ngSubmit"],[1,"mt-3"],["appearance","outline"],["type","email","matInput","","formControlName","email","required",""],[4,"ngIf"],["type","password","matInput","","formControlName","password","required",""],[1,"button"],["color","primary","type","submit","mat-raised-button","",3,"disabled"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"div",1),c.TgZ(2,"div",1)(3,"mat-card")(4,"mat-card-header")(5,"mat-card-title"),c._uU(6,"Login"),c.qZA()(),c.TgZ(7,"mat-card-content")(8,"form",2),c.NdJ("ngSubmit",function(){return i.onSubmit()}),c.TgZ(9,"div",3)(10,"mat-form-field",4)(11,"mat-label"),c._uU(12,"Email"),c.qZA(),c._UZ(13,"input",5),c.YNc(14,m9,1,0,"mat-error",6),c.qZA()(),c.TgZ(15,"div",3)(16,"mat-form-field",4)(17,"mat-label"),c._uU(18,"Password"),c.qZA(),c._UZ(19,"input",7),c.YNc(20,p9,1,0,"mat-error",6),c.qZA()(),c.TgZ(21,"div",8)(22,"button",9),c._uU(23," Login "),c.qZA()()()()()(),c._UZ(24,"div",1),c.qZA()),2&t&&(c.xp6(8),c.Q6J("formGroup",i.loginForm),c.xp6(6),c.Q6J("ngIf",i.handleError("email","required")),c.xp6(6),c.Q6J("ngIf",i.handleError("password","required")),c.xp6(2),c.Q6J("disabled",!i.loginForm.valid))},dependencies:[hr,uU,XS,KV,QV,hA,iC,TP,WO,YO,KO,ZO,h9,a9,AP,X8,iq]}),n})(),_9=(()=>{class n{constructor(){this.authService=(0,c.f3M)(Sm)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-sign-up"]],decls:26,vars:0,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"formGroup"],["type","email","placeholder","Email Address","required","",1,"formControl"],["userEmail",""],["type","password","placeholder","Password","required","",1,"formControl"],["userPwd",""],["type","button","value","Sign Up",1,"btn","btnPrimary",3,"click"],[1,"or"],[1,"orInner"],["type","button",1,"btn","googleBtn",3,"click"],[1,"fab","fa-google-plus-g"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"]],template:function(t,i){if(1&t){const r=c.EpF();c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),c._uU(4,"Sign Up"),c.qZA(),c.TgZ(5,"div",3),c._UZ(6,"input",4,5),c.qZA(),c.TgZ(8,"div",3),c._UZ(9,"input",6,7),c.qZA(),c.TgZ(11,"div",3)(12,"input",8),c.NdJ("click",function(){c.CHM(r);const l=c.MAs(7),h=c.MAs(10);return c.KtG(i.authService.signUp(l.value,h.value))}),c.qZA()(),c.TgZ(13,"div",3)(14,"span",9)(15,"span",10),c._uU(16,"Or"),c.qZA()()(),c.TgZ(17,"div",3)(18,"button",11),c.NdJ("click",function(){return i.authService.googleAuth()}),c._UZ(19,"i",12),c._uU(20," Continue with Google "),c.qZA()()(),c.TgZ(21,"div",13)(22,"span"),c._uU(23,"Already have an account? "),c.TgZ(24,"span",14),c._uU(25,"Log In"),c.qZA()()()()()}},dependencies:[$u]}),n})(),v9=(()=>{class n{constructor(){this.authService=(0,c.f3M)(Sm)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-forgot-password"]],decls:17,vars:0,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"text-center"],[1,"formGroup"],["type","email","placeholder","Email Address","required","",1,"formControl"],["passwordResetEmail",""],["type","submit","value","Reset Password",1,"btn","btnPrimary",3,"click"],[1,"redirectToLogin"],["routerLink","/login",1,"redirect"]],template:function(t,i){if(1&t){const r=c.EpF();c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),c._uU(4,"Reset Password"),c.qZA(),c.TgZ(5,"p",3),c._uU(6,"Please enter your email address to request a password reset."),c.qZA(),c.TgZ(7,"div",4),c._UZ(8,"input",5,6),c.qZA(),c.TgZ(10,"div",4)(11,"input",7),c.NdJ("click",function(){c.CHM(r);const l=c.MAs(9);return c.KtG(i.authService.forgotPassword(l.value))}),c.qZA()()(),c.TgZ(12,"div",8)(13,"span"),c._uU(14,"Go back to ? "),c.TgZ(15,"span",9),c._uU(16,"Log In"),c.qZA()()()()()}},dependencies:[$u]}),n})();function y9(n,e){if(1&n&&(c.TgZ(0,"div",4)(1,"p",9),c._uU(2,"We have sent a confirmation email to "),c.TgZ(3,"strong"),c._uU(4),c.qZA(),c._uU(5,"."),c.qZA(),c.TgZ(6,"p",9),c._uU(7,"Please check your email and click on the link to verfiy your email address."),c.qZA()()),2&n){const t=e.ngIf;c.xp6(4),c.Oqu(t.email)}}const b9=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:g9},{path:"register-user",component:_9},{path:"dashboard",component:CW,canActivate:[(n,e)=>{const t=(0,c.f3M)(Sm),i=(0,c.f3M)(xs);return!0!==t.isLoggedIn&&i.navigate(["login"]),!0}]},{path:"forgot-password",component:v9},{path:"verify-email-address",component:(()=>{class n{constructor(){this.authService=(0,c.f3M)(Sm)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-verify-email"]],decls:15,vars:1,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],["class","formGroup",4,"ngIf"],[1,"formGroup"],["type","button",1,"btn","btnPrimary",3,"click"],[1,"fas","fa-redo-alt"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"],[1,"text-center"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),c._uU(4,"Thank You for Registering"),c.qZA(),c.YNc(5,y9,8,1,"div",3),c.TgZ(6,"div",4)(7,"button",5),c.NdJ("click",function(){return i.authService.sendVerificationMail()}),c._UZ(8,"i",6),c._uU(9," Resend Verification Email "),c.qZA()()(),c.TgZ(10,"div",7)(11,"span"),c._uU(12,"Go back to?"),c.TgZ(13,"span",8),c._uU(14," Sign in"),c.qZA()()()()()),2&t&&(c.xp6(5),c.Q6J("ngIf",i.authService.userData))},dependencies:[hr,$u]}),n})()},{path:"configuration/fuel-config",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-fuel-config"]],decls:5,vars:0,consts:[["mat-fab","","color","primary","aria-label","Add icon",1,"fab-button"]],template:function(t,i){1&t&&(c.TgZ(0,"p"),c._uU(1,"fuel-config works!"),c.qZA(),c.TgZ(2,"button",0)(3,"mat-icon"),c._uU(4,"add"),c.qZA()())},dependencies:[nP,sq],styles:[".fab-button[_ngcontent-%COMP%]{inset:auto 20px 10px auto!important;position:fixed!important}"]}),n})()}];let w9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[yv.forRoot(b9),yv]}),n})();const x9=["*",[["mat-toolbar-row"]]],E9=["*","mat-toolbar-row"],C9=VS(class{constructor(n){this._elementRef=n}});let I9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),T9=(()=>{class n extends C9{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ei),c.Y36(ae))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,I9,5),2&t){let s;c.iGM(s=c.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:E9,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(x9),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),D9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ci,ci]}),n})();const S9=["determinateSpinner"];function A9(n,e){if(1&n&&(c.O4$(),c.TgZ(0,"svg",11),c._UZ(1,"circle",12),c.qZA()),2&n){const t=c.oxw();c.uIk("viewBox",t._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),c.uIk("r",t._circleRadius())}}const M9=VS(class{constructor(n){this._elementRef=n}},"primary"),k9=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function R9(){return{diameter:WU}}}),WU=100;let P9=(()=>{class n extends M9{constructor(t,i,r){super(t),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=WU,this._noopAnimations="NoopAnimations"===i&&!!r&&!r._forceAnimations,r&&(r.color&&(this.color=this.defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Ra(t)))}get diameter(){return this._diameter}set diameter(t){this._diameter=Ra(t)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=Ra(t)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.QbO,8),c.Y36(k9))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,i){if(1&t&&c.Gf(S9,5),2&t){let r;c.iGM(r=c.CRH())&&(i._determinateCircle=r.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(t,i){2&t&&(c.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),c.Udp("width",i.diameter,"px")("height",i.diameter,"px")("--mdc-circular-progress-size",i.diameter+"px")("--mdc-circular-progress-active-indicator-width",i.diameter+"px"),c.ekj("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===i.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,i){if(1&t&&(c.YNc(0,A9,2,8,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.O4$(),c.TgZ(4,"svg",3),c._UZ(5,"circle",4),c.qZA()(),c.kcU(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7),c.GkF(9,8),c.qZA(),c.TgZ(10,"div",9),c.GkF(11,8),c.qZA(),c.TgZ(12,"div",10),c.GkF(13,8),c.qZA()()()),2&t){const r=c.MAs(1);c.xp6(4),c.uIk("viewBox",i._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),c.uIk("r",i._circleRadius()),c.xp6(4),c.Q6J("ngTemplateOutlet",r),c.xp6(2),c.Q6J("ngTemplateOutlet",r),c.xp6(2),c.Q6J("ngTemplateOutlet",r)}},dependencies:[Bo],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),N9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[er,ci]}),n})();const mA=["*"],F9=["content"];function L9(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r._onBackdropClicked())}),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function B9(n,e){1&n&&(c.TgZ(0,"mat-drawer-content"),c.Hsn(1,2),c.qZA())}const V9=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],U9=["mat-drawer","mat-drawer-content","*"];function H9(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r._onBackdropClicked())}),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function z9(n,e){1&n&&(c.TgZ(0,"mat-sidenav-content"),c.Hsn(1,2),c.qZA())}const j9=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],$9=["mat-sidenav","mat-sidenav-content","*"],ZU={transformDrawer:r_("transform",[Sl("open, open-instant",Ms({transform:"none",visibility:"visible"})),Sl("void",Ms({"box-shadow":"none",visibility:"hidden"})),zd("void => open-instant",Hd("0ms")),zd("void <=> open, open-instant => void",Hd("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},q9=new c.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function W9(){return!1}}),kP=new c.OlP("MAT_DRAWER_CONTAINER");let pA=(()=>{class n extends ZE{constructor(t,i,r,s,l){super(r,s,l),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>KU)),c.Y36(c.SBq),c.Y36(ZS),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:ZE,useExisting:n}]),c.qOj],ngContentSelectors:mA,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),YU=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Kn(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Kn(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Kn(t))}constructor(t,i,r,s,l,h,m,_){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=l,this._interactivityChecker=h,this._doc=m,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new kt.x,this._animationEnd=new kt.x,this._animationState="void",this.openedChange=new c.vpe(!0),this._openedStream=this.openedChange.pipe(bn(b=>b),(0,ht.U)(()=>{})),this.openedStart=this._animationStarted.pipe(bn(b=>b.fromState!==b.toState&&0===b.toState.indexOf("open")),Ta(void 0)),this._closedStream=this.openedChange.pipe(bn(b=>!b),(0,ht.U)(()=>{})),this.closedStart=this._animationStarted.pipe(bn(b=>b.fromState!==b.toState&&"void"===b.toState),Ta(void 0)),this._destroyed=new kt.x,this.onPositionChanged=new c.vpe,this._modeChanged=new kt.x,this.openedChange.subscribe(b=>{b?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{qE(this._elementRef.nativeElement,"keydown").pipe(bn(b=>27===b.keyCode&&!this.disableClose&&!LE(b)),Di(this._destroyed)).subscribe(b=>this._ngZone.run(()=>{this.close(),b.stopPropagation(),b.preventDefault()}))}),this._animationEnd.pipe((0,Ju.x)((b,D)=>b.fromState===D.fromState&&b.toState===D.toState)).subscribe(b=>{const{fromState:D,toState:k}=b;(0===k.indexOf("open")&&"void"===D||"void"===k&&0===D.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(gi(1)).subscribe(l=>s(l?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(AG),c.Y36(BE),c.Y36(ei),c.Y36(c.R0b),c.Y36(lB),c.Y36(ae,8),c.Y36(kP,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&c.Gf(F9,5),2&t){let r;c.iGM(r=c.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&c.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&t&&(c.uIk("align",null),c.d8E("@transform",i._animationState),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:mA,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},dependencies:[ZE],encapsulation:2,data:{animation:[ZU.transformDrawer]},changeDetection:0}),n})(),KU=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Kn(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:Kn(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,r,s,l,h=!1,m){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=m,this._drawers=new c.n_E,this.backdropClick=new c.vpe,this._destroyed=new kt.x,this._doCheckSubject=new kt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new kt.x,t&&t.change.pipe(Di(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),l.change().pipe(Di(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}ngAfterContentInit(){this._allDrawers.changes.pipe(vr(this._allDrawers),Di(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(vr(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Wu(10),Di(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(bn(i=>i.fromState!==i.toState),Di(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Di(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Di(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(gi(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Di((0,Es.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ab,8),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(cP),c.Y36(q9),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,pA,5),c.Suo(r,YU,5)),2&t){let s;c.iGM(s=c.CRH())&&(i._content=s.first),c.iGM(s=c.CRH())&&(i._allDrawers=s)}},viewQuery:function(t,i){if(1&t&&c.Gf(pA,5),2&t){let r;c.iGM(r=c.CRH())&&(i._userContent=r.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[c._Bn([{provide:kP,useExisting:n}])],ngContentSelectors:U9,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(c.F$t(V9),c.YNc(0,L9,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,B9,2,0,"mat-drawer-content",1)),2&t&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},dependencies:[hr,pA],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),RP=(()=>{class n extends pA{constructor(t,i,r,s,l){super(t,i,r,s,l)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>XU)),c.Y36(c.SBq),c.Y36(ZS),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:ZE,useExisting:n}]),c.qOj],ngContentSelectors:mA,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),QU=(()=>{class n extends YU{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Kn(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=Ra(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=Ra(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(c.uIk("align",null),c.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[c.qOj],ngContentSelectors:mA,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},dependencies:[ZE],encapsulation:2,data:{animation:[ZU.transformDrawer]},changeDetection:0}),n})(),XU=(()=>{class n extends KU{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,RP,5),c.Suo(r,QU,5)),2&t){let s;c.iGM(s=c.CRH())&&(i._content=s.first),c.iGM(s=c.CRH())&&(i._allDrawers=s)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[c._Bn([{provide:kP,useExisting:n}]),c.qOj],ngContentSelectors:$9,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(c.F$t(j9),c.YNc(0,H9,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,z9,2,0,"mat-sidenav-content",1)),2&t&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},dependencies:[hr,RP],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),Z9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[er,ci,YE,YE,ci]}),n})(),Y9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ci,ci]}),n})(),eH=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tH=["*"],iH=["unscopedContent"],K9=["text"],Q9=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],X9=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],rH=new c.OlP("ListOption");let sH=(()=>{class n{constructor(t){this._elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),n})(),oH=(()=>{class n{constructor(t){this._elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),n})(),g7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),n})(),aH=(()=>{class n{constructor(t){this._listOption=t}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(rH,8))},n.\u0275dir=c.lG2({type:n,hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mdc-list-item__start",i._isAlignedAtStart())("mdc-list-item__end",!i._isAlignedAtStart())}}),n})(),_7=(()=>{class n extends aH{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[c.qOj]}),n})(),v7=(()=>{class n extends aH{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[c.qOj]}),n})();const y7=new c.OlP("MAT_LIST_CONFIG");let Rb=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,c.f3M)(y7,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Kn(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=Kn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("aria-disabled",i.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),n})(),OP=(()=>{class n{set lines(t){this._explicitLines=Ra(t,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=Kn(t)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=Kn(t)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(t,i,r,s,l,h){this._elementRef=t,this._ngZone=i,this._listBase=r,this._platform=s,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Hr.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=l||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===h,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new s_(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,Es.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const s=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",s),r.classList.toggle("mdc-list-item__secondary-text",!s)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Rb,8),c.Y36(ei),c.Y36(HE,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,_7,4),c.Suo(r,v7,4)),2&t){let s;c.iGM(s=c.CRH())&&(i._avatars=s),c.iGM(s=c.CRH())&&(i._icons=s)}},hostVars:4,hostBindings:function(t,i){2&t&&(c.uIk("aria-disabled",i.disabled)("disabled",i._isButtonElement&&i.disabled||null),c.ekj("mdc-list-item--disabled",i.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),n})(),b7=(()=>{class n extends OP{get activated(){return this._activated}set activated(t){this._activated=Kn(t)}constructor(t,i,r,s,l,h){super(t,i,r,s,l,h),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Rb,8),c.Y36(ei),c.Y36(HE,8),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,oH,5),c.Suo(r,sH,5),c.Suo(r,g7,5)),2&t){let s;c.iGM(s=c.CRH())&&(i._lines=s),c.iGM(s=c.CRH())&&(i._titles=s),c.iGM(s=c.CRH())&&(i._meta=s)}},viewQuery:function(t,i){if(1&t&&(c.Gf(iH,5),c.Gf(K9,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._unscopedContent=r.first),c.iGM(r=c.CRH())&&(i._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(t,i){2&t&&(c.uIk("aria-current",i._getAriaCurrent()),c.ekj("mdc-list-item--activated",i.activated)("mdc-list-item--with-leading-avatar",0!==i._avatars.length)("mdc-list-item--with-leading-icon",0!==i._icons.length)("mdc-list-item--with-trailing-meta",0!==i._meta.length)("_mat-animation-noopable",i._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[c.qOj],ngContentSelectors:X9,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(t,i){1&t&&(c.F$t(Q9),c.Hsn(0),c.TgZ(1,"span",0),c.Hsn(2,1),c.Hsn(3,2),c.TgZ(4,"span",1,2),c.NdJ("cdkObserveContent",function(){return i._updateItemLines(!0)}),c.Hsn(6,3),c.qZA()(),c.Hsn(7,4),c.Hsn(8,5),c._UZ(9,"div",3))},dependencies:[OU],encapsulation:2,changeDetection:0}),n})(),x7=(()=>{class n extends Rb{constructor(){super(...arguments),this._isNonInteractive=!1}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[c._Bn([{provide:Rb,useExisting:n}]),c.qOj],ngContentSelectors:tH,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0}),n})(),T7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[PU,er,ci,qO,KG,Y9]}),n})();const cH=new c.OlP("CdkAccordion");let D7=0,S7=(()=>{class n{get expanded(){return this._expanded}set expanded(t){t=Kn(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=Kn(t)}constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Hr.w0.EMPTY,this.closed=new c.vpe,this.opened=new c.vpe,this.destroyed=new c.vpe,this.expandedChange=new c.vpe,this.id="cdk-accordion-child-"+D7++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,l)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===l&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(cH,12),c.Y36(c.sBO),c.Y36(eH))},n.\u0275dir=c.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[c._Bn([{provide:cH,useValue:void 0}])]}),n})(),A7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const M7=["body"];function k7(n,e){}const R7=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],O7=["mat-expansion-panel-header","*","mat-action-row"];function P7(n,e){if(1&n&&c._UZ(0,"span",2),2&n){const t=c.oxw();c.Q6J("@indicatorRotate",t._getExpandedState())}}const N7=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],F7=["mat-panel-title","mat-panel-description","*"],dH=new c.OlP("MAT_ACCORDION"),uH="225ms cubic-bezier(0.4,0.0,0.2,1)",hH={indicatorRotate:r_("indicatorRotate",[Sl("collapsed, void",Ms({transform:"rotate(0deg)"})),Sl("expanded",Ms({transform:"rotate(180deg)"})),zd("expanded <=> collapsed, void => collapsed",Hd(uH))]),bodyExpansion:r_("bodyExpansion",[Sl("collapsed, void",Ms({height:"0px",visibility:"hidden"})),Sl("expanded",Ms({height:"*",visibility:""})),zd("expanded <=> collapsed, void => collapsed",Hd(uH))])},fH=new c.OlP("MAT_EXPANSION_PANEL");let L7=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc),c.Y36(fH,8))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),B7=0;const mH=new c.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let pH=(()=>{class n extends S7{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=Kn(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,r,s,l,h,m){super(t,i,r),this._viewContainerRef=s,this._animationMode=h,this._hideToggle=!1,this.afterExpand=new c.vpe,this.afterCollapse=new c.vpe,this._inputChanges=new kt.x,this._headerId="mat-expansion-panel-header-"+B7++,this._bodyAnimationDone=new kt.x,this.accordion=t,this._document=l,this._bodyAnimationDone.pipe((0,Ju.x)((_,b)=>_.fromState===b.fromState&&_.toState===b.toState)).subscribe(_=>{"void"!==_.fromState&&("expanded"===_.toState?this.afterExpand.emit():"collapsed"===_.toState&&this.afterCollapse.emit())}),m&&(this.hideToggle=m.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(vr(null),bn(()=>this.expanded&&!this._portal),gi(1)).subscribe(()=>{this._portal=new lP(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(dH,12),c.Y36(c.sBO),c.Y36(eH),c.Y36(c.s_b),c.Y36(ae),c.Y36(c.QbO,8),c.Y36(mH,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,L7,5),2&t){let s;c.iGM(s=c.CRH())&&(i._lazyContent=s.first)}},viewQuery:function(t,i){if(1&t&&c.Gf(M7,5),2&t){let r;c.iGM(r=c.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,i){2&t&&c.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[c._Bn([{provide:dH,useValue:void 0},{provide:fH,useExisting:n}]),c.qOj,c.TTD],ngContentSelectors:O7,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(c.F$t(R7),c.Hsn(0),c.TgZ(1,"div",0,1),c.NdJ("@bodyExpansion.done",function(s){return i._bodyAnimationDone.next(s)}),c.TgZ(3,"div",2),c.Hsn(4,1),c.YNc(5,k7,0,0,"ng-template",3),c.qZA(),c.Hsn(6,2),c.qZA()),2&t&&(c.xp6(1),c.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),c.uIk("aria-labelledby",i._headerId),c.xp6(4),c.Q6J("cdkPortalOutlet",i._portal))},dependencies:[Aq],styles:['.mat-expansion-panel{--mat-expansion-container-shape:4px;box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[hH.bodyExpansion]},changeDetection:0}),n})();class V7{}const U7=zG(V7);let H7=(()=>{class n extends U7{constructor(t,i,r,s,l,h,m){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=h,this._parentChangeSubscription=Hr.w0.EMPTY;const _=t.accordion?t.accordion._stateChanges.pipe(bn(b=>!(!b.hideToggle&&!b.togglePosition))):ys.E;this.tabIndex=parseInt(m||"")||0,this._parentChangeSubscription=(0,Es.T)(t.opened,t.closed,_,t._inputChanges.pipe(bn(b=>!!(b.hideToggle||b.disabled||b.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(bn(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),l&&(this.expandedHeight=l.expandedHeight,this.collapsedHeight=l.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:LE(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(pH,1),c.Y36(c.SBq),c.Y36(BE),c.Y36(c.sBO),c.Y36(mH,8),c.Y36(c.QbO,8),c.$8M("tabindex"))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i._toggle()})("keydown",function(s){return i._keydown(s)}),2&t&&(c.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),c.Udp("height",i._getHeaderHeight()),c.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[c.qOj],ngContentSelectors:F7,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,i){1&t&&(c.F$t(N7),c.TgZ(0,"span",0),c.Hsn(1),c.Hsn(2,1),c.Hsn(3,2),c.qZA(),c.YNc(4,P7,1,1,"span",1)),2&t&&(c.ekj("mat-content-hide-toggle",!i._showToggle()),c.xp6(4),c.Q6J("ngIf",i._showToggle()))},dependencies:[hr],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[hH.indicatorRotate]},changeDetection:0}),n})(),z7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[er,ci,A7,lV]}),n})();function j7(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",10),c.NdJ("click",function(){c.CHM(t),c.oxw();const r=c.MAs(2);return c.KtG(r.toggle())}),c.TgZ(1,"mat-icon",11),c._uU(2,"menu"),c.qZA()()}}function $7(n,e){if(1&n&&(c.TgZ(0,"div",12),c._UZ(1,"mat-spinner"),c.qZA()),2&n){const t=c.oxw();c.Udp("height",t.height,"px")("width",t.width,"px")}}let G7=(()=>{class n{constructor(){this.helperService=(0,c.f3M)(LS),this.authService=(0,c.f3M)(Sm),this.title="mileageCalculator",this.height=0,this.width=0,this.breakpointObserver=(0,c.f3M)(S0),this.isHandset$=this.breakpointObserver.observe(OI_Handset).pipe((0,ht.U)(t=>t.matches),Iv())}ngOnInit(){this.height=document.body.clientHeight,this.width=document.body.clientWidth}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:29,vars:15,consts:[["fullscreen","",1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","routerLink","/dashboard"],["mat-list-item","",3,"click"],["mat-list-item","","routerLink","/configuration/fuel-config"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],[1,"container"],["class","overlay",3,"height","width",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],[1,"overlay"]],template:function(t,i){if(1&t&&(c.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),c.ALo(3,"async"),c.ALo(4,"async"),c.ALo(5,"async"),c.TgZ(6,"mat-toolbar"),c._uU(7,"Menu"),c.qZA(),c.TgZ(8,"mat-nav-list")(9,"a",3),c._uU(10,"Dashboard"),c.qZA(),c.TgZ(11,"a",4),c.NdJ("click",function(){return i.authService.signOut()}),c._uU(12,"Logout"),c.qZA(),c.TgZ(13,"mat-expansion-panel")(14,"mat-expansion-panel-header"),c._uU(15," Configuarions "),c.qZA(),c.TgZ(16,"mat-nav-list")(17,"a",5),c._uU(18,"Fuel"),c.qZA()()()()(),c.TgZ(19,"mat-sidenav-content")(20,"mat-toolbar",6),c.YNc(21,j7,3,0,"button",7),c.ALo(22,"async"),c.TgZ(23,"span"),c._uU(24,"mileageCalculator"),c.qZA()(),c.TgZ(25,"div",8),c._UZ(26,"router-outlet"),c.qZA(),c.YNc(27,$7,2,4,"div",9),c.ALo(28,"async"),c.qZA()()),2&t){let r;c.xp6(1),c.Q6J("mode",c.lcZ(4,7,i.isHandset$)?"over":"side")("opened",!1===c.lcZ(5,9,i.isHandset$)),c.uIk("role",c.lcZ(3,5,i.isHandset$)?"dialog":"navigation"),c.xp6(20),c.Q6J("ngIf",c.lcZ(22,11,null!==(r=i.helperService.isMenuVisible$)&&void 0!==r?r:i.isHandset$)),c.xp6(6),c.Q6J("ngIf",c.lcZ(28,13,i.helperService.isLoading$))}},dependencies:[hr,a0,$u,nP,KB,T9,P9,QU,XU,RP,x7,b7,pH,H7,Oc],styles:[".overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:black;opacity:.5;z-index:999999;display:flex;justify-content:center;align-items:center}.sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}"]}),n})();const gH="firebasestorage.googleapis.com",_H="storageBucket";class ar extends U.ZR{constructor(e,t,i=0){super(PP(e),`Firebase Storage: ${t} (${PP(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ar.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return PP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var jt=(()=>((jt=jt||{}).UNKNOWN="unknown",jt.OBJECT_NOT_FOUND="object-not-found",jt.BUCKET_NOT_FOUND="bucket-not-found",jt.PROJECT_NOT_FOUND="project-not-found",jt.QUOTA_EXCEEDED="quota-exceeded",jt.UNAUTHENTICATED="unauthenticated",jt.UNAUTHORIZED="unauthorized",jt.UNAUTHORIZED_APP="unauthorized-app",jt.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",jt.INVALID_CHECKSUM="invalid-checksum",jt.CANCELED="canceled",jt.INVALID_EVENT_NAME="invalid-event-name",jt.INVALID_URL="invalid-url",jt.INVALID_DEFAULT_BUCKET="invalid-default-bucket",jt.NO_DEFAULT_BUCKET="no-default-bucket",jt.CANNOT_SLICE_BLOB="cannot-slice-blob",jt.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",jt.NO_DOWNLOAD_URL="no-download-url",jt.INVALID_ARGUMENT="invalid-argument",jt.INVALID_ARGUMENT_COUNT="invalid-argument-count",jt.APP_DELETED="app-deleted",jt.INVALID_ROOT_OPERATION="invalid-root-operation",jt.INVALID_FORMAT="invalid-format",jt.INTERNAL_ERROR="internal-error",jt.UNSUPPORTED_ENVIRONMENT="unsupported-environment",jt))();function PP(n){return"storage/"+n}function NP(){return new ar(jt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function vH(){return new ar(jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yH(){return new ar(jt.CANCELED,"User canceled the upload/download.")}function bH(){return new ar(jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ob(n){return new ar(jt.INVALID_ARGUMENT,n)}function wH(){return new ar(jt.APP_DELETED,"The Firebase app was deleted.")}function xH(n){return new ar(jt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rC(n,e){return new ar(jt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function sC(n){throw new ar(jt.INTERNAL_ERROR,"Internal error: "+n)}class mo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=mo.makeFromUrl(e,t)}catch{return new mo(e,"")}if(""===i.path)return i;throw function tZ(n){return new ar(jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(Ye){Ye.path_=decodeURIComponent(Ye.path)}const D=t.replace(/[.]/g,"\\."),je=[{regex:h,indices:{bucket:1,path:3},postModify:function s(Ye){"/"===Ye.path.charAt(Ye.path.length-1)&&(Ye.path_=Ye.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===gH?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let Ye=0;Ye<je.length;Ye++){const St=je[Ye],Nt=St.regex.exec(e);if(Nt){let cr=Nt[St.indices.path];cr||(cr=""),i=new mo(Nt[St.indices.bucket],cr),St.postModify(i);break}}if(null==i)throw function eZ(n){return new ar(jt.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class oZ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function gA(n){return"string"==typeof n||n instanceof String}function EH(n){return FP()&&n instanceof Blob}function FP(){return typeof Blob<"u"&&!(0,U.UG)()}function LP(n,e,t,i){if(i<e)throw Ob(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Ob(`Invalid value for '${n}'. Expected ${t} or less.`)}function Mh(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function CH(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var la=(()=>((la=la||{})[la.NO_ERROR=0]="NO_ERROR",la[la.NETWORK_ERROR=1]="NETWORK_ERROR",la[la.ABORT=2]="ABORT",la))();function IH(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class hZ{constructor(e,t,i,r,s,l,h,m,_,b,D,k=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=m,this.timeout_=_,this.progressCallback_=b,this.connectionFactory_=D,this.retry=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,j)=>{this.resolve_=L,this.reject_=j,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,l=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());!function cZ(n){return void 0!==n}(m)?s():s(m)}catch(m){l(m)}else if(null!==h){const m=NP();m.serverResponse=h.getErrorText(),l(this.errorCallback_?this.errorCallback_(h,m):m)}else l(r.canceled?this.appDelete_?wH():yH():vH())};this.canceled_?t(0,new _A(!1,null,!0)):this.backoffId_=function aZ(n,e,t){let i=1,r=null,s=null,l=!1,h=0;function m(){return 2===h}let _=!1;function b(...se){_||(_=!0,e.apply(null,se))}function D(se){r=setTimeout(()=>{r=null,n(L,m())},se)}function k(){s&&clearTimeout(s)}function L(se,...Le){if(_)return void k();if(se)return k(),void b.call(null,se,...Le);if(m()||l)return k(),void b.call(null,se,...Le);let je;i<64&&(i*=2),1===h?(h=2,je=0):je=1e3*(i+Math.random()),D(je)}let j=!1;function Y(se){j||(j=!0,k(),!_&&(null!==r?(se||(h=2),clearTimeout(r),D(0)):se||(h=1)))}return D(0),s=setTimeout(()=>{l=!0,Y(!0)},t),Y}((i,r)=>{if(r)return void i(!1,new _A(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const h=s.getErrorCode()===la.NO_ERROR,m=s.getStatus();if(!h||IH(m,this.additionalRetryCodes_)&&this.retry){const b=s.getErrorCode()===la.ABORT;return void i(!1,new _A(!1,null,b))}const _=-1!==this.successCodes_.indexOf(m);i(!0,new _A(_,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function lZ(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class _A{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function yZ(...n){const e=function vZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(FP())return new Blob(n);throw new ar(jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ga={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class BP{constructor(e,t){this.data=e,this.contentType=t||null}}function VP(n,e){switch(n){case Ga.RAW:return new BP(TH(e));case Ga.BASE64:case Ga.BASE64URL:return new BP(DH(n,e));case Ga.DATA_URL:return new BP(function EZ(n){const e=new SH(n);return e.base64?DH(Ga.BASE64,e.rest):function xZ(n){let e;try{e=decodeURIComponent(n)}catch{throw rC(Ga.DATA_URL,"Malformed data URL.")}return TH(e)}(e.rest)}(e),function CZ(n){return new SH(n).contentType}(e))}throw NP()}function TH(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function DH(n,e){switch(n){case Ga.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw rC(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ga.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw rC(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function wZ(n){if(typeof atob>"u")throw function sZ(n){return new ar(jt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:rC(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class SH{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw rC(Ga.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function IZ(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class jd{constructor(e,t){let i=0,r="";EH(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(EH(this.data_)){const r=function bZ(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new jd(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new jd(i,!0)}}static getBlob(...e){if(FP()){const t=e.map(i=>i instanceof jd?i.data_:i);return new jd(yZ.apply(null,t))}{const t=e.map(l=>gA(l)?VP(Ga.RAW,l).data:l.data_);let i=0;t.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(l=>{for(let h=0;h<l.length;h++)r[s++]=l[h]}),new jd(r,!0)}}uploadData(){return this.data_}}function UP(n){let e;try{e=JSON.parse(n)}catch{return null}return function uZ(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function AH(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function SZ(n,e){return e}class Oo{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||SZ}}let vA=null;function oC(){if(vA)return vA;const n=[];n.push(new Oo("bucket")),n.push(new Oo("generation")),n.push(new Oo("metageneration")),n.push(new Oo("name","fullPath",!0));const t=new Oo("name");t.xform=function e(s,l){return function AZ(n){return!gA(n)||n.length<2?n:AH(n)}(l)},n.push(t);const r=new Oo("size");return r.xform=function i(s,l){return void 0!==l?Number(l):l},n.push(r),n.push(new Oo("timeCreated")),n.push(new Oo("updated")),n.push(new Oo("md5Hash",null,!0)),n.push(new Oo("cacheControl",null,!0)),n.push(new Oo("contentDisposition",null,!0)),n.push(new Oo("contentEncoding",null,!0)),n.push(new Oo("contentLanguage",null,!0)),n.push(new Oo("contentType",null,!0)),n.push(new Oo("metadata","customMetadata",!0)),vA=n,vA}function MH(n,e,t){const i=UP(e);return null===i?null:function kZ(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const l=t[s];i[l.local]=l.xform(i,e[l.server])}return function MZ(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new mo(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function HP(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const kH="prefixes",RH="items";class $d{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Gd(n){if(!n)throw NP()}function yA(n,e){return function t(i,r){const s=MH(n,r,e);return Gd(null!==s),s}}function Pb(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function X7(){return new ar(jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Q7(){return new ar(jt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function K7(n){return new ar(jt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function J7(n){return new ar(jt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function aC(n){const e=Pb(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function Y7(n){return new ar(jt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function OH(n,e,t){const r=Mh(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,h=new $d(r,"GET",yA(n,t),l);return h.errorHandler=aC(e),h}function LZ(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const h=Mh(e.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,b=new $d(h,"GET",function NZ(n,e){return function t(i,r){const s=function PZ(n,e,t){const i=UP(t);return null===i?null:function OZ(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[kH])for(const r of t[kH]){const s=r.replace(/\/$/,""),l=n._makeStorageReference(new mo(e,s));i.prefixes.push(l)}if(t[RH])for(const r of t[RH]){const s=n._makeStorageReference(new mo(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Gd(null!==s),s}}(n,e.bucket),_);return b.urlParams=s,b.errorHandler=Pb(e),b}function NH(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function HZ(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class bA{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function zP(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Gd(!1)}return Gd(!!t&&-1!==(e||["active"]).indexOf(t)),t}const GZ={STATE_CHANGED:"state_changed"},Po={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function jP(n){switch(n){case"running":case"pausing":case"canceling":return Po.RUNNING;case"paused":return Po.PAUSED;case"success":return Po.SUCCESS;case"canceled":return Po.CANCELED;default:return Po.ERROR}}class qZ{constructor(e,t,i){if(function dZ(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Nb(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let BH=null;class WZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=la.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=la.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=la.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw sC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sC("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ZZ extends WZ{initXhr(){this.xhr_.responseType="text"}}function Ic(){return BH?BH():new ZZ}class VH{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=oC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(jt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(IH(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=vH()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(jt.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function zZ(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l=NH(e,i,r),h={name:l.fullPath},m=Mh(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},D=HP(l,t),j=new $d(m,"POST",function L(Y){let se;zP(Y);try{se=Y.getResponseHeader("X-Goog-Upload-URL")}catch{Gd(!1)}return Gd(gA(se)),se},n.maxUploadRetryTime);return j.urlParams=h,j.headers=b,j.body=D,j.errorHandler=Pb(e),j}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ic,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function jZ(n,e,t,i){const m=new $d(t,"POST",function s(_){const b=zP(_,["active","final"]);let D=null;try{D=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Gd(!1)}D||Gd(!1);const k=Number(D);return Gd(!isNaN(k)),new bA(k,i.size(),"final"===b)},n.maxUploadRetryTime);return m.headers={"X-Goog-Upload-Command":"query"},m.errorHandler=Pb(e),m}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Ic,t,i);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new bA(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let l;try{l=function $Z(n,e,t,i,r,s,l,h){const m=new bA(0,0);if(l?(m.current=l.current,m.total=l.total):(m.current=0,m.total=i.size()),i.size()!==m.total)throw function iZ(){return new ar(jt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const _=m.total-m.current;let b=_;r>0&&(b=Math.min(b,r));const D=m.current;let L="";L=0===b?"finalize":_===b?"upload, finalize":"upload";const j={"X-Goog-Upload-Command":L,"X-Goog-Upload-Offset":`${m.current}`},Y=i.slice(D,D+b);if(null===Y)throw bH();const je=new $d(t,"POST",function se(Ye,St){const Nt=zP(Ye,["active","final"]),Dn=m.current+b,cr=i.size();let go;return go="final"===Nt?yA(e,s)(Ye,St):null,new bA(Dn,cr,"final"===Nt,go)},e.maxUploadRetryTime);return je.headers=j,je.body=Y.uploadData(),je.progressCallback=h||null,je.errorHandler=Pb(n),je}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(m){return this._error=m,void this._transition("error")}const h=this._ref.storage._makeRequest(l,Ic,r,s,!1);this._request=h,h.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=OH(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Ic,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function FH(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},m=function h(){let je="";for(let Ye=0;Ye<2;Ye++)je+=Math.random().toString().slice(2);return je}();l["Content-Type"]="multipart/related; boundary="+m;const _=NH(e,i,r),b=HP(_,t),L=jd.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+m+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+m+"--");if(null===L)throw bH();const j={name:_.fullPath},Y=Mh(s,n.host,n._protocol),Le=n.maxUploadRetryTime,$e=new $d(Y,"POST",yA(n,t),Le);return $e.urlParams=j,$e.headers=l,$e.body=L.uploadData(),$e.errorHandler=Pb(e),$e}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ic,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=yH(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=jP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new qZ(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(jP(this._state)){case Po.SUCCESS:Nb(this._resolve.bind(null,this.snapshot))();break;case Po.CANCELED:case Po.ERROR:Nb(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(jP(this._state)){case Po.RUNNING:case Po.PAUSED:e.next&&Nb(e.next.bind(e,this.snapshot))();break;case Po.SUCCESS:e.complete&&Nb(e.complete.bind(e))();break;default:e.error&&Nb(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class f_{constructor(e,t){this._service=e,this._location=t instanceof mo?t:mo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new f_(e,t)}get root(){const e=new mo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AH(this._location.path)}get storage(){return this._service}get parent(){const e=function TZ(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new mo(this._location.bucket,e);return new f_(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw xH(e)}}function HH(n,e,t){return $P.apply(this,arguments)}function $P(){return $P=(0,Ee.Z)(function*(n,e,t){const r=yield zH(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield HH(n,e,r.nextPageToken))}),$P.apply(this,arguments)}function zH(n,e){null!=e&&"number"==typeof e.maxResults&&LP("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=LZ(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Ic)}function oY(n){n._throwIfRoot("getDownloadURL");const e=function BZ(n,e,t){const r=Mh(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,h=new $d(r,"GET",function FZ(n,e){return function t(i,r){const s=MH(n,r,e);return Gd(null!==s),function RZ(n,e,t,i){const r=UP(e);if(null===r||!gA(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const l=encodeURIComponent;return s.split(",").map(_=>{const D=n.fullPath;return Mh("/b/"+l(n.bucket)+"/o/"+l(D),t,i)+CH({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,t),l);return h.errorHandler=aC(e),h}(n.storage,n._location,oC());return n.storage.makeRequestWithTokens(e,Ic).then(t=>{if(null===t)throw function rZ(){return new ar(jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function jH(n,e){const t=function DZ(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new mo(n._location.bucket,t);return new f_(n.storage,i)}function $H(n,e){if(n instanceof GP){const t=n;if(null==t._bucket)throw function nZ(){return new ar(jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_H+"' property when initializing the app?")}();const i=new f_(t,t._bucket);return null!=e?$H(i,e):i}return void 0!==e?jH(n,e):n}function dY(n,e){if(e&&function lY(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof GP)return function cY(n,e){return new f_(n,e)}(n,e);throw Ob("To use ref(service, url), the first argument must be a Storage instance.")}return $H(n,e)}function GH(n,e){const t=e?.[_H];return null==t?null:mo.makeFromBucketSpec(t,n)}class GP{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=gH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?mo.makeFromBucketSpec(r,this._host):GH(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?mo.makeFromBucketSpec(this._url,e):GH(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){LP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){LP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ee.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ee.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new f_(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new oZ(wH());{const l=function _Z(n,e,t,i,r,s,l=!0){const h=CH(n.urlParams),m=n.url+h,_=Object.assign({},n.headers);return function pZ(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function fZ(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function mZ(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(_,s),function gZ(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,i),new hZ(m,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,l)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var i=this;return(0,Ee.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const qH="@firebase/storage";function YH(n,e){return dY(n=(0,U.m9)(n),e)}function bY(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new GP(t,i,r,e,js.SDK_VERSION)}!function wY(){(0,js._registerComponent)(new Oa.wA("storage",bY,"PUBLIC").setMultipleInstances(!0)),(0,js.registerVersion)(qH,"0.11.2",""),(0,js.registerVersion)(qH,"0.11.2","esm2017")}();class wA{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class QH{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new wA(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new wA(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?l=>t(new wA(l,this,this._ref)):{next:t.next?l=>t.next(new wA(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class XH{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new kh(e,this._service))}get items(){return this._delegate.items.map(e=>new kh(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class kh{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function yY(n,e){return jH(n,e)}(this._delegate,e);return new kh(t,this.storage)}get root(){return new kh(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new kh(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new QH(function hY(n,e,t){return function tY(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new VH(n,new jd(e),t)}(n=(0,U.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Ga.RAW,i){this._throwIfRoot("putString");const r=VP(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new QH(new VH(this._delegate,new jd(r.data,!0),s),this)}listAll(){return function gY(n){return function iY(n){const e={prefixes:[],items:[]};return HH(n,e).then(()=>e)}(n=(0,U.m9)(n))}(this._delegate).then(e=>new XH(e,this.storage))}list(e){return function pY(n,e){return zH(n=(0,U.m9)(n),e)}(this._delegate,e||void 0).then(t=>new XH(t,this.storage))}getMetadata(){return function fY(n){return function rY(n){n._throwIfRoot("getMetadata");const e=OH(n.storage,n._location,oC());return n.storage.makeRequestWithTokens(e,Ic)}(n=(0,U.m9)(n))}(this._delegate)}updateMetadata(e){return function mY(n,e){return function sY(n,e){n._throwIfRoot("updateMetadata");const t=function VZ(n,e,t,i){const s=Mh(e.fullServerUrl(),n.host,n._protocol),h=HP(t,i),_=n.maxOperationRetryTime,b=new $d(s,"PATCH",yA(n,i),_);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=h,b.errorHandler=aC(e),b}(n.storage,n._location,e,oC());return n.storage.makeRequestWithTokens(t,Ic)}(n=(0,U.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function _Y(n){return oY(n=(0,U.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function vY(n){return function aY(n){n._throwIfRoot("deleteObject");const e=function UZ(n,e){const i=Mh(e.fullServerUrl(),n.host,n._protocol),h=new $d(i,"DELETE",function l(m,_){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=aC(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ic)}(n=(0,U.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw xH(e)}}class JH{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(e3(e))throw Ob("ref() expected a child path but got a URL, use refFromURL instead.");return new kh(YH(this._delegate,e),this)}refFromURL(e){if(!e3(e))throw Ob("refFromURL() expected a full URL but got a child path, use ref() instead.");try{mo.makeFromUrl(e,this._delegate.host)}catch{throw Ob("refFromUrl() expected a valid full URL but got an invalid one.")}return new kh(YH(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function KH(n,e,t,i={}){!function uY(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,U.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function e3(n){return/^[A-Za-z]+:\/\//.test(n)}function IY(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new JH(t,i)}function t3(n){const e=function DY(n){return new pi.y(e=>{const t=l=>e.next(l);t(n.snapshot);const s=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){s()}}).pipe(Wu(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,ht.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function xA(n){return{getDownloadURL:()=>(0,ct.of)(void 0).pipe(An.fc,(0,Zn.w)(()=>n.getDownloadURL()),An.iC),getMetadata:()=>(0,ct.of)(void 0).pipe(An.fc,(0,Zn.w)(()=>n.getMetadata()),An.iC),delete:()=>(0,hn.D)(n.delete()),child:e=>xA(n.child(e)),updateMetadata:e=>(0,hn.D)(n.updateMetadata(e)),put:(e,t)=>t3(n.put(e,t)),putString:(e,t,i)=>t3(n.putString(e,t,i)),list:e=>(0,hn.D)(n.list(e)),listAll:()=>(0,hn.D)(n.listAll())}}!function TY(n){const e={TaskState:Po,TaskEvent:GZ,StringFormat:Ga,Storage:JH,Reference:kh};n.INTERNAL.registerComponent(new Oa.wA("storage-compat",IY,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(Nf.Z);const SY=new c.OlP("angularfire2.storageBucket"),AY=new c.OlP("angularfire2.storage.maxUploadRetryTime"),MY=new c.OlP("angularfire2.storage.maxOperationRetryTime"),kY=new c.OlP("angularfire2.storage.use-emulator");let RY=(()=>{class n{constructor(t,i,r,s,l,h,m,_,b,D){const k=(0,rr.on)(t,l,i);this.storage=(0,rr.cc)(`${k.name}.storage.${r}`,"AngularFireStorage",k.name,()=>{const L=l.runOutsideAngular(()=>k.storage(r||void 0)),j=b;return j&&L.useEmulator(...j),m&&L.setMaxUploadRetryTime(m),_&&L.setMaxOperationRetryTime(_),L},[m,_])}ref(t){return xA(this.storage.ref(t))}refFromURL(t){return xA(this.storage.refFromURL(t))}upload(t,i,r){return xA(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(rr.Dh),c.LFG(rr.xv,8),c.LFG(SY,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(An.HU),c.LFG(AY,8),c.LFG(MY,8),c.LFG(kY,8),c.LFG(bd,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),OY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),PY=(()=>{class n{constructor(){Bv.Z.registerVersion("angularfire",An.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[RY],imports:[OY]}),n})();const n3="@firebase/database";let qP="";function s3(n){qP=n}class LY{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,U.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,U.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class BY{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,U.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const o3=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new LY(e)}}catch{}return new BY},m_=o3("localStorage"),WP=o3("sessionStorage"),Fb=new $s.Yd("@firebase/database"),a3=function(){let n=1;return function(){return n++}}(),l3=function(n){const e=(0,U.dS)(n),t=new U.gQ;t.update(e);const i=t.digest();return U.US.encodeByteArray(i)},lC=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=lC.apply(null,i):e+="object"==typeof i?(0,U.Wl)(i):i,e+=" "}return e};let p_=null,c3=!0;const d3=function(n,e){(0,U.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Fb.logLevel=$s.in.VERBOSE,p_=Fb.log.bind(Fb),e&&WP.set("logging_enabled",!0)):"function"==typeof n?p_=n:(p_=null,WP.remove("logging_enabled"))},ks=function(...n){if(!0===c3&&(c3=!1,null===p_&&!0===WP.get("logging_enabled")&&d3(!0)),p_){const e=lC.apply(null,n);p_(e)}},cC=function(n){return function(...e){ks(n,...e)}},ZP=function(...n){const e="FIREBASE INTERNAL ERROR: "+lC(...n);Fb.error(e)},qd=function(...n){const e=`FIREBASE FATAL ERROR: ${lC(...n)}`;throw Fb.error(e),new Error(e)},po=function(...n){const e="FIREBASE WARNING: "+lC(...n);Fb.warn(e)},EA=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Rm="[MIN_NAME]",Rh="[MAX_NAME]",g_=function(n,e){if(n===e)return 0;if(n===Rm||e===Rh)return-1;if(e===Rm||n===Rh)return 1;{const t=f3(n),i=f3(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},HY=function(n,e){return n===e?0:n<e?-1:1},dC=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,U.Wl)(e))},YP=function(n){if("object"!=typeof n||null===n)return(0,U.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,U.Wl)(e[i]),t+=":",t+=YP(n[e[i]]);return t+="}",t},u3=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Rs(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const h3=function(n){(0,U.hu)(!EA(n),"Invalid JSON number");const i=1023;let r,s,l,h,m;0===n?(s=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=h+i,l=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const _=[];for(m=52;m;m-=1)_.push(l%2?1:0),l=Math.floor(l/2);for(m=11;m;m-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const b=_.join("");let D="";for(m=0;m<64;m+=8){let k=parseInt(b.substr(m,8),2).toString(16);1===k.length&&(k="0"+k),D+=k}return D.toLowerCase()},GY=new RegExp("^-?(0*)\\d{1,10}$"),f3=function(n){if(GY.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Lb=function(n){try{n()}catch(e){setTimeout(()=>{throw po("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},uC=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class YY{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){po(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class KY{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(ks("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',po(e)}}let hC=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const v3=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,w3="websocket",x3="long_polling";class QP{constructor(e,t,i,r,s=!1,l="",h=!1,m=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=m_.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&m_.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function E3(n,e,t){let i;if((0,U.hu)("string"==typeof e,"typeof type must == string"),(0,U.hu)("object"==typeof t,"typeof params must == object"),e===w3)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==x3)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function QY(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Rs(t,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}class XY{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,U.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,U.p$)(this.counters_)}}const XP={},JP={};function eN(n){const e=n.toString();return XP[e]||(XP[e]=new XY),XP[e]}class eK{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Lb(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Om{constructor(e,t,i,r,s,l,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cC(e),this.stats_=eN(t),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),E3(t,x3,m))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new eK(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,U.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tN((...s)=>{const[l,h,m,_,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=m;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&v3.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Om.forceAllow_=!0}static forceDisallow(){Om.forceDisallow_=!0}static isAvailable(){return!((0,U.Yr)()||!Om.forceAllow_&&(Om.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,U.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,U.h$)(t),r=u3(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,U.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,U.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class tN{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=a3(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=tN.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){ks("frame writing exception"),h.stack&&ks(h.stack),ks(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ks("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,U.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{ks("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let IA=null;typeof MozWebSocket<"u"?IA=MozWebSocket:typeof WebSocket<"u"&&(IA=WebSocket);let Bb=(()=>{class n{constructor(t,i,r,s,l,h,m){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cC(this.connId),this.stats_=eN(i),this.connURL=n.connectionURL_(i,h,m,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,l){const h={v:"5"};return!(0,U.Yr)()&&typeof location<"u"&&location.hostname&&v3.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),s&&(h.ac=s),l&&(h.p=l),E3(t,w3,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,m_.set("previous_websocket_failure",!0);try{let r;if((0,U.Yr)()){r={headers:{"User-Agent":`Firebase/5/${qP}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,h=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new IA(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==IA&&!n.forceDisallow_}static previouslyFailed(){return m_.isInMemoryStorage||!0===m_.get("previous_websocket_failure")}markConnectionHealthy(){m_.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,U.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,U.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,U.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=u3(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),M3=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Om,Bb]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Bb&&Bb.isAvailable();let r=i&&!Bb.previouslyFailed();if(t.webSocketOnly&&(i||po("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Bb];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class L3{constructor(e,t,i,r,s,l,h,m,_,b){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cC("c:"+this.id+":"),this.transportManager_=new M3(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=uC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=dC("t",e),i=dC("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=dC("t",e),i=dC("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=dC("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?ZP("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ZP("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&po("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),uC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):uC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(m_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class B3{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class V3{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,U.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,U.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class TA extends V3{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,U.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new TA}getInitialEvent(e){return(0,U.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Qn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Vn(){return new Qn("")}function fn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Pm(n){return n.pieces_.length-n.pieceNum_}function xi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Qn(n.pieces_,e)}function iN(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function fC(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function z3(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Qn(e,0)}function Yi(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Qn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Qn(t,0)}function mn(n){return n.pieceNum_>=n.pieces_.length}function No(n,e){const t=fn(n),i=fn(e);if(null===t)return e;if(t===i)return No(xi(n),xi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function xK(n,e){const t=fC(n,0),i=fC(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=g_(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function rN(n,e){if(Pm(n)!==Pm(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Al(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Pm(n)>Pm(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class EK{constructor(e,t){this.errorPrefix_=t,this.parts_=fC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,U.ug)(this.parts_[i]);j3(this)}}function j3(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+__(n))}function __(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class sN extends V3{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new sN}getInitialEvent(e){return(0,U.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const mC=1e3;let SA,v_=(()=>{class n extends B3{constructor(t,i,r,s,l,h,m,_){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=cC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,U.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sN.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&TA.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,l={r:s,a:t,b:i};this.log_((0,U.Wl)(l)),(0,U.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new U.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;"ok"===h.s?i.resolve(m):i.reject(m)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const l=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),(0,U.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.hu)(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const m={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(h).set(l,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};t.tag&&(l.q=i._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,m=>{const _=m.d,b=m.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",m),"ok"!==b&&this.removeListen_(r,s),t.onComplete&&t.onComplete(b,_))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,U.r3)(t,"w")){const r=(0,U.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();po(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,U.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,U.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const l=s.s,h=s.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,U.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const l={p:t};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const l={p:i,d:r};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,l){this.initConnection_();const h={p:i,d:r};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,U.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):ZP("Unrecognized action received from server: "+(0,U.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,U.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mC,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=mC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=mC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Ee.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let m=!1,_=null;const b=function(){_?_.close():(m=!0,s())};t.realtime_={close:b,sendRequest:function(L){(0,U.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(L)}};const k=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[L,j]=yield Promise.all([t.authTokenProvider_.getToken(k),t.appCheckTokenProvider_.getToken(k)]);m?ks("getToken() completed but was canceled"):(ks("getToken() completed. Creating connection."),t.authToken_=L&&L.accessToken,t.appCheckToken_=j&&j.token,_=new L3(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,Y=>{po(Y+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(L){t.log_("Failed to get token: "+L),m||(t.repoInfo_.nodeAdmin&&po(L),b())}}})()}interrupt(t){ks("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ks("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,U.xb)(this.interruptReasons_)&&(this.reconnectDelay_=mC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(l=>YP(l)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Qn(t).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){ks("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ks("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,U.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+qP.replace(/\./g,"-")]=1,(0,U.uI)()?t["framework.cordova"]=1:(0,U.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=TA.getInstance().currentlyOnline();return(0,U.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class _n{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new _n(e,t)}}class DA{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new _n(Rm,e),r=new _n(Rm,t);return 0!==this.compare(i,r)}minPost(){return _n.MIN}}class q3 extends DA{static get __EMPTY_NODE(){return SA}static set __EMPTY_NODE(e){SA=e}compare(e,t){return g_(e.name,t.name)}isDefinedOn(e){throw(0,U.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return _n.MIN}maxPost(){return new _n(Rh,SA)}makePost(e,t){return(0,U.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new _n(e,SA)}toString(){return".key"}}const Wd=new q3;class AA{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,r&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let aN,Tc=(()=>{class n{constructor(t,i,r,s,l){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??ca.EMPTY_NODE,this.right=l??ca.EMPTY_NODE}copy(t,i,r,s,l){return new n(t??this.key,i??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const l=r(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===l?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ca.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return ca.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ca{constructor(e,t=ca.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ca(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Tc.BLACK,null,null))}remove(e){return new ca(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Tc.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new AA(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new AA(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new AA(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new AA(this.root_,null,this.comparator_,!0,e)}}function kK(n,e){return g_(n.name,e.name)}function oN(n,e){return g_(n,e)}ca.EMPTY_NODE=new class MK{copy(e,t,i,r,s){return this}insert(e,t,i){return new Tc(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const W3=function(n){return"number"==typeof n?"number:"+h3(n):"string:"+n},Z3=function(n){if(n.isLeafNode()){const e=n.val();(0,U.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,U.r3)(e,".sv"),"Priority must be a string or number.")}else(0,U.hu)(n===aN||n.isEmpty(),"priority of unexpected type.");(0,U.hu)(n===aN||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Y3,K3,Q3,Vb=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,U.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Z3(this.priorityNode_)}static set __childrenNodeConstructor(t){Y3=t}static get __childrenNodeConstructor(){return Y3}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return mn(t)?this:".priority"===fn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=fn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,U.hu)(".priority"!==r||1===Pm(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(xi(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+W3(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?h3(this.value_):this.value_,this.lazyHash_=l3(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,U.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,U.hu)(s>=0,"Unknown leaf type: "+i),(0,U.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Mi=new class NK extends DA{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?g_(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return _n.MIN}maxPost(){return new _n(Rh,new Vb("[PRIORITY-POST]",Q3))}makePost(e,t){const i=K3(e);return new _n(t,new Vb("[PRIORITY-POST]",i))}toString(){return".priority"}},FK=Math.log(2);class LK{constructor(e){this.count=parseInt(Math.log(e+1)/FK,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const MA=function(n,e,t,i){n.sort(e);const r=function(m,_){const b=_-m;let D,k;if(0===b)return null;if(1===b)return D=n[m],k=t?t(D):D,new Tc(k,D.node,Tc.BLACK,null,null);{const L=parseInt(b/2,10)+m,j=r(m,L),Y=r(L+1,_);return D=n[L],k=t?t(D):D,new Tc(k,D.node,Tc.BLACK,j,Y)}},h=function(m){let _=null,b=null,D=n.length;const k=function(j,Y){const se=D-j,Le=D;D-=j;const $e=r(se+1,Le),je=n[se],Ye=t?t(je):je;L(new Tc(Ye,je.node,Y,null,$e))},L=function(j){_?(_.left=j,_=j):(b=j,_=j)};for(let j=0;j<m.count;++j){const Y=m.nextBitIsOne(),se=Math.pow(2,m.count-(j+1));Y?k(se,Tc.BLACK):(k(se,Tc.BLACK),k(se,Tc.RED))}return b}(new LK(n.length));return new ca(i||e,h)};let lN;const Ub={};class Oh{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,U.hu)(Ub&&Mi,"ChildrenNode.ts has not been loaded"),lN=lN||new Oh({".priority":Ub},{".priority":Mi}),lN}get(e){const t=(0,U.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ca?t:null}hasIndex(e){return(0,U.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,U.hu)(e!==Wd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(_n.Wrap);let h,l=s.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=s.getNext();h=r?MA(i,e.getCompare()):Ub;const m=e.toString(),_=Object.assign({},this.indexSet_);_[m]=e;const b=Object.assign({},this.indexes_);return b[m]=h,new Oh(b,_)}addToIndexes(e,t){const i=(0,U.UI)(this.indexes_,(r,s)=>{const l=(0,U.DV)(this.indexSet_,s);if((0,U.hu)(l,"Missing index implementation for "+s),r===Ub){if(l.isDefinedOn(e.node)){const h=[],m=t.getIterator(_n.Wrap);let _=m.getNext();for(;_;)_.name!==e.name&&h.push(_),_=m.getNext();return h.push(e),MA(h,l.getCompare())}return Ub}{const h=t.get(e.name);let m=r;return h&&(m=m.remove(new _n(e.name,h))),m.insert(e,e.node)}});return new Oh(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,U.UI)(this.indexes_,r=>{if(r===Ub)return r;{const s=t.get(e.name);return s?r.remove(new _n(e.name,s)):r}});return new Oh(i,this.indexSet_)}}let pC,sn=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Z3(this.priorityNode_),this.children_.isEmpty()&&(0,U.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return pC||(pC=new n(new ca(oN),null,Oh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||pC}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?pC:i}}getChild(t){const i=fn(t);return null===i?this:this.getImmediateChild(i).getChild(xi(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,U.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new _n(t,i);let s,l;i.isEmpty()?(s=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),l=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?pC:this.priorityNode_;return new n(s,h,l)}}updateChild(t,i){const r=fn(t);if(null===r)return i;{(0,U.hu)(".priority"!==fn(t)||1===Pm(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(xi(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,l=!0;if(this.forEachChild(Mi,(h,m)=>{i[h]=m.val(t),r++,l&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):l=!1}),!t&&l&&s<2*r){const h=[];for(const m in i)h[m]=i[m];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+W3(this.getPriority().val())+":"),this.forEachChild(Mi,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":l3(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new _n(t,i));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new _n(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new _n(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,_n.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,_n.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)>0;)s.getNext(),l=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===gC?-1:0}withIndex(t){if(t===Wd||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Wd||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Mi),s=i.getIterator(Mi);let l=r.getNext(),h=s.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=r.getNext(),h=s.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(t){return t===Wd?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const gC=new class BK extends sn{constructor(){super(new ca(oN),sn.EMPTY_NODE,Oh.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return sn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(_n,{MIN:{value:new _n(Rm,sn.EMPTY_NODE)},MAX:{value:new _n(Rh,gC)}}),q3.__EMPTY_NODE=sn.EMPTY_NODE,Vb.__childrenNodeConstructor=sn,function RK(n){aN=n}(gC),function PK(n){Q3=n}(gC);const VK=!0;function lr(n,e=null){if(null===n)return sn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,U.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Vb(n,lr(e));if(n instanceof Array||!VK){let t=sn.EMPTY_NODE;return Rs(n,(i,r)=>{if((0,U.r3)(n,i)&&"."!==i.substring(0,1)){const s=lr(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(lr(e))}{const t=[];let i=!1;if(Rs(n,(l,h)=>{if("."!==l.substring(0,1)){const m=lr(h);m.isEmpty()||(i=i||!m.getPriority().isEmpty(),t.push(new _n(l,m)))}}),0===t.length)return sn.EMPTY_NODE;const s=MA(t,kK,l=>l.name,oN);if(i){const l=MA(t,Mi.getCompare());return new sn(s,lr(e),new Oh({".priority":l},{".priority":Mi}))}return new sn(s,lr(e),Oh.Default)}}!function OK(n){K3=n}(lr);class cN extends DA{constructor(e){super(),this.indexPath_=e,(0,U.hu)(!mn(e)&&".priority"!==fn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?g_(e.name,t.name):s}makePost(e,t){const i=lr(e),r=sn.EMPTY_NODE.updateChild(this.indexPath_,i);return new _n(t,r)}maxPost(){const e=sn.EMPTY_NODE.updateChild(this.indexPath_,gC);return new _n(Rh,e)}toString(){return fC(this.indexPath_,0).join("/")}}const dN=new class UK extends DA{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?g_(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return _n.MIN}maxPost(){return _n.MAX}makePost(e,t){const i=lr(e);return new _n(t,i)}toString(){return".value"}};function X3(n){return{type:"value",snapshotNode:n}}function Hb(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function _C(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function vC(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class uN{constructor(e){this.index_=e}updateChild(e,t,i,r,s,l){(0,U.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=l&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange(_C(t,h)):(0,U.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?l.trackChildChange(Hb(t,i)):l.trackChildChange(vC(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Mi,(r,s)=>{t.hasChild(r)||i.trackChildChange(_C(r,s))}),t.isLeafNode()||t.forEachChild(Mi,(r,s)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(s)||i.trackChildChange(vC(r,s,l))}else i.trackChildChange(Hb(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?sn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class yC{constructor(e){this.indexedFilter_=new uN(e.getIndex()),this.index_=e.getIndex(),this.startPost_=yC.getStartPost_(e),this.endPost_=yC.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,l){return this.matches(new _n(t,i))||(i=sn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=sn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(sn.EMPTY_NODE);const s=this;return t.forEachChild(Mi,(l,h)=>{s.matches(new _n(l,h))||(r=r.updateImmediateChild(l,sn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class zK{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new yC(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,l){return this.rangedFilter_.matches(new _n(t,i))||(i=sn.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,l):this.fullLimitUpdateChild_(e,t,i,s,l)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=sn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=sn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const h=s.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;r=r.updateImmediateChild(h.name,h.node),l++}}}else{let s;r=t.withIndex(this.index_),r=r.updatePriority(sn.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let l=0;for(;s.hasNext();){const h=s.getNext();l<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?l++:r=r.updateImmediateChild(h.name,sn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let l;if(this.reverse_){const D=this.index_.getCompare();l=(k,L)=>D(L,k)}else l=this.index_.getCompare();const h=e;(0,U.hu)(h.numChildren()===this.limit_,"");const m=new _n(t,i),_=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),b=this.rangedFilter_.matches(m);if(h.hasChild(t)){const D=h.getImmediateChild(t);let k=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=k&&(k.name===t||h.hasChild(k.name));)k=r.getChildAfterChild(this.index_,k,this.reverse_);const L=null==k?1:l(k,m);if(b&&!i.isEmpty()&&L>=0)return s?.trackChildChange(vC(t,i,D)),h.updateImmediateChild(t,i);{s?.trackChildChange(_C(t,D));const Y=h.updateImmediateChild(t,sn.EMPTY_NODE);return null!=k&&this.rangedFilter_.matches(k)?(s?.trackChildChange(Hb(k.name,k.node)),Y.updateImmediateChild(k.name,k.node)):Y}}return i.isEmpty()?e:b&&l(_,m)>=0?(null!=s&&(s.trackChildChange(_C(_.name,_.node)),s.trackChildChange(Hb(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(_.name,sn.EMPTY_NODE)):e}}class kA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Rm}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Rh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Mi}copy(){const e=new kA;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function hN(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function fN(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function RA(n,e){const t=n.copy();return t.index_=e,t}function J3(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Mi?t="$priority":n.index_===dN?t="$value":n.index_===Wd?t="$key":((0,U.hu)(n.index_ instanceof cN,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,U.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,U.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,U.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,U.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,U.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function e4(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Mi&&(e.i=n.index_.toString()),e}class OA extends B3{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=cC("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,U.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=OA.getListenId_(e,i),h={};this.listens_[l]=h;const m=J3(e._queryParams);this.restRequest_(s+".json",m,(_,b)=>{let D=b;if(404===_&&(D=null,_=null),null===_&&this.onDataUpdate_(s,D,!1,i),(0,U.DV)(this.listens_,l)===h){let k;k=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(k,null)}})}unlisten(e,t){const i=OA.getListenId_(e,t);delete this.listens_[i]}get(e){const t=J3(e._queryParams),i=e._path.toString(),r=new U.BH;return this.restRequest_(i+".json",t,(s,l)=>{let h=l;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,U.xO)(t);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=(0,U.cI)(h.responseText)}catch{po("Failed to parse JSON response for "+l+": "+h.responseText)}i(null,m)}else 401!==h.status&&404!==h.status&&po("Got unsuccessful REST response for "+l+" Status: "+h.status),i(h.status);i=null}},h.open("GET",l,!0),h.send()})}}class ZK{constructor(){this.rootNode_=sn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function PA(){return{value:null,children:new Map}}function zb(n,e,t){if(mn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=fn(e);n.children.has(i)||n.children.set(i,PA()),zb(n.children.get(i),e=xi(e),t)}}function mN(n,e){if(mn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Mi,(i,r)=>{zb(n,new Qn(i),r)}),mN(n,e)}}if(n.children.size>0){const t=fn(e);return e=xi(e),n.children.has(t)&&mN(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function pN(n,e,t){null!==n.value?t(e,n.value):function YK(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{pN(r,new Qn(e.toString()+"/"+i),t)})}class KK{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Rs(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class JK{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new KK(e);const i=1e4+2e4*Math.random();uC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Rs(e,(r,s)=>{s>0&&(0,U.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),uC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Yr=(()=>((Yr=Yr||{})[Yr.OVERWRITE=0]="OVERWRITE",Yr[Yr.MERGE=1]="MERGE",Yr[Yr.ACK_USER_WRITE=2]="ACK_USER_WRITE",Yr[Yr.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Yr))();function vN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class NA{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Yr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(mn(this.path)){if(null!=this.affectedTree.value)return(0,U.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Qn(e));return new NA(Vn(),t,this.revert)}}return(0,U.hu)(fn(this.path)===e,"operationForChild called for unrelated child."),new NA(xi(this.path),this.affectedTree,this.revert)}}class bC{constructor(e,t){this.source=e,this.path=t,this.type=Yr.LISTEN_COMPLETE}operationForChild(e){return mn(this.path)?new bC(this.source,Vn()):new bC(this.source,xi(this.path))}}class y_{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Yr.OVERWRITE}operationForChild(e){return mn(this.path)?new y_(this.source,Vn(),this.snap.getImmediateChild(e)):new y_(this.source,xi(this.path),this.snap)}}class jb{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Yr.MERGE}operationForChild(e){if(mn(this.path)){const t=this.children.subtree(new Qn(e));return t.isEmpty()?null:t.value?new y_(this.source,Vn(),t.value):new jb(this.source,Vn(),t)}return(0,U.hu)(fn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new jb(this.source,xi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Nm{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(mn(e))return this.isFullyInitialized()&&!this.filtered_;const t=fn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class eQ{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function wC(n,e,t,i,r,s){const l=i.filter(h=>h.type===t);l.sort((h,m)=>function iQ(n,e,t){if(null==e.childName||null==t.childName)throw(0,U.g5)("Should only compare child_ events.");const i=new _n(e.childName,e.snapshotNode),r=new _n(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,h,m)),l.forEach(h=>{const m=function nQ(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);r.forEach(_=>{_.respondsTo(h.type)&&e.push(_.createEvent(m,n.query_))})})}function FA(n,e){return{eventCache:n,serverCache:e}}function xC(n,e,t,i){return FA(new Nm(e,t,i),n.serverCache)}function n4(n,e,t,i){return FA(n.eventCache,new Nm(e,t,i))}function LA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function b_(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let yN;class ki{constructor(e,t=(()=>(yN||(yN=new ca(HY)),yN))()){this.value=e,this.children=t}static fromObject(e){let t=new ki(null);return Rs(e,(i,r)=>{t=t.set(new Qn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Vn(),value:this.value};if(mn(e))return null;{const i=fn(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(xi(e),t);return null!=s?{path:Yi(new Qn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(mn(e))return this;{const t=fn(e),i=this.children.get(t);return null!==i?i.subtree(xi(e)):new ki(null)}}set(e,t){if(mn(e))return new ki(t,this.children);{const i=fn(e),s=(this.children.get(i)||new ki(null)).set(xi(e),t),l=this.children.insert(i,s);return new ki(this.value,l)}}remove(e){if(mn(e))return this.children.isEmpty()?new ki(null):new ki(null,this.children);{const t=fn(e),i=this.children.get(t);if(i){const r=i.remove(xi(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new ki(null):new ki(this.value,s)}return this}}get(e){if(mn(e))return this.value;{const t=fn(e),i=this.children.get(t);return i?i.get(xi(e)):null}}setTree(e,t){if(mn(e))return t;{const i=fn(e),s=(this.children.get(i)||new ki(null)).setTree(xi(e),t);let l;return l=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new ki(this.value,l)}}fold(e){return this.fold_(Vn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Yi(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Vn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(mn(e))return null;{const s=fn(e),l=this.children.get(s);return l?l.findOnPath_(xi(e),Yi(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Vn(),t)}foreachOnPath_(e,t,i){if(mn(e))return this;{this.value&&i(t,this.value);const r=fn(e),s=this.children.get(r);return s?s.foreachOnPath_(xi(e),Yi(t,r),i):new ki(null)}}foreach(e){this.foreach_(Vn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Yi(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Dc{constructor(e){this.writeTree_=e}static empty(){return new Dc(new ki(null))}}function EC(n,e,t){if(mn(e))return new Dc(new ki(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const l=No(r,e);return s=s.updateChild(l,t),new Dc(n.writeTree_.set(r,s))}{const r=new ki(t),s=n.writeTree_.setTree(e,r);return new Dc(s)}}}function bN(n,e,t){let i=n;return Rs(t,(r,s)=>{i=EC(i,Yi(e,r),s)}),i}function i4(n,e){if(mn(e))return Dc.empty();{const t=n.writeTree_.setTree(e,new ki(null));return new Dc(t)}}function wN(n,e){return null!=w_(n,e)}function w_(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(No(t.path,e)):null}function r4(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Mi,(i,r)=>{e.push(new _n(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new _n(i,r.value))}),e}function Fm(n,e){if(mn(e))return n;{const t=w_(n,e);return new Dc(null!=t?new ki(t):n.writeTree_.subtree(e))}}function xN(n){return n.writeTree_.isEmpty()}function $b(n,e){return s4(Vn(),n.writeTree_,e)}function s4(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,U.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=s4(Yi(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Yi(n,".priority"),i)),t}}function BA(n,e){return d4(e,n)}function cQ(n,e){if(n.snap)return Al(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Al(Yi(n.path,t),e))return!0;return!1}function uQ(n){return n.visible}function o4(n,e,t){let i=Dc.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const l=s.path;let h;if(s.snap)Al(t,l)?(h=No(t,l),i=EC(i,h,s.snap)):Al(l,t)&&(h=No(l,t),i=EC(i,Vn(),s.snap.getChild(h)));else{if(!s.children)throw(0,U.g5)("WriteRecord should have .snap or .children");if(Al(t,l))h=No(t,l),i=bN(i,h,s.children);else if(Al(l,t))if(h=No(l,t),mn(h))i=bN(i,Vn(),s.children);else{const m=(0,U.DV)(s.children,fn(h));if(m){const _=m.getChild(xi(h));i=EC(i,Vn(),_)}}}}}return i}function a4(n,e,t,i,r){if(i||r){const s=Fm(n.visibleWrites,e);return!r&&xN(s)?t:r||null!=t||wN(s,Vn())?$b(o4(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(Al(_.path,e)||Al(e,_.path))},e),t||sn.EMPTY_NODE):null}{const s=w_(n.visibleWrites,e);if(null!=s)return s;{const l=Fm(n.visibleWrites,e);return xN(l)?t:null!=t||wN(l,Vn())?$b(l,t||sn.EMPTY_NODE):null}}}function VA(n,e,t,i){return a4(n.writeTree,n.treePath,e,t,i)}function EN(n,e){return function hQ(n,e,t){let i=sn.EMPTY_NODE;const r=w_(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Mi,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(t){const s=Fm(n.visibleWrites,e);return t.forEachChild(Mi,(l,h)=>{const m=$b(Fm(s,new Qn(l)),h);i=i.updateImmediateChild(l,m)}),r4(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return r4(Fm(n.visibleWrites,e)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,e)}function l4(n,e,t,i){return function fQ(n,e,t,i,r){(0,U.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Yi(e,t);if(wN(n.visibleWrites,s))return null;{const l=Fm(n.visibleWrites,s);return xN(l)?r.getChild(t):$b(l,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function UA(n,e){return function pQ(n,e){return w_(n.visibleWrites,e)}(n.writeTree,Yi(n.treePath,e))}function CN(n,e,t){return function mQ(n,e,t,i){const r=Yi(e,t),s=w_(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?$b(Fm(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function c4(n,e){return d4(Yi(n.treePath,e),n.writeTree)}function d4(n,e){return{treePath:n,writeTree:e}}class yQ{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,U.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,U.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,vC(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,_C(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,Hb(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,U.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,vC(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const u4=new class bQ{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class IN{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Nm(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return CN(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:b_(this.viewCache_),s=function vQ(n,e,t,i,r,s){return function gQ(n,e,t,i,r,s,l){let h;const m=Fm(n.visibleWrites,e),_=w_(m,Vn());if(null!=_)h=_;else{if(null==t)return[];h=$b(m,t)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const b=[],D=l.getCompare(),k=s?h.getReverseIteratorFrom(i,l):h.getIteratorFrom(i,l);let L=k.getNext();for(;L&&b.length<r;)0!==D(L,i)&&b.push(L),L=k.getNext();return b}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function h4(n,e,t,i,r,s){const l=e.eventCache;if(null!=UA(i,t))return e;{let h,m;if(mn(t))if((0,U.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=b_(e),D=EN(i,_ instanceof sn?_:sn.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),D,s)}else{const _=VA(i,b_(e));h=n.filter.updateFullNode(e.eventCache.getNode(),_,s)}else{const _=fn(t);if(".priority"===_){(0,U.hu)(1===Pm(t),"Can't have a priority with additional path components");const b=l.getNode();m=e.serverCache.getNode();const D=l4(i,t,b,m);h=null!=D?n.filter.updatePriority(b,D):l.getNode()}else{const b=xi(t);let D;if(l.isCompleteForChild(_)){m=e.serverCache.getNode();const k=l4(i,t,l.getNode(),m);D=null!=k?l.getNode().getImmediateChild(_).updateChild(b,k):l.getNode().getImmediateChild(_)}else D=CN(i,_,e.serverCache);h=null!=D?n.filter.updateChild(l.getNode(),_,D,b,r,s):l.getNode()}}return xC(e,h,l.isFullyInitialized()||mn(t),n.filter.filtersNodes())}}function HA(n,e,t,i,r,s,l,h){const m=e.serverCache;let _;const b=l?n.filter:n.filter.getIndexedFilter();if(mn(t))_=b.updateFullNode(m.getNode(),i,null);else if(b.filtersNodes()&&!m.isFiltered()){const L=m.getNode().updateChild(t,i);_=b.updateFullNode(m.getNode(),L,null)}else{const L=fn(t);if(!m.isCompleteForPath(t)&&Pm(t)>1)return e;const j=xi(t),se=m.getNode().getImmediateChild(L).updateChild(j,i);_=".priority"===L?b.updatePriority(m.getNode(),se):b.updateChild(m.getNode(),L,se,j,u4,null)}const D=n4(e,_,m.isFullyInitialized()||mn(t),b.filtersNodes());return h4(n,D,t,r,new IN(r,D,s),h)}function TN(n,e,t,i,r,s,l){const h=e.eventCache;let m,_;const b=new IN(r,e,s);if(mn(t))_=n.filter.updateFullNode(e.eventCache.getNode(),i,l),m=xC(e,_,!0,n.filter.filtersNodes());else{const D=fn(t);if(".priority"===D)_=n.filter.updatePriority(e.eventCache.getNode(),i),m=xC(e,_,h.isFullyInitialized(),h.isFiltered());else{const k=xi(t),L=h.getNode().getImmediateChild(D);let j;if(mn(k))j=i;else{const Y=b.getCompleteChild(D);j=null!=Y?".priority"===iN(k)&&Y.getChild(z3(k)).isEmpty()?Y:Y.updateChild(k,i):sn.EMPTY_NODE}m=L.equals(j)?e:xC(e,n.filter.updateChild(h.getNode(),D,j,k,b,l),h.isFullyInitialized(),n.filter.filtersNodes())}}return m}function f4(n,e){return n.eventCache.isCompleteForChild(e)}function m4(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function DN(n,e,t,i,r,s,l,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,m=e;_=mn(t)?i:new ki(null).setTree(t,i);const b=e.serverCache.getNode();return _.children.inorderTraversal((D,k)=>{if(b.hasChild(D)){const j=m4(0,e.serverCache.getNode().getImmediateChild(D),k);m=HA(n,m,new Qn(D),j,r,s,l,h)}}),_.children.inorderTraversal((D,k)=>{const L=!e.serverCache.isCompleteForChild(D)&&null===k.value;if(!b.hasChild(D)&&!L){const Y=m4(0,e.serverCache.getNode().getImmediateChild(D),k);m=HA(n,m,new Qn(D),Y,r,s,l,h)}}),m}class AQ{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new uN(i.getIndex()),s=function jK(n){return n.loadsAllData()?new uN(n.getIndex()):n.hasLimit()?new zK(n):new yC(n)}(i);this.processor_=function wQ(n){return{filter:n}}(s);const l=t.serverCache,h=t.eventCache,m=r.updateFullNode(sn.EMPTY_NODE,l.getNode(),null),_=s.updateFullNode(sn.EMPTY_NODE,h.getNode(),null),b=new Nm(m,l.isFullyInitialized(),r.filtersNodes()),D=new Nm(_,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=FA(D,b),this.eventGenerator_=new eQ(this.query_)}get query(){return this.query_}}function RQ(n,e){const t=b_(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!mn(e)&&!t.getImmediateChild(fn(e)).isEmpty())?t.getChild(e):null}function p4(n){return 0===n.eventRegistrations_.length}function g4(n,e,t){const i=[];if(t){(0,U.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(t,r);l&&i.push(l)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(l.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(l)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function _4(n,e,t,i){e.type===Yr.MERGE&&null!==e.source.queryId&&((0,U.hu)(b_(n.viewCache_),"We should always have a full cache before handling merges"),(0,U.hu)(LA(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function EQ(n,e,t,i,r){const s=new yQ;let l,h;if(t.type===Yr.OVERWRITE){const _=t;_.source.fromUser?l=TN(n,e,_.path,_.snap,i,r,s):((0,U.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||e.serverCache.isFiltered()&&!mn(_.path),l=HA(n,e,_.path,_.snap,i,r,h,s))}else if(t.type===Yr.MERGE){const _=t;_.source.fromUser?l=function IQ(n,e,t,i,r,s,l){let h=e;return i.foreach((m,_)=>{const b=Yi(t,m);f4(e,fn(b))&&(h=TN(n,h,b,_,r,s,l))}),i.foreach((m,_)=>{const b=Yi(t,m);f4(e,fn(b))||(h=TN(n,h,b,_,r,s,l))}),h}(n,e,_.path,_.children,i,r,s):((0,U.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||e.serverCache.isFiltered(),l=DN(n,e,_.path,_.children,i,r,h,s))}else if(t.type===Yr.ACK_USER_WRITE){const _=t;l=_.revert?function SQ(n,e,t,i,r,s){let l;if(null!=UA(i,t))return e;{const h=new IN(i,e,r),m=e.eventCache.getNode();let _;if(mn(t)||".priority"===fn(t)){let b;if(e.serverCache.isFullyInitialized())b=VA(i,b_(e));else{const D=e.serverCache.getNode();(0,U.hu)(D instanceof sn,"serverChildren would be complete if leaf node"),b=EN(i,D)}_=n.filter.updateFullNode(m,b,s)}else{const b=fn(t);let D=CN(i,b,e.serverCache);null==D&&e.serverCache.isCompleteForChild(b)&&(D=m.getImmediateChild(b)),_=null!=D?n.filter.updateChild(m,b,D,xi(t),h,s):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(m,b,sn.EMPTY_NODE,xi(t),h,s):m,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=VA(i,b_(e)),l.isLeafNode()&&(_=n.filter.updateFullNode(_,l,s)))}return l=e.serverCache.isFullyInitialized()||null!=UA(i,Vn()),xC(e,_,l,n.filter.filtersNodes())}}(n,e,_.path,i,r,s):function TQ(n,e,t,i,r,s,l){if(null!=UA(r,t))return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(null!=i.value){if(mn(t)&&m.isFullyInitialized()||m.isCompleteForPath(t))return HA(n,e,t,m.getNode().getChild(t),r,s,h,l);if(mn(t)){let _=new ki(null);return m.getNode().forEachChild(Wd,(b,D)=>{_=_.set(new Qn(b),D)}),DN(n,e,t,_,r,s,h,l)}return e}{let _=new ki(null);return i.foreach((b,D)=>{const k=Yi(t,b);m.isCompleteForPath(k)&&(_=_.set(b,m.getNode().getChild(k)))}),DN(n,e,t,_,r,s,h,l)}}(n,e,_.path,_.affectedTree,i,r,s)}else{if(t.type!==Yr.LISTEN_COMPLETE)throw(0,U.g5)("Unknown operation type: "+t.type);l=function DQ(n,e,t,i,r){const s=e.serverCache;return h4(n,n4(e,s.getNode(),s.isFullyInitialized()||mn(t),s.isFiltered()),t,i,u4,r)}(n,e,t.path,i,s)}const m=s.getChanges();return function CQ(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=LA(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(X3(LA(e)))}}(e,l,m),{viewCache:l,changes:m}}(n.processor_,r,e,t,i);return function xQ(n,e){(0,U.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,U.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,U.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,v4(n,s.changes,s.viewCache.eventCache.getNode(),null)}function v4(n,e,t,i){return function tQ(n,e,t,i){const r=[],s=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function HK(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),wC(n,r,"child_removed",e,i,t),wC(n,r,"child_added",e,i,t),wC(n,r,"child_moved",s,i,t),wC(n,r,"child_changed",e,i,t),wC(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let zA,$A;class y4{constructor(){this.views=new Map}}function SN(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,U.hu)(null!=s,"SyncTree gave us an op for an invalid query."),_4(s,e,t,i)}{let s=[];for(const l of n.views.values())s=s.concat(_4(l,e,t,i));return s}}function b4(n,e,t,i,r){const l=n.views.get(e._queryIdentifier);if(!l){let h=VA(t,r?i:null),m=!1;h?m=!0:i instanceof sn?(h=EN(t,i),m=!1):(h=sn.EMPTY_NODE,m=!1);const _=FA(new Nm(h,m,!1),new Nm(i,r,!1));return new AQ(e,_)}return l}function w4(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Lm(n,e){let t=null;for(const i of n.views.values())t=t||RQ(i,e);return t}function x4(n,e){return e._queryParams.loadsAllData()?jA(n):n.views.get(e._queryIdentifier)}function E4(n,e){return null!=x4(n,e)}function Bm(n){return null!=jA(n)}function jA(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let zQ=1;class C4{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ki(null),this.pendingWriteTree_=function _Q(){return{visibleWrites:Dc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function AN(n,e,t,i,r){return function sQ(n,e,t,i,r){(0,U.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=EC(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Gb(n,new y_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Vm(n,e,t=!1){const i=function aQ(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function lQ(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,U.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const h=n.allWrites[l];h.visible&&(l>=t&&cQ(h,i.path)?r=!1:Al(i.path,h.path)&&(s=!0)),l--}return!!r&&(s?(function dQ(n){n.visibleWrites=o4(n.allWrites,uQ,Vn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=i4(n.visibleWrites,i.path):Rs(i.children,m=>{n.visibleWrites=i4(n.visibleWrites,Yi(i.path,m))}),!0))}(n.pendingWriteTree_,e)){let s=new ki(null);return null!=i.snap?s=s.set(Vn(),!0):Rs(i.children,l=>{s=s.set(new Qn(l),!0)}),Gb(n,new NA(i.path,s,t))}return[]}function CC(n,e,t){return Gb(n,new y_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function GA(n,e,t,i,r=!1){const s=e._path,l=n.syncPointTree_.get(s);let h=[];if(l&&("default"===e._queryIdentifier||E4(l,e))){const m=function VQ(n,e,t,i){const r=e._queryIdentifier,s=[];let l=[];const h=Bm(n);if("default"===r)for(const[m,_]of n.views.entries())l=l.concat(g4(_,t,i)),p4(_)&&(n.views.delete(m),_.query._queryParams.loadsAllData()||s.push(_.query));else{const m=n.views.get(r);m&&(l=l.concat(g4(m,t,i)),p4(m)&&(n.views.delete(r),m.query._queryParams.loadsAllData()||s.push(m.query)))}return h&&!Bm(n)&&s.push(new(function FQ(){return(0,U.hu)(zA,"Reference.ts has not been loaded"),zA}())(e._repo,e._path)),{removed:s,events:l}}(l,e,t,i);(function LQ(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const _=m.removed;if(h=m.events,!r){const b=-1!==_.findIndex(k=>k._queryParams.loadsAllData()),D=n.syncPointTree_.findOnPath(s,(k,L)=>Bm(L));if(b&&!D){const k=n.syncPointTree_.subtree(s);if(!k.isEmpty()){const L=function YQ(n){return n.fold((e,t,i)=>{if(t&&Bm(t))return[jA(t)];{let r=[];return t&&(r=w4(t)),Rs(i,(s,l)=>{r=r.concat(l)}),r}})}(k);for(let j=0;j<L.length;++j){const Y=L[j],se=Y.query,Le=S4(n,Y);n.listenProvider_.startListening(TC(se),IC(n,se),Le.hashFn,Le.onComplete)}}}!D&&_.length>0&&!i&&(b?n.listenProvider_.stopListening(TC(e),null):_.forEach(k=>{const L=n.queryToTagMap.get(WA(k));n.listenProvider_.stopListening(TC(k),L)}))}!function KQ(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=WA(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,_)}return h}function I4(n,e,t,i){const r=kN(n,i);if(null!=r){const s=RN(r),l=s.path,h=s.queryId,m=No(l,e);return ON(n,l,new y_(vN(h),m,t))}return[]}function MN(n,e,t,i=!1){const r=e._path;let s=null,l=!1;n.syncPointTree_.foreachOnPath(r,(k,L)=>{const j=No(k,r);s=s||Lm(L,j),l=l||Bm(L)});let m,h=n.syncPointTree_.get(r);h?(l=l||Bm(h),s=s||Lm(h,Vn())):(h=new y4,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=s?m=!0:(m=!1,s=sn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((L,j)=>{const Y=Lm(j,Vn());Y&&(s=s.updateImmediateChild(L,Y))}));const _=E4(h,e);if(!_&&!e._queryParams.loadsAllData()){const k=WA(e);(0,U.hu)(!n.queryToTagMap.has(k),"View does not exist, but we have a tag");const L=function QQ(){return zQ++}();n.queryToTagMap.set(k,L),n.tagToQueryMap.set(L,k)}let D=function BQ(n,e,t,i,r,s){const l=b4(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),function OQ(n,e){n.eventRegistrations_.push(e)}(l,t),function PQ(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Mi,(s,l)=>{i.push(Hb(s,l))}),t.isFullyInitialized()&&i.push(X3(t.getNode())),v4(n,i,t.getNode(),e)}(l,t)}(h,e,t,BA(n.pendingWriteTree_,r),s,m);if(!_&&!l&&!i){const k=x4(h,e);D=D.concat(function XQ(n,e,t){const i=e._path,r=IC(n,e),s=S4(n,t),l=n.listenProvider_.startListening(TC(e),r,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,U.hu)(!Bm(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((_,b,D)=>{if(!mn(_)&&b&&Bm(b))return[jA(b).query];{let k=[];return b&&(k=k.concat(w4(b).map(L=>L.query))),Rs(D,(L,j)=>{k=k.concat(j)}),k}});for(let _=0;_<m.length;++_){const b=m[_];n.listenProvider_.stopListening(TC(b),IC(n,b))}}return l}(n,e,k))}return D}function qA(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(l,h)=>{const _=Lm(h,No(l,e));if(_)return _});return a4(r,e,s,t,!0)}function Gb(n,e){return T4(e,n.syncPointTree_,null,BA(n.pendingWriteTree_,Vn()))}function T4(n,e,t,i){if(mn(n.path))return D4(n,e,t,i);{const r=e.get(Vn());null==t&&null!=r&&(t=Lm(r,Vn()));let s=[];const l=fn(n.path),h=n.operationForChild(l),m=e.children.get(l);if(m&&h){const _=t?t.getImmediateChild(l):null,b=c4(i,l);s=s.concat(T4(h,m,_,b))}return r&&(s=s.concat(SN(r,n,i,t))),s}}function D4(n,e,t,i){const r=e.get(Vn());null==t&&null!=r&&(t=Lm(r,Vn()));let s=[];return e.children.inorderTraversal((l,h)=>{const m=t?t.getImmediateChild(l):null,_=c4(i,l),b=n.operationForChild(l);b&&(s=s.concat(D4(b,h,m,_)))}),r&&(s=s.concat(SN(r,n,i,t))),s}function S4(n,e){const t=e.query,i=IC(n,t);return{hashFn:()=>(function MQ(n){return n.viewCache_.serverCache.getNode()}(e)||sn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function qQ(n,e,t){const i=kN(n,t);if(i){const r=RN(i),s=r.path,l=r.queryId,h=No(s,e);return ON(n,s,new bC(vN(l),h))}return[]}(n,t._path,i):function GQ(n,e){return Gb(n,new bC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function $Y(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return GA(n,t,null,s)}}}}function IC(n,e){const t=WA(e);return n.queryToTagMap.get(t)}function WA(n){return n._path.toString()+"$"+n._queryIdentifier}function kN(n,e){return n.tagToQueryMap.get(e)}function RN(n){const e=n.indexOf("$");return(0,U.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Qn(n.substr(0,e))}}function ON(n,e,t){const i=n.syncPointTree_.get(e);return(0,U.hu)(i,"Missing sync point for query tag that we're tracking"),SN(i,t,BA(n.pendingWriteTree_,e),null)}function TC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function HQ(){return(0,U.hu)($A,"Reference.ts has not been loaded"),$A}())(n._repo,n._path):n}class PN{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new PN(t)}node(){return this.node_}}class NN{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Yi(this.path_,e);return new NN(this.syncTree_,t)}node(){return qA(this.syncTree_,this.path_)}}const JQ=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},A4=function(n,e,t){return n&&"object"==typeof n?((0,U.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?eX(n[".sv"],e,t):"object"==typeof n[".sv"]?tX(n[".sv"],e):void(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},eX=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,U.hu)(!1,"Unexpected server value: "+n)},tX=function(n,e,t){n.hasOwnProperty("increment")||(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,U.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,U.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},M4=function(n,e,t,i){return LN(e,new NN(t,n),i)},FN=function(n,e,t){return LN(n,new PN(e),t)};function LN(n,e,t){const i=n.getPriority().val(),r=A4(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const l=n,h=A4(l.getValue(),e,t);return h!==l.getValue()||r!==l.getPriority().val()?new Vb(h,lr(r)):n}{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new Vb(r))),l.forEachChild(Mi,(h,m)=>{const _=LN(m,e.getImmediateChild(h),t);_!==m&&(s=s.updateImmediateChild(h,_))}),s}}class BN{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function ZA(n,e){let t=e instanceof Qn?e:new Qn(e),i=n,r=fn(t);for(;null!==r;){const s=(0,U.DV)(i.node.children,r)||{children:{},childCount:0};i=new BN(r,i,s),t=xi(t),r=fn(t)}return i}function x_(n){return n.node.value}function VN(n,e){n.node.value=e,UN(n)}function k4(n){return n.node.childCount>0}function YA(n,e){Rs(n.node.children,(t,i)=>{e(new BN(t,n,i))})}function R4(n,e,t,i){t&&!i&&e(n),YA(n,r=>{R4(r,e,!0,i)}),t&&i&&e(n)}function DC(n){return new Qn(null===n.parent?n.name:DC(n.parent)+"/"+n.name)}function UN(n){null!==n.parent&&function rX(n,e,t){const i=function nX(n){return void 0===x_(n)&&!k4(n)}(t),r=(0,U.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,UN(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,UN(n))}(n.parent,n.name,n)}const sX=/[\[\].#$\/\u0000-\u001F\u007F]/,oX=/[\[\].#$\u0000-\u001F\u007F]/,HN=10485760,KA=function(n){return"string"==typeof n&&0!==n.length&&!sX.test(n)},O4=function(n){return"string"==typeof n&&0!==n.length&&!oX.test(n)},SC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!EA(n)||n&&"object"==typeof n&&(0,U.r3)(n,".sv")},Zd=function(n,e,t,i){i&&void 0===e||AC((0,U.gK)(n,"value"),e,t)},AC=function(n,e,t){const i=t instanceof Qn?new EK(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+__(i));if("function"==typeof e)throw new Error(n+"contains a function "+__(i)+" with contents = "+e.toString());if(EA(e))throw new Error(n+"contains "+e.toString()+" "+__(i));if("string"==typeof e&&e.length>HN/3&&(0,U.ug)(e)>HN)throw new Error(n+"contains a string greater than "+HN+" utf8 bytes "+__(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Rs(e,(l,h)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!KA(l)))throw new Error(n+" contains an invalid key ("+l+") "+__(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function CK(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,U.ug)(e),j3(n)})(i,l),AC(n,h,i),function IK(n){const e=n.parts_.pop();n.byteLength_-=(0,U.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+__(i)+" in addition to actual children.")}},P4=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,U.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Rs(e,(l,h)=>{const m=new Qn(l);if(AC(r,h,Yi(t,m)),".priority"===iN(m)&&!SC(h))throw new Error(r+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(m)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=fC(i);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!KA(s[l]))throw new Error(n+"contains an invalid key ("+s[l]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(xK);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&Al(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},zN=function(n,e,t){if(!t||void 0!==e){if(EA(e))throw new Error((0,U.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!SC(e))throw new Error((0,U.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},MC=function(n,e,t,i){if(!(i&&void 0===t||KA(t)))throw new Error((0,U.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},kC=function(n,e,t,i){if(!(i&&void 0===t||O4(t)))throw new Error((0,U.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},cX=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),kC(n,e,t,i)},Ml=function(n,e){if(".info"===fn(e))throw new Error(n+" failed = Can't modify data under /.info/")},N4=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!KA(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),O4(n)}(t))throw new Error((0,U.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class dX{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function QA(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!rN(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function F4(n,e,t){QA(n,t),L4(n,i=>rN(i,e))}function qa(n,e,t){QA(n,t),L4(n,i=>Al(i,e)||Al(e,i))}function L4(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(uX(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function uX(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();p_&&ks("event: "+t.toString()),Lb(i)}}}const B4="repo_interrupt",hX=25;class fX{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dX,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=PA(),this.transactionQueueTree_=new BN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function V4(n){const t=n.infoData_.getNode(new Qn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function RC(n){return JQ({timestamp:V4(n)})}function U4(n,e,t,i,r){n.dataUpdateCount++;const s=new Qn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(r)if(i){const m=(0,U.UI)(t,_=>lr(_));l=function WQ(n,e,t,i){const r=kN(n,i);if(r){const s=RN(r),l=s.path,h=s.queryId,m=No(l,e),_=ki.fromObject(t);return ON(n,l,new jb(vN(h),m,_))}return[]}(n.serverSyncTree_,s,m,r)}else{const m=lr(t);l=I4(n.serverSyncTree_,s,m,r)}else if(i){const m=(0,U.UI)(t,_=>lr(_));l=function $Q(n,e,t){const i=ki.fromObject(t);return Gb(n,new jb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,m)}else{const m=lr(t);l=CC(n.serverSyncTree_,s,m)}let h=s;l.length>0&&(h=Wb(n,s)),qa(n.eventQueue_,h,l)}function H4(n,e){jN(n,"connected",e),!1===e&&function vX(n){qb(n,"onDisconnectEvents");const e=RC(n),t=PA();pN(n.onDisconnect_,Vn(),(r,s)=>{const l=M4(r,s,n.serverSyncTree_,e);zb(t,r,l)});let i=[];pN(t,Vn(),(r,s)=>{i=i.concat(CC(n.serverSyncTree_,r,s));const l=WN(n,r);Wb(n,l)}),n.onDisconnect_=PA(),qa(n.eventQueue_,Vn(),i)}(n)}function jN(n,e,t){const i=new Qn("/.info/"+e),r=lr(t);n.infoData_.updateSnapshot(i,r);const s=CC(n.infoSyncTree_,i,r);qa(n.eventQueue_,i,s)}function XA(n){return n.nextWriteId_++}function $N(n,e,t,i,r){qb(n,"set",{path:e.toString(),value:t,priority:i});const s=RC(n),l=lr(t,i),h=qA(n.serverSyncTree_,e),m=FN(l,h,s),_=XA(n),b=AN(n.serverSyncTree_,e,m,_,!0);QA(n.eventQueue_,b),n.server_.put(e.toString(),l.val(!0),(k,L)=>{const j="ok"===k;j||po("set at "+e+" failed: "+k);const Y=Vm(n.serverSyncTree_,_,!j);qa(n.eventQueue_,e,Y),Um(0,r,k,L)});const D=WN(n,e);Wb(n,D),qa(n.eventQueue_,D,[])}function yX(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&mN(n.onDisconnect_,e),Um(0,t,i,r)})}function z4(n,e,t,i){const r=lr(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,l)=>{"ok"===s&&zb(n.onDisconnect_,e,r),Um(0,i,s,l)})}function GN(n,e,t){let i;i=".info"===fn(e._path)?GA(n.infoSyncTree_,e,t):GA(n.serverSyncTree_,e,t),F4(n.eventQueue_,e._path,i)}function j4(n){n.persistentConnection_&&n.persistentConnection_.interrupt(B4)}function qb(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),ks(t,...e)}function Um(n,e,t,i){e&&Lb(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const l=new Error(s);l.code=r,e(l)}})}function qN(n,e,t){return qA(n.serverSyncTree_,e,t)||sn.EMPTY_NODE}function JA(n,e=n.transactionQueueTree_){if(e||eM(n,e),x_(e)){const t=G4(n,e);(0,U.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function IX(n,e,t){const i=t.map(_=>_.currentWriteId),r=qN(n,e,i);let s=r;const l=r.hash();for(let _=0;_<t.length;_++){const b=t[_];(0,U.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const D=No(e,b.path);s=s.updateChild(D,b.currentOutputSnapshotRaw)}const h=s.val(!0),m=e;n.server_.put(m.toString(),h,_=>{qb(n,"transaction put response",{path:m.toString(),status:_});let b=[];if("ok"===_){const D=[];for(let k=0;k<t.length;k++)t[k].status=2,b=b.concat(Vm(n.serverSyncTree_,t[k].currentWriteId)),t[k].onComplete&&D.push(()=>t[k].onComplete(null,!0,t[k].currentOutputSnapshotResolved)),t[k].unwatcher();eM(n,ZA(n.transactionQueueTree_,e)),JA(n,n.transactionQueueTree_),qa(n.eventQueue_,e,b);for(let k=0;k<D.length;k++)Lb(D[k])}else{if("datastale"===_)for(let D=0;D<t.length;D++)t[D].status=3===t[D].status?4:0;else{po("transaction at "+m.toString()+" failed: "+_);for(let D=0;D<t.length;D++)t[D].status=4,t[D].abortReason=_}Wb(n,e)}},l)}(n,DC(e),t)}else k4(e)&&YA(e,t=>{JA(n,t)})}function Wb(n,e){const t=$4(n,e),i=DC(t);return function TX(n,e,t){if(0===e.length)return;const i=[];let r=[];const l=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],_=No(t,m.path);let D,b=!1;if((0,U.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)b=!0,D=m.abortReason,r=r.concat(Vm(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=hX)b=!0,D="maxretry",r=r.concat(Vm(n.serverSyncTree_,m.currentWriteId,!0));else{const k=qN(n,m.path,l);m.currentInputSnapshot=k;const L=e[h].update(k.val());if(void 0!==L){AC("transaction failed: Data returned ",L,m.path);let j=lr(L);"object"==typeof L&&null!=L&&(0,U.r3)(L,".priority")||(j=j.updatePriority(k.getPriority()));const se=m.currentWriteId,Le=RC(n),$e=FN(j,k,Le);m.currentOutputSnapshotRaw=j,m.currentOutputSnapshotResolved=$e,m.currentWriteId=XA(n),l.splice(l.indexOf(se),1),r=r.concat(AN(n.serverSyncTree_,m.path,$e,m.currentWriteId,m.applyLocally)),r=r.concat(Vm(n.serverSyncTree_,se,!0))}else b=!0,D="nodata",r=r.concat(Vm(n.serverSyncTree_,m.currentWriteId,!0))}qa(n.eventQueue_,t,r),r=[],b&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===D?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(D),!1,null)))}eM(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)Lb(i[h]);JA(n,n.transactionQueueTree_)}(n,G4(n,t),i),i}function $4(n,e){let t,i=n.transactionQueueTree_;for(t=fn(e);null!==t&&void 0===x_(i);)i=ZA(i,t),t=fn(e=xi(e));return i}function G4(n,e){const t=[];return q4(n,e,t),t.sort((i,r)=>i.order-r.order),t}function q4(n,e,t){const i=x_(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);YA(e,r=>{q4(n,r,t)})}function eM(n,e){const t=x_(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,VN(e,t.length>0?t:void 0)}YA(e,i=>{eM(n,i)})}function WN(n,e){const t=DC($4(n,e)),i=ZA(n.transactionQueueTree_,e);return function iX(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{ZN(n,r)}),ZN(n,i),R4(i,r=>{ZN(n,r)}),t}function ZN(n,e){const t=x_(e);if(t){const i=[];let r=[],s=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,U.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,t[l].status=3,t[l].abortReason="set"):((0,U.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),r=r.concat(Vm(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?VN(e,void 0):t.length=s+1,qa(n.eventQueue_,DC(e),r);for(let l=0;l<i.length;l++)Lb(i[l])}}const YN=function(n,e){const t=AX(n),i=t.namespace;return"firebase.com"===t.domain&&qd(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&qd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&po("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new QP(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Qn(t.pathString)}},AX=function(n){let e="",t="",i="",r="",s="",l=!0,h="https",m=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(h=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),e=n.substring(0,Math.min(b,D)),b<D&&(r=function DX(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(b,D)));const k=function SX(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):po(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,D)));_=e.indexOf(":"),_>=0?(l="https"===h||"wss"===h,m=parseInt(e.substring(_+1),10)):_=e.length;const L=e.slice(0,_);if("localhost"===L.toLowerCase())t="localhost";else if(L.split(".").length<=2)t=L;else{const j=e.indexOf(".");i=e.substring(0,j).toLowerCase(),t=e.substring(j+1),s=i}"ns"in k&&(s=k.ns)}return{host:e,port:m,domain:t,subdomain:i,secure:l,scheme:h,pathString:r,namespace:s}},W4="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",MX=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=W4.charAt(t%64),t=Math.floor(t/64);(0,U.hu)(0===t,"Cannot push at time == 0");let l=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=W4.charAt(e[r]);return(0,U.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class Z4{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,U.Wl)(this.snapshot.exportVal())}}class Y4{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class KN{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,U.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class K4{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new U.BH;return yX(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Ml("OnDisconnect.remove",this._path);const e=new U.BH;return z4(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Ml("OnDisconnect.set",this._path),Zd("OnDisconnect.set",e,this._path,!1);const t=new U.BH;return z4(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Ml("OnDisconnect.setWithPriority",this._path),Zd("OnDisconnect.setWithPriority",e,this._path,!1),zN("OnDisconnect.setWithPriority",t,!1);const i=new U.BH;return function bX(n,e,t,i,r){const s=lr(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(l,h)=>{"ok"===l&&zb(n.onDisconnect_,e,s),Um(0,r,l,h)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){Ml("OnDisconnect.update",this._path),P4("OnDisconnect.update",e,this._path,!1);const t=new U.BH;return function wX(n,e,t,i){if((0,U.xb)(t))return ks("onDisconnect().update() called with empty data.  Don't do anything."),void Um(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&Rs(t,(l,h)=>{const m=lr(h);zb(n.onDisconnect_,Yi(e,l),m)}),Um(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class da{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return mn(this._path)?null:iN(this._path)}get ref(){return new kl(this._repo,this._path)}get _queryIdentifier(){const e=e4(this._queryParams),t=YP(e);return"{}"===t?"default":t}get _queryObject(){return e4(this._queryParams)}isEqual(e){if(!((e=(0,U.m9)(e))instanceof da))return!1;const t=this._repo===e._repo,i=rN(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function wK(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function tM(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Hm(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Wd){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Rm)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Rh)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Mi){if(null!=e&&!SC(e)||null!=t&&!SC(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,U.hu)(n.getIndex()instanceof cN||n.getIndex()===dN,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function nM(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class kl extends da{constructor(e,t){super(e,t,new kA,!1)}get parent(){const e=z3(this._path);return null===e?null:new kl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class E_{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Qn(e),i=C_(this.ref,e);return new E_(this._node.getChild(t),i,Mi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new E_(r,C_(this.ref,i),Mi)))}hasChild(e){const t=new Qn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Q4(n,e){return(n=(0,U.m9)(n))._checkNotDeleted("ref"),void 0!==e?C_(n._root,e):n._root}function X4(n,e){(n=(0,U.m9)(n))._checkNotDeleted("refFromURL");const t=YN(e,n._repo.repoInfo_.nodeAdmin);N4("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&qd("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),Q4(n,t.path.toString())}function C_(n,e){return null===fn((n=(0,U.m9)(n))._path)?cX("child","path",e,!1):kC("child","path",e,!1),new kl(n._repo,Yi(n._path,e))}function QN(n,e){n=(0,U.m9)(n),Ml("set",n._path),Zd("set",e,n._path,!1);const t=new U.BH;return $N(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function NX(n,e){P4("update",e,n._path,!1);const t=new U.BH;return function _X(n,e,t,i){qb(n,"update",{path:e.toString(),value:t});let r=!0;const s=RC(n),l={};if(Rs(t,(h,m)=>{r=!1,l[h]=M4(Yi(e,h),lr(m),n.serverSyncTree_,s)}),r)ks("update() called with empty data.  Don't do anything."),Um(0,i,"ok",void 0);else{const h=XA(n),m=function jQ(n,e,t,i){!function oQ(n,e,t,i){(0,U.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=bN(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=ki.fromObject(t);return Gb(n,new jb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,l,h);QA(n.eventQueue_,m),n.server_.merge(e.toString(),t,(_,b)=>{const D="ok"===_;D||po("update at "+e+" failed: "+_);const k=Vm(n.serverSyncTree_,h,!D),L=k.length>0?Wb(n,e):e;qa(n.eventQueue_,L,k),Um(0,i,_,b)}),Rs(t,_=>{const b=WN(n,Yi(e,_));Wb(n,b)}),qa(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function FX(n){n=(0,U.m9)(n);const e=new KN(()=>{}),t=new OC(e);return function gX(n,e,t){const i=function ZQ(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(_,b)=>{const D=No(_,t);i=i||Lm(b,D)});let r=n.syncPointTree_.get(t);r?i=i||Lm(r,Vn()):(r=new y4,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,l=s?new Nm(i,!0,!1):null;return function kQ(n){return LA(n.viewCache_)}(b4(r,e,BA(n.pendingWriteTree_,e._path),s?l.getNode():sn.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const s=lr(r).withIndex(e._queryParams.getIndex());let l;if(MN(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())l=CC(n.serverSyncTree_,e._path,s);else{const h=IC(n.serverSyncTree_,e);l=I4(n.serverSyncTree_,e._path,s,h)}return qa(n.eventQueue_,e._path,l),GA(n.serverSyncTree_,e,t,null,!0),s},r=>(qb(n,"get for query "+(0,U.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new E_(i,new kl(n._repo,n._path),n._queryParams.getIndex()))}class OC{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new Z4("value",this,new E_(e.snapshotNode,new kl(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Y4(this,e,t):null}matches(e){return e instanceof OC&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class iM{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Y4(this,e,t):null}createEvent(e,t){(0,U.hu)(null!=e.childName,"Child events should have a childName.");const i=C_(new kl(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Z4(e.type,this,new E_(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof iM&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function PC(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const m=t,_=(b,D)=>{GN(n._repo,n,h),m(b,D)};_.userCallback=t.userCallback,_.context=t.context,t=_}const l=new KN(t,s||void 0),h="value"===e?new OC(l):new iM(e,l);return function xX(n,e,t){let i;i=".info"===fn(e._path)?MN(n.infoSyncTree_,e,t):MN(n.serverSyncTree_,e,t),F4(n.eventQueue_,e._path,i)}(n._repo,n,h),()=>GN(n._repo,n,h)}function XN(n,e,t,i){return PC(n,"value",e,t,i)}function J4(n,e,t,i){return PC(n,"child_added",e,t,i)}function ez(n,e,t,i){return PC(n,"child_changed",e,t,i)}function tz(n,e,t,i){return PC(n,"child_moved",e,t,i)}function nz(n,e,t,i){return PC(n,"child_removed",e,t,i)}function iz(n,e,t){let i=null;const r=t?new KN(t):null;"value"===e?i=new OC(r):e&&(i=new iM(e,r)),GN(n._repo,n,i)}class Sc{}class rz extends Sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Zd("endAt",this._value,e._path,!0);const t=fN(e._queryParams,this._value,this._key);if(nM(t),Hm(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new da(e._repo,e._path,t,e._orderByCalled)}}class BX extends Sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Zd("endBefore",this._value,e._path,!1);const t=function WK(n,e,t){let i;return i=fN(n,e,n.index_===Wd||t?t:Rm),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(nM(t),Hm(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new da(e._repo,e._path,t,e._orderByCalled)}}class sz extends Sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Zd("startAt",this._value,e._path,!0);const t=hN(e._queryParams,this._value,this._key);if(nM(t),Hm(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new da(e._repo,e._path,t,e._orderByCalled)}}class HX extends Sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Zd("startAfter",this._value,e._path,!1);const t=function qK(n,e,t){let i;return i=hN(n,e,n.index_===Wd||t?t:Rh),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(nM(t),Hm(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new da(e._repo,e._path,t,e._orderByCalled)}}class jX extends Sc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new da(e._repo,e._path,function $K(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class GX extends Sc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new da(e._repo,e._path,function GK(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class WX extends Sc{constructor(e){super(),this._path=e}_apply(e){tM(e,"orderByChild");const t=new Qn(this._path);if(mn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new cN(t),r=RA(e._queryParams,i);return Hm(r),new da(e._repo,e._path,r,!0)}}class YX extends Sc{_apply(e){tM(e,"orderByKey");const t=RA(e._queryParams,Wd);return Hm(t),new da(e._repo,e._path,t,!0)}}class QX extends Sc{_apply(e){tM(e,"orderByPriority");const t=RA(e._queryParams,Mi);return Hm(t),new da(e._repo,e._path,t,!0)}}class JX extends Sc{_apply(e){tM(e,"orderByValue");const t=RA(e._queryParams,dN);return Hm(t),new da(e._repo,e._path,t,!0)}}class tJ extends Sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Zd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new rz(this._value,this._key)._apply(new sz(this._value,this._key)._apply(e))}}function Ac(n,...e){let t=(0,U.m9)(n);for(const i of e)t=i._apply(t);return t}(function NQ(n){(0,U.hu)(!zA,"__referenceConstructor has already been defined"),zA=n})(kl),function UQ(n){(0,U.hu)(!$A,"__referenceConstructor has already been defined"),$A=n}(kl);const JN={};function az(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||qd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ks("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,_,l=YN(s,r),h=l.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(m=!0,s=`http://${_}?ns=${h.namespace}`,l=YN(s,r),h=l.repoInfo):m=!l.repoInfo.secure;const b=r&&m?new hC(hC.OWNER):new KY(n.name,n.options,e);N4("Invalid Firebase Database URL",l),mn(l.path)||qd("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function oJ(n,e,t,i){let r=JN[e.name];r||(r={},JN[e.name]=r);let s=r[n.toURLString()];return s&&qd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new fX(n,false,t,i),r[n.toURLString()]=s,s}(h,n,b,new YY(n.name,t));return new lJ(D,n)}class lJ{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function mX(n,e,t){if(n.stats_=eN(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new OA(n.repoInfo_,(i,r,s,l)=>{U4(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>H4(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new v_(n.repoInfo_,e,(i,r,s,l)=>{U4(n,i,r,s,l)},i=>{H4(n,i)},i=>{!function pX(n,e){Rs(e,(t,i)=>{jN(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function JY(n,e){const t=n.toString();return JP[t]||(JP[t]=e()),JP[t]}(n.repoInfo_,()=>new JK(n.stats_,n.server_)),n.infoData_=new ZK,n.infoSyncTree_=new C4({startListening:(i,r,s,l)=>{let h=[];const m=n.infoData_.getNode(i._path);return m.isEmpty()||(h=CC(n.infoSyncTree_,i._path,m),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),jN(n,"connected",!1),n.serverSyncTree_=new C4({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(h,m)=>{const _=l(h,m);qa(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new kl(this._repo,Vn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function sJ(n,e){const t=JN[e];(!t||t[n.key]!==n)&&qd(`Database ${e}(${n.repoInfo_}) has already been deleted.`),j4(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&qd("Cannot call "+e+" on a deleted database.")}}function lz(){M3.IS_TRANSPORT_INITIALIZED&&po("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function cJ(){lz(),Om.forceDisallow()}function dJ(){lz(),Bb.forceDisallow(),Om.forceAllow()}function fJ(n,e){d3(n,e)}const pJ={".sv":"timestamp"};class vJ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}v_.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},v_.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function mJ(n){s3(js.SDK_VERSION),(0,js._registerComponent)(new Oa.wA("database",(e,{instanceIdentifier:t})=>az(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,js.registerVersion)(n3,"0.14.4",n),(0,js.registerVersion)(n3,"0.14.4","esm2017")}();const xJ=new $s.Yd("@firebase/database-compat"),dz=function(n){xJ.warn("FIREBASE WARNING: "+n)};class IJ{constructor(e){this._delegate=e}cancel(e){(0,U.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,U.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,U.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,U.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,U.Dv)("OnDisconnect.set",1,2,arguments.length),(0,U.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,U.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,U.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,U.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,dz("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,U.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class TJ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,U.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class zm{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,U.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,U.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,U.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,U.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,U.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),kC("DataSnapshot.child","path",e,!1),new zm(this._database,this._delegate.child(e))}hasChild(e){return(0,U.Dv)("DataSnapshot.hasChild",1,1,arguments.length),kC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,U.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,U.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,U.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new zm(this._database,t)))}hasChildren(){return(0,U.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,U.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,U.Dv)("DataSnapshot.ref",0,0,arguments.length),new Wa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ys{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,U.Dv)("Query.on",2,4,arguments.length),(0,U.Wj)("Query.on","callback",t,!1);const l=Ys.getCancelAndContextArgs_("Query.on",i,r),h=(_,b)=>{t.call(l.context,new zm(this.database,_),b)};h.userCallback=t,h.context=l.context;const m=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(e){case"value":return XN(this._delegate,h,m),t;case"child_added":return J4(this._delegate,h,m),t;case"child_removed":return nz(this._delegate,h,m),t;case"child_changed":return ez(this._delegate,h,m),t;case"child_moved":return tz(this._delegate,h,m),t;default:throw new Error((0,U.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,U.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,U.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,U.Wj)("Query.off","callback",t,!0),(0,U.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,iz(this._delegate,e,r)}else iz(this._delegate,e)}get(){return FX(this._delegate).then(e=>new zm(this.database,e))}once(e,t,i,r){(0,U.Dv)("Query.once",1,4,arguments.length),(0,U.Wj)("Query.once","callback",t,!0);const s=Ys.getCancelAndContextArgs_("Query.once",i,r),l=new U.BH,h=(_,b)=>{const D=new zm(this.database,_);t&&t.call(s.context,D,b),l.resolve(D)};h.userCallback=t,h.context=s.context;const m=_=>{s.cancel&&s.cancel.call(s.context,_),l.reject(_)};switch(e){case"value":XN(this._delegate,h,m,{onlyOnce:!0});break;case"child_added":J4(this._delegate,h,m,{onlyOnce:!0});break;case"child_removed":nz(this._delegate,h,m,{onlyOnce:!0});break;case"child_changed":ez(this._delegate,h,m,{onlyOnce:!0});break;case"child_moved":tz(this._delegate,h,m,{onlyOnce:!0});break;default:throw new Error((0,U.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(e){return(0,U.Dv)("Query.limitToFirst",1,1,arguments.length),new Ys(this.database,Ac(this._delegate,function $X(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new jX(n)}(e)))}limitToLast(e){return(0,U.Dv)("Query.limitToLast",1,1,arguments.length),new Ys(this.database,Ac(this._delegate,function qX(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new GX(n)}(e)))}orderByChild(e){return(0,U.Dv)("Query.orderByChild",1,1,arguments.length),new Ys(this.database,Ac(this._delegate,function ZX(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return kC("orderByChild","path",n,!1),new WX(n)}(e)))}orderByKey(){return(0,U.Dv)("Query.orderByKey",0,0,arguments.length),new Ys(this.database,Ac(this._delegate,function KX(){return new YX}()))}orderByPriority(){return(0,U.Dv)("Query.orderByPriority",0,0,arguments.length),new Ys(this.database,Ac(this._delegate,function XX(){return new QX}()))}orderByValue(){return(0,U.Dv)("Query.orderByValue",0,0,arguments.length),new Ys(this.database,Ac(this._delegate,function eJ(){return new JX}()))}startAt(e=null,t){return(0,U.Dv)("Query.startAt",0,2,arguments.length),new Ys(this.database,Ac(this._delegate,function UX(n=null,e){return MC("startAt","key",e,!0),new sz(n,e)}(e,t)))}startAfter(e=null,t){return(0,U.Dv)("Query.startAfter",0,2,arguments.length),new Ys(this.database,Ac(this._delegate,function zX(n,e){return MC("startAfter","key",e,!0),new HX(n,e)}(e,t)))}endAt(e=null,t){return(0,U.Dv)("Query.endAt",0,2,arguments.length),new Ys(this.database,Ac(this._delegate,function LX(n,e){return MC("endAt","key",e,!0),new rz(n,e)}(e,t)))}endBefore(e=null,t){return(0,U.Dv)("Query.endBefore",0,2,arguments.length),new Ys(this.database,Ac(this._delegate,function VX(n,e){return MC("endBefore","key",e,!0),new BX(n,e)}(e,t)))}equalTo(e,t){return(0,U.Dv)("Query.equalTo",1,2,arguments.length),new Ys(this.database,Ac(this._delegate,function nJ(n,e){return MC("equalTo","key",e,!0),new tJ(n,e)}(e,t)))}toString(){return(0,U.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,U.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,U.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Ys))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,U.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,U.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,U.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Wa(this.database,new kl(this._delegate._repo,this._delegate._path))}}class Wa extends Ys{constructor(e,t){super(e,new da(t._repo,t._path,new kA,!1)),this.database=e,this._delegate=t}getKey(){return(0,U.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,U.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Wa(this.database,C_(this._delegate,e))}getParent(){(0,U.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Wa(this.database,e):null}getRoot(){return(0,U.Dv)("Reference.root",0,0,arguments.length),new Wa(this.database,this._delegate.root)}set(e,t){(0,U.Dv)("Reference.set",1,2,arguments.length),(0,U.Wj)("Reference.set","onComplete",t,!0);const i=QN(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,U.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,dz("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ml("Reference.update",this._delegate._path),(0,U.Wj)("Reference.update","onComplete",t,!0);const i=NX(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,U.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,U.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function PX(n,e,t){if(Ml("setWithPriority",n._path),Zd("setWithPriority",e,n._path,!1),zN("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new U.BH;return $N(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,U.Dv)("Reference.remove",0,1,arguments.length),(0,U.Wj)("Reference.remove","onComplete",e,!0);const t=function RX(n){return Ml("remove",n._path),QN(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,U.Dv)("Reference.transaction",1,3,arguments.length),(0,U.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,U.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,U.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function yJ(n,e,t){var i;if(n=(0,U.m9)(n),Ml("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new U.BH,h=XN(n,()=>{});return function CX(n,e,t,i,r,s){qb(n,"transaction on "+e);const l={path:e,update:t,onComplete:i,status:null,order:a3(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=qN(n,e,void 0);l.currentInputSnapshot=h;const m=l.update(h.val());if(void 0===m)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{AC("transaction failed: Data returned ",m,l.path),l.status=0;const _=ZA(n.transactionQueueTree_,e),b=x_(_)||[];let D;b.push(l),VN(_,b),"object"==typeof m&&null!==m&&(0,U.r3)(m,".priority")?(D=(0,U.DV)(m,".priority"),(0,U.hu)(SC(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(qA(n.serverSyncTree_,e)||sn.EMPTY_NODE).getPriority().val();const k=RC(n),L=lr(m,D),j=FN(L,h,k);l.currentOutputSnapshotRaw=L,l.currentOutputSnapshotResolved=j,l.currentWriteId=XA(n);const Y=AN(n.serverSyncTree_,e,j,l.currentWriteId,l.applyLocally);qa(n.eventQueue_,e,Y),JA(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(m,_,b)=>{let D=null;m?s.reject(m):(D=new E_(b,new kl(n._repo,n._path),Mi),s.resolve(new vJ(_,D)))},h,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new TJ(s.committed,new zm(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,U.Dv)("Reference.setPriority",1,2,arguments.length),(0,U.Wj)("Reference.setPriority","onComplete",t,!0);const i=function OX(n,e){n=(0,U.m9)(n),Ml("setPriority",n._path),zN("setPriority",e,!1);const t=new U.BH;return $N(n._repo,Yi(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,U.Dv)("Reference.push",0,2,arguments.length),(0,U.Wj)("Reference.push","onComplete",t,!0);const i=function kX(n,e){n=(0,U.m9)(n),Ml("push",n._path),Zd("push",e,n._path,!0);const t=V4(n._repo),i=MX(t),r=C_(n,i),s=C_(n,i);let l;return l=null!=e?QN(s,e).then(()=>s):Promise.resolve(s),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,e),r=i.then(l=>new Wa(this.database,l));t&&r.then(()=>t(null),l=>t(l));const s=new Wa(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Ml("Reference.onDisconnect",this._delegate._path),new IJ(new K4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class NC{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:cJ,forceLongPolling:dJ}}useEmulator(e,t,i={}){!function cz(n,e,t,i={}){(n=(0,U.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&qd("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&qd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new hC(hC.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,U.Sg)(i.mockUserToken,n.app.options.projectId);s=new hC(l)}!function rJ(n,e,t,i){n.repoInfo_=new QP(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,U.Dv)("database.ref",0,1,arguments.length),e instanceof Wa){const t=X4(this._delegate,e.toString());return new Wa(this,t)}{const t=Q4(this._delegate,e);return new Wa(this,t)}}refFromURL(e){(0,U.Dv)("database.refFromURL",1,1,arguments.length);const i=X4(this._delegate,e);return new Wa(this,i)}goOffline(){return(0,U.Dv)("database.goOffline",0,0,arguments.length),function uJ(n){(n=(0,U.m9)(n))._checkNotDeleted("goOffline"),j4(n._repo)}(this._delegate)}goOnline(){return(0,U.Dv)("database.goOnline",0,0,arguments.length),function hJ(n){(n=(0,U.m9)(n))._checkNotDeleted("goOnline"),function EX(n){n.persistentConnection_&&n.persistentConnection_.resume(B4)}(n._repo)}(this._delegate)}}NC.ServerValue={TIMESTAMP:function gJ(){return pJ}(),increment:n=>function _J(n){return{".sv":{increment:n}}}(n)};var SJ=Object.freeze({__proto__:null,initStandalone:function DJ({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){s3(t);const l=new Oa.zt("auth-internal",new Oa.H0("database-standalone"));return l.setComponent(new Oa.wA("auth-internal",()=>i,"PRIVATE")),{instance:new NC(az(n,l,void 0,e,s),n),namespace:r}}});const AJ=NC.ServerValue;function uz(n){return null==n}function hz(n){return"function"==typeof n.set}function fz(n,e){return hz(e)?e:n.ref(e)}function mz(n,e){if(function kJ(n){return"string"==typeof n}(n))return e.stringCase();if(hz(n))return e.firebaseCase();if(function RJ(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function FC(n,e,t="on",i=fd.z){return new pi.y(r=>{let s=null;return s=n[t](e,(l,h)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,ht.U)(r=>{const{snapshot:s,prevKey:l}=r;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:l,key:h}}),(0,M0.B)())}function pz(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function NJ(n,e){const{payload:t,prevKey:i,key:r}=e,s=pz(n,r),l=function PJ(n,e){if(uz(e))return 0;{const t=pz(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(m=>{const _={payload:m,type:"value",prevKey:h,key:m.key};return h=m.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==i&&(n=n.filter(m=>m.payload.key!==t.key)).splice(l,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(l,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(l,0,h),n}return n;default:return n}}function gz(n){return(uz(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function _z(n,e,t){return function OJ(n,e,t){return FC(n,"value","once",t).pipe((0,Zn.w)(i=>{const r=[(0,ct.of)(i)];return e.forEach(s=>r.push(FC(n,s,"on",t))),(0,Es.T)(...r).pipe(bs(NJ,[]))}),(0,Ju.x)())}(n,e=gz(e),t)}function vz(n,e,t){const i=(e=gz(e)).map(r=>FC(n,r,"on",t));return(0,Es.T)(...i)}function yz(n,e){return function(i,r){return mz(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function VJ(n){return function(t){return t?mz(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function bz(n,e){return function(){return FC(n,"value","on",e)}}!function MJ(n){n.INTERNAL.registerComponent(new Oa.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new NC(r,i)},"PUBLIC").setServiceProps({Reference:Wa,Query:Ys,Database:NC,DataSnapshot:zm,enableLogging:fJ,INTERNAL:SJ,ServerValue:AJ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(Nf.Z);const zJ=new c.OlP("angularfire2.realtimeDatabaseURL"),jJ=new c.OlP("angularfire2.database.use-emulator");let $J=(()=>{class n{constructor(t,i,r,s,l,h,m,_,b,D,k,L,j,Y,se){this.schedulers=h;const Le=m,$e=(0,rr.on)(t,l,i);_&&cw($e,l,b,k,L,j,D,Y),this.database=(0,rr.cc)(`${$e.name}.database.${r}`,"AngularFireDatabase",$e.name,()=>{const je=l.runOutsideAngular(()=>$e.database(r||void 0));return Le&&je.useEmulator(...Le),je},[Le])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>fz(this.database,t));let s=r;return i&&(s=i(r)),function UJ(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:yz(i,"update"),set:yz(i,"set"),push:r=>i.push(r),remove:VJ(i),snapshotChanges:r=>_z(n,r,t).pipe(An.iC),stateChanges:r=>vz(n,r,t).pipe(An.iC),auditTrail:r=>function FJ(n,e,t){return function BJ(n,e,t){return function LJ(n,e){return FC(n,"value","on",e).pipe((0,ht.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function NY(...n){const e=(0,ts.jO)(n);return(0,ji.e)((t,i)=>{const r=n.length,s=new Array(r);let l=n.map(()=>!1),h=!1;for(let m=0;m<r;m++)(0,Eo.Xf)(n[m]).subscribe((0,Ii.x)(i,_=>{s[m]=_,!h&&!l[m]&&(l[m]=!0,(h=l.every(vs.y))&&(l=null))},Zu.Z));t.subscribe((0,Ii.x)(i,m=>{if(h){const _=[m,...s];i.next(e?e(..._):_)}}))})}(e),(0,ht.U)(([r,s])=>{const l=r.lastKeyToLoad,h=s.map(m=>m.key);return{actions:s,lastKeyToLoad:l,loadedKeys:h}}),function FY(n){return(0,ji.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,Ii.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,ht.U)(r=>r.actions))}(n,vz(n,e).pipe(bs((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(An.iC),valueChanges:(r,s)=>_z(n,r,t).pipe((0,ht.U)(h=>h.map(m=>s&&s.idField?Object.assign(Object.assign({},m.payload.val()),{[s.idField]:m.key}):m.payload.val())),An.iC)}}(s,this)}object(t){return function HJ(n,e){return{query:n,snapshotChanges:()=>bz(n,e.schedulers.outsideAngular)().pipe(An.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>bz(n,e.schedulers.outsideAngular)().pipe(An.iC,(0,ht.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>fz(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(rr.Dh),c.LFG(rr.xv,8),c.LFG(zJ,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(An.HU),c.LFG(jJ,8),c.LFG(zp,8),c.LFG(rw,8),c.LFG(sT,8),c.LFG(sw,8),c.LFG(ow,8),c.LFG(aw,8),c.LFG(lw,8),c.LFG(bd,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),GJ=(()=>{class n{constructor(){Bv.Z.registerVersion("angularfire",An.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[$J]}),n})();const qJ_firebaseConfig={apiKey:"AIzaSyC8vB4W-na-a3lnoI0lXyyoNodJc8OlnVA",authDomain:"mileagecalculator-ff59b.firebaseapp.com",projectId:"mileagecalculator-ff59b",storageBucket:"mileagecalculator-ff59b.appspot.com",messagingSenderId:"439632748644",appId:"1:439632748644:web:a307c17d2de0d4059bbf71"};function wz(n){return new c.vHH(3e3,!1)}function jm(n){switch(n.length){case 0:return new FE;case 1:return n[0];default:return new Q2(n)}}function xz(n,e,t=new Map,i=new Map){const r=[],s=[];let l=-1,h=null;if(e.forEach(m=>{const _=m.get("offset"),b=_==l,D=b&&h||new Map;m.forEach((k,L)=>{let j=L,Y=k;if("offset"!==L)switch(j=n.normalizePropertyName(j,r),Y){case"!":Y=t.get(L);break;case Dh:Y=i.get(L);break;default:Y=n.normalizeStyleValue(L,j,Y,r)}D.set(j,Y)}),b||s.push(D),h=D,l=_}),r.length)throw function pee(n){return new c.vHH(3502,!1)}();return s}function eF(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&tF(t,"start",n)));break;case"done":n.onDone(()=>i(t&&tF(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&tF(t,"destroy",n)))}}function tF(n,e,t){const s=nF(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function nF(n,e,t,i,r="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function Za(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Ez(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Dee=(()=>typeof document>"u"?null:document.documentElement)();function iF(n){const e=n.parentNode||n.host||null;return e===Dee?null:e}let I_=null,Cz=!1;function Iz(n,e){for(;e;){if(e===n)return!0;e=iF(e)}return!1}function Tz(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let Dz=(()=>{class n{validateStyleProperty(t){return function Aee(n){I_||(I_=function Mee(){return typeof document<"u"?document.body:null}()||{},Cz=!!I_.style&&"WebkitAppearance"in I_.style);let e=!0;return I_.style&&!function See(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in I_.style,!e&&Cz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in I_.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Iz(t,i)}getParentElement(t){return iF(t)}query(t,i,r){return Tz(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,l,h=[],m){return new FE(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),rF=(()=>{class n{}return n.NOOP=new Dz,n})();const kee=1e3,sF="ng-enter",rM="ng-leave",sM="ng-trigger",oM=".ng-trigger",Az="ng-animating",oF=".ng-animating";function Ph(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:aF(parseFloat(e[1]),e[2])}function aF(n,e){return"s"===e?n*kee:n}function aM(n,e,t){return n.hasOwnProperty("duration")?n:function Oee(n,e,t){let r,s=0,l="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(wz()),{duration:0,delay:0,easing:""};r=aF(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(s=aF(parseFloat(m),h[4]));const _=h[5];_&&(l=_)}else r=n;if(!t){let h=!1,m=e.length;r<0&&(e.push(function WJ(){return new c.vHH(3100,!1)}()),h=!0),s<0&&(e.push(function ZJ(){return new c.vHH(3101,!1)}()),h=!0),h&&e.splice(m,0,wz())}return{duration:r,delay:s,easing:l}}(n,e,t)}function LC(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Mz(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function $m(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Yd(n,e,t){e.forEach((i,r)=>{const s=cF(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function T_(n,e){e.forEach((t,i)=>{const r=cF(i);n.style[r]=""})}function BC(n){return Array.isArray(n)?1==n.length?n[0]:K2(n):n}const lF=new RegExp("{{\\s*(.+?)\\s*}}","g");function Rz(n){let e=[];if("string"==typeof n){let t;for(;t=lF.exec(n);)e.push(t[1]);lF.lastIndex=0}return e}function VC(n,e,t){const i=n.toString(),r=i.replace(lF,(s,l)=>{let h=e[l];return null==h&&(t.push(function KJ(n){return new c.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function lM(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Fee=/-+([a-z0-9])/g;function cF(n){return n.replace(Fee,(...e)=>e[1].toUpperCase())}function Ya(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function QJ(n){return new c.vHH(3004,!1)}()}}function Oz(n,e){return window.getComputedStyle(n)[e]}const cM="*";function Vee(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Uee(n,e,t){if(":"==n[0]){const m=function Hee(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function uee(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function dee(n){return new c.vHH(3015,!1)}()),e;const r=i[1],s=i[2],l=i[3];e.push(Pz(r,l));"<"==s[0]&&!(r==cM&&l==cM)&&e.push(Pz(l,r))}(i,t,e)):t.push(n),t}const dM=new Set(["true","1"]),uM=new Set(["false","0"]);function Pz(n,e){const t=dM.has(n)||uM.has(n),i=dM.has(e)||uM.has(e);return(r,s)=>{let l=n==cM||n==r,h=e==cM||e==s;return!l&&t&&"boolean"==typeof r&&(l=r?dM.has(n):uM.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?dM.has(e):uM.has(e)),l&&h}}const zee=new RegExp("s*:selfs*,?","g");function dF(n,e,t,i){return new jee(n).build(e,t,i)}class jee{constructor(e){this._driver=e}build(e,t,i){const r=new qee(t);return this._resetContextStyleTimingState(r),Ya(this,BC(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function JJ(){return new c.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const m=h,_=m.name;_.toString().split(/\s*,\s*/).forEach(b=>{m.name=b,s.push(this.visitState(m,t))}),m.name=_}else if(1==h.type){const m=this.visitTransition(h,t);i+=m.queryCount,r+=m.depCount,l.push(m)}else t.errors.push(function eee(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(m=>{Rz(m).forEach(_=>{l.hasOwnProperty(_)||s.add(_)})})}),s.size&&(lM(s.values()),t.errors.push(function tee(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ya(this,BC(e.animation),t);return{type:1,matchers:Vee(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:D_(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ya(this,i,t)),options:D_(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(l=>{t.currentTime=i;const h=Ya(this,l,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:s,options:D_(e.options)}}visitAnimate(e,t){const i=function Zee(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return uF(aM(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=uF(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=aM(t,e);return uF(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Ms({});if(5==s.type)r=this.visitKeyframes(s,t);else{let l=e.styles,h=!1;if(!l){h=!0;const _={};i.easing&&(_.easing=i.easing),l=Ms(_)}t.currentTime+=i.duration+i.delay;const m=this.visitStyle(l,t);m.isEmptyStep=h,r=m}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===Dh?i.push(h):t.errors.push(new c.vHH(3002,!1)):i.push(Mz(h));let s=!1,l=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!s))for(let m of h.values())if(m.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,m)=>{const _=t.collectedStyles.get(t.currentQuerySelector),b=_.get(m);let D=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(t.errors.push(function iee(n,e,t,i,r){return new c.vHH(3010,!1)}()),D=!1),s=b.startTime),D&&_.set(m,{startTime:s,endTime:r}),t.options&&function Nee(n,e,t){const i=e.params||{},r=Rz(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function YJ(n){return new c.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function ree(){return new c.vHH(3011,!1)}()),i;let s=0;const l=[];let h=!1,m=!1,_=0;const b=e.steps.map(Le=>{const $e=this._makeStyleAst(Le,t);let je=null!=$e.offset?$e.offset:function Wee(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}($e.styles),Ye=0;return null!=je&&(s++,Ye=$e.offset=je),m=m||Ye<0||Ye>1,h=h||Ye<_,_=Ye,l.push(Ye),$e});m&&t.errors.push(function see(){return new c.vHH(3012,!1)}()),h&&t.errors.push(function oee(){return new c.vHH(3200,!1)}());const D=e.steps.length;let k=0;s>0&&s<D?t.errors.push(function aee(){return new c.vHH(3202,!1)}()):0==s&&(k=1/(D-1));const L=D-1,j=t.currentTime,Y=t.currentAnimateTimings,se=Y.duration;return b.forEach((Le,$e)=>{const je=k>0?$e==L?1:k*$e:l[$e],Ye=je*se;t.currentTime=j+Y.delay+Ye,Y.duration=Ye,this._validateStyleAst(Le,t),Le.offset=je,i.styles.push(Le)}),i}visitReference(e,t){return{type:8,animation:Ya(this,BC(e.animation),t),options:D_(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:D_(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:D_(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function $ee(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(zee,"")),n=n.replace(/@\*/g,oM).replace(/@\w+/g,t=>oM+"-"+t.slice(1)).replace(/:animating/g,oF),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Za(t.collectedStyles,t.currentQuerySelector,new Map);const h=Ya(this,BC(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:h,originalSelector:e.selector,options:D_(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function lee(){return new c.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:aM(e.timings,t.errors,!0);return{type:12,animation:Ya(this,BC(e.animation),t),timings:i,options:null}}}class qee{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function D_(n){return n?(n=LC(n)).params&&(n.params=function Gee(n){return n?LC(n):null}(n.params)):n={},n}function uF(n,e,t){return{duration:n,delay:e,easing:t}}function hF(n,e,t,i,r,s,l=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:h}}class hM{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Qee=new RegExp(":enter","g"),Jee=new RegExp(":leave","g");function fF(n,e,t,i,r,s=new Map,l=new Map,h,m,_=[]){return(new ete).buildKeyframes(n,e,t,i,r,s,l,h,m,_)}class ete{buildKeyframes(e,t,i,r,s,l,h,m,_,b=[]){_=_||new hM;const D=new mF(e,t,_,r,s,b,[]);D.options=m;const k=m.delay?Ph(m.delay):0;D.currentTimeline.delayNextStep(k),D.currentTimeline.setStyles([l],null,D.errors,m),Ya(this,i,D);const L=D.timelines.filter(j=>j.containsAnimation());if(L.length&&h.size){let j;for(let Y=L.length-1;Y>=0;Y--){const se=L[Y];if(se.element===t){j=se;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([h],null,D.errors,m)}return L.length?L.map(j=>j.buildKeyframes()):[hF(t,[],[],[],0,k,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const l="number"==typeof s?s:Ph(VC(s,r?.params??{},t.errors));i.delayNextStep(l)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const l=null!=i.duration?Ph(i.duration):null,h=null!=i.delay?Ph(i.delay):null;return 0!==l&&e.forEach(m=>{const _=t.appendInstructionToTimeline(m,l,h);s=Math.max(s,_.duration+_.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ya(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=fM);const l=Ph(s.delay);r.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Ya(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Ph(e.options.delay):0;e.steps.forEach(l=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),Ya(this,l,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return aM(t.params?VC(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(m=>{h.forwardTime((m.offset||0)*s),h.setStyles(m.styles,m.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Ph(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=fM);let l=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let m=null;h.forEach((_,b)=>{t.currentQueryIndex=b;const D=t.createSubContext(e.options,_);s&&D.delayNextStep(s),_===t.element&&(m=D.currentTimeline),Ya(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),h=l*(t.currentQueryTotal-1);let m=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":m=h-m;break;case"full":m=i.currentStaggerTime}const b=t.currentTimeline;m&&b.delayNextStep(m);const D=b.currentTime;Ya(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const fM={};class mF{constructor(e,t,i,r,s,l,h,m){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new mM(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Ph(i.duration)),null!=i.delay&&(r.delay=Ph(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!l.hasOwnProperty(h))&&(l[h]=VC(s[h],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new mF(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=fM,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new tte(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,l){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(Qee,"."+this._enterClassName)).replace(Jee,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),h.push(..._)}return!s&&0==h.length&&l.push(function cee(n){return new c.vHH(3014,!1)}()),h}}class mM{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new mM(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Dh),this._currentKeyframe.set(t,Dh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},l=function nte(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Dh)}else $m(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,m]of l){const _=VC(m,s,i);this._pendingStyles.set(h,_),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Dh),this._updateStyle(h,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,m)=>{const _=$m(h,new Map,this._backFill);_.forEach((b,D)=>{"!"===b?e.add(D):b===Dh&&t.add(D)}),i||_.set("offset",m/this.duration),r.push(_)});const s=e.size?lM(e.values()):[],l=t.size?lM(t.values()):[];if(i){const h=r[0],m=new Map(h);h.set("offset",0),m.set("offset",1),r=[h,m]}return hF(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class tte extends mM{constructor(e,t,i,r,s,l,h=!1){super(e,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=i+t,h=t/l,m=$m(e[0]);m.set("offset",0),s.push(m);const _=$m(e[0]);_.set("offset",Lz(h)),s.push(_);const b=e.length-1;for(let D=1;D<=b;D++){let k=$m(e[D]);const L=k.get("offset");k.set("offset",Lz((t+L*i)/l)),s.push(k)}i=l,t=0,r="",e=s}return hF(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Lz(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class pF{}const ite=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class rte extends pF{normalizePropertyName(e,t){return cF(e)}normalizeStyleValue(e,t,i,r){let s="";const l=i.toString().trim();if(ite.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function XJ(n,e){return new c.vHH(3005,!1)}())}return l+s}}function Bz(n,e,t,i,r,s,l,h,m,_,b,D,k){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:l,timelines:h,queriedElements:m,preStyleProps:_,postStyleProps:b,totalTime:D,errors:k}}const gF={};class Vz{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function ste(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,l,h,m,_,b){const D=[],k=this.ast.options&&this.ast.options.params||gF,j=this.buildStyles(i,h&&h.params||gF,D),Y=m&&m.params||gF,se=this.buildStyles(r,Y,D),Le=new Set,$e=new Map,je=new Map,Ye="void"===r,St={params:ote(Y,k),delay:this.ast.options?.delay},Nt=b?[]:fF(e,t,this.ast.animation,s,l,j,se,St,_,D);let Dn=0;if(Nt.forEach(go=>{Dn=Math.max(go.duration+go.delay,Dn)}),D.length)return Bz(t,this._triggerName,i,r,Ye,j,se,[],[],$e,je,Dn,D);Nt.forEach(go=>{const Nh=go.element,ej=Za($e,Nh,new Set);go.preStyleProps.forEach(S_=>ej.add(S_));const HC=Za(je,Nh,new Set);go.postStyleProps.forEach(S_=>HC.add(S_)),Nh!==t&&Le.add(Nh)});const cr=lM(Le.values());return Bz(t,this._triggerName,i,r,Ye,j,se,Nt,cr,$e,je,Dn)}}function ote(n,e){const t=LC(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class ate{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=LC(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,h)=>{l&&(l=VC(l,r,t));const m=this.normalizer.normalizePropertyName(h,t);l=this.normalizer.normalizeStyleValue(h,m,l,t),i.set(h,l)})}),i}}class cte{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new ate(r.style,r.options&&r.options.params||{},i))}),Uz(this.states,"true","1"),Uz(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Vz(e,r,this.states))}),this.fallbackTransition=function dte(n,e,t){return new Vz(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(l=>l.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Uz(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const ute=new hM;class hte{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=dF(this._driver,t,i,[]);if(i.length)throw function gee(n){return new c.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=xz(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let l;const h=new Map;if(s?(l=fF(this._driver,t,s,sF,rM,new Map,new Map,i,ute,r),l.forEach(b=>{const D=Za(h,b.element,new Map);b.postStyleProps.forEach(k=>D.set(k,null))})):(r.push(function _ee(){return new c.vHH(3300,!1)}()),l=[]),r.length)throw function vee(n){return new c.vHH(3504,!1)}();h.forEach((b,D)=>{b.forEach((k,L)=>{b.set(L,this._driver.computeStyle(D,L,Dh))})});const _=jm(l.map(b=>{const D=h.get(b.element);return this._buildPlayer(b,new Map,D)}));return this._playersById.set(e,_),_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function yee(n){return new c.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=nF(t,"","","");return eF(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Hz="ng-animate-queued",_F="ng-animate-disabled",_te=[],zz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vte={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Rl="__ng_removed";class vF{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function xte(n){return n??null}(i?e.value:e),i){const s=LC(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const UC="void",yF=new vF(UC);class yte{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ol(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function bee(n,e){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function wee(n){return new c.vHH(3303,!1)}();if(!function Ete(n){return"start"==n||"done"==n}(i))throw function xee(n,e){return new c.vHH(3400,!1)}();const s=Za(this._elementListeners,e,[]),l={name:t,phase:i,callback:r};s.push(l);const h=Za(this._engine.statesByElement,e,new Map);return h.has(t)||(Ol(e,sM),Ol(e,sM+"-"+t),h.set(t,yF)),()=>{this._engine.afterFlush(()=>{const m=s.indexOf(l);m>=0&&s.splice(m,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Eee(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),l=new bF(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Ol(e,sM),Ol(e,sM+"-"+t),this._engine.statesByElement.set(e,h=new Map));let m=h.get(t);const _=new vF(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&_.absorbOptions(m.options),h.set(t,_),m||(m=yF),_.value!==UC&&m.value===_.value){if(!function Tte(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(m.params,_.params)){const Y=[],se=s.matchStyles(m.value,m.params,Y),Le=s.matchStyles(_.value,_.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{T_(e,se),Yd(e,Le)})}return}const k=Za(this._engine.playersByElement,e,[]);k.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==t&&Y.queued&&Y.destroy()});let L=s.matchTransition(m.value,_.value,e,_.params),j=!1;if(!L){if(!r)return;L=s.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:L,fromState:m,toState:_,player:l,isFallbackTransition:j}),j||(Ol(e,Hz),l.onStart(()=>{Zb(e,Hz)})),l.onDone(()=>{let Y=this.players.indexOf(l);Y>=0&&this.players.splice(Y,1);const se=this._engine.playersByElement.get(e);if(se){let Le=se.indexOf(l);Le>=0&&se.splice(Le,1)}}),this.players.push(l),k.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,oM,!0);i.forEach(r=>{if(r[Rl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const h=[];if(s.forEach((m,_)=>{if(l.set(_,m.value),this._triggers.has(_)){const b=this.trigger(e,_,UC,r);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),i&&jm(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const m=this._triggers.get(l).fallbackTransition,_=i.get(l)||yF,b=new vF(UC),D=new bF(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:m,fromState:_,toState:b,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Rl];(!s||s===zz)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ol(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(h=>{if(h.name==i.triggerName){const m=nF(s,i.triggerName,i.fromState.value,i.toState.value);m._data=e,eF(i.player,h.phase,m,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class bte{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new yte(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,h=this.driver.getParentElement(t);for(;h;){const m=r.get(h);if(m){const _=i.indexOf(m);i.splice(_+1,0,e),l=!0;break}h=this.driver.getParentElement(h)}l||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(pM(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!pM(t))return;const s=t[Rl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ol(e,_F)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Zb(e,_F))}removeNode(e,t,i){if(pM(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Rl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return pM(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,oM,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,oF,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return jm(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Rl];if(t&&t.setForRemoval){if(e[Rl]=zz,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(_F)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ol(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?jm(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Cee(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new hM,r=[],s=new Map,l=[],h=new Map,m=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(Tt=>{b.add(Tt);const Vt=this.driver.query(Tt,".ng-animate-queued",!0);for(let Zt=0;Zt<Vt.length;Zt++)b.add(Vt[Zt])});const D=this.bodyNode,k=Array.from(this.statesByElement.keys()),L=Gz(k,this.collectedEnterElements),j=new Map;let Y=0;L.forEach((Tt,Vt)=>{const Zt=sF+Y++;j.set(Vt,Zt),Tt.forEach(Nn=>Ol(Nn,Zt))});const se=[],Le=new Set,$e=new Set;for(let Tt=0;Tt<this.collectedLeaveElements.length;Tt++){const Vt=this.collectedLeaveElements[Tt],Zt=Vt[Rl];Zt&&Zt.setForRemoval&&(se.push(Vt),Le.add(Vt),Zt.hasAnimation?this.driver.query(Vt,".ng-star-inserted",!0).forEach(Nn=>Le.add(Nn)):$e.add(Vt))}const je=new Map,Ye=Gz(k,Array.from(Le));Ye.forEach((Tt,Vt)=>{const Zt=rM+Y++;je.set(Vt,Zt),Tt.forEach(Nn=>Ol(Nn,Zt))}),e.push(()=>{L.forEach((Tt,Vt)=>{const Zt=j.get(Vt);Tt.forEach(Nn=>Zb(Nn,Zt))}),Ye.forEach((Tt,Vt)=>{const Zt=je.get(Vt);Tt.forEach(Nn=>Zb(Nn,Zt))}),se.forEach(Tt=>{this.processLeaveNode(Tt)})});const St=[],Nt=[];for(let Tt=this._namespaceList.length-1;Tt>=0;Tt--)this._namespaceList[Tt].drainQueuedTransitions(t).forEach(Zt=>{const Nn=Zt.player,Os=Zt.element;if(St.push(Nn),this.collectedEnterElements.length){const _o=Os[Rl];if(_o&&_o.setForMove){if(_o.previousTriggersValues&&_o.previousTriggersValues.has(Zt.triggerName)){const A_=_o.previousTriggersValues.get(Zt.triggerName),Pl=this.statesByElement.get(Zt.element);if(Pl&&Pl.has(Zt.triggerName)){const vM=Pl.get(Zt.triggerName);vM.value=A_,Pl.set(Zt.triggerName,vM)}}return void Nn.destroy()}}const Kd=!D||!this.driver.containsElement(D,Os),Ka=je.get(Os),Gm=j.get(Os),dr=this._buildInstruction(Zt,i,Gm,Ka,Kd);if(dr.errors&&dr.errors.length)return void Nt.push(dr);if(Kd)return Nn.onStart(()=>T_(Os,dr.fromStyles)),Nn.onDestroy(()=>Yd(Os,dr.toStyles)),void r.push(Nn);if(Zt.isFallbackTransition)return Nn.onStart(()=>T_(Os,dr.fromStyles)),Nn.onDestroy(()=>Yd(Os,dr.toStyles)),void r.push(Nn);const ij=[];dr.timelines.forEach(_o=>{_o.stretchStartingKeyframe=!0,this.disabledNodes.has(_o.element)||ij.push(_o)}),dr.timelines=ij,i.append(Os,dr.timelines),l.push({instruction:dr,player:Nn,element:Os}),dr.queriedElements.forEach(_o=>Za(h,_o,[]).push(Nn)),dr.preStyleProps.forEach((_o,A_)=>{if(_o.size){let Pl=m.get(A_);Pl||m.set(A_,Pl=new Set),_o.forEach((vM,EF)=>Pl.add(EF))}}),dr.postStyleProps.forEach((_o,A_)=>{let Pl=_.get(A_);Pl||_.set(A_,Pl=new Set),_o.forEach((vM,EF)=>Pl.add(EF))})});if(Nt.length){const Tt=[];Nt.forEach(Vt=>{Tt.push(function Iee(n,e){return new c.vHH(3505,!1)}())}),St.forEach(Vt=>Vt.destroy()),this.reportError(Tt)}const Dn=new Map,cr=new Map;l.forEach(Tt=>{const Vt=Tt.element;i.has(Vt)&&(cr.set(Vt,Vt),this._beforeAnimationBuild(Tt.player.namespaceId,Tt.instruction,Dn))}),r.forEach(Tt=>{const Vt=Tt.element;this._getPreviousPlayers(Vt,!1,Tt.namespaceId,Tt.triggerName,null).forEach(Nn=>{Za(Dn,Vt,[]).push(Nn),Nn.destroy()})});const go=se.filter(Tt=>Wz(Tt,m,_)),Nh=new Map;$z(Nh,this.driver,$e,_,Dh).forEach(Tt=>{Wz(Tt,m,_)&&go.push(Tt)});const HC=new Map;L.forEach((Tt,Vt)=>{$z(HC,this.driver,new Set(Tt),m,"!")}),go.forEach(Tt=>{const Vt=Nh.get(Tt),Zt=HC.get(Tt);Nh.set(Tt,new Map([...Vt?.entries()??[],...Zt?.entries()??[]]))});const S_=[],tj=[],nj={};l.forEach(Tt=>{const{element:Vt,player:Zt,instruction:Nn}=Tt;if(i.has(Vt)){if(b.has(Vt))return Zt.onDestroy(()=>Yd(Vt,Nn.toStyles)),Zt.disabled=!0,Zt.overrideTotalTime(Nn.totalTime),void r.push(Zt);let Os=nj;if(cr.size>1){let Ka=Vt;const Gm=[];for(;Ka=Ka.parentNode;){const dr=cr.get(Ka);if(dr){Os=dr;break}Gm.push(Ka)}Gm.forEach(dr=>cr.set(dr,Os))}const Kd=this._buildAnimation(Zt.namespaceId,Nn,Dn,s,HC,Nh);if(Zt.setRealPlayer(Kd),Os===nj)S_.push(Zt);else{const Ka=this.playersByElement.get(Os);Ka&&Ka.length&&(Zt.parentPlayer=jm(Ka)),r.push(Zt)}}else T_(Vt,Nn.fromStyles),Zt.onDestroy(()=>Yd(Vt,Nn.toStyles)),tj.push(Zt),b.has(Vt)&&r.push(Zt)}),tj.forEach(Tt=>{const Vt=s.get(Tt.element);if(Vt&&Vt.length){const Zt=jm(Vt);Tt.setRealPlayer(Zt)}}),r.forEach(Tt=>{Tt.parentPlayer?Tt.syncPlayerEvents(Tt.parentPlayer):Tt.destroy()});for(let Tt=0;Tt<se.length;Tt++){const Vt=se[Tt],Zt=Vt[Rl];if(Zb(Vt,rM),Zt&&Zt.hasAnimation)continue;let Nn=[];if(h.size){let Kd=h.get(Vt);Kd&&Kd.length&&Nn.push(...Kd);let Ka=this.driver.query(Vt,oF,!0);for(let Gm=0;Gm<Ka.length;Gm++){let dr=h.get(Ka[Gm]);dr&&dr.length&&Nn.push(...dr)}}const Os=Nn.filter(Kd=>!Kd.destroyed);Os.length?Cte(this,Vt,Os):this.processLeaveNode(Vt)}return se.length=0,S_.forEach(Tt=>{this.players.push(Tt),Tt.onDone(()=>{Tt.destroy();const Vt=this.players.indexOf(Tt);this.players.splice(Vt,1)}),Tt.play()}),S_}elementContainsData(e,t){let i=!1;const r=t[Rl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let l=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(l=h)}else{const h=this.playersByElement.get(e);if(h){const m=!s||s==UC;h.forEach(_=>{_.queued||!m&&_.triggerName!=r||l.push(_)})}}return(i||r)&&(l=l.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),l}_beforeAnimationBuild(e,t,i){const s=t.element,l=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const _=m.element,b=_!==s,D=Za(i,_,[]);this._getPreviousPlayers(_,b,l,h,t.toState).forEach(L=>{const j=L.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),L.destroy(),D.push(L)})}T_(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,l){const h=t.triggerName,m=t.element,_=[],b=new Set,D=new Set,k=t.timelines.map(j=>{const Y=j.element;b.add(Y);const se=Y[Rl];if(se&&se.removedBeforeQueried)return new FE(j.duration,j.delay);const Le=Y!==m,$e=function Ite(n){const e=[];return qz(n,e),e}((i.get(Y)||_te).map(Dn=>Dn.getRealPlayer())).filter(Dn=>!!Dn.element&&Dn.element===Y),je=s.get(Y),Ye=l.get(Y),St=xz(this._normalizer,j.keyframes,je,Ye),Nt=this._buildPlayer(j,St,$e);if(j.subTimeline&&r&&D.add(Y),Le){const Dn=new bF(e,h,Y);Dn.setRealPlayer(Nt),_.push(Dn)}return Nt});_.forEach(j=>{Za(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function wte(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,j.element,j))}),b.forEach(j=>Ol(j,Az));const L=jm(k);return L.onDestroy(()=>{b.forEach(j=>Zb(j,Az)),Yd(m,t.toStyles)}),D.forEach(j=>{Za(r,j,[]).push(L)}),L}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new FE(e.duration,e.delay)}}class bF{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new FE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>eF(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Za(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function pM(n){return n&&1===n.nodeType}function jz(n,e){const t=n.style.display;return n.style.display=e??"none",t}function $z(n,e,t,i,r){const s=[];t.forEach(m=>s.push(jz(m)));const l=[];i.forEach((m,_)=>{const b=new Map;m.forEach(D=>{const k=e.computeStyle(_,D,r);b.set(D,k),(!k||0==k.length)&&(_[Rl]=vte,l.push(_))}),n.set(_,b)});let h=0;return t.forEach(m=>jz(m,s[h++])),l}function Gz(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),s=new Map;function l(h){if(!h)return 1;let m=s.get(h);if(m)return m;const _=h.parentNode;return m=t.has(_)?_:r.has(_)?1:l(_),s.set(h,m),m}return e.forEach(h=>{const m=l(h);1!==m&&t.get(m).push(h)}),t}function Ol(n,e){n.classList?.add(e)}function Zb(n,e){n.classList?.remove(e)}function Cte(n,e,t){jm(t).onDone(()=>n.processLeaveNode(e))}function qz(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Q2?qz(i.players,e):e.push(i)}}function Wz(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class gM{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new bte(e,t,i),this._timelineEngine=new hte(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const l=e+"-"+r;let h=this._triggerCache[l];if(!h){const m=[],b=dF(this._driver,s,m,[]);if(m.length)throw function mee(n,e){return new c.vHH(3404,!1)}();h=function lte(n,e,t){return new cte(n,e,t)}(r,b,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,l]=Ez(i);this._timelineEngine.command(s,t,l,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[l,h]=Ez(i);return this._timelineEngine.listen(l,t,h,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Ste=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Yd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yd(this._element,this._initialStyles),this._endStyles&&(Yd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(T_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(T_(this._element,this._endStyles),this._endStyles=null),Yd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function wF(n){let e=null;return n.forEach((t,i)=>{(function Ate(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Zz{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Oz(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Mte{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Iz(e,t)}getParentElement(e){return iF(e)}query(e,t,i){return Tz(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,l=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(m.easing=s);const _=new Map,b=l.filter(L=>L instanceof Zz);(function Lee(n,e){return 0===n||0===e})(i,r)&&b.forEach(L=>{L.currentSnapshot.forEach((j,Y)=>_.set(Y,j))});let D=function Pee(n){return n.length?n[0]instanceof Map?n:n.map(e=>Mz(e)):[]}(t).map(L=>$m(L));D=function Bee(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,l)=>{i.has(l)||r.push(l),i.set(l,s)}),r.length)for(let s=1;s<e.length;s++){let l=e[s];r.forEach(h=>l.set(h,Oz(n,h)))}}return e}(e,D,_);const k=function Dte(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=wF(e[0]),e.length>1&&(i=wF(e[e.length-1]))):e instanceof Map&&(t=wF(e)),t||i?new Ste(n,t,i):null}(e,D);return new Zz(e,D,m,k)}}let kte=(()=>{class n extends Y2{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?K2(t):t;return Yz(this._renderer,null,i,"register",[r]),new Rte(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Rte extends O${constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Ote(this._id,e,t||{},this._renderer)}}class Ote{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Yz(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Yz(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Kz="@.disabled";let Pte=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,l)=>{const h=l?.parentNode(s);h&&l.removeChild(h,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new Qz("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,b)),b}const l=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const m=b=>{Array.isArray(b)?b.forEach(m):this.engine.registerTrigger(l,h,t,b.name,b)};return i.data.animation.forEach(m),new Nte(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,h]=s;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(gM),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Qz{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Kz?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Nte extends Qz{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Kz?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Fte(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function Lte(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let Bte=(()=>{class n extends gM{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ae),c.LFG(rF),c.LFG(pF),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Xz=[{provide:Y2,useClass:kte},{provide:pF,useFactory:function Vte(){return new rte}},{provide:gM,useClass:Bte},{provide:c.FYo,useFactory:function Ute(n,e,t){return new Pte(n,e,t)},deps:[_s,gM,c.R0b]}],xF=[{provide:rF,useFactory:()=>new Mte},{provide:c.QbO,useValue:"BrowserAnimations"},...Xz],Jz=[{provide:rF,useClass:Dz},{provide:c.QbO,useValue:"NoopAnimations"},...Xz];let Hte=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Jz:xF}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:xF,imports:[Jc]}),n})(),zte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[G7]}),n.\u0275inj=c.cJS({providers:[Sm],imports:[Jc,w9,y8,rr.hO.initializeApp(qJ_firebaseConfig),Hk,M$,PY,GJ,Hte,a5,q5,f9,MP,oq,D9,N9,Z9,T7,z7,tG.forRoot(),gq,wW]}),n})();Xc().bootstrapModule(zte).catch(n=>console.error(n))},5619:(pt,De,B)=>{B.d(De,{X:()=>$});var c=B(8645);class $ extends c.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const ce=super._subscribe(ee);return!ce.closed&&ee.next(this._value),ce}getValue(){const{hasError:ee,thrownError:ce,_value:ae}=this;if(ee)throw ce;return this._throwIfClosed(),ae}next(ee){super.next(this._value=ee)}}},5592:(pt,De,B)=>{B.d(De,{y:()=>Me});var c=B(305),$=B(7394),P=B(4850),ee=B(8407),ce=B(2653),ae=B(4674),xe=B(1441);let Me=(()=>{class oe{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Xe=new oe;return Xe.source=this,Xe.operator=Re,Xe}subscribe(Re,Xe,Oe){const Qe=function Z(oe){return oe&&oe instanceof c.Lv||function q(oe){return oe&&(0,ae.m)(oe.next)&&(0,ae.m)(oe.error)&&(0,ae.m)(oe.complete)}(oe)&&(0,$.Nn)(oe)}(Re)?Re:new c.Hp(Re,Xe,Oe);return(0,xe.x)(()=>{const{operator:Fe,source:Ct}=this;Qe.add(Fe?Fe.call(Qe,Ct):Ct?this._subscribe(Qe):this._trySubscribe(Qe))}),Qe}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Xe){Re.error(Xe)}}forEach(Re,Xe){return new(Xe=be(Xe))((Oe,Qe)=>{const Fe=new c.Hp({next:Ct=>{try{Re(Ct)}catch(mt){Qe(mt),Fe.unsubscribe()}},error:Qe,complete:Oe});this.subscribe(Fe)})}_subscribe(Re){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Re)}[P.L](){return this}pipe(...Re){return(0,ee.U)(Re)(this)}toPromise(Re){return new(Re=be(Re))((Xe,Oe)=>{let Qe;this.subscribe(Fe=>Qe=Fe,Fe=>Oe(Fe),()=>Xe(Qe))})}}return oe.create=Be=>new oe(Be),oe})();function be(oe){var Be;return null!==(Be=oe??ce.config.Promise)&&void 0!==Be?Be:Promise}},8645:(pt,De,B)=>{B.d(De,{x:()=>xe});var c=B(5592),$=B(7394);const ee=(0,B(2306).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=B(9039),ae=B(1441);let xe=(()=>{class be extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const oe=new Me(this,this);return oe.operator=Z,oe}_throwIfClosed(){if(this.closed)throw new ee}next(Z){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const oe of this.currentObservers)oe.next(Z)}})}error(Z){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:oe}=this;for(;oe.length;)oe.shift().error(Z)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:oe,isStopped:Be,observers:Re}=this;return oe||Be?$.Lc:(this.currentObservers=null,Re.push(Z),new $.w0(()=>{this.currentObservers=null,(0,ce.P)(Re,Z)}))}_checkFinalizedStatuses(Z){const{hasError:oe,thrownError:Be,isStopped:Re}=this;oe?Z.error(Be):Re&&Z.complete()}asObservable(){const Z=new c.y;return Z.source=this,Z}}return be.create=(q,Z)=>new Me(q,Z),be})();class Me extends xe{constructor(q,Z){super(),this.destination=q,this.source=Z}next(q){var Z,oe;null===(oe=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===oe||oe.call(Z,q)}error(q){var Z,oe;null===(oe=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===oe||oe.call(Z,q)}complete(){var q,Z;null===(Z=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===Z||Z.call(q)}_subscribe(q){var Z,oe;return null!==(oe=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(q))&&void 0!==oe?oe:$.Lc}}},305:(pt,De,B)=>{B.d(De,{Hp:()=>Oe,Lv:()=>oe});var c=B(4674),$=B(7394),P=B(2653),ee=B(3894),ce=B(2420);const ae=be("C",void 0,void 0);function be(re,Ie,de){return{kind:re,value:Ie,error:de}}var q=B(7599),Z=B(1441);class oe extends $.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,$.Nn)(Ie)&&Ie.add(this)):this.destination=mt}static create(Ie,de,ye){return new Oe(Ie,de,ye)}next(Ie){this.isStopped?Ct(function Me(re){return be("N",re,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?Ct(function xe(re){return be("E",void 0,re)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?Ct(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Re(re,Ie){return Be.call(re,Ie)}class Xe{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:de}=this;if(de.next)try{de.next(Ie)}catch(ye){Qe(ye)}}error(Ie){const{partialObserver:de}=this;if(de.error)try{de.error(Ie)}catch(ye){Qe(ye)}else Qe(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(de){Qe(de)}}}class Oe extends oe{constructor(Ie,de,ye){let Ne;if(super(),(0,c.m)(Ie)||!Ie)Ne={next:Ie??void 0,error:de??void 0,complete:ye??void 0};else{let ie;this&&P.config.useDeprecatedNextContext?(ie=Object.create(Ie),ie.unsubscribe=()=>this.unsubscribe(),Ne={next:Ie.next&&Re(Ie.next,ie),error:Ie.error&&Re(Ie.error,ie),complete:Ie.complete&&Re(Ie.complete,ie)}):Ne=Ie}this.destination=new Xe(Ne)}}function Qe(re){P.config.useDeprecatedSynchronousErrorHandling?(0,Z.O)(re):(0,ee.h)(re)}function Ct(re,Ie){const{onStoppedNotification:de}=P.config;de&&q.z.setTimeout(()=>de(re,Ie))}const mt={closed:!0,next:ce.Z,error:function Fe(re){throw re},complete:ce.Z}},7394:(pt,De,B)=>{B.d(De,{Lc:()=>ae,w0:()=>ce,Nn:()=>xe});var c=B(4674);const P=(0,B(2306).d)(be=>function(Z){be(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((oe,Be)=>`${Be+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var ee=B(9039);class ce{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Re of Z)Re.remove(this);else Z.remove(this);const{initialTeardown:oe}=this;if((0,c.m)(oe))try{oe()}catch(Re){q=Re instanceof P?Re.errors:[Re]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Re of Be)try{Me(Re)}catch(Xe){q=q??[],Xe instanceof P?q=[...q,...Xe.errors]:q.push(Xe)}}if(q)throw new P(q)}}add(q){var Z;if(q&&q!==this)if(this.closed)Me(q);else{if(q instanceof ce){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(q)}}_hasParent(q){const{_parentage:Z}=this;return Z===q||Array.isArray(Z)&&Z.includes(q)}_addParent(q){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(q),Z):Z?[Z,q]:q}_removeParent(q){const{_parentage:Z}=this;Z===q?this._parentage=null:Array.isArray(Z)&&(0,ee.P)(Z,q)}remove(q){const{_finalizers:Z}=this;Z&&(0,ee.P)(Z,q),q instanceof ce&&q._removeParent(this)}}ce.EMPTY=(()=>{const be=new ce;return be.closed=!0,be})();const ae=ce.EMPTY;function xe(be){return be instanceof ce||be&&"closed"in be&&(0,c.m)(be.remove)&&(0,c.m)(be.add)&&(0,c.m)(be.unsubscribe)}function Me(be){(0,c.m)(be)?be():be.unsubscribe()}},2653:(pt,De,B)=>{B.d(De,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(pt,De,B)=>{B.d(De,{E:()=>$});const $=new(B(5592).y)(ce=>ce.complete())},2459:(pt,De,B)=>{B.d(De,{D:()=>Ie});var c=B(4829),$=B(3093),P=B(5137),ae=B(5592),Me=B(4971),be=B(4674),q=B(7103);function oe(de,ye){if(!de)throw new Error("Iterable cannot be null");return new ae.y(Ne=>{(0,q.f)(Ne,ye,()=>{const ie=de[Symbol.asyncIterator]();(0,q.f)(Ne,ye,()=>{ie.next().then(rt=>{rt.done?Ne.complete():Ne.next(rt.value)})},0,!0)})})}var Be=B(8382),Re=B(4026),Xe=B(4266),Oe=B(3664),Qe=B(5726),Fe=B(9853),Ct=B(541);function Ie(de,ye){return ye?function re(de,ye){if(null!=de){if((0,Be.c)(de))return function ee(de,ye){return(0,c.Xf)(de).pipe((0,P.R)(ye),(0,$.Q)(ye))}(de,ye);if((0,Xe.z)(de))return function xe(de,ye){return new ae.y(Ne=>{let ie=0;return ye.schedule(function(){ie===de.length?Ne.complete():(Ne.next(de[ie++]),Ne.closed||this.schedule())})})}(de,ye);if((0,Re.t)(de))return function ce(de,ye){return(0,c.Xf)(de).pipe((0,P.R)(ye),(0,$.Q)(ye))}(de,ye);if((0,Qe.D)(de))return oe(de,ye);if((0,Oe.T)(de))return function Z(de,ye){return new ae.y(Ne=>{let ie;return(0,q.f)(Ne,ye,()=>{ie=de[Me.h](),(0,q.f)(Ne,ye,()=>{let rt,qe;try{({value:rt,done:qe}=ie.next())}catch(on){return void Ne.error(on)}qe?Ne.complete():Ne.next(rt)},0,!0)}),()=>(0,be.m)(ie?.return)&&ie.return()})}(de,ye);if((0,Ct.L)(de))return function mt(de,ye){return oe((0,Ct.Q)(de),ye)}(de,ye)}throw(0,Fe.z)(de)}(de,ye):(0,c.Xf)(de)}},4829:(pt,De,B)=>{B.d(De,{Xf:()=>Be});var c=B(7582),$=B(4266),P=B(4026),ee=B(5592),ce=B(8382),ae=B(5726),xe=B(9853),Me=B(3664),be=B(541),q=B(4674),Z=B(3894),oe=B(4850);function Be(re){if(re instanceof ee.y)return re;if(null!=re){if((0,ce.c)(re))return function Re(re){return new ee.y(Ie=>{const de=re[oe.L]();if((0,q.m)(de.subscribe))return de.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(re);if((0,$.z)(re))return function Xe(re){return new ee.y(Ie=>{for(let de=0;de<re.length&&!Ie.closed;de++)Ie.next(re[de]);Ie.complete()})}(re);if((0,P.t)(re))return function Oe(re){return new ee.y(Ie=>{re.then(de=>{Ie.closed||(Ie.next(de),Ie.complete())},de=>Ie.error(de)).then(null,Z.h)})}(re);if((0,ae.D)(re))return Fe(re);if((0,Me.T)(re))return function Qe(re){return new ee.y(Ie=>{for(const de of re)if(Ie.next(de),Ie.closed)return;Ie.complete()})}(re);if((0,be.L)(re))return function Ct(re){return Fe((0,be.Q)(re))}(re)}throw(0,xe.z)(re)}function Fe(re){return new ee.y(Ie=>{(function mt(re,Ie){var de,ye,Ne,ie;return(0,c.mG)(this,void 0,void 0,function*(){try{for(de=(0,c.KL)(re);!(ye=yield de.next()).done;)if(Ie.next(ye.value),Ie.closed)return}catch(rt){Ne={error:rt}}finally{try{ye&&!ye.done&&(ie=de.return)&&(yield ie.call(de))}finally{if(Ne)throw Ne.error}}Ie.complete()})})(re,Ie).catch(de=>Ie.error(de))})}},3019:(pt,De,B)=>{B.d(De,{T:()=>ae});var c=B(7537),$=B(4829),P=B(6232),ee=B(9940),ce=B(2459);function ae(...xe){const Me=(0,ee.yG)(xe),be=(0,ee._6)(xe,1/0),q=xe;return q.length?1===q.length?(0,$.Xf)(q[0]):(0,c.J)(be)((0,ce.D)(q,Me)):P.E}},2096:(pt,De,B)=>{B.d(De,{of:()=>P});var c=B(9940),$=B(2459);function P(...ee){const ce=(0,c.yG)(ee);return(0,$.D)(ee,ce)}},8251:(pt,De,B)=>{B.d(De,{x:()=>$});var c=B(305);function $(ee,ce,ae,xe,Me){return new P(ee,ce,ae,xe,Me)}class P extends c.Lv{constructor(ce,ae,xe,Me,be,q){super(ce),this.onFinalize=be,this.shouldUnsubscribe=q,this._next=ae?function(Z){try{ae(Z)}catch(oe){ce.error(oe)}}:super._next,this._error=Me?function(Z){try{Me(Z)}catch(oe){ce.error(oe)}finally{this.unsubscribe()}}:super._error,this._complete=xe?function(){try{xe()}catch(Z){ce.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},3997:(pt,De,B)=>{B.d(De,{x:()=>ee});var c=B(2737),$=B(9360),P=B(8251);function ee(ae,xe=c.y){return ae=ae??ce,(0,$.e)((Me,be)=>{let q,Z=!0;Me.subscribe((0,P.x)(be,oe=>{const Be=xe(oe);(Z||!ae(q,Be))&&(Z=!1,q=Be,be.next(oe))}))})}function ce(ae,xe){return ae===xe}},7398:(pt,De,B)=>{B.d(De,{U:()=>P});var c=B(9360),$=B(8251);function P(ee,ce){return(0,c.e)((ae,xe)=>{let Me=0;ae.subscribe((0,$.x)(xe,be=>{xe.next(ee.call(ce,be,Me++))}))})}},7537:(pt,De,B)=>{B.d(De,{J:()=>P});var c=B(1631),$=B(2737);function P(ee=1/0){return(0,c.z)($.y,ee)}},1631:(pt,De,B)=>{B.d(De,{z:()=>Me});var c=B(7398),$=B(4829),P=B(9360),ee=B(7103),ce=B(8251),xe=B(4674);function Me(be,q,Z=1/0){return(0,xe.m)(q)?Me((oe,Be)=>(0,c.U)((Re,Xe)=>q(oe,Re,Be,Xe))((0,$.Xf)(be(oe,Be))),Z):("number"==typeof q&&(Z=q),(0,P.e)((oe,Be)=>function ae(be,q,Z,oe,Be,Re,Xe,Oe){const Qe=[];let Fe=0,Ct=0,mt=!1;const re=()=>{mt&&!Qe.length&&!Fe&&q.complete()},Ie=ye=>Fe<oe?de(ye):Qe.push(ye),de=ye=>{Re&&q.next(ye),Fe++;let Ne=!1;(0,$.Xf)(Z(ye,Ct++)).subscribe((0,ce.x)(q,ie=>{Be?.(ie),Re?Ie(ie):q.next(ie)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(Fe--;Qe.length&&Fe<oe;){const ie=Qe.shift();Xe?(0,ee.f)(q,Xe,()=>de(ie)):de(ie)}re()}catch(ie){q.error(ie)}}))};return be.subscribe((0,ce.x)(q,Ie,()=>{mt=!0,re()})),()=>{Oe?.()}}(oe,Be,be,Z)))}},3093:(pt,De,B)=>{B.d(De,{Q:()=>ee});var c=B(7103),$=B(9360),P=B(8251);function ee(ce,ae=0){return(0,$.e)((xe,Me)=>{xe.subscribe((0,P.x)(Me,be=>(0,c.f)(Me,ce,()=>Me.next(be),ae),()=>(0,c.f)(Me,ce,()=>Me.complete(),ae),be=>(0,c.f)(Me,ce,()=>Me.error(be),ae)))})}},3020:(pt,De,B)=>{B.d(De,{B:()=>ce});var c=B(4829),$=B(8645),P=B(305),ee=B(9360);function ce(xe={}){const{connector:Me=(()=>new $.x),resetOnError:be=!0,resetOnComplete:q=!0,resetOnRefCountZero:Z=!0}=xe;return oe=>{let Be,Re,Xe,Oe=0,Qe=!1,Fe=!1;const Ct=()=>{Re?.unsubscribe(),Re=void 0},mt=()=>{Ct(),Be=Xe=void 0,Qe=Fe=!1},re=()=>{const Ie=Be;mt(),Ie?.unsubscribe()};return(0,ee.e)((Ie,de)=>{Oe++,!Fe&&!Qe&&Ct();const ye=Xe=Xe??Me();de.add(()=>{Oe--,0===Oe&&!Fe&&!Qe&&(Re=ae(re,Z))}),ye.subscribe(de),!Be&&Oe>0&&(Be=new P.Hp({next:Ne=>ye.next(Ne),error:Ne=>{Fe=!0,Ct(),Re=ae(mt,be,Ne),ye.error(Ne)},complete:()=>{Qe=!0,Ct(),Re=ae(mt,q),ye.complete()}}),(0,c.Xf)(Ie).subscribe(Be))})(oe)}}function ae(xe,Me,...be){if(!0===Me)return void xe();if(!1===Me)return;const q=new P.Hp({next:()=>{q.unsubscribe(),xe()}});return(0,c.Xf)(Me(...be)).subscribe(q)}},5137:(pt,De,B)=>{B.d(De,{R:()=>$});var c=B(9360);function $(P,ee=0){return(0,c.e)((ce,ae)=>{ae.add(P.schedule(()=>ce.subscribe(ae),ee))})}},4664:(pt,De,B)=>{B.d(De,{w:()=>ee});var c=B(4829),$=B(9360),P=B(8251);function ee(ce,ae){return(0,$.e)((xe,Me)=>{let be=null,q=0,Z=!1;const oe=()=>Z&&!be&&Me.complete();xe.subscribe((0,P.x)(Me,Be=>{be?.unsubscribe();let Re=0;const Xe=q++;(0,c.Xf)(ce(Be,Xe)).subscribe(be=(0,P.x)(Me,Oe=>Me.next(ae?ae(Be,Oe,Xe,Re++):Oe),()=>{be=null,oe()}))},()=>{Z=!0,oe()}))})}},9397:(pt,De,B)=>{B.d(De,{b:()=>ce});var c=B(4674),$=B(9360),P=B(8251),ee=B(2737);function ce(ae,xe,Me){const be=(0,c.m)(ae)||xe||Me?{next:ae,error:xe,complete:Me}:ae;return be?(0,$.e)((q,Z)=>{var oe;null===(oe=be.subscribe)||void 0===oe||oe.call(be);let Be=!0;q.subscribe((0,P.x)(Z,Re=>{var Xe;null===(Xe=be.next)||void 0===Xe||Xe.call(be,Re),Z.next(Re)},()=>{var Re;Be=!1,null===(Re=be.complete)||void 0===Re||Re.call(be),Z.complete()},Re=>{var Xe;Be=!1,null===(Xe=be.error)||void 0===Xe||Xe.call(be,Re),Z.error(Re)},()=>{var Re,Xe;Be&&(null===(Re=be.unsubscribe)||void 0===Re||Re.call(be)),null===(Xe=be.finalize)||void 0===Xe||Xe.call(be)}))}):ee.y}},1954:(pt,De,B)=>{B.d(De,{o:()=>ce});var c=B(7394);class $ extends c.w0{constructor(xe,Me){super()}schedule(xe,Me=0){return this}}const P={setInterval(ae,xe,...Me){const{delegate:be}=P;return be?.setInterval?be.setInterval(ae,xe,...Me):setInterval(ae,xe,...Me)},clearInterval(ae){const{delegate:xe}=P;return(xe?.clearInterval||clearInterval)(ae)},delegate:void 0};var ee=B(9039);class ce extends ${constructor(xe,Me){super(xe,Me),this.scheduler=xe,this.work=Me,this.pending=!1}schedule(xe,Me=0){var be;if(this.closed)return this;this.state=xe;const q=this.id,Z=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(Z,q,Me)),this.pending=!0,this.delay=Me,this.id=null!==(be=this.id)&&void 0!==be?be:this.requestAsyncId(Z,this.id,Me),this}requestAsyncId(xe,Me,be=0){return P.setInterval(xe.flush.bind(xe,this),be)}recycleAsyncId(xe,Me,be=0){if(null!=be&&this.delay===be&&!1===this.pending)return Me;null!=Me&&P.clearInterval(Me)}execute(xe,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(xe,Me);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(xe,Me){let q,be=!1;try{this.work(xe)}catch(Z){be=!0,q=Z||new Error("Scheduled action threw falsy error")}if(be)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:xe,scheduler:Me}=this,{actions:be}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(be,this),null!=xe&&(this.id=this.recycleAsyncId(Me,xe,null)),this.delay=null,super.unsubscribe()}}}},2631:(pt,De,B)=>{B.d(De,{v:()=>P});var c=B(4552);class ${constructor(ce,ae=$.now){this.schedulerActionCtor=ce,this.now=ae}schedule(ce,ae=0,xe){return new this.schedulerActionCtor(this,ce).schedule(xe,ae)}}$.now=c.l.now;class P extends ${constructor(ce,ae=$.now){super(ce,ae),this.actions=[],this._active=!1}flush(ce){const{actions:ae}=this;if(this._active)return void ae.push(ce);let xe;this._active=!0;do{if(xe=ce.execute(ce.state,ce.delay))break}while(ce=ae.shift());if(this._active=!1,xe){for(;ce=ae.shift();)ce.unsubscribe();throw xe}}}},6321:(pt,De,B)=>{B.d(De,{P:()=>ee,z:()=>P});var c=B(1954);const P=new(B(2631).v)(c.o),ee=P},4552:(pt,De,B)=>{B.d(De,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},7599:(pt,De,B)=>{B.d(De,{z:()=>c});const c={setTimeout($,P,...ee){const{delegate:ce}=c;return ce?.setTimeout?ce.setTimeout($,P,...ee):setTimeout($,P,...ee)},clearTimeout($){const{delegate:P}=c;return(P?.clearTimeout||clearTimeout)($)},delegate:void 0}},4971:(pt,De,B)=>{B.d(De,{h:()=>$});const $=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(pt,De,B)=>{B.d(De,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(pt,De,B)=>{B.d(De,{_6:()=>ae,jO:()=>ee,yG:()=>ce});var c=B(4674),$=B(671);function P(xe){return xe[xe.length-1]}function ee(xe){return(0,c.m)(P(xe))?xe.pop():void 0}function ce(xe){return(0,$.K)(P(xe))?xe.pop():void 0}function ae(xe,Me){return"number"==typeof P(xe)?xe.pop():Me}},9039:(pt,De,B)=>{function c($,P){if($){const ee=$.indexOf(P);0<=ee&&$.splice(ee,1)}}B.d(De,{P:()=>c})},2306:(pt,De,B)=>{function c($){const ee=$(ce=>{Error.call(ce),ce.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}B.d(De,{d:()=>c})},1441:(pt,De,B)=>{B.d(De,{O:()=>ee,x:()=>P});var c=B(2653);let $=null;function P(ce){if(c.config.useDeprecatedSynchronousErrorHandling){const ae=!$;if(ae&&($={errorThrown:!1,error:null}),ce(),ae){const{errorThrown:xe,error:Me}=$;if($=null,xe)throw Me}}else ce()}function ee(ce){c.config.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=ce)}},7103:(pt,De,B)=>{function c($,P,ee,ce=0,ae=!1){const xe=P.schedule(function(){ee(),ae?$.add(this.schedule(null,ce)):this.unsubscribe()},ce);if($.add(xe),!ae)return xe}B.d(De,{f:()=>c})},2737:(pt,De,B)=>{function c($){return $}B.d(De,{y:()=>c})},4266:(pt,De,B)=>{B.d(De,{z:()=>c});const c=$=>$&&"number"==typeof $.length&&"function"!=typeof $},5726:(pt,De,B)=>{B.d(De,{D:()=>$});var c=B(4674);function $(P){return Symbol.asyncIterator&&(0,c.m)(P?.[Symbol.asyncIterator])}},4674:(pt,De,B)=>{function c($){return"function"==typeof $}B.d(De,{m:()=>c})},8382:(pt,De,B)=>{B.d(De,{c:()=>P});var c=B(4850),$=B(4674);function P(ee){return(0,$.m)(ee[c.L])}},3664:(pt,De,B)=>{B.d(De,{T:()=>P});var c=B(4971),$=B(4674);function P(ee){return(0,$.m)(ee?.[c.h])}},4026:(pt,De,B)=>{B.d(De,{t:()=>$});var c=B(4674);function $(P){return(0,c.m)(P?.then)}},541:(pt,De,B)=>{B.d(De,{L:()=>ee,Q:()=>P});var c=B(7582),$=B(4674);function P(ce){return(0,c.FC)(this,arguments,function*(){const xe=ce.getReader();try{for(;;){const{value:Me,done:be}=yield(0,c.qq)(xe.read());if(be)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Me)}}finally{xe.releaseLock()}})}function ee(ce){return(0,$.m)(ce?.getReader)}},671:(pt,De,B)=>{B.d(De,{K:()=>$});var c=B(4674);function $(P){return P&&(0,c.m)(P.schedule)}},9360:(pt,De,B)=>{B.d(De,{A:()=>$,e:()=>P});var c=B(4674);function $(ee){return(0,c.m)(ee?.lift)}function P(ee){return ce=>{if($(ce))return ce.lift(function(ae){try{return ee(ae,this)}catch(xe){this.error(xe)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(pt,De,B)=>{function c(){}B.d(De,{Z:()=>c})},8407:(pt,De,B)=>{B.d(De,{U:()=>P,z:()=>$});var c=B(2737);function $(...ee){return P(ee)}function P(ee){return 0===ee.length?c.y:1===ee.length?ee[0]:function(ae){return ee.reduce((xe,Me)=>Me(xe),ae)}}},3894:(pt,De,B)=>{B.d(De,{h:()=>P});var c=B(2653),$=B(7599);function P(ee){$.z.setTimeout(()=>{const{onUnhandledError:ce}=c.config;if(!ce)throw ee;ce(ee)})}},9853:(pt,De,B)=>{function c($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(De,{z:()=>c})},5879:(pt,De,B)=>{B.d(De,{$8M:()=>ro,$WT:()=>yo,$Z:()=>Fp,AFp:()=>ok,ALo:()=>_c,AaK:()=>oe,BQk:()=>iy,CHM:()=>yu,CRH:()=>kx,EJc:()=>FD,EiD:()=>oo,EpF:()=>qf,F$t:()=>cy,F4k:()=>Is,FYo:()=>NI,FiY:()=>Io,Gf:()=>Mx,GfV:()=>Tv,GkF:()=>ac,Gpc:()=>Xe,HDt:()=>Jy,Hsn:()=>dy,Ikx:()=>wy,JOm:()=>gl,JVY:()=>BM,JZr:()=>mt,KtG:()=>Kc,L6k:()=>VM,LAX:()=>HM,LFG:()=>Gn,LSH:()=>xs,Lbi:()=>DI,Lck:()=>CR,MAs:()=>Jv,MMx:()=>tD,MR2:()=>yI,NdJ:()=>oy,O4$:()=>xu,Ojb:()=>lk,OlP:()=>kn,Oqu:()=>Hw,P3R:()=>ek,PXZ:()=>qR,Q6J:()=>ey,QGY:()=>sy,QbO:()=>Ra,Qsj:()=>M0,R0b:()=>qs,RDi:()=>wf,Rgc:()=>Sg,SBq:()=>_d,Sil:()=>Bg,Suo:()=>ph,TTD:()=>Gc,TgZ:()=>Yp,Tol:()=>xT,Udp:()=>fy,VuI:()=>a1,W1O:()=>Zy,WFA:()=>sh,X6Q:()=>YR,XFs:()=>Je,Xpm:()=>ha,Xq5:()=>ls,Xts:()=>mv,Y36:()=>Qu,YKP:()=>JT,YNc:()=>$f,Yjl:()=>Zm,Yz7:()=>$t,Z0I:()=>yn,ZZ4:()=>Tl,_Bn:()=>XT,_UZ:()=>ty,_Vd:()=>$s,_c5:()=>JD,_uU:()=>TT,aQg:()=>xc,c2e:()=>jx,cJS:()=>Xn,cg1:()=>pg,d8E:()=>Dd,dDg:()=>Hg,dqk:()=>Jt,eBb:()=>UM,eFA:()=>bc,eJc:()=>Nx,ekj:()=>my,eoX:()=>Qx,f3M:()=>rn,g9A:()=>ak,h0i:()=>im,hGG:()=>n1,hij:()=>_y,iGM:()=>wl,ifc:()=>wt,ip1:()=>wn,jDz:()=>_x,kL8:()=>rx,kcU:()=>ba,lG2:()=>Bo,lcZ:()=>Ly,lqb:()=>qu,lri:()=>tb,mCW:()=>lv,n5z:()=>Ti,n_E:()=>Vy,oAB:()=>Ll,oJD:()=>pI,oxw:()=>Mw,pB0:()=>lI,q3G:()=>ir,q4F:()=>An,qFp:()=>yE,qLn:()=>Af,qOj:()=>Ju,qZA:()=>Kp,qzn:()=>Ef,rWj:()=>Kx,rg0:()=>P_,s9C:()=>Jp,sBO:()=>xh,s_b:()=>lm,soG:()=>bh,tb:()=>zg,tp0:()=>Rr,uIk:()=>$p,vHH:()=>re,vpe:()=>uo,wAp:()=>Ot,xp6:()=>HI,ynx:()=>ny,z2F:()=>aa,z3N:()=>Jo,zSh:()=>EI,zs3:()=>ea});var c=B(8645),$=B(7394),P=B(5619),ee=B(5592),ce=B(3019),ae=B(2096),xe=B(3020),Me=B(4664),be=B(3997);function q(o){for(let a in o)if(o[a]===q)return a;throw Error("Could not find renamed property on target object.")}function Z(o,a){for(const d in a)a.hasOwnProperty(d)&&!o.hasOwnProperty(d)&&(o[d]=a[d])}function oe(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(oe).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const d=a.indexOf("\n");return-1===d?a:a.substring(0,d)}function Be(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const Re=q({__forward_ref__:q});function Xe(o){return o.__forward_ref__=Xe,o.toString=function(){return oe(this())},o}function Oe(o){return Qe(o)?o():o}function Qe(o){return"function"==typeof o&&o.hasOwnProperty(Re)&&o.__forward_ref__===Xe}function Fe(o){return o&&!!o.\u0275providers}const mt="https://g.co/ng/security#xss";class re extends Error{constructor(a,d){super(function Ie(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,d)),this.code=a}}function de(o){return"string"==typeof o?o:null==o?"":String(o)}function qe(o,a){throw new re(-201,!1)}function tt(o,a){null==o&&function dt(o,a,d,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${d} ${u} ${a} <=Actual]`))}(a,o,null,"!=")}function $t(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Xn(o){return{providers:o.providers||[],imports:o.imports||[]}}function zn(o){return di(o,Ki)||di(o,Er)}function yn(o){return null!==zn(o)}function di(o,a){return o.hasOwnProperty(a)?o[a]:null}function hs(o){return o&&(o.hasOwnProperty(ni)||o.hasOwnProperty(Qs))?o[ni]:null}const Ki=q({\u0275prov:q}),ni=q({\u0275inj:q}),Er=q({ngInjectableDef:q}),Qs=q({ngInjectorDef:q});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let gt;function nn(o){const a=gt;return gt=o,a}function Ei(o,a,d){const u=zn(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:d&Je.Optional?null:void 0!==a?a:void qe(oe(o))}const Jt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ur={},Ut="__NG_DI_FLAG__",jn="ngTempTokenPath",Xs=/\n/gm,ii="__source";let Ln;function $n(o){const a=Ln;return Ln=o,a}function Ci(o,a=Je.Default){if(void 0===Ln)throw new re(-203,!1);return null===Ln?Ei(o,void 0,a):Ln.get(o,a&Je.Optional?null:void 0,a)}function Gn(o,a=Je.Default){return(function bt(){return gt}()||Ci)(Oe(o),a)}function rn(o,a=Je.Default){return Gn(o,W(a))}function W(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function G(o){const a=[];for(let d=0;d<o.length;d++){const u=Oe(o[d]);if(Array.isArray(u)){if(0===u.length)throw new re(900,!1);let f,p=Je.Default;for(let y=0;y<u.length;y++){const E=u[y],I=V(E);"number"==typeof I?-1===I?f=E.token:p|=I:f=E}a.push(Gn(f,p))}else a.push(Gn(u))}return a}function F(o,a){return o[Ut]=a,o.prototype[Ut]=a,o}function V(o){return o[Ut]}function we(o){return{toString:o}.toString()}var Ke=(()=>((Ke=Ke||{})[Ke.OnPush=0]="OnPush",Ke[Ke.Default=1]="Default",Ke))(),wt=(()=>{return(o=wt||(wt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",wt;var o})();const yt={},_t=[],Pt=q({\u0275cmp:q}),Mn=q({\u0275dir:q}),Gt=q({\u0275pipe:q}),Vi=q({\u0275mod:q}),Xi=q({\u0275fac:q}),ve=q({__NG_ELEMENT_ID__:q}),le=q({__NG_ENV_ID__:q});function Ve(o,a,d){let u=o.length;for(;;){const f=o.indexOf(a,d);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const p=a.length;if(f+p===u||o.charCodeAt(f+p)<=32)return f}d=f+1}}function vt(o,a,d){let u=0;for(;u<d.length;){const f=d[u];if("number"==typeof f){if(0!==f)break;u++;const p=d[u++],y=d[u++],E=d[u++];o.setAttribute(a,y,E,p)}else{const p=f,y=d[++u];Yt(p)?o.setProperty(a,p,y):o.setAttribute(a,p,y),u++}}return u}function Ft(o){return 3===o||4===o||6===o}function Yt(o){return 64===o.charCodeAt(0)}function ln(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let d=-1;for(let u=0;u<a.length;u++){const f=a[u];"number"==typeof f?d=f:0===d||Ui(o,d,f,null,-1===d||2===d?a[++u]:null)}}return o}function Ui(o,a,d,u,f){let p=0,y=o.length;if(-1===a)y=-1;else for(;p<o.length;){const E=o[p++];if("number"==typeof E){if(E===a){y=-1;break}if(E>a){y=p-1;break}}}for(;p<o.length;){const E=o[p];if("number"==typeof E)break;if(E===d){if(null===u)return void(null!==f&&(o[p+1]=f));if(u===o[p+1])return void(o[p+2]=f)}p++,null!==u&&p++,null!==f&&p++}-1!==y&&(o.splice(y,0,a),p=y+1),o.splice(p++,0,d),null!==u&&o.splice(p++,0,u),null!==f&&o.splice(p++,0,f)}const ri="ng-template";function Fo(o,a,d){let u=0,f=!0;for(;u<o.length;){let p=o[u++];if("string"==typeof p&&f){const y=o[u++];if(d&&"class"===p&&-1!==Ve(y.toLowerCase(),a,0))return!0}else{if(1===p){for(;u<o.length&&"string"==typeof(p=o[u++]);)if(p.toLowerCase()===a)return!0;return!1}"number"==typeof p&&(f=!1)}}return!1}function Qa(o){return 4===o.type&&o.value!==ri}function Nl(o,a,d){return a===(4!==o.type||d?o.value:ri)}function Fh(o,a,d){let u=4;const f=o.attrs||[],p=function Mc(o){for(let a=0;a<o.length;a++)if(Ft(o[a]))return a;return o.length}(f);let y=!1;for(let E=0;E<a.length;E++){const I=a[E];if("number"!=typeof I){if(!y)if(4&u){if(u=2|1&u,""!==I&&!Nl(o,I,d)||""===I&&1===a.length){if(Ir(u))return!1;y=!0}}else{const S=8&u?I:a[++E];if(8&u&&null!==o.attrs){if(!Fo(o.attrs,S,d)){if(Ir(u))return!1;y=!0}continue}const z=Lo(8&u?"class":I,f,Qa(o),d);if(-1===z){if(Ir(u))return!1;y=!0;continue}if(""!==S){let Q;Q=z>p?"":f[z+1].toLowerCase();const ne=8&u?Q:null;if(ne&&-1!==Ve(ne,S,0)||2&u&&S!==Q){if(Ir(u))return!1;y=!0}}}}else{if(!y&&!Ir(u)&&!Ir(I))return!1;if(y&&Ir(I))continue;y=!1,u=I|1&u}}return Ir(u)||y}function Ir(o){return 0==(1&o)}function Lo(o,a,d,u){if(null===a)return-1;let f=0;if(u||!d){let p=!1;for(;f<a.length;){const y=a[f];if(y===o)return f;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=a[++f];for(;"string"==typeof E;)E=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=p?1:2}return-1}return function fi(o,a){let d=o.indexOf(4);if(d>-1)for(d++;d<o.length;){const u=o[d];if("number"==typeof u)return-1;if(u===a)return d;d++}return-1}(a,o)}function ua(o,a,d=!1){for(let u=0;u<a.length;u++)if(Fh(o,a[u],d))return!0;return!1}function M_(o,a){e:for(let d=0;d<a.length;d++){const u=a[d];if(o.length===u.length){for(let f=0;f<o.length;f++)if(o[f]!==u[f])continue e;return!0}}return!1}function hr(o,a){return o?":not("+a.trim()+")":a}function k_(o){let a=o[0],d=1,u=2,f="",p=!1;for(;d<o.length;){let y=o[d];if("string"==typeof y)if(2&u){const E=o[++d];f+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?f+="."+y:4&u&&(f+=" "+y);else""!==f&&!Ir(y)&&(a+=hr(p,f),f=""),u=y,p=p||!Ir(u);d++}return""!==f&&(a+=hr(p,f)),a}function ha(o){return we(()=>{const a=Oc(o),d={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Ke.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||wt.Emulated,styles:o.styles||_t,_:null,schemas:o.schemas||null,tView:null,id:""};Vl(d);const u=o.dependencies;return d.directiveDefs=Xa(u,!1),d.pipeDefs=Xa(u,!0),d.id=function Bh(o){let a=0;const d=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const f of d)a=Math.imul(31,a)+f.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(d),d})}function Wm(o){return qt(o)||Hi(o)}function Fl(o){return null!==o}function Ll(o){return we(()=>({type:o.type,bootstrap:o.bootstrap||_t,declarations:o.declarations||_t,imports:o.imports||_t,exports:o.exports||_t,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Bl(o,a){if(null==o)return yt;const d={};for(const u in o)if(o.hasOwnProperty(u)){let f=o[u],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),d[f]=u,a&&(a[f]=p)}return d}function Bo(o){return we(()=>{const a=Oc(o);return Vl(a),a})}function Zm(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function qt(o){return o[Pt]||null}function Hi(o){return o[Mn]||null}function Sn(o){return o[Gt]||null}function yo(o){const a=qt(o)||Hi(o)||Sn(o);return null!==a&&a.standalone}function Tr(o,a){const d=o[Vi]||null;if(!d&&!0===a)throw new Error(`Type ${oe(o)} does not have '\u0275mod' property.`);return d}function Oc(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||yt,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||_t,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bl(o.inputs,a),outputs:Bl(o.outputs)}}function Vl(o){o.features?.forEach(a=>a(o))}function Xa(o,a){if(!o)return null;const d=a?Sn:Wm;return()=>("function"==typeof o?o():o).map(u=>d(u)).filter(Fl)}const mi=0,at=1,Ht=2,Jn=3,Dr=4,Pc=5,Ji=6,bo=7,Rn=8,Ns=9,fa=10,At=11,Hl=12,Nc=13,Vo=14,qn=15,Fc=16,ma=17,er=18,Ja=19,Lc=20,tr=21,Sr=22,Bc=23,Fs=24,un=25,Js=1,pa=2,Xr=7,el=9,fr=11;function mr(o){return Array.isArray(o)&&"object"==typeof o[Js]}function pr(o){return Array.isArray(o)&&!0===o[Js]}function Xd(o){return 0!=(4&o.flags)}function Ls(o){return o.componentOffset>-1}function Uo(o){return 1==(1&o.flags)}function Bn(o){return!!o.template}function nl(o){return 0!=(512&o[Ht])}function Ho(o,a){return o.hasOwnProperty(Xi)?o[Xi]:null}let $l=Jt.WeakRef??class jl{constructor(a){this.ref=a}deref(){return this.ref}},Hc=0,ms=null,zc=!1;function oi(o){const a=ms;return ms=o,a}class Jr{constructor(){this.id=Hc++,this.ref=function Jm(o){return new $l(o)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[a,d]of this.producers){const u=d.producerNode.deref();if(void 0!==u&&d.atTrackingVersion===this.trackingVersion){if(u.producerPollStatus(d.seenValueVersion))return!0}else this.producers.delete(a),u?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const a=zc;zc=!0;try{for(const[d,u]of this.consumers){const f=u.consumerNode.deref();void 0!==f&&f.trackingVersion===u.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(d),f?.producers.delete(this.id))}}finally{zc=a}}producerAccessed(){if(zc)throw new Error("");if(null===ms)return;let a=ms.producers.get(this.id);void 0===a?(a={consumerNode:ms.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ms.trackingVersion},ms.producers.set(this.id,a),this.consumers.set(ms.id,a)):(a.seenValueVersion=this.valueVersion,a.atTrackingVersion=ms.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ms?.consumerAllowSignalWrites}producerPollStatus(a){return this.valueVersion!==a||(this.onProducerUpdateValueVersion(),this.valueVersion!==a)}}let Gh=null;function P_(o){const a=oi(null);try{return o()}finally{oi(a)}}const Gl=()=>{};class np extends Jr{constructor(a,d,u){super(),this.watch=a,this.schedule=d,this.dirty=!1,this.cleanupFn=Gl,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=u}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const a=oi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Gl,this.watch(this.registerOnCleanup)}finally{oi(a)}}cleanup(){this.cleanupFn()}}class ql{constructor(a,d,u){this.previousValue=a,this.currentValue=d,this.firstChange=u}isFirstChange(){return this.firstChange}}function Gc(){return il}function il(o){return o.type.prototype.ngOnChanges&&(o.setInput=uu),du}function du(){const o=hu(this),a=o?.current;if(a){const d=o.previous;if(d===yt)o.previous=a;else for(let u in a)d[u]=a[u];o.current=null,this.ngOnChanges(a)}}function uu(o,a,d,u){const f=this.declaredInputs[d],p=hu(o)||function Wh(o,a){return o[ip]=a}(o,{previous:yt,current:null}),y=p.current||(p.current={}),E=p.previous,I=E[f];y[f]=new ql(I&&I.currentValue,a,E===yt),o[u]=a}Gc.ngInherit=!0;const ip="__ngSimpleChanges__";function hu(o){return o[ip]||null}const Bs=function(o,a,d){},pu="svg";function On(o){for(;Array.isArray(o);)o=o[mi];return o}function rl(o,a){return On(a[o])}function gr(o,a){return On(a[o.index])}function Zh(o,a){return o.data[a]}function $o(o,a){return o[a]}function ps(o,a){const d=a[o];return mr(d)?d:d[mi]}function to(o,a){return null==a?null:o[a]}function Qh(o){o[ma]=0}function gu(o){1024&o[Ht]||(o[Ht]|=1024,ol(o,1))}function Wc(o){1024&o[Ht]&&(o[Ht]&=-1025,ol(o,-1))}function ol(o,a){let d=o[Jn];if(null===d)return;d[Pc]+=a;let u=d;for(d=d[Jn];null!==d&&(1===a&&1===u[Pc]||-1===a&&0===u[Pc]);)d[Pc]+=a,u=d,d=d[Jn]}const Rt={lFrame:wu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Wl(){return Rt.bindingsEnabled}function _s(){return null!==Rt.skipHydrationRootTNode}function ke(){return Rt.lFrame.lView}function an(){return Rt.lFrame.tView}function yu(o){return Rt.lFrame.contextLView=o,o[Rn]}function Kc(o){return Rt.lFrame.contextLView=null,o}function Oi(){let o=lp();for(;null!==o&&64===o.type;)o=o.parent;return o}function lp(){return Rt.lFrame.currentTNode}function Ar(o,a){const d=Rt.lFrame;d.currentTNode=o,d.isParent=a}function cp(){return Rt.lFrame.isParent}function ai(){Rt.lFrame.isParent=!1}function Wn(){return Rt.lFrame.bindingIndex++}function io(o){const a=Rt.lFrame,d=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,d}function Yl(o,a){const d=Rt.lFrame;d.bindingIndex=d.bindingRootIndex=o,nf(a)}function nf(o){Rt.lFrame.currentDirectiveIndex=o}function Kl(o){const a=Rt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function td(){return Rt.lFrame.currentQueryIndex}function Go(o){Rt.lFrame.currentQueryIndex=o}function qo(o){const a=o[at];return 2===a.type?a.declTNode:1===a.type?o[Ji]:null}function al(o,a,d){if(d&Je.SkipSelf){let f=a,p=o;for(;!(f=f.parent,null!==f||d&Je.Host||(f=qo(p),null===f||(p=p[Vo],10&f.type))););if(null===f)return!1;a=f,o=p}const u=Rt.lFrame=id();return u.currentTNode=a,u.lView=o,!0}function nd(o){const a=id(),d=o[at];Rt.lFrame=a,a.currentTNode=d.firstChild,a.lView=o,a.tView=d,a.contextLView=o,a.bindingIndex=d.bindingStartIndex,a.inI18n=!1}function id(){const o=Rt.lFrame,a=null===o?null:o.child;return null===a?wu(o):a}function wu(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function F_(){const o=Rt.lFrame;return Rt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const rf=F_;function sf(){const o=F_();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Ur(){return Rt.lFrame.selectedIndex}function Wo(o){Rt.lFrame.selectedIndex=o}function Un(){const o=Rt.lFrame;return Zh(o.tView,o.selectedIndex)}function xu(){Rt.lFrame.currentNamespace=pu}function ba(){!function Eu(){Rt.lFrame.currentNamespace=null}()}let Iu=!0;function Ql(){return Iu}function wa(o){Iu=o}function rd(o,a){for(let d=a.directiveStart,u=a.directiveEnd;d<u;d++){const p=o.data[d].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:R}=p;y&&(o.contentHooks??=[]).push(-d,y),E&&((o.contentHooks??=[]).push(d,E),(o.contentCheckHooks??=[]).push(d,E)),I&&(o.viewHooks??=[]).push(-d,I),S&&((o.viewHooks??=[]).push(d,S),(o.viewCheckHooks??=[]).push(d,S)),null!=R&&(o.destroyHooks??=[]).push(d,R)}}function Xl(o,a,d){pi(o,a,3,d)}function Tu(o,a,d,u){(3&o[Ht])===d&&pi(o,a,d,u)}function sd(o,a){let d=o[Ht];(3&d)===a&&(d&=8191,d+=1,o[Ht]=d)}function pi(o,a,d,u){const p=u??-1,y=a.length-1;let E=0;for(let I=void 0!==u?65535&o[ma]:0;I<y;I++)if("number"==typeof a[I+1]){if(E=a[I],null!=u&&E>=u)break}else a[I]<0&&(o[ma]+=65536),(E<p||-1==p)&&(Du(o,d,a,I),o[ma]=(4294901760&o[ma])+I+2),I++}function Mr(o,a){Bs(4,o,a);const d=oi(null);try{a.call(o)}finally{oi(d),Bs(5,o,a)}}function Du(o,a,d,u){const f=d[u]<0,p=d[u+1],E=o[f?-d[u]:d[u]];f?o[Ht]>>13<o[ma]>>16&&(3&o[Ht])===a&&(o[Ht]+=8192,Mr(E,p)):Mr(E,p)}const hn=-1;class ct{constructor(a,d,u){this.factory=a,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=u}}function ht(o){return o!==hn}function es(o){return 32767&o}function Ea(o,a){let d=function cf(o){return o>>16}(o),u=a;for(;d>0;)u=u[Vo],d--;return u}let ts=!0;function Ca(o){const a=ts;return ts=o,a}const Vs=255,wo=5;let V_=0;const ns={};function Zo(o,a){const d=df(o,a);if(-1!==d)return d;const u=a[at];u.firstCreatePass&&(o.injectorIndex=a.length,xo(u.data,o),xo(a,null),xo(u.blueprint,null));const f=is(o,a),p=o.injectorIndex;if(ht(f)){const y=es(f),E=Ea(f,a),I=E[at].data;for(let S=0;S<8;S++)a[p+S]=E[y+S]|I[y+S]}return a[p+8]=f,p}function xo(o,a){o.push(0,0,0,0,0,0,0,0,a)}function df(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function is(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let d=0,u=null,f=a;for(;null!==f;){if(u=Au(f),null===u)return hn;if(d++,f=f[Vo],-1!==u.injectorIndex)return u.injectorIndex|d<<16}return hn}function Eo(o,a,d){!function hp(o,a,d){let u;"string"==typeof d?u=d.charCodeAt(0)||0:d.hasOwnProperty(ve)&&(u=d[ve]),null==u&&(u=d[ve]=V_++);const f=u&Vs;a.data[o+(f>>wo)]|=1<<f}(o,a,d)}function cl(o,a,d){if(d&Je.Optional||void 0!==o)return o;qe()}function Yo(o,a,d,u){if(d&Je.Optional&&void 0===u&&(u=null),!(d&(Je.Self|Je.Host))){const f=o[Ns],p=nn(void 0);try{return f?f.get(a,u,d&Je.Optional):Ei(a,u,d&Je.Optional)}finally{nn(p)}}return cl(u,0,d)}function ys(o,a,d,u=Je.Default,f){if(null!==o){if(2048&a[Ht]&&!(u&Je.Self)){const y=function uf(o,a,d,u,f){let p=o,y=a;for(;null!==p&&null!==y&&2048&y[Ht]&&!(512&y[Ht]);){const E=Hr(p,y,d,u|Je.Self,ns);if(E!==ns)return E;let I=p.parent;if(!I){const S=y[Lc];if(S){const R=S.get(d,ns,u);if(R!==ns)return R}I=Au(y),y=y[Vo]}p=I}return f}(o,a,d,u,ns);if(y!==ns)return y}const p=Hr(o,a,d,u,ns);if(p!==ns)return p}return Yo(a,d,u,f)}function Hr(o,a,d,u,f){const p=function kt(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(ve)?o[ve]:void 0;return"number"==typeof a?a>=0?a&Vs:bn:a}(d);if("function"==typeof p){if(!al(a,o,u))return u&Je.Host?cl(f,0,u):Yo(a,d,u,f);try{const y=p(u);if(null!=y||u&Je.Optional)return y;qe()}finally{rf()}}else if("number"==typeof p){let y=null,E=df(o,a),I=hn,S=u&Je.Host?a[qn][Ji]:null;for((-1===E||u&Je.SkipSelf)&&(I=-1===E?is(o,a):a[E+8],I!==hn&&gi(u,!1)?(y=a[at],E=es(I),a=Ea(I,a)):E=-1);-1!==E;){const R=a[at];if(Zn(p,E,R.data)){const z=ji(E,a,d,y,u,S);if(z!==ns)return z}I=a[E+8],I!==hn&&gi(u,a[at].data[E+8]===S)&&Zn(p,E,a)?(y=R,E=es(I),a=Ea(I,a)):E=-1}}return f}function ji(o,a,d,u,f,p){const y=a[at],E=y.data[o+8],R=Ia(E,y,d,null==u?Ls(E)&&ts:u!=y&&0!=(3&E.type),f&Je.Host&&p===E);return null!==R?Ko(a,y,R,E):ns}function Ia(o,a,d,u,f){const p=o.providerIndexes,y=a.data,E=1048575&p,I=o.directiveStart,R=p>>20,Q=f?E+R:o.directiveEnd;for(let ne=u?E:E+R;ne<Q;ne++){const Te=y[ne];if(ne<I&&d===Te||ne>=I&&Te.type===d)return ne}if(f){const ne=y[I];if(ne&&Bn(ne)&&ne.type===d)return I}return null}function Ko(o,a,d,u){let f=o[d];const p=a.data;if(function _r(o){return o instanceof ct}(f)){const y=f;y.resolving&&function Ne(o,a){const d=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new re(-200,`Circular dependency in DI detected for ${o}${d}`)}(function ye(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():de(o)}(p[d]));const E=Ca(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?nn(y.injectImpl):null;al(o,u,Je.Default);try{f=o[d]=y.factory(void 0,p,o,u),a.firstCreatePass&&d>=u.directiveStart&&function lf(o,a,d){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:p}=a.type.prototype;if(u){const y=il(a);(d.preOrderHooks??=[]).push(o,y),(d.preOrderCheckHooks??=[]).push(o,y)}f&&(d.preOrderHooks??=[]).push(0-o,f),p&&((d.preOrderHooks??=[]).push(o,p),(d.preOrderCheckHooks??=[]).push(o,p))}(d,p[d],a)}finally{null!==I&&nn(I),Ca(E),y.resolving=!1,rf()}}return f}function Zn(o,a,d){return!!(d[a+(o>>wo)]&1<<o)}function gi(o,a){return!(o&Je.Self||o&Je.Host&&a)}class vr{constructor(a,d){this._tNode=a,this._lView=d}get(a,d,u){return ys(this._tNode,this._lView,a,W(u),d)}}function bn(){return new vr(Oi(),ke())}function Ti(o){return we(()=>{const a=o.prototype.constructor,d=a[Xi]||dl(a),u=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==u;){const p=f[Xi]||dl(f);if(p&&p!==d)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function dl(o){return Qe(o)?()=>{const a=dl(Oe(o));return a&&a()}:Ho(o)}function Au(o){const a=o[at],d=a.type;return 2===d?a.declTNode:1===d?o[Ji]:null}function ro(o){return function fp(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const d=o.attrs;if(d){const u=d.length;let f=0;for(;f<u;){const p=d[f];if(Ft(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<u&&"string"==typeof d[f];)f++;else{if(p===a)return d[f+1];f+=2}}}return null}(Oi(),o)}const Pn="__parameters__";function so(o,a,d){return we(()=>{const u=function bs(o){return function(...d){if(o){const u=o(...d);for(const f in u)this[f]=u[f]}}}(a);function f(...p){if(this instanceof f)return u.apply(this,p),this;const y=new f(...p);return E.annotation=y,E;function E(I,S,R){const z=I.hasOwnProperty(Pn)?I[Pn]:Object.defineProperty(I,Pn,{value:[]})[Pn];for(;z.length<=R;)z.push(null);return(z[R]=z[R]||[]).push(y),I}}return d&&(f.prototype=Object.create(d.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}function zs(o,a){o.forEach(d=>Array.isArray(d)?zs(d,a):a(d))}function Ru(o,a,d){a>=o.length?o.push(d):o.splice(a,0,d)}function Ou(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Sa(o,a){const d=[];for(let u=0;u<o;u++)d.push(a);return d}function T(o,a,d){let u=H(o,a);return u>=0?o[1|u]=d:(u=~u,function tc(o,a,d,u){let f=o.length;if(f==a)o.push(d,u);else if(1===f)o.push(u,o[0]),o[0]=d;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=d,o[a+1]=u}}(o,u,a,d)),u}function A(o,a){const d=H(o,a);if(d>=0)return o[1|d]}function H(o,a){return function J(o,a,d){let u=0,f=o.length>>d;for(;f!==u;){const p=u+(f-u>>1),y=o[p<<d];if(a===y)return p<<d;y>a?f=p:u=p+1}return~(f<<d)}(o,a,1)}const Io=F(so("Optional"),8),Rr=F(so("SkipSelf"),4);function G_(o){return 128==(128&o.flags)}var gl=(()=>((gl=gl||{})[gl.Important=1]="Important",gl[gl.DashCase=2]="DashCase",gl))();const yM=/^>|^->|<!--|-->|--!>|<!-$/g,bM=/(<|>)/,wM="\u200b$1\u200b";const n0=new Map;let jC=0;const W_="__ngContext__";function os(o,a){mr(a)?(o[W_]=a[Ja],function xM(o){n0.set(o[Ja],o)}(a)):o[W_]=a}let l0;function _f(o,a){return l0(o,a)}function wp(o){const a=o[Jn];return pr(a)?a[Jn]:a}function ZC(o){return c0(o[Hl])}function K_(o){return c0(o[Dr])}function c0(o){for(;null!==o&&!pr(o);)o=o[Dr];return o}function Uu(o,a,d,u,f){if(null!=u){let p,y=!1;pr(u)?p=u:mr(u)&&(y=!0,u=u[mi]);const E=On(u);0===o&&null!==d?null==f?h0(a,d,E):Hu(a,d,E,f||null,!0):1===o&&null!==d?Hu(a,d,E,f||null,!0):2===o?function tv(o,a,d){const u=rc(o,a);u&&function DM(o,a,d,u){o.removeChild(a,d,u)}(o,u,a,d)}(a,E,y):3===o&&a.destroyNode(E),null!=p&&function AM(o,a,d,u,f){const p=d[Xr];p!==On(d)&&Uu(a,o,u,p,f);for(let E=fr;E<d.length;E++){const I=d[E];yf(I[at],I,o,a,u,p)}}(a,o,p,d,f)}}function Q_(o,a){return o.createComment(function zC(o){return o.replace(yM,a=>a.replace(bM,wM))}(a))}function X_(o,a,d){return o.createElement(a,d)}function YC(o,a){const d=o[el],u=d.indexOf(a);Wc(a),d.splice(u,1)}function u0(o,a){if(o.length<=fr)return;const d=fr+a,u=o[d];if(u){const f=u[Fc];null!==f&&f!==o&&YC(f,u),a>0&&(o[d-1][Dr]=u[Dr]);const p=Ou(o,fr+a);!function IF(o,a){yf(o,a,a[At],2,null,null),a[mi]=null,a[Ji]=null}(u[at],u);const y=p[er];null!==y&&y.detachView(p[at]),u[Jn]=null,u[Dr]=null,u[Ht]&=-129}return u}function J_(o,a){if(!(256&a[Ht])){const d=a[At];a[Bc]?.destroy(),a[Fs]?.destroy(),d.destroyNode&&yf(o,a,d,3,null,null),function SF(o){let a=o[Hl];if(!a)return Do(o[at],o);for(;a;){let d=null;if(mr(a))d=a[Hl];else{const u=a[fr];u&&(d=u)}if(!d){for(;a&&!a[Dr]&&a!==o;)mr(a)&&Do(a[at],a),a=a[Jn];null===a&&(a=o),mr(a)&&Do(a[at],a),d=a&&a[Dr]}a=d}}(a)}}function Do(o,a){if(!(256&a[Ht])){a[Ht]&=-129,a[Ht]|=256,function Cp(o,a){let d;if(null!=o&&null!=(d=o.destroyHooks))for(let u=0;u<d.length;u+=2){const f=a[d[u]];if(!(f instanceof ct)){const p=d[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=f[p[y]],I=p[y+1];Bs(4,E,I);try{I.call(E)}finally{Bs(5,E,I)}}else{Bs(4,f,p);try{p.call(f)}finally{Bs(5,f,p)}}}}}(o,a),function TM(o,a){const d=o.cleanup,u=a[bo];if(null!==d)for(let p=0;p<d.length-1;p+=2)if("string"==typeof d[p]){const y=d[p+3];y>=0?u[y]():u[-y].unsubscribe(),p+=2}else d[p].call(u[d[p+1]]);null!==u&&(a[bo]=null);const f=a[tr];if(null!==f){a[tr]=null;for(let p=0;p<f.length;p++)(0,f[p])()}}(o,a),1===a[at].type&&a[At].destroy();const d=a[Fc];if(null!==d&&pr(a[Jn])){d!==a[Jn]&&YC(d,a);const u=a[er];null!==u&&u.detachView(o)}!function $C(o){n0.delete(o[Ja])}(a)}}function KC(o,a,d){return function QC(o,a,d){let u=a;for(;null!==u&&40&u.type;)u=(a=u).parent;if(null===u)return d[mi];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:p}=o.data[u.directiveStart+f];if(p===wt.None||p===wt.Emulated)return null}return gr(u,d)}}(o,a.parent,d)}function Hu(o,a,d,u,f){o.insertBefore(a,d,u,f)}function h0(o,a,d){o.appendChild(a,d)}function Ip(o,a,d,u,f){null!==u?Hu(o,a,d,u,f):h0(o,a,d)}function rc(o,a){return o.parentNode(a)}function XC(o,a,d){return vf(o,a,d)}let zu,iv,sv,ov,vf=function JC(o,a,d){return 40&o.type?gr(o,d):null};function ev(o,a,d,u){const f=KC(o,u,a),p=a[At],E=XC(u.parent||a[Ji],u,a);if(null!=f)if(Array.isArray(d))for(let I=0;I<d.length;I++)Ip(p,f,d[I],E,!1);else Ip(p,f,d,E,!1);void 0!==zu&&zu(p,u,a,d,f)}function Dp(o,a){if(null!==a){const d=a.type;if(3&d)return gr(a,o);if(4&d)return f0(-1,o[a.index]);if(8&d){const u=a.child;if(null!==u)return Dp(o,u);{const f=o[a.index];return pr(f)?f0(-1,f):On(f)}}if(32&d)return _f(a,o)()||On(o[a.index]);{const u=tI(o,a);return null!==u?Array.isArray(u)?u[0]:Dp(wp(o[qn]),u):Dp(o,a.next)}}return null}function tI(o,a){return null!==a?o[qn][Ji].projection[a.projection]:null}function f0(o,a){const d=fr+o+1;if(d<a.length){const u=a[d],f=u[at].firstChild;if(null!==f)return Dp(u,f)}return a[Xr]}function m0(o,a,d,u,f,p,y){for(;null!=d;){const E=u[d.index],I=d.type;if(y&&0===a&&(E&&os(On(E),u),d.flags|=2),32!=(32&d.flags))if(8&I)m0(o,a,d.child,u,f,p,!1),Uu(a,o,f,E,p);else if(32&I){const S=_f(d,u);let R;for(;R=S();)Uu(a,o,f,R,p);Uu(a,o,f,E,p)}else 16&I?ju(o,a,u,d,f,p):Uu(a,o,f,E,p);d=y?d.projectionNext:d.next}}function yf(o,a,d,u,f,p){m0(d,u,o.firstChild,a,f,p,!1)}function ju(o,a,d,u,f,p){const y=d[qn],I=y[Ji].projection[u.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)Uu(a,o,f,I[S],p);else{let S=I;const R=y[Jn];G_(u)&&(S.flags|=128),m0(o,a,S,R,f,p,!0)}}function nI(o,a,d){""===d?o.removeAttribute(a,"class"):o.setAttribute(a,"class",d)}function iI(o,a,d){const{mergedAttrs:u,classes:f,styles:p}=d;null!==u&&vt(o,a,u),null!==f&&nI(o,a,f),null!==p&&function kM(o,a,d){o.setAttribute(a,"style",d)}(o,a,p)}function bf(o){return function p0(){if(void 0===iv&&(iv=null,Jt.trustedTypes))try{iv=Jt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return iv}()?.createHTML(o)||o}function wf(o){sv=o}function xf(){if(void 0!==sv)return sv;if(typeof document<"u")return document;throw new re(210,!1)}function g0(){if(void 0===ov&&(ov=null,Jt.trustedTypes))try{ov=Jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return ov}function sI(o){return g0()?.createHTML(o)||o}function oI(o){return g0()?.createScriptURL(o)||o}class sc{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mt})`}}class aI extends sc{getTypeName(){return"HTML"}}class OM extends sc{getTypeName(){return"Style"}}class PM extends sc{getTypeName(){return"Script"}}class NM extends sc{getTypeName(){return"URL"}}class FM extends sc{getTypeName(){return"ResourceURL"}}function Jo(o){return o instanceof sc?o.changingThisBreaksApplicationSecurity:o}function Ef(o,a){const d=function LM(o){return o instanceof sc&&o.getTypeName()||null}(o);if(null!=d&&d!==a){if("ResourceURL"===d&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${d} (see ${mt})`)}return d===a}function BM(o){return new aI(o)}function VM(o){return new OM(o)}function UM(o){return new PM(o)}function HM(o){return new NM(o)}function lI(o){return new FM(o)}class cI{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const d=(new window.DOMParser).parseFromString(bf(a),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(a):(d.removeChild(d.firstChild),d)}catch{return null}}}class dI{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const d=this.inertDocument.createElement("template");return d.innerHTML=bf(a),d}}const $M=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function lv(o){return(o=String(o)).match($M)?o:"unsafe:"+o}function oc(o){const a={};for(const d of o.split(","))a[d]=!0;return a}function Sp(...o){const a={};for(const d of o)for(const u in d)d.hasOwnProperty(u)&&(a[u]=!0);return a}const uI=oc("area,br,col,hr,img,wbr"),_0=oc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cv=oc("rp,rt"),dv=Sp(uI,Sp(_0,oc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sp(cv,oc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sp(cv,_0)),Cf=oc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fI=Sp(Cf,oc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),WM=oc("script,style,template");class ZM{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let d=a.firstChild,u=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?u=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,u&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let f=this.checkClobberedElement(d,d.nextSibling);if(f){d=f;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(a){const d=a.nodeName.toLowerCase();if(!dv.hasOwnProperty(d))return this.sanitizedSomething=!0,!WM.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const u=a.attributes;for(let f=0;f<u.length;f++){const p=u.item(f),y=p.name,E=y.toLowerCase();if(!fI.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=p.value;Cf[E]&&(I=lv(I)),this.buf.push(" ",y,'="',mI(I),'"')}return this.buf.push(">"),!0}endElement(a){const d=a.nodeName.toLowerCase();dv.hasOwnProperty(d)&&!uI.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(a){this.buf.push(mI(a))}checkClobberedElement(a,d){if(d&&(a.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return d}}const YM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,uv=/([^\#-~ |!])/g;function mI(o){return o.replace(/&/g,"&amp;").replace(YM,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(uv,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hv;function oo(o,a){let d=null;try{hv=hv||function zM(o){const a=new dI(o);return function jM(){try{return!!(new window.DOMParser).parseFromString(bf(""),"text/html")}catch{return!1}}()?new cI(a):a}(o);let u=a?String(a):"";d=hv.getInertBodyElement(u);let f=5,p=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=p,p=d.innerHTML,d=hv.getInertBodyElement(u)}while(u!==p);return bf((new ZM).sanitizeChildren(fv(d)||d))}finally{if(d){const u=fv(d)||d;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function fv(o){return"content"in o&&function KM(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var ir=(()=>((ir=ir||{})[ir.NONE=0]="NONE",ir[ir.HTML=1]="HTML",ir[ir.STYLE=2]="STYLE",ir[ir.SCRIPT=3]="SCRIPT",ir[ir.URL=4]="URL",ir[ir.RESOURCE_URL=5]="RESOURCE_URL",ir))();function pI(o){const a=Gu();return a?sI(a.sanitize(ir.HTML,o)||""):Ef(o,"HTML")?sI(Jo(o)):oo(xf(),de(o))}function xs(o){const a=Gu();return a?a.sanitize(ir.URL,o)||"":Ef(o,"URL")?Jo(o):lv(de(o))}function gI(o){const a=Gu();if(a)return oI(a.sanitize(ir.RESOURCE_URL,o)||"");if(Ef(o,"ResourceURL"))return oI(Jo(o));throw new re(904,!1)}function ek(o,a,d){return function _I(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?gI:xs}(a,d)(o)}function Gu(){const o=ke();return o&&o[fa].sanitizer}class kn{constructor(a,d){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=$t({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const mv=new kn("ENVIRONMENT_INITIALIZER"),v0=new kn("INJECTOR",-1),_l=new kn("INJECTOR_DEF_TYPES");class vI{get(a,d=ur){if(d===ur){const u=new Error(`NullInjectorError: No provider for ${oe(a)}!`);throw u.name="NullInjectorError",u}return d}}function yI(o){return{\u0275providers:o}}function PF(...o){return{\u0275providers:tk(0,o),\u0275fromNgModule:!0}}function tk(o,...a){const d=[],u=new Set;let f;return zs(a,p=>{const y=p;pv(y,d,[],u)&&(f||=[],f.push(y))}),void 0!==f&&y0(f,d),d}function y0(o,a){for(let d=0;d<o.length;d++){const{providers:f}=o[d];b0(f,p=>{a.push(p)})}}function pv(o,a,d,u){if(!(o=Oe(o)))return!1;let f=null,p=hs(o);const y=!p&&qt(o);if(p||y){if(y&&!y.standalone)return!1;f=o}else{const I=o.ngModule;if(p=hs(I),!p)return!1;f=I}const E=u.has(f);if(y){if(E)return!1;if(u.add(f),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of I)pv(S,a,d,u)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let S;u.add(f);try{zs(p.imports,R=>{pv(R,a,d,u)&&(S||=[],S.push(R))})}finally{}void 0!==S&&y0(S,a)}if(!E){const S=Ho(f)||(()=>new f);a.push({provide:f,useFactory:S,deps:_t},{provide:_l,useValue:f,multi:!0},{provide:mv,useValue:()=>Gn(f),multi:!0})}const I=p.providers;null==I||E||b0(I,R=>{a.push(R)})}}return f!==o&&void 0!==o.providers}function b0(o,a){for(let d of o)Fe(d)&&(d=d.\u0275providers),Array.isArray(d)?b0(d,a):a(d)}const nk=q({provide:String,useValue:q});function wI(o){return null!==o&&"object"==typeof o&&nk in o}function If(o){return"function"==typeof o}const EI=new kn("Set Injector scope."),gv={},FF={};let _v;function vv(){return void 0===_v&&(_v=new vI),_v}class qu{}class yv extends qu{get destroyed(){return this._destroyed}constructor(a,d,u,f){super(),this.parent=d,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,TI(a,y=>this.processProvider(y)),this.records.set(v0,Tf(void 0,this)),f.has("environment")&&this.records.set(qu,Tf(void 0,this));const p=this.records.get(EI);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(_l.multi,_t,Je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of a)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const d=$n(this),u=nn(void 0);try{return a()}finally{$n(d),nn(u)}}get(a,d=ur,u=Je.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(le))return a[le](this);u=W(u);const f=$n(this),p=nn(void 0);try{if(!(u&Je.SkipSelf)){let E=this.records.get(a);if(void 0===E){const I=function LF(o){return"function"==typeof o||"object"==typeof o&&o instanceof kn}(a)&&zn(a);E=I&&this.injectableDefInScope(I)?Tf(x0(a),gv):null,this.records.set(a,E)}if(null!=E)return this.hydrate(a,E)}return(u&Je.Self?vv():this.parent).get(a,d=u&Je.Optional&&d===ur?null:d)}catch(y){if("NullInjectorError"===y.name){if((y[jn]=y[jn]||[]).unshift(oe(a)),f)throw y;return function O(o,a,d,u){const f=o[jn];throw a[ii]&&f.unshift(a[ii]),o.message=function te(o,a,d,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=oe(a);if(Array.isArray(a))f=a.map(oe).join(" -> ");else if("object"==typeof a){let p=[];for(let y in a)if(a.hasOwnProperty(y)){let E=a[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):oe(E)))}f=`{${p.join(", ")}}`}return`${d}${u?"("+u+")":""}[${f}]: ${o.replace(Xs,"\n  ")}`}("\n"+o.message,f,d,u),o.ngTokenPath=f,o[jn]=null,o}(y,a,"R3InjectorError",this.source)}throw y}finally{nn(p),$n(f)}}resolveInjectorInitializers(){const a=$n(this),d=nn(void 0);try{const u=this.get(mv.multi,_t,Je.Self);for(const f of u)f()}finally{$n(a),nn(d)}}toString(){const a=[],d=this.records;for(const u of d.keys())a.push(oe(u));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(a){let d=If(a=Oe(a))?a:Oe(a&&a.provide);const u=function rk(o){return wI(o)?Tf(void 0,o.useValue):Tf(CI(o),gv)}(a);if(If(a)||!0!==a.multi)this.records.get(d);else{let f=this.records.get(d);f||(f=Tf(void 0,gv,!0),f.factory=()=>G(f.multi),this.records.set(d,f)),d=a,f.multi.push(a)}this.records.set(d,u)}hydrate(a,d){return d.value===gv&&(d.value=FF,d.value=d.factory()),"object"==typeof d.value&&d.value&&function sk(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(a){if(!a.providedIn)return!1;const d=Oe(a.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}removeOnDestroy(a){const d=this._onDestroyHooks.indexOf(a);-1!==d&&this._onDestroyHooks.splice(d,1)}}function x0(o){const a=zn(o),d=null!==a?a.factory:Ho(o);if(null!==d)return d;if(o instanceof kn)throw new re(204,!1);if(o instanceof Function)return function ik(o){const a=o.length;if(a>0)throw Sa(a,"?"),new re(204,!1);const d=function Qr(o){return o&&(o[Ki]||o[Er])||null}(o);return null!==d?()=>d.factory(o):()=>new o}(o);throw new re(204,!1)}function CI(o,a,d){let u;if(If(o)){const f=Oe(o);return Ho(f)||x0(f)}if(wI(o))u=()=>Oe(o.useValue);else if(function xI(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...G(o.deps||[]));else if(function w0(o){return!(!o||!o.useExisting)}(o))u=()=>Gn(Oe(o.useExisting));else{const f=Oe(o&&(o.useClass||o.provide));if(!function II(o){return!!o.deps}(o))return Ho(f)||x0(f);u=()=>new f(...G(o.deps))}return u}function Tf(o,a,d=!1){return{factory:o,value:a,multi:d?[]:void 0}}function TI(o,a){for(const d of o)Array.isArray(d)?TI(d,a):d&&Fe(d)?TI(d.\u0275providers,a):a(d)}const ok=new kn("AppId",{providedIn:"root",factory:()=>BF}),BF="ng",ak=new kn("Platform Initializer"),DI=new kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ra=new kn("AnimationModuleType"),lk=new kn("CSP nonce",{providedIn:"root",factory:()=>xf().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let gd=(o,a)=>null;function xv(o,a){return gd(o,a)}class S0{}class A0{}class js{resolveComponentFactory(a){throw function OI(o){const a=Error(`No component factory found for ${oe(o)}.`);return a.ngComponent=o,a}(a)}}let $s=(()=>{class o{}return o.NULL=new js,o})();function Oa(){return Es(Oi(),ke())}function Es(o,a){return new _d(gr(o,a))}let _d=(()=>{class o{constructor(d){this.nativeElement=d}}return o.__NG_ELEMENT_ID__=Oa,o})();function uk(o){return o instanceof _d?o.nativeElement:o}class NI{}let M0=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function Iv(){const o=ke(),d=ps(Oi().index,o);return(mr(d)?d:o)[At]}(),o})(),FI=(()=>{class o{}return o.\u0275prov=$t({token:o,providedIn:"root",factory:()=>null}),o})();class Tv{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const An=new Tv("16.1.4"),rr={};function Sf(o){for(;o;){o[Ht]|=64;const a=wp(o);if(nl(o)&&!a)return o;o=a}return null}function LI(o){return o.ngOriginalError}class Af{constructor(){this._console=console}handleError(a){const d=this._findOriginalError(a);this._console.error("ERROR",a),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(a){let d=a&&LI(a);for(;d&&LI(d);)d=LI(d);return d||null}}const fk=new kn("",{providedIn:"root",factory:()=>!1});function vd(o){return o instanceof Function?o():o}class Dv extends Jr{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(a){this._lView=a}onConsumerDependencyMayHaveChanged(){Sf(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(a,d,u){const f=oi(this);this.trackingVersion++;try{a(d,u)}finally{oi(f)}}destroy(){this.trackingVersion++}}let Sv=null;function VI(){return Sv??=new Dv,Sv}function UI(o,a){return o[a]??VI()}function O0(o,a){const d=VI();d.hasReadASignal&&(o[a]=Sv,d.lView=o,Sv=new Dv)}const en={};function HI(o){zI(an(),ke(),Ur()+o,!1)}function zI(o,a,d,u){if(!u)if(3==(3&a[Ht])){const p=o.preOrderCheckHooks;null!==p&&Xl(a,p,d)}else{const p=o.preOrderHooks;null!==p&&Tu(a,p,0,d)}Wo(d)}function jI(o,a=null,d=null,u){const f=$I(o,a,d,u);return f.resolveInjectorInitializers(),f}function $I(o,a=null,d=null,u,f=new Set){const p=[d||_t,PF(o)];return u=u||("object"==typeof o?void 0:oe(o)),new yv(p,a||vv(),u||null,f)}let ea=(()=>{class o{static create(d,u){if(Array.isArray(d))return jI({name:""},u,d,"");{const f=d.name??"";return jI({name:f},d.parent,d.providers,f)}}}return o.THROW_IF_NOT_FOUND=ur,o.NULL=new vI,o.\u0275prov=$t({token:o,providedIn:"any",factory:()=>Gn(v0)}),o.__NG_ELEMENT_ID__=-1,o})();function Qu(o,a=Je.Default){const d=ke();return null===d?Gn(o,a):ys(Oi(),d,Oe(o),a)}function Fp(){throw new Error("invalid")}function kv(o,a,d,u,f,p,y,E,I,S,R){const z=a.blueprint.slice();return z[mi]=f,z[Ht]=140|u,(null!==S||o&&2048&o[Ht])&&(z[Ht]|=2048),Qh(z),z[Jn]=z[Vo]=o,z[Rn]=d,z[fa]=y||o&&o[fa],z[At]=E||o&&o[At],z[Ns]=I||o&&o[Ns]||null,z[Ji]=p,z[Ja]=function CF(){return jC++}(),z[Sr]=R,z[Lc]=S,z[qn]=2==a.type?o[qn]:z,z}function kf(o,a,d,u,f){let p=o.data[a];if(null===p)p=function F0(o,a,d,u,f){const p=lp(),y=cp(),I=o.data[a]=function $0(o,a,d,u,f,p){let y=a?a.injectorIndex:-1,E=0;return _s()&&(E|=128),{type:d,index:u,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,d,a,u,f);return null===o.firstChild&&(o.firstChild=I),null!==p&&(y?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I,I.prev=p)),I}(o,a,d,u,f),function Pi(){return Rt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=d,p.value=u,p.attrs=f;const y=function Qc(){const o=Rt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Ar(p,!0),p}function Lp(o,a,d,u){if(0===d)return-1;const f=a.length;for(let p=0;p<d;p++)a.push(u),o.blueprint.push(u),o.data.push(null);return f}function L0(o,a,d,u,f){const p=UI(a,Bc),y=Ur(),E=2&u;try{if(Wo(-1),E&&a.length>un&&zI(o,a,un,!1),Bs(E?2:0,f),E)p.runInContext(d,u,f);else{const S=oi(null);try{d(u,f)}finally{oi(S)}}}finally{E&&null===a[Bc]&&O0(a,Bc),Wo(y),Bs(E?3:1,f)}}function Bp(o,a,d){if(Xd(a)){const u=oi(null);try{const p=a.directiveEnd;for(let y=a.directiveStart;y<p;y++){const E=o.data[y];E.contentQueries&&E.contentQueries(1,d[y],y)}}finally{oi(u)}}}function Rv(o,a,d){Wl()&&(function Rf(o,a,d,u){const f=d.directiveStart,p=d.directiveEnd;Ls(d)&&function kk(o,a,d){const u=gr(a,o),f=B0(d);let y=16;d.signals?y=4096:d.onPush&&(y=64);const E=Pv(o,kv(o,f,null,y,u,a,null,o[fa].rendererFactory.createRenderer(u,d),null,null,null));o[a.index]=E}(a,d,o.data[f+d.componentOffset]),o.firstCreatePass||Zo(d,a),os(u,a);const y=d.initialInputs;for(let E=f;E<p;E++){const I=o.data[E],S=Ko(a,o,E,d);os(S,a),null!==y&&XI(0,E-f,S,I,0,y),Bn(I)&&(ps(d.index,a)[Rn]=Ko(a,o,E,d))}}(o,a,d,gr(d,a)),64==(64&d.flags)&&W0(o,a,d))}function Vp(o,a,d=gr){const u=a.localNames;if(null!==u){let f=a.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],E=-1===y?d(a,o):o[y];o[f++]=E}}}function B0(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Xu(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function Xu(o,a,d,u,f,p,y,E,I,S,R){const z=un+u,Q=z+f,ne=function xk(o,a){const d=[];for(let u=0;u<a;u++)d.push(u<o?null:en);return d}(z,Q),Te="function"==typeof S?S():S;return ne[at]={type:o,blueprint:ne,template:d,queries:null,viewQuery:E,declTNode:a,data:ne.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:Te,incompleteFirstPass:!1,ssrId:R}}let qI=o=>null;function WI(o,a,d,u){for(let f in o)if(o.hasOwnProperty(f)){d=null===d?{}:d;const p=o[f];null===u?ZI(d,a,f,p):u.hasOwnProperty(f)&&ZI(d,a,u[f],p)}return d}function ZI(o,a,d,u){o.hasOwnProperty(d)?o[d].push(a,u):o[d]=[a,u]}function Gs(o,a,d,u,f,p,y,E){const I=gr(a,d);let R,S=a.inputs;!E&&null!=S&&(R=S[u])?(ew(o,d,R,u,f),Ls(a)&&function YI(o,a){const d=ps(a,o);16&d[Ht]||(d[Ht]|=64)}(d,a.index)):3&a.type&&(u=function Ov(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),f=null!=y?y(f,a.value||"",u):f,p.setProperty(I,u,f))}function Up(o,a,d,u){if(Wl()){const f=null===u?null:{"":-1},p=function Tk(o,a){const d=o.directiveRegistry;let u=null,f=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];if(ua(a,y.selectors,!1))if(u||(u=[]),Bn(y))if(null!==y.findHostDirectiveDefs){const E=[];f=f||new Map,y.findHostDirectiveDefs(y,E,f),u.unshift(...E,y),Z0(o,a,E.length)}else u.unshift(y),Z0(o,a,0);else f=f||new Map,y.findHostDirectiveDefs?.(y,u,f),u.push(y)}return null===u?null:[u,f]}(o,d);let y,E;null===p?y=E=null:[y,E]=p,null!==y&&q0(o,a,d,y,f,E),f&&function Dk(o,a,d){if(a){const u=o.localNames=[];for(let f=0;f<a.length;f+=2){const p=d[a[f+1]];if(null==p)throw new re(-301,!1);u.push(a[f],p)}}}(d,u,f)}d.mergedAttrs=ln(d.mergedAttrs,d.attrs)}function q0(o,a,d,u,f,p){for(let S=0;S<u.length;S++)Eo(Zo(d,a),o,u[S].type);!function Ak(o,a,d){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+d,o.providerIndexes=a}(d,o.data.length,u.length);for(let S=0;S<u.length;S++){const R=u[S];R.providersResolver&&R.providersResolver(R)}let y=!1,E=!1,I=Lp(o,a,u.length,null);for(let S=0;S<u.length;S++){const R=u[S];d.mergedAttrs=ln(d.mergedAttrs,R.hostAttrs),Mk(o,d,a,I,R),Sk(I,R,f),null!==R.contentQueries&&(d.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(d.flags|=64);const z=R.type.prototype;!y&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((o.preOrderHooks??=[]).push(d.index),y=!0),!E&&(z.ngOnChanges||z.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(d.index),E=!0),I++}!function Ek(o,a,d){const f=a.directiveEnd,p=o.data,y=a.attrs,E=[];let I=null,S=null;for(let R=a.directiveStart;R<f;R++){const z=p[R],Q=d?d.get(z):null,Te=Q?Q.outputs:null;I=WI(z.inputs,R,I,Q?Q.inputs:null),S=WI(z.outputs,R,S,Te);const Ue=null===I||null===y||Qa(a)?null:K0(I,R,y);E.push(Ue)}null!==I&&(I.hasOwnProperty("class")&&(a.flags|=8),I.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=I,a.outputs=S}(o,d,p)}function W0(o,a,d){const u=d.directiveStart,f=d.directiveEnd,p=d.index,y=function ed(){return Rt.lFrame.currentDirectiveIndex}();try{Wo(p);for(let E=u;E<f;E++){const I=o.data[E],S=a[E];nf(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Ik(I,S)}}finally{Wo(-1),nf(y)}}function Ik(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Z0(o,a,d){a.componentOffset=d,(o.components??=[]).push(a.index)}function Sk(o,a,d){if(d){if(a.exportAs)for(let u=0;u<a.exportAs.length;u++)d[a.exportAs[u]]=o;Bn(a)&&(d[""]=o)}}function Mk(o,a,d,u,f){o.data[u]=f;const p=f.factory||(f.factory=Ho(f.type)),y=new ct(p,Bn(f),Qu);o.blueprint[u]=y,d[u]=y,function Ck(o,a,d,u,f){const p=f.hostBindings;if(p){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const E=~a.index;(function QI(o){let a=o.length;for(;a>0;){const d=o[--a];if("number"==typeof d&&d<0)return d}return 0})(y)!=E&&y.push(E),y.push(d,u,p)}}(o,a,u,Lp(o,d,f.hostVars,en),f)}function yl(o,a,d,u,f,p){const y=gr(o,a);!function Of(o,a,d,u,f,p,y){if(null==p)o.removeAttribute(a,f,d);else{const E=null==y?de(p):y(p,u||"",f);o.setAttribute(a,f,E,d)}}(a[At],y,p,o.value,d,u,f)}function XI(o,a,d,u,f,p){const y=p[a];if(null!==y)for(let E=0;E<y.length;)Y0(u,d,y[E++],y[E++],y[E++])}function Y0(o,a,d,u,f){const p=oi(null);try{const y=o.inputTransforms;null!==y&&y.hasOwnProperty(u)&&(f=y[u].call(a,f)),null!==o.setInput?o.setInput(a,f,d,u):a[u]=f}finally{oi(p)}}function K0(o,a,d){let u=null,f=0;for(;f<d.length;){const p=d[f];if(0!==p)if(5!==p){if("number"==typeof p)break;if(o.hasOwnProperty(p)){null===u&&(u=[]);const y=o[p];for(let E=0;E<y.length;E+=2)if(y[E]===a){u.push(p,y[E+1],d[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function JI(o,a,d,u){return[o,!0,!1,a,null,0,u,d,null,null,null]}function eT(o,a){const d=o.contentQueries;if(null!==d)for(let u=0;u<d.length;u+=2){const p=d[u+1];if(-1!==p){const y=o.data[p];Go(d[u]),y.contentQueries(2,a[p],p)}}}function Pv(o,a){return o[Hl]?o[Nc][Dr]=a:o[Hl]=a,o[Nc]=a,a}function Nv(o,a,d){Go(0);const u=oi(null);try{a(o,d)}finally{oi(u)}}function Q0(o){return o[bo]||(o[bo]=[])}function X0(o){return o.cleanup||(o.cleanup=[])}function J0(o,a,d){return(null===o||Bn(o))&&(d=function qc(o){for(;Array.isArray(o);){if("object"==typeof o[Js])return o;o=o[mi]}return null}(d[a.index])),d[At]}function Ok(o,a){const d=o[Ns],u=d?d.get(Af,null):null;u&&u.handleError(a)}function ew(o,a,d,u,f){for(let p=0;p<d.length;){const y=d[p++],E=d[p++];Y0(o.data[y],a[y],u,E,f)}}function WF(o,a){const d=ps(a,o),u=d[at];!function tw(o,a){for(let d=a.length;d<o.blueprint.length;d++)a.push(o.blueprint[d])}(u,d);const f=d[mi];null!==f&&null===d[Sr]&&(d[Sr]=xv(f,d[Ns])),tT(u,d,d[Rn])}function tT(o,a,d){nd(a);try{const u=o.viewQuery;null!==u&&Nv(1,u,d);const f=o.template;null!==f&&L0(o,a,f,1,d),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&eT(o,a),o.staticViewQueries&&Nv(2,o.viewQuery,d);const p=o.components;null!==p&&function ZF(o,a){for(let d=0;d<a.length;d++)WF(o,a[d])}(a,p)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{a[Ht]&=-5,sf()}}let nw=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(d,u,f){const p=typeof Zone>"u"?null:Zone.current,y=new np(d,S=>{this.all.has(S)&&this.queue.set(S,p)},f);let E;this.all.add(y),y.notify();const I=()=>{y.cleanup(),E?.(),this.all.delete(y),this.queue.delete(y)};return E=u?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[d,u]of this.queue)this.queue.delete(d),u?u.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}}return o.\u0275prov=$t({token:o,providedIn:"root",factory:()=>new o}),o})();function bd(o,a,d){let u=d?o.styles:null,f=d?o.classes:null,p=0;if(null!==a)for(let y=0;y<a.length;y++){const E=a[y];"number"==typeof E?p=E:1==p?f=Be(f,E):2==p&&(u=Be(u,E+": "+a[++y]+";"))}d?o.styles=u:o.stylesWithoutHost=u,d?o.classes=f:o.classesWithoutHost=f}function Fv(o,a,d,u,f=!1){for(;null!==d;){const p=a[d.index];if(null!==p&&u.push(On(p)),pr(p)){for(let E=fr;E<p.length;E++){const I=p[E],S=I[at].firstChild;null!==S&&Fv(I[at],I,S,u)}p[Xr]!==p[mi]&&u.push(p[Xr])}const y=d.type;if(8&y)Fv(o,a,d.child,u);else if(32&y){const E=_f(d,a);let I;for(;I=E();)u.push(I)}else if(16&y){const E=tI(a,d);if(Array.isArray(E))u.push(...E);else{const I=wp(a[qn]);Fv(I[at],I,E,u,!0)}}d=f?d.projectionNext:d.next}return u}function Pf(o,a,d,u=!0){const f=a[fa].rendererFactory;f.begin&&f.begin();try{Fk(o,a,o.template,d)}catch(y){throw u&&Ok(a,y),y}finally{f.end&&f.end(),a[fa].effectManager?.flush()}}function Fk(o,a,d,u){const f=a[Ht];if(256!=(256&f)){a[fa].effectManager?.flush(),nd(a);try{Qh(a),function Xc(o){return Rt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==d&&L0(o,a,d,2,u);const y=3==(3&f);if(y){const S=o.preOrderCheckHooks;null!==S&&Xl(a,S,null)}else{const S=o.preOrderHooks;null!==S&&Tu(a,S,0,null),sd(a,0)}if(function Lk(o){for(let a=ZC(o);null!==a;a=K_(a)){if(!a[pa])continue;const d=a[el];for(let u=0;u<d.length;u++){gu(d[u])}}}(a),iT(a,2),null!==o.contentQueries&&eT(o,a),y){const S=o.contentCheckHooks;null!==S&&Xl(a,S)}else{const S=o.contentHooks;null!==S&&Tu(a,S,1),sd(a,1)}!function GI(o,a){const d=o.hostBindingOpCodes;if(null===d)return;const u=UI(a,Fs);try{for(let f=0;f<d.length;f++){const p=d[f];if(p<0)Wo(~p);else{const y=p,E=d[++f],I=d[++f];Yl(E,y),u.runInContext(I,2,a[y])}}}finally{null===a[Fs]&&O0(a,Fs),Wo(-1)}}(o,a);const E=o.components;null!==E&&rT(a,E,0);const I=o.viewQuery;if(null!==I&&Nv(2,I,u),y){const S=o.viewCheckHooks;null!==S&&Xl(a,S)}else{const S=o.viewHooks;null!==S&&Tu(a,S,2),sd(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Ht]&=-73,Wc(a)}finally{sf()}}}function iT(o,a){for(let d=ZC(o);null!==d;d=K_(d))for(let u=fr;u<d.length;u++)Bk(d[u],a)}function KF(o,a,d){Bk(ps(a,o),d)}function Bk(o,a){if(!function Yh(o){return 128==(128&o[Ht])}(o))return;const d=o[at];if(80&o[Ht]&&0===a||1024&o[Ht]||2===a)Fk(d,o,d.template,o[Rn]);else if(o[Pc]>0){iT(o,1);const f=o[at].components;null!==f&&rT(o,f,1)}}function rT(o,a,d){for(let u=0;u<a.length;u++)KF(o,a[u],d)}class Lv{get rootNodes(){const a=this._lView,d=a[at];return Fv(d,a,d.firstChild,[])}constructor(a,d){this._lView=a,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rn]}set context(a){this._lView[Rn]=a}get destroyed(){return 256==(256&this._lView[Ht])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Jn];if(pr(a)){const d=a[8],u=d?d.indexOf(this):-1;u>-1&&(u0(a,u),Ou(d,u))}this._attachedToViewContainer=!1}J_(this._lView[at],this._lView)}onDestroy(a){!function gs(o,a){if(256==(256&o[Ht]))throw new re(911,!1);null===o[tr]&&(o[tr]=[]),o[tr].push(a)}(this._lView,a)}markForCheck(){Sf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ht]&=-129}reattach(){this._lView[Ht]|=128}detectChanges(){Pf(this._lView[at],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function DF(o,a){yf(o,a,a[At],2,null,null)}(this._lView[at],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=a}}class QF extends Lv{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Pf(a[at],a,a[Rn],!1)}checkNoChanges(){}get context(){return null}}class Vk extends $s{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const d=qt(a);return new Hp(d,this.ngModule)}}function Uk(o){const a=[];for(let d in o)o.hasOwnProperty(d)&&a.push({propName:o[d],templateName:d});return a}class Bv{constructor(a,d){this.injector=a,this.parentInjector=d}get(a,d,u){u=W(u);const f=this.injector.get(a,rr,u);return f!==rr||d===rr?f:this.parentInjector.get(a,d,u)}}class Hp extends A0{get inputs(){const a=this.componentDef,d=a.inputTransforms,u=Uk(a.inputs);if(null!==d)for(const f of u)d.hasOwnProperty(f.propName)&&(f.transform=d[f.propName]);return u}get outputs(){return Uk(this.componentDef.outputs)}constructor(a,d){super(),this.componentDef=a,this.ngModule=d,this.componentType=a.type,this.selector=function Lh(o){return o.map(k_).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!d}create(a,d,u,f){let p=(f=f||this.ngModule)instanceof qu?f:f?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new Bv(a,p):a,E=y.get(NI,null);if(null===E)throw new re(407,!1);const R={rendererFactory:E,sanitizer:y.get(FI,null),effectManager:y.get(nw,null)},z=E.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",ne=u?function V0(o,a,d,u){const p=u.get(fk,!1)||d===wt.ShadowDom,y=o.selectRootElement(a,p);return function U0(o){qI(o)}(y),y}(z,u,this.componentDef.encapsulation,y):X_(z,Q,function XF(o){const a=o.toLowerCase();return"svg"===a?pu:"math"===a?"math":null}(Q)),ot=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Et=Xu(0,null,null,1,0,null,null,null,null,null,null),Ae=kv(null,Et,null,ot,null,null,R,z,y,null,null);let Kt,cn;nd(Ae);try{const gn=this.componentDef;let us,wm=null;gn.findHostDirectiveDefs?(us=[],wm=new Map,gn.findHostDirectiveDefs(gn,us,wm),us.push(gn)):us=[gn];const pb=function sw(o,a){const d=o[at],u=un;return o[u]=a,kf(d,u,2,"#host",null)}(Ae,ne),Kg=function ow(o,a,d,u,f,p,y){const E=f[at];!function aw(o,a,d,u){for(const f of o)a.mergedAttrs=ln(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(bd(a,a.mergedAttrs,!0),null!==d&&iI(u,d,a))}(u,o,a,y);let I=null;null!==a&&(I=xv(a,f[Ns]));const S=p.rendererFactory.createRenderer(a,d);let R=16;d.signals?R=4096:d.onPush&&(R=64);const z=kv(f,B0(d),null,R,f[o.index],o,p,S,null,null,I);return E.firstCreatePass&&Z0(E,o,u.length-1),Pv(f,z),f[o.index]=z}(pb,ne,gn,us,Ae,R,z);cn=Zh(Et,un),ne&&function cw(o,a,d,u){if(u)vt(o,d,["ng-version",An.full]);else{const{attrs:f,classes:p}=function kc(o){const a=[],d=[];let u=1,f=2;for(;u<o.length;){let p=o[u];if("string"==typeof p)2===f?""!==p&&a.push(p,o[++u]):8===f&&d.push(p);else{if(!Ir(f))break;f=p}u++}return{attrs:a,classes:d}}(a.selectors[0]);f&&vt(o,d,f),p&&p.length>0&&nI(o,d,p.join(" "))}}(z,gn,ne,u),void 0!==d&&function zp(o,a,d){const u=o.projection=[];for(let f=0;f<a.length;f++){const p=d[f];u.push(null!=p?Array.from(p):null)}}(cn,this.ngContentSelectors,d),Kt=function lw(o,a,d,u,f,p){const y=Oi(),E=f[at],I=gr(y,f);q0(E,f,y,d,null,u);for(let R=0;R<d.length;R++)os(Ko(f,E,y.directiveStart+R,y),f);W0(E,f,y),I&&os(I,f);const S=Ko(f,E,y.directiveStart+y.componentOffset,y);if(o[Rn]=f[Rn]=S,null!==p)for(const R of p)R(S,a);return Bp(E,y,o),S}(Kg,gn,us,wm,Ae,[Hk]),tT(Et,Ae,null)}finally{sf()}return new rw(this.componentType,Kt,Es(cn,Ae),Ae,cn)}}class rw extends S0{constructor(a,d,u,f,p){super(),this.location=u,this._rootLView=f,this._tNode=p,this.previousInputValues=null,this.instance=d,this.hostView=this.changeDetectorRef=new QF(f),this.componentType=a}setInput(a,d){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),d))return;const p=this._rootLView;ew(p[at],p,f,a,d),this.previousInputValues.set(a,d),Sf(ps(this._tNode.index,p))}}get injector(){return new vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Hk(){const o=Oi();rd(ke()[at],o)}function Ju(o){let a=function Vv(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),d=!0;const u=[o];for(;a;){let f;if(Bn(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new re(903,!1);f=a.\u0275dir}if(f){if(d){u.push(f);const y=o;y.inputs=Nf(o.inputs),y.inputTransforms=Nf(o.inputTransforms),y.declaredInputs=Nf(o.declaredInputs),y.outputs=Nf(o.outputs);const E=f.hostBindings;E&&lt(o,E);const I=f.viewQuery,S=f.contentQueries;if(I&&zk(o,I),S&&Pa(o,S),Z(o.inputs,f.inputs),Z(o.declaredInputs,f.declaredInputs),Z(o.outputs,f.outputs),null!==f.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),Z(y.inputTransforms,f.inputTransforms)),Bn(f)&&f.data.animation){const R=o.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(o),E===Ju&&(d=!1)}}a=Object.getPrototypeOf(a)}!function JF(o){let a=0,d=null;for(let u=o.length-1;u>=0;u--){const f=o[u];f.hostVars=a+=f.hostVars,f.hostAttrs=ln(f.hostAttrs,d=ln(d,f.hostAttrs))}}(u)}function Nf(o){return o===yt?{}:o===_t?[]:o}function zk(o,a){const d=o.viewQuery;o.viewQuery=d?(u,f)=>{a(u,f),d(u,f)}:a}function Pa(o,a){const d=o.contentQueries;o.contentQueries=d?(u,f,p)=>{a(u,f,p),d(u,f,p)}:a}function lt(o,a){const d=o.hostBindings;o.hostBindings=d?(u,f)=>{a(u,f),d(u,f)}:a}function ls(o){const a=o.inputConfig,d={};for(const u in a)if(a.hasOwnProperty(u)){const f=a[u];Array.isArray(f)&&f[2]&&(d[u]=f[2])}o.inputTransforms=d}function sr(o){return!!zv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function zv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Cs(o,a,d){return!Object.is(o[a],d)&&(o[a]=d,!0)}function $p(o,a,d,u){const f=ke();return Cs(f,Wn(),a)&&(an(),yl(Un(),f,o,a,d,u)),$p}function Lf(o,a,d,u){return Cs(o,Wn(),d)?a+de(d)+u:en}function $f(o,a,d,u,f,p,y,E){const I=ke(),S=an(),R=o+un,z=S.firstCreatePass?function Wp(o,a,d,u,f,p,y,E,I){const S=a.consts,R=kf(a,o,4,y||null,to(S,E));Up(a,d,R,to(S,I)),rd(a,R);const z=R.tView=Xu(2,R,u,f,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S,null);return null!==a.queries&&(a.queries.template(a,R),z.queries=a.queries.embeddedTView(R)),R}(R,S,I,a,d,u,f,p,y):S.data[R];Ar(z,!1);const Q=Qv(S,I,z,o);Ql()&&ev(S,I,Q,z),os(Q,I),Pv(I,I[R]=JI(Q,I,Q,z)),Uo(z)&&Rv(S,I,z),null!=y&&Vp(I,z,E)}let Qv=function Cw(o,a,d,u){return wa(!0),a[At].createComment("")};function Jv(o){return $o(function bu(){return Rt.lFrame.contextLView}(),un+o)}function ey(o,a,d){const u=ke();return Cs(u,Wn(),a)&&Gs(an(),Un(),u,o,a,u[At],d,!1),ey}function Tw(o,a,d,u,f){const y=f?"class":"style";ew(o,d,a.inputs[y],y,u)}function Yp(o,a,d,u){const f=ke(),p=an(),y=un+o,E=f[At],I=p.firstCreatePass?function Zp(o,a,d,u,f,p){const y=a.consts,I=kf(a,o,2,u,to(y,f));return Up(a,d,I,to(y,p)),null!==I.attrs&&bd(I,I.attrs,!1),null!==I.mergedAttrs&&bd(I,I.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,I),I}(y,p,f,a,d,u):p.data[y],S=Qp(p,f,I,E,a,o);f[y]=S;const R=Uo(I);return Ar(I,!0),iI(E,S,I),32!=(32&I.flags)&&Ql()&&ev(p,f,S,I),0===function N_(){return Rt.lFrame.elementDepthCount}()&&os(S,f),function vu(){Rt.lFrame.elementDepthCount++}(),R&&(Rv(p,f,I),Bp(p,I,f)),null!==u&&Vp(f,I),Yp}function Kp(){let o=Oi();cp()?ai():(o=o.parent,Ar(o,!1));const a=o;(function Yc(o){return Rt.skipHydrationRootTNode===o})(a)&&function ap(){Rt.skipHydrationRootTNode=null}(),function sp(){Rt.lFrame.elementDepthCount--}();const d=an();return d.firstCreatePass&&(rd(d,o),Xd(o)&&d.queries.elementEnd(o)),null!=a.classesWithoutHost&&function up(o){return 0!=(8&o.flags)}(a)&&Tw(d,a,ke(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function ll(o){return 0!=(16&o.flags)}(a)&&Tw(d,a,ke(),a.stylesWithoutHost,!1),Kp}function ty(o,a,d,u){return Yp(o,a,d,u),Kp(),ty}let Qp=(o,a,d,u,f,p)=>(wa(!0),X_(u,f,function Cu(){return Rt.lFrame.currentNamespace}()));function ny(o,a,d){const u=ke(),f=an(),p=o+un,y=f.firstCreatePass?function Gf(o,a,d,u,f){const p=a.consts,y=to(p,u),E=kf(a,o,8,"ng-container",y);return null!==y&&bd(E,y,!0),Up(a,d,E,to(p,f)),null!==a.queries&&a.queries.elementStart(a,E),E}(p,f,u,a,d):f.data[p];Ar(y,!0);const E=Dw(f,u,y,o);return u[p]=E,Ql()&&ev(f,u,E,y),os(E,u),Uo(y)&&(Rv(f,u,y),Bp(f,y,u)),null!=d&&Vp(u,y),ny}function iy(){let o=Oi();const a=an();return cp()?ai():(o=o.parent,Ar(o,!1)),a.firstCreatePass&&(rd(a,o),Xd(o)&&a.queries.elementEnd(o)),iy}function ac(o,a,d){return ny(o,a,d),iy(),ac}let Dw=(o,a,d,u)=>(wa(!0),Q_(a[At],""));function qf(){return ke()}function sy(o){return!!o&&"function"==typeof o.then}function Is(o){return!!o&&"function"==typeof o.subscribe}function oy(o,a,d,u){const f=ke(),p=an(),y=Oi();return Sw(p,f,f[At],y,o,a,u),oy}function sh(o,a){const d=Oi(),u=ke(),f=an();return Sw(f,u,J0(Kl(f.data),d,u),d,o,a),sh}function Sw(o,a,d,u,f,p,y){const E=Uo(u),S=o.firstCreatePass&&X0(o),R=a[Rn],z=Q0(a);let Q=!0;if(3&u.type||y){const Ue=gr(u,a),ot=y?y(Ue):Ue,Et=z.length,Ae=y?cn=>y(On(cn[u.index])):u.index;let Kt=null;if(!y&&E&&(Kt=function ay(o,a,d,u){const f=o.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const y=f[p];if(y===d&&f[p+1]===u){const E=a[bo],I=f[p+2];return E.length>I?E[I]:null}"string"==typeof y&&(p+=2)}return null}(o,a,f,u.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=p,Kt.__ngLastListenerFn__=p,Q=!1;else{p=Aw(u,a,R,p,!1);const cn=d.listen(ot,f,p);z.push(p,cn),S&&S.push(f,Ae,Et,Et+1)}}else p=Aw(u,a,R,p,!1);const ne=u.outputs;let Te;if(Q&&null!==ne&&(Te=ne[f])){const Ue=Te.length;if(Ue)for(let ot=0;ot<Ue;ot+=2){const gn=a[Te[ot]][Te[ot+1]].subscribe(p),us=z.length;z.push(p,gn),S&&S.push(f,u.index,us,-(us+1))}}}function ly(o,a,d,u){try{return Bs(6,a,d),!1!==d(u)}catch(f){return Ok(o,f),!1}finally{Bs(7,a,d)}}function Aw(o,a,d,u,f){return function p(y){if(y===Function)return u;Sf(o.componentOffset>-1?ps(o.index,a):a);let I=ly(a,d,u,y),S=p.__ngNextListenerFn__;for(;S;)I=ly(a,d,S,y)&&I,S=S.__ngNextListenerFn__;return f&&!1===I&&y.preventDefault(),I}}function Mw(o=1){return function af(o){return(Rt.lFrame.contextLView=function L_(o,a){for(;o>0;)a=a[Vo],o--;return a}(o,Rt.lFrame.contextLView))[Rn]}(o)}function Xp(o,a){let d=null;const u=function qm(o){const a=o.attrs;if(null!=a){const d=a.indexOf(5);if(!(1&d))return a[d+1]}return null}(o);for(let f=0;f<a.length;f++){const p=a[f];if("*"!==p){if(null===u?ua(o,p,!0):M_(u,p))return f}else d=f}return d}function cy(o){const a=ke()[qn][Ji];if(!a.projection){const u=a.projection=Sa(o?o.length:1,null),f=u.slice();let p=a.child;for(;null!==p;){const y=o?Xp(p,o):0;null!==y&&(f[y]?f[y].projectionNext=p:u[y]=p,f[y]=p),p=p.next}}}function dy(o,a=0,d){const u=ke(),f=an(),p=kf(f,un+o,16,null,d||null);null===p.projection&&(p.projection=a),ai(),(!u[Sr]||_s())&&32!=(32&p.flags)&&function nv(o,a,d){ju(a[At],0,a,d,KC(o,d,a),XC(d.parent||a[Ji],d,a))}(f,u,p)}function Jp(o,a,d){return Wf(o,"",a,"",d),Jp}function Wf(o,a,d,u,f){const p=ke(),y=Lf(p,a,d,u);return y!==en&&Gs(an(),Un(),p,o,y,p[At],f,!1),Wf}function tg(o,a){return o<<17|a<<2}function Cd(o){return o>>17&32767}function Yf(o){return 2|o}function Ba(o){return(131068&o)>>2}function lc(o,a){return-131069&o|a<<2}function Nw(o){return 1|o}function Id(o,a,d,u,f){const p=o[d+1],y=null===a;let E=u?Cd(p):Ba(p),I=!1;for(;0!==E&&(!1===I||y);){const R=o[E+1];cc(o[E],a)&&(I=!0,o[E+1]=u?Nw(R):Yf(R)),E=u?Cd(R):Ba(R)}I&&(o[d+1]=u?Yf(p):Nw(p))}function cc(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&H(o,a)>=0}const $i={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ig(o){return o.substring($i.key,$i.keyEnd)}function rg(o,a){const d=$i.textEnd;return d===a?-1:(a=$i.keyEnd=function iR(o,a,d){for(;a<d&&o.charCodeAt(a)>32;)a++;return a}(o,$i.key=a,d),oh(o,a,d))}function oh(o,a,d){for(;a<d&&o.charCodeAt(a)<=32;)a++;return a}function fy(o,a,d){return ta(o,a,d,!1),fy}function my(o,a){return ta(o,a,null,!0),my}function xT(o){!function Ua(o,a,d,u){const f=an(),p=io(2);f.firstUpdatePass&&Lw(f,null,p,u);const y=ke();if(d!==en&&Cs(y,p,d)){const E=f.data[Ur()];if(Jf(E,u)&&!Fw(f,p)){let I=u?E.classesWithoutHost:E.stylesWithoutHost;null!==I&&(d=Be(I,d||"")),Tw(f,E,y,d,u)}else!function ag(o,a,d,u,f,p,y,E){f===en&&(f=_t);let I=0,S=0,R=0<f.length?f[0]:null,z=0<p.length?p[0]:null;for(;null!==R||null!==z;){const Q=I<f.length?f[I+1]:void 0,ne=S<p.length?p[S+1]:void 0;let Ue,Te=null;R===z?(I+=2,S+=2,Q!==ne&&(Te=z,Ue=ne)):null===z||null!==R&&R<z?(I+=2,Te=R):(S+=2,Te=z,Ue=ne),null!==Te&&lg(o,a,d,u,Te,Ue,y,E),R=I<f.length?f[I]:null,z=S<p.length?p[S]:null}}(f,E,y,y[At],y[p+1],y[p+1]=function oR(o,a,d){if(null==d||""===d)return _t;const u=[],f=Jo(d);if(Array.isArray(f))for(let p=0;p<f.length;p++)o(u,f[p],!0);else if("object"==typeof f)for(const p in f)f.hasOwnProperty(p)&&o(u,p,f[p]);else"string"==typeof f&&a(u,f);return u}(o,a,d),u,p)}}(py,bl,o,!0)}function bl(o,a){for(let d=function vi(o){return function bT(o){$i.key=0,$i.keyEnd=0,$i.value=0,$i.valueEnd=0,$i.textEnd=o.length}(o),rg(o,oh(o,0,$i.textEnd))}(a);d>=0;d=rg(a,d))T(o,ig(a),!0)}function ta(o,a,d,u){const f=ke(),p=an(),y=io(2);p.firstUpdatePass&&Lw(p,o,y,u),a!==en&&Cs(f,y,a)&&lg(p,p.data[Ur()],f,f[At],o,f[y+1]=function dg(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=oe(Jo(o)))),o}(a,d),u,y)}function Fw(o,a){return a>=o.expandoStartIndex}function Lw(o,a,d,u){const f=o.data;if(null===f[d+1]){const p=f[Ur()],y=Fw(o,d);Jf(p,u)&&null===a&&!y&&(a=!1),a=function Bw(o,a,d,u){const f=Kl(o);let p=u?a.residualClasses:a.residualStyles;if(null===f)0===(u?a.classBindings:a.styleBindings)&&(d=og(d=Uw(null,o,a,d,u),a.attrs,u),p=null);else{const y=a.directiveStylingLast;if(-1===y||o[y]!==f)if(d=Uw(f,o,a,d,u),null===p){let I=function Vw(o,a,d){const u=d?a.classBindings:a.styleBindings;if(0!==Ba(u))return o[Cd(u)]}(o,a,u);void 0!==I&&Array.isArray(I)&&(I=Uw(null,o,a,I[1],u),I=og(I,a.attrs,u),function ET(o,a,d,u){o[Cd(d?a.classBindings:a.styleBindings)]=u}(o,a,u,I))}else p=function CT(o,a,d){let u;const f=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<f;p++)u=og(u,o[p].hostAttrs,d);return og(u,a.attrs,d)}(o,a,u)}return void 0!==p&&(u?a.residualClasses=p:a.residualStyles=p),d}(f,p,a,u),function vT(o,a,d,u,f,p){let y=p?a.classBindings:a.styleBindings,E=Cd(y),I=Ba(y);o[u]=d;let R,S=!1;if(Array.isArray(d)?(R=d[1],(null===R||H(d,R)>0)&&(S=!0)):R=d,f)if(0!==I){const Q=Cd(o[E+1]);o[u+1]=tg(Q,E),0!==Q&&(o[Q+1]=lc(o[Q+1],u)),o[E+1]=function _T(o,a){return 131071&o|a<<17}(o[E+1],u)}else o[u+1]=tg(E,0),0!==E&&(o[E+1]=lc(o[E+1],u)),E=u;else o[u+1]=tg(I,0),0===E?E=u:o[I+1]=lc(o[I+1],u),I=u;S&&(o[u+1]=Yf(o[u+1])),Id(o,R,u,!0),Id(o,R,u,!1),function nR(o,a,d,u,f){const p=f?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof a&&H(p,a)>=0&&(d[u+1]=Nw(d[u+1]))}(a,R,o,u,p),y=tg(E,I),p?a.classBindings=y:a.styleBindings=y}(f,p,a,d,y,u)}}function Uw(o,a,d,u,f){let p=null;const y=d.directiveEnd;let E=d.directiveStylingLast;for(-1===E?E=d.directiveStart:E++;E<y&&(p=a[E],u=og(u,p.hostAttrs,f),p!==o);)E++;return null!==o&&(d.directiveStylingLast=E),u}function og(o,a,d){const u=d?1:2;let f=-1;if(null!==a)for(let p=0;p<a.length;p++){const y=a[p];"number"==typeof y?f=y:f===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),T(o,y,!!d||a[++p]))}return void 0===o?null:o}function py(o,a,d){const u=String(a);""!==u&&!u.includes(" ")&&T(o,u,d)}function lg(o,a,d,u,f,p,y,E){if(!(3&a.type))return;const I=o.data,S=I[E+1],R=function Pw(o){return 1==(1&o)}(S)?gy(I,a,d,f,Ba(S),y):void 0;cg(R)||(cg(p)||function ng(o){return 2==(2&o)}(S)&&(p=gy(I,null,d,f,E,y)),function MM(o,a,d,u,f){if(a)f?o.addClass(d,u):o.removeClass(d,u);else{let p=-1===u.indexOf("-")?void 0:gl.DashCase;null==f?o.removeStyle(d,u,p):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),p|=gl.Important),o.setStyle(d,u,f,p))}}(u,y,rl(Ur(),d),f,p))}function gy(o,a,d,u,f,p){const y=null===a;let E;for(;f>0;){const I=o[f],S=Array.isArray(I),R=S?I[1]:I,z=null===R;let Q=d[f+1];Q===en&&(Q=z?_t:void 0);let ne=z?A(Q,u):R===u?Q:void 0;if(S&&!cg(ne)&&(ne=A(I,u)),cg(ne)&&(E=ne,y))return E;const Te=o[f+1];f=y?Cd(Te):Ba(Te)}if(null!==a){let I=p?a.residualClasses:a.residualStyles;null!=I&&(E=A(I,u))}return E}function cg(o){return void 0!==o}function Jf(o,a){return 0!=(o.flags&(a?8:16))}function TT(o,a=""){const d=ke(),u=an(),f=o+un,p=u.firstCreatePass?kf(u,f,1,a,null):u.data[f],y=Fi(u,d,p,a,o);d[f]=y,Ql()&&ev(u,d,y,p),Ar(p,!1)}let Fi=(o,a,d,u,f)=>(wa(!0),function Ep(o,a){return o.createText(a)}(a[At],u));function Hw(o){return _y("",o,""),Hw}function _y(o,a,d){const u=ke(),f=Lf(u,o,a,d);return f!==en&&function yd(o,a,d){const u=rl(a,o);!function d0(o,a,d){o.setValue(a,d)}(o[At],u,d)}(u,Ur(),f),_y}function wy(o,a,d){const u=ke();return Cs(u,Wn(),a)&&Gs(an(),Un(),u,o,a,u[At],d,!0),wy}function Dd(o,a,d){const u=ke();if(Cs(u,Wn(),a)){const p=an(),y=Un();Gs(p,y,u,o,a,J0(Kl(p.data),y,u),d,!0)}return Dd}const lh=void 0;var ix=["en",[["a","p"],["AM","PM"],lh],[["AM","PM"],lh,lh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lh,"{1} 'at' {0}",lh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function za(o){const d=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===u?1:5}];let Cn={};function pg(o){const a=function LT(o){return o.toLowerCase().replace(/_/g,"-")}(o);let d=xy(a);if(d)return d;const u=a.split("-")[0];if(d=xy(u),d)return d;if("en"===u)return ix;throw new re(701,!1)}function rx(o){return pg(o)[Ot.PluralCase]}function xy(o){return o in Cn||(Cn[o]=Jt.ng&&Jt.ng.common&&Jt.ng.common.locales&&Jt.ng.common.locales[o]),Cn[o]}var Ot=(()=>((Ot=Ot||{})[Ot.LocaleId=0]="LocaleId",Ot[Ot.DayPeriodsFormat=1]="DayPeriodsFormat",Ot[Ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ot[Ot.DaysFormat=3]="DaysFormat",Ot[Ot.DaysStandalone=4]="DaysStandalone",Ot[Ot.MonthsFormat=5]="MonthsFormat",Ot[Ot.MonthsStandalone=6]="MonthsStandalone",Ot[Ot.Eras=7]="Eras",Ot[Ot.FirstDayOfWeek=8]="FirstDayOfWeek",Ot[Ot.WeekendRange=9]="WeekendRange",Ot[Ot.DateFormat=10]="DateFormat",Ot[Ot.TimeFormat=11]="TimeFormat",Ot[Ot.DateTimeFormat=12]="DateTimeFormat",Ot[Ot.NumberSymbols=13]="NumberSymbols",Ot[Ot.NumberFormats=14]="NumberFormats",Ot[Ot.CurrencyCode=15]="CurrencyCode",Ot[Ot.CurrencySymbol=16]="CurrencySymbol",Ot[Ot.CurrencyName=17]="CurrencyName",Ot[Ot.Currencies=18]="Currencies",Ot[Ot.Directionality=19]="Directionality",Ot[Ot.PluralCase=20]="PluralCase",Ot[Ot.ExtraData=21]="ExtraData",Ot))();const Gi="en-US";let dh=Gi;function ra(o,a,d,u,f){if(o=Oe(o),Array.isArray(o))for(let p=0;p<o.length;p++)ra(o[p],a,d,u,f);else{const p=an(),y=ke();let E=If(o)?o:Oe(o.provide),I=CI(o);const S=Oi(),R=1048575&S.providerIndexes,z=S.directiveStart,Q=S.providerIndexes>>20;if(If(o)||!o.multi){const ne=new ct(I,f,Qu),Te=Oy(E,a,f?R:R+Q,z);-1===Te?(Eo(Zo(S,y),p,E),Ry(p,o,a.length),a.push(E),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),d.push(ne),y.push(ne)):(d[Te]=ne,y[Te]=ne)}else{const ne=Oy(E,a,R+Q,z),Te=Oy(E,a,R,R+Q),ot=Te>=0&&d[Te];if(f&&!ot||!f&&!(ne>=0&&d[ne])){Eo(Zo(S,y),p,E);const Et=function ER(o,a,d,u,f){const p=new ct(o,d,Qu);return p.multi=[],p.index=a,p.componentProviders=0,xg(p,f,u&&!d),p}(f?xR:wR,d.length,f,u,I);!f&&ot&&(d[Te].providerFactory=Et),Ry(p,o,a.length,0),a.push(E),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),d.push(Et),y.push(Et)}else Ry(p,o,ne>-1?ne:Te,xg(d[f?Te:ne],I,!f&&u));!f&&u&&ot&&d[Te].componentProviders++}}}function Ry(o,a,d,u){const f=If(a),p=function NF(o){return!!o.useClass}(a);if(f||p){const I=(p?Oe(a.useClass):a).prototype.ngOnDestroy;if(I){const S=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const R=S.indexOf(d);-1===R?S.push(d,[u,I]):S[R+1].push(u,I)}else S.push(d,I)}}}function xg(o,a,d){return d&&o.componentProviders++,o.multi.push(a)-1}function Oy(o,a,d,u){for(let f=d;f<u;f++)if(a[f]===o)return f;return-1}function wR(o,a,d,u){return mx(this.multi,[])}function xR(o,a,d,u){const f=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Ko(d,d[at],this.providerFactory.index,u);p=E.slice(0,y),mx(f,p);for(let I=y;I<E.length;I++)p.push(E[I])}else p=[],mx(f,p);return p}function mx(o,a){for(let d=0;d<o.length;d++)a.push((0,o[d])());return a}function XT(o,a=[]){return d=>{d.providersResolver=(u,f)=>function QT(o,a,d){const u=an();if(u.firstCreatePass){const f=Bn(o);ra(d,u.data,u.blueprint,f,!0),ra(a,u.data,u.blueprint,f,!1)}}(u,f?f(o):o,a)}}class im{}class JT{}function CR(o,a){return new px(o,a??null,[])}class px extends im{constructor(a,d,u){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vk(this);const f=Tr(a);this._bootstrapComponents=vd(f.bootstrap),this._r3Injector=$I(a,d,[{provide:im,useValue:this},{provide:$s,useValue:this.componentFactoryResolver},...u],oe(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class gx extends JT{constructor(a){super(),this.moduleType=a}create(a){return new px(this.moduleType,a,[])}}class eD extends im{constructor(a){super(),this.componentFactoryResolver=new Vk(this),this.instance=null;const d=new yv([...a.providers,{provide:im,useValue:this},{provide:$s,useValue:this.componentFactoryResolver}],a.parent||vv(),a.debugName,new Set(["environment"]));this.injector=d,a.runEnvironmentInitializers&&d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function tD(o,a,d=null){return new eD({providers:o,parent:a,debugName:d,runEnvironmentInitializers:!0}).injector}let TR=(()=>{class o{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const u=tk(0,d.type),f=u.length>0?tD([u],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,f)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=$t({token:o,providedIn:"environment",factory:()=>new o(Gn(qu))}),o})();function _x(o){o.getStandaloneInjector=a=>a.get(TR).getOrCreateStandaloneInjector(o)}function pc(o,a,d,u,f,p){const y=a+d;return Cs(o,y,f)?function Na(o,a,d){return o[a]=d}(o,y+1,p?u.call(p,f):u(f)):function sa(o,a){const d=o[a];return d===en?void 0:d}(o,y+1)}function _c(o,a){const d=an();let u;const f=o+un;d.firstCreatePass?(u=function aD(o,a){if(a)for(let d=a.length-1;d>=0;d--){const u=a[d];if(o===u.name)return u}}(a,d.pipeRegistry),d.data[f]=u,u.onDestroy&&(d.destroyHooks??=[]).push(f,u.onDestroy)):u=d.data[f];const p=u.factory||(u.factory=Ho(u.type)),y=nn(Qu);try{const E=Ca(!1),I=p();return Ca(E),function Iw(o,a,d,u){d>=o.data.length&&(o.data[d]=null,o.blueprint[d]=null),a[d]=u}(d,ke(),f,I),I}finally{nn(y)}}function Ly(o,a,d){const u=o+un,f=ke(),p=$o(f,u);return function sm(o,a){return o[at].data[a].pure}(f,u)?pc(f,function nr(){const o=Rt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}(),a,p.transform,d,p):p.transform(d)}function om(o){return a=>{setTimeout(o,void 0,a)}}const uo=class lD extends c.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,d,u){let f=a,p=d||(()=>null),y=u;if(a&&"object"==typeof a){const I=a;f=I.next?.bind(I),p=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(p=om(p),f&&(f=om(f)),y&&(y=om(y)));const E=super.subscribe({next:f,error:p,complete:y});return a instanceof $.w0&&a.add(E),E}};function cD(){return this._results[Symbol.iterator]()}class Vy{get changes(){return this._changes||(this._changes=new uo)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Vy.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=cD)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,d){return this._results.reduce(a,d)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,d){const u=this;u.dirty=!1;const f=function ss(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Hs(o,a,d){if(o.length!==a.length)return!1;for(let u=0;u<o.length;u++){let f=o[u],p=a[u];if(d&&(f=d(f),p=d(p)),p!==f)return!1}return!0}(u._results,f,d))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Sg=(()=>{class o{}return o.__NG_ELEMENT_ID__=cs,o})();const dD=Sg,uD=class extends dD{constructor(a,d,u){super(),this._declarationLView=a,this._declarationTContainer=d,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,d){return this.createEmbeddedViewImpl(a,d,null)}createEmbeddedViewImpl(a,d,u){const y=this._declarationTContainer.tView,E=kv(this._declarationLView,y,a,4096&this._declarationLView[Ht]?4096:16,null,y.declTNode,null,null,null,d||null,u||null);E[Fc]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[er];return null!==S&&(E[er]=S.createEmbeddedView(y)),tT(y,E,a),new Lv(E)}};function cs(){return Ag(Oi(),ke())}function Ag(o,a){return 4&o.type?new uD(a,o,Es(o,a)):null}let lm=(()=>{class o{}return o.__NG_ELEMENT_ID__=Cx,o})();function Cx(){return Tx(Oi(),ke())}const fD=lm,Hy=class extends fD{constructor(a,d,u){super(),this._lContainer=a,this._hostTNode=d,this._hostLView=u}get element(){return Es(this._hostTNode,this._hostLView)}get injector(){return new vr(this._hostTNode,this._hostLView)}get parentInjector(){const a=is(this._hostTNode,this._hostLView);if(ht(a)){const d=Ea(a,this._hostLView),u=es(a);return new vr(d[at].data[u+8],d)}return new vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const d=Ix(this._lContainer);return null!==d&&d[a]||null}get length(){return this._lContainer.length-fr}createEmbeddedView(a,d,u){let f,p;"number"==typeof u?f=u:null!=u&&(f=u.index,p=u.injector);const E=a.createEmbeddedViewImpl(d||{},p,null);return this.insertImpl(E,f,false),E}createComponent(a,d,u,f,p){const y=a&&!function ec(o){return"function"==typeof o}(a);let E;if(y)E=d;else{const Ue=d||{};E=Ue.index,u=Ue.injector,f=Ue.projectableNodes,p=Ue.environmentInjector||Ue.ngModuleRef}const I=y?a:new Hp(qt(a)),S=u||this.parentInjector;if(!p&&null==I.ngModule){const ot=(y?S:this.parentInjector).get(qu,null);ot&&(p=ot)}qt(I.componentType??{});const ne=I.create(S,f,null,p);return this.insertImpl(ne.hostView,E,false),ne}insert(a,d){return this.insertImpl(a,d,!1)}insertImpl(a,d,u){const f=a._lView,p=f[at];if(function Kh(o){return pr(o[Jn])}(f)){const I=this.indexOf(a);if(-1!==I)this.detach(I);else{const S=f[Jn],R=new Hy(S,S[Ji],S[Jn]);R.detach(R.indexOf(a))}}const y=this._adjustIndex(d),E=this._lContainer;if(function IM(o,a,d,u){const f=fr+u,p=d.length;u>0&&(d[f-1][Dr]=a),u<p-fr?(a[Dr]=d[f],Ru(d,fr+u,a)):(d.push(a),a[Dr]=null),a[Jn]=d;const y=a[Fc];null!==y&&d!==y&&function AF(o,a){const d=o[el];a[qn]!==a[Jn][Jn][qn]&&(o[pa]=!0),null===d?o[el]=[a]:d.push(a)}(y,a);const E=a[er];null!==E&&E.insertView(o),a[Ht]|=128}(p,f,E,y),!u){const I=f0(y,E),S=f[At],R=rc(S,E[Xr]);null!==R&&function TF(o,a,d,u,f,p){u[mi]=f,u[Ji]=a,yf(o,u,d,1,f,p)}(p,E[Ji],S,f,R,I)}return a.attachToViewContainerRef(),Ru(zy(E),y,a),a}move(a,d){return this.insert(a,d)}indexOf(a){const d=Ix(this._lContainer);return null!==d?d.indexOf(a):-1}remove(a){const d=this._adjustIndex(a,-1),u=u0(this._lContainer,d);u&&(Ou(zy(this._lContainer),d),J_(u[at],u))}detach(a){const d=this._adjustIndex(a,-1),u=u0(this._lContainer,d);return u&&null!=Ou(zy(this._lContainer),d)?new Lv(u):null}_adjustIndex(a,d=0){return a??this.length+d}};function Ix(o){return o[8]}function zy(o){return o[8]||(o[8]=[])}function Tx(o,a){let d;const u=a[o.index];return pr(u)?d=u:(d=JI(u,a,null,o),a[o.index]=d,Pv(a,d)),mD(d,a,o,u),new Hy(d,o,a)}let mD=function pD(o,a,d,u){if(o[Xr])return;let f;f=8&d.type?On(u):function kR(o,a){const d=o[At],u=d.createComment(""),f=gr(a,o);return Hu(d,rc(d,f),u,function Tp(o,a){return o.nextSibling(a)}(d,f),!1),u}(a,d),o[Xr]=f};class jy{constructor(a){this.queryList=a,this.matches=null}clone(){return new jy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Dx{constructor(a=[]){this.queries=a}createEmbeddedView(a){const d=a.queries;if(null!==d){const u=null!==a.contentQueries?a.contentQueries[0]:d.length,f=[];for(let p=0;p<u;p++){const y=d.getByIndex(p);f.push(this.queries[y.indexInDeclarationView].clone())}return new Dx(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let d=0;d<this.queries.length;d++)null!==Ss(a,d).matches&&this.queries[d].setDirty()}}class _D{constructor(a,d,u=null){this.predicate=a,this.flags=d,this.read=u}}class Sx{constructor(a=[]){this.queries=a}elementStart(a,d){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(a,d)}elementEnd(a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(a)}embeddedTView(a){let d=null;for(let u=0;u<this.length;u++){const f=null!==d?d.length:0,p=this.getByIndex(u).embeddedTView(a,f);p&&(p.indexInDeclarationView=u,null!==d?d.push(p):d=[p])}return null!==d?new Sx(d):null}template(a,d){for(let u=0;u<this.queries.length;u++)this.queries[u].template(a,d)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Mg{constructor(a,d=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(a,d){this.isApplyingToNode(d)&&this.matchTNode(a,d)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,d){this.elementStart(a,d)}embeddedTView(a,d){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,d),new Mg(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let u=a.parent;for(;null!==u&&8&u.type&&u.index!==d;)u=u.parent;return d===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(a,d){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const p=u[f];this.matchTNodeWithReadOption(a,d,mh(d,p)),this.matchTNodeWithReadOption(a,d,Ia(d,a,p,!1,!1))}else u===Sg?4&d.type&&this.matchTNodeWithReadOption(a,d,-1):this.matchTNodeWithReadOption(a,d,Ia(d,a,u,!1,!1))}matchTNodeWithReadOption(a,d,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===_d||f===lm||f===Sg&&4&d.type)this.addMatch(d.index,-2);else{const p=Ia(d,a,f,!1,!1);null!==p&&this.addMatch(d.index,p)}else this.addMatch(d.index,u)}}addMatch(a,d){null===this.matches?this.matches=[a,d]:this.matches.push(a,d)}}function mh(o,a){const d=o.localNames;if(null!==d)for(let u=0;u<d.length;u+=2)if(d[u]===a)return d[u+1];return null}function $y(o,a,d,u){return-1===d?function kg(o,a){return 11&o.type?Es(o,a):4&o.type?Ag(o,a):null}(a,o):-2===d?function Gy(o,a,d){return d===_d?Es(a,o):d===Sg?Ag(a,o):d===lm?Tx(a,o):void 0}(o,a,u):Ko(o,o[at],d,a)}function Ax(o,a,d,u){const f=a[er].queries[u];if(null===f.matches){const p=o.data,y=d.matches,E=[];for(let I=0;I<y.length;I+=2){const S=y[I];E.push(S<0?null:$y(a,p[S],y[I+1],d.metadata.read))}f.matches=E}return f.matches}function qy(o,a,d,u){const f=o.queries.getByIndex(d),p=f.matches;if(null!==p){const y=Ax(o,a,f,d);for(let E=0;E<p.length;E+=2){const I=p[E];if(I>0)u.push(y[E/2]);else{const S=p[E+1],R=a[-I];for(let z=fr;z<R.length;z++){const Q=R[z];Q[Fc]===Q[Jn]&&qy(Q[at],Q,S,u)}if(null!==R[el]){const z=R[el];for(let Q=0;Q<z.length;Q++){const ne=z[Q];qy(ne[at],ne,S,u)}}}}}return u}function wl(o){const a=ke(),d=an(),u=td();Go(u+1);const f=Ss(d,u);if(o.dirty&&function rp(o){return 4==(4&o[Ht])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const p=f.crossesNgTemplate?qy(d,a,u,[]):Ax(d,a,f,u);o.reset(p,uk),o.notifyOnChanges()}return!0}return!1}function Mx(o,a,d){const u=an();u.firstCreatePass&&(Wy(u,new _D(o,a,d),-1),2==(2&a)&&(u.staticViewQueries=!0)),Rg(u,ke(),a)}function ph(o,a,d,u){const f=an();if(f.firstCreatePass){const p=Oi();Wy(f,new _D(a,d,u),p.index),function gh(o,a){const d=o.contentQueries||(o.contentQueries=[]);a!==(d.length?d[d.length-1]:-1)&&d.push(o.queries.length-1,a)}(f,o),2==(2&d)&&(f.staticContentQueries=!0)}Rg(f,ke(),d)}function kx(){return function Rx(o,a){return o[er].queries[a].queryList}(ke(),td())}function Rg(o,a,d){const u=new Vy(4==(4&d));(function j0(o,a,d,u){const f=Q0(a);f.push(d),o.firstCreatePass&&X0(o).push(u,f.length-1)})(o,a,u,u.destroy),null===a[er]&&(a[er]=new Dx),a[er].queries.push(new jy(u))}function Wy(o,a,d){null===o.queries&&(o.queries=new Sx),o.queries.track(new Mg(a,d))}function Ss(o,a){return o.queries.getByIndex(a)}function Zy(o,a){return Ag(o,a)}function Nx(o){return!!Tr(o)}const wn=new kn("Application Initializer");let Xy=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,u)=>{this.resolve=d,this.reject=u}),this.appInits=rn(wn,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const f of this.appInits){const p=f();if(sy(p))d.push(p);else if(Is(p)){const y=new Promise((E,I)=>{p.subscribe({complete:E,error:I})});d.push(y)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{u()}).catch(f=>{this.reject(f)}),0===d.length&&u(),this.initialized=!0}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=$t({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),jx=(()=>{class o{log(d){console.log(d)}warn(d){console.warn(d)}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=$t({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const bh=new kn("LocaleId",{providedIn:"root",factory:()=>rn(bh,Je.Optional|Je.SkipSelf)||function $x(){return typeof $localize<"u"&&$localize.locale||Gi}()}),FD=new kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Jy=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new P.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=$t({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();class Lg{constructor(a,d){this.ngModuleFactory=a,this.componentFactories=d}}let Bg=(()=>{class o{compileModuleSync(d){return new gx(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const u=this.compileModuleSync(d),p=vd(Tr(d).declarations).reduce((y,E)=>{const I=qt(E);return I&&y.push(new Hp(I)),y},[]);return new Lg(u,p)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=$t({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Zx(...o){}class qs{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new uo(!1),this.onMicrotaskEmpty=new uo(!1),this.onStable=new uo(!1),this.onError=new uo(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&d,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function zR(){const o="function"==typeof Jt.requestAnimationFrame;let a=Jt[o?"requestAnimationFrame":"setTimeout"],d=Jt[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&d){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const f=d[Zone.__symbol__("OriginalDelegate")];f&&(d=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function BD(o){const a=()=>{!function fm(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Jt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Yx(o),o.isCheckStableRunning=!0,Ug(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Yx(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,u,f,p,y,E)=>{try{return Zi(o),d.invokeTask(f,p,y,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&a(),eb(o)}},onInvoke:(d,u,f,p,y,E,I)=>{try{return Zi(o),d.invoke(f,p,y,E,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),eb(o)}},onHasTask:(d,u,f,p)=>{d.hasTask(f,p),u===f&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,Yx(o),Ug(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(d,u,f,p)=>(d.handleError(f,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qs.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(qs.isInAngularZone())throw new re(909,!1)}run(a,d,u){return this._inner.run(a,d,u)}runTask(a,d,u,f){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+f,a,jR,Zx,Zx);try{return p.runTask(y,d,u)}finally{p.cancelTask(y)}}runGuarded(a,d,u){return this._inner.runGuarded(a,d,u)}runOutsideAngular(a){return this._outer.run(a)}}const jR={};function Ug(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Yx(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Zi(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function eb(o){o._nesting--,Ug(o)}class VD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new uo,this.onMicrotaskEmpty=new uo,this.onStable=new uo,this.onError=new uo}run(a,d,u){return a.apply(d,u)}runGuarded(a,d,u){return a.apply(d,u)}runOutsideAngular(a){return a()}runTask(a,d,u,f){return a.apply(d,u)}}const mm=new kn("",{providedIn:"root",factory:$a});function $a(){const o=rn(qs);let a=!0;const d=new ee.y(f=>{a=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{f.next(a),f.complete()})}),u=new ee.y(f=>{let p;o.runOutsideAngular(()=>{p=o.onStable.subscribe(()=>{qs.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(a=!0,f.next(!0))})})});const y=o.onUnstable.subscribe(()=>{qs.assertInAngularZone(),a&&(a=!1,o.runOutsideAngular(()=>{f.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}});return(0,ce.T)(d,u.pipe((0,xe.B)()))}const tb=new kn(""),Kx=new kn("");let nb,Hg=(()=>{class o{constructor(d,u,f){this._ngZone=d,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,nb||(function UD(o){nb=o}(f),f.addToWindow(u)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(d)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,u,f){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),d(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:d,timeoutId:p,updateCb:f})}whenStable(d,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,u,f){return[]}}return o.\u0275fac=function(d){return new(d||o)(Gn(qs),Gn(Qx),Gn(Kx))},o.\u0275prov=$t({token:o,factory:o.\u0275fac}),o})(),Qx=(()=>{class o{constructor(){this._applications=new Map}registerApplication(d,u){this._applications.set(d,u)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,u=!0){return nb?.findTestabilityInTree(this,d,u)??null}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=$t({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Fd=null;const HD=new kn("AllowMultipleToken"),wh=new kn("PlatformDestroyListeners"),zg=new kn("appBootstrapListener");class qR{constructor(a,d){this.name=a,this.token=d}}function bc(o,a,d=[]){const u=`Platform: ${a}`,f=new kn(u);return(p=[])=>{let y=rb();if(!y||y.injector.get(HD,!1)){const E=[...d,...p,{provide:f,useValue:!0}];o?o(E):function jD(o){if(Fd&&!Fd.get(HD,!1))throw new re(400,!1);(function ib(){!function qh(o){Gh=o}(()=>{throw new re(600,!1)})})(),Fd=o;const a=o.get(Cl);(function $D(o){o.get(ak,null)?.forEach(d=>d())})(o)}(function Xx(o=[],a){return ea.create({name:a,providers:[{provide:EI,useValue:"platform"},{provide:wh,useValue:new Set([()=>Fd=null])},...o]})}(E,u))}return function pm(o){const a=rb();if(!a)throw new re(401,!1);return a}()}}function rb(){return Fd?.get(Cl)??null}let Cl=(()=>{class o{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,u){const f=function ZR(o="zone.js",a){return"noop"===o?new VD:"zone.js"===o?new qs(a):o}(u?.ngZone,function Jx(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const p=function IR(o,a,d){return new px(o,a,d)}(d.moduleType,this.injector,function nE(o){return[{provide:qs,useFactory:o},{provide:mv,multi:!0,useFactory:()=>{const a=rn(tE,{optional:!0});return()=>a.initialize()}},{provide:gm,useFactory:GD},{provide:mm,useFactory:$a}]}(()=>f)),y=p.injector.get(Af,null);return f.runOutsideAngular(()=>{const E=f.onError.subscribe({next:I=>{y.handleError(I)}});p.onDestroy(()=>{Il(this._modules,p),E.unsubscribe()})}),function eE(o,a,d){try{const u=d();return sy(u)?u.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):u}catch(u){throw a.runOutsideAngular(()=>o.handleError(u)),u}}(y,f,()=>{const E=p.injector.get(Xy);return E.runInitializers(),E.donePromise.then(()=>(function BT(o){tt(o,"Expected localeId to be defined"),"string"==typeof o&&(dh=o.toLowerCase().replace(/_/g,"-"))}(p.injector.get(bh,Gi)||Gi),this._moduleDoBootstrap(p),p))})})}bootstrapModule(d,u=[]){const f=jg({},u);return function $R(o,a,d){const u=new gx(d);return Promise.resolve(u)}(0,0,d).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(d){const u=d.injector.get(aa);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!d.instance.ngDoBootstrap)throw new re(-403,!1);d.instance.ngDoBootstrap(u)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const d=this._injector.get(wh,null);d&&(d.forEach(u=>u()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(d){return new(d||o)(Gn(ea))},o.\u0275prov=$t({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function jg(o,a){return Array.isArray(a)?a.reduce(jg,o):{...o,...a}}let aa=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=rn(gm),this.zoneIsStable=rn(mm),this.componentTypes=[],this.components=[],this.isStable=rn(Jy).hasPendingTasks.pipe((0,Me.w)(d=>d?(0,ae.of)(!1):this.zoneIsStable),(0,be.x)(),(0,xe.B)()),this._injector=rn(qu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,u){const f=d instanceof A0;if(!this._injector.get(Xy).done)throw!f&&yo(d),new re(405,!1);let y;y=f?d:this._injector.get($s).resolveComponentFactory(d),this.componentTypes.push(y.componentType);const E=function zD(o){return o.isBoundToModule}(y)?void 0:this._injector.get(im),S=y.create(ea.NULL,[],u||y.selector,E),R=S.location.nativeElement,z=S.injector.get(tb,null);return z?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),Il(this.components,S),z?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const u=d;this._views.push(u),u.attachToAppRef(this)}detachView(d){const u=d;Il(this._views,u),u.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const u=this._injector.get(zg,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Il(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new re(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=$t({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Il(o,a){const d=o.indexOf(a);d>-1&&o.splice(d,1)}const gm=new kn("",{providedIn:"root",factory:()=>rn(Af).handleError.bind(void 0)});function GD(){const o=rn(qs),a=rn(Af);return d=>o.runOutsideAngular(()=>a.handleError(d))}let tE=(()=>{class o{constructor(){this.zone=rn(qs),this.applicationRef=rn(aa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=$t({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function YR(){return!1}let xh=(()=>{class o{}return o.__NG_ELEMENT_ID__=XR,o})();function XR(o){return function ZD(o,a,d){if(Ls(o)&&!d){const u=ps(o.index,a);return new Lv(u,u)}return 47&o.type?new Lv(a[qn],a):null}(Oi(),ke(),16==(16&o))}class oE{constructor(){}supports(a){return sr(a)}create(a){return new db(a)}}const qg=(o,a)=>a;class db{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||qg}forEachItem(a){let d;for(d=this._itHead;null!==d;d=d._next)a(d)}forEachOperation(a){let d=this._itHead,u=this._removalsHead,f=0,p=null;for(;d||u;){const y=!u||d&&d.currentIndex<ds(u,f,p)?d:u,E=ds(y,f,p),I=y.currentIndex;if(y===u)f--,u=u._nextRemoved;else if(d=d._next,null==y.previousIndex)f++;else{p||(p=[]);const S=E-f,R=I-f;if(S!=R){for(let Q=0;Q<S;Q++){const ne=Q<p.length?p[Q]:p[Q]=0,Te=ne+Q;R<=Te&&Te<S&&(p[Q]=ne+1)}p[y.previousIndex]=R-S}}E!==I&&a(y,E,I)}}forEachPreviousItem(a){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachMovedItem(a){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}forEachIdentityChange(a){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)a(d)}diff(a){if(null==a&&(a=[]),!sr(a))throw new re(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,p,y,d=this._itHead,u=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)p=a[E],y=this._trackByFn(E,p),null!==d&&Object.is(d.trackById,y)?(u&&(d=this._verifyReinsertion(d,p,y,E)),Object.is(d.item,p)||this._addIdentityChange(d,p)):(d=this._mismatch(d,p,y,E),u=!0),d=d._next}else f=0,function $k(o,a){if(Array.isArray(o))for(let d=0;d<o.length;d++)a(o[d]);else{const d=o[Symbol.iterator]();let u;for(;!(u=d.next()).done;)a(u.value)}}(a,E=>{y=this._trackByFn(f,E),null!==d&&Object.is(d.trackById,y)?(u&&(d=this._verifyReinsertion(d,E,y,f)),Object.is(d.item,E)||this._addIdentityChange(d,E)):(d=this._mismatch(d,E,y,f),u=!0),d=d._next,f++}),this.length=f;return this._truncate(d),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,d,u,f){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._reinsertAfter(a,p,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._moveAfter(a,p,f)):a=this._addAfter(new Wg(d,u),p,f),a}_verifyReinsertion(a,d,u,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?a=this._reinsertAfter(p,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const d=a._next;this._addToRemovals(this._unlink(a)),a=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,d,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,p=a._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(a,d,u),this._addToMoves(a,u),a}_moveAfter(a,d,u){return this._unlink(a),this._insertAfter(a,d,u),this._addToMoves(a,u),a}_addAfter(a,d,u){return this._insertAfter(a,d,u),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,d,u){const f=null===d?this._itHead:d._next;return a._next=f,a._prev=d,null===f?this._itTail=a:f._prev=a,null===d?this._itHead=a:d._next=a,null===this._linkedRecords&&(this._linkedRecords=new aE),this._linkedRecords.put(a),a.currentIndex=u,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const d=a._prev,u=a._next;return null===d?this._itHead=u:d._next=u,null===u?this._itTail=d:u._prev=d,a}_addToMoves(a,d){return a.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aE),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,d){return a.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Wg{constructor(a,d){this.item=a,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XD{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,d){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===d||d<=u.currentIndex)&&Object.is(u.trackById,a))return u;return null}remove(a){const d=a._prevDup,u=a._nextDup;return null===d?this._head=u:d._nextDup=u,null===u?this._tail=d:u._prevDup=d,null===this._head}}class aE{constructor(){this.map=new Map}put(a){const d=a.trackById;let u=this.map.get(d);u||(u=new XD,this.map.set(d,u)),u.add(a)}get(a,d){const f=this.map.get(a);return f?f.get(a,d):null}remove(a){const d=a.trackById;return this.map.get(d).remove(a)&&this.map.delete(d),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ds(o,a,d){const u=o.previousIndex;if(null===u)return u;let f=0;return d&&u<d.length&&(f=d[u]),u+a+f}class lE{constructor(){}supports(a){return a instanceof Map||zv(a)}create(){return new ub}}class ub{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let d;for(d=this._mapHead;null!==d;d=d._next)a(d)}forEachPreviousItem(a){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)a(d)}forEachChangedItem(a){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}diff(a){if(a){if(!(a instanceof Map||zv(a)))throw new re(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(a,(u,f)=>{if(d&&d.key===f)this._maybeAddToChanges(d,u),this._appendAfter=d,d=d._next;else{const p=this._getOrCreateRecordForKey(f,u);d=this._insertBeforeOrAppend(d,p)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let u=d;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,d){if(a){const u=a._prev;return d._next=a,d._prev=u,a._prev=d,u&&(u._next=d),a===this._mapHead&&(this._mapHead=d),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(a,d){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,d);const p=f._prev,y=f._next;return p&&(p._next=y),y&&(y._prev=p),f._next=null,f._prev=null,f}const u=new hb(a);return this._records.set(a,u),u.currentValue=d,this._addToAdditions(u),u}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,d){Object.is(d,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=d,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,d){a instanceof Map?a.forEach(d):Object.keys(a).forEach(u=>d(a[u],u))}}class hb{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cE(){return new Tl([new oE])}let Tl=(()=>{class o{constructor(d){this.factories=d}static create(d,u){if(null!=u){const f=u.factories.slice();d=d.concat(f)}return new o(d)}static extend(d){return{provide:o,useFactory:u=>o.create(d,u||cE()),deps:[[o,new Rr,new Io]]}}find(d){const u=this.factories.find(f=>f.supports(d));if(null!=u)return u;throw new re(901,!1)}}return o.\u0275prov=$t({token:o,providedIn:"root",factory:cE}),o})();function dE(){return new xc([new lE])}let xc=(()=>{class o{constructor(d){this.factories=d}static create(d,u){if(u){const f=u.factories.slice();d=d.concat(f)}return new o(d)}static extend(d){return{provide:o,useFactory:u=>o.create(d,u||dE()),deps:[[o,new Rr,new Io]]}}find(d){const u=this.factories.find(f=>f.supports(d));if(u)return u;throw new re(901,!1)}}return o.\u0275prov=$t({token:o,providedIn:"root",factory:dE}),o})();const JD=bc(null,"core",[]);let n1=(()=>{class o{constructor(d){}}return o.\u0275fac=function(d){return new(d||o)(Gn(aa))},o.\u0275mod=Ll({type:o}),o.\u0275inj=Xn({}),o})();function a1(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function yE(o){const a=qt(o);if(!a)return null;const d=new Hp(a);return{get selector(){return d.selector},get type(){return d.componentType},get inputs(){return d.inputs},get outputs(){return d.outputs},get ngContentSelectors(){return d.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3106:(pt,De,B)=>{B.d(De,{Z:()=>Xe});var c=B(9058),$=B(4537),P=B(534),ee=B(7879);class ce{constructor(Qe,Fe){this._delegate=Qe,this.firebase=Fe,(0,P._addComponent)(Qe,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=Qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this._delegate.automaticDataCollectionEnabled=Qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Qe=>{this._delegate.checkDestroyed(),Qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(Qe,Fe=P._DEFAULT_ENTRY_NAME){var Ct;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(Qe);return!mt.isInitialized()&&"EXPLICIT"===(null===(Ct=mt.getComponent())||void 0===Ct?void 0:Ct.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:Fe})}_removeServiceInstance(Qe,Fe=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Qe).clearInstance(Fe)}_addComponent(Qe){(0,P._addComponent)(this._delegate,Qe)}_addOrOverwriteComponent(Qe){(0,P._addOrOverwriteComponent)(this._delegate,Qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xe=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function be(){const Oe=function Me(Oe){const Qe={},Fe={__esModule:!0,initializeApp:function re(Ne,ie={}){const rt=P.initializeApp(Ne,ie);if((0,c.r3)(Qe,rt.name))return Qe[rt.name];const qe=new Oe(rt,Fe);return Qe[rt.name]=qe,qe},app:mt,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function de(Ne){const ie=Ne.name,rt=ie.replace("-compat","");if(P._registerComponent(Ne)&&"PUBLIC"===Ne.type){const qe=(on=mt())=>{if("function"!=typeof on[rt])throw xe.create("invalid-app-argument",{appName:ie});return on[rt]()};void 0!==Ne.serviceProps&&(0,c.ZB)(qe,Ne.serviceProps),Fe[rt]=qe,Oe.prototype[rt]=function(...on){return this._getService.bind(this,ie).apply(this,Ne.multipleInstances?on:[])}}return"PUBLIC"===Ne.type?Fe[rt]:null},removeApp:function Ct(Ne){delete Qe[Ne]},useAsService:function ye(Ne,ie){return"serverAuth"===ie?null:ie},modularAPIs:P}};function mt(Ne){if(!(0,c.r3)(Qe,Ne=Ne||P._DEFAULT_ENTRY_NAME))throw xe.create("no-app",{appName:Ne});return Qe[Ne]}return Fe.default=Fe,Object.defineProperty(Fe,"apps",{get:function Ie(){return Object.keys(Qe).map(Ne=>Qe[Ne])}}),mt.App=Oe,Fe}(ce);return Oe.INTERNAL=Object.assign(Object.assign({},Oe.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function Qe(Fe){(0,c.ZB)(Oe,Fe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Oe}(),Z=new ee.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Oe=self.firebase.SDK_VERSION;Oe&&Oe.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=q;!function Re(Oe){(0,P.registerVersion)("@firebase/app-compat","0.2.13",Oe)}()},534:(pt,De,B)=>{B.r(De),B.d(De,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>fs,_DEFAULT_ENTRY_NAME:()=>Je,_addComponent:()=>Ei,_addOrOverwriteComponent:()=>Br,_apps:()=>bt,_clearComponents:()=>En,_components:()=>nn,_getProvider:()=>ui,_registerComponent:()=>Jt,_removeServiceInstance:()=>Ps,deleteApp:()=>Ln,getApp:()=>Qi,getApps:()=>ii,initializeApp:()=>Xs,onLog:()=>Ci,registerVersion:()=>$n,setLogLevel:()=>Gn});var c=B(5861),$=B(4537),P=B(7879),ee=B(9058);const ce=(ve,le)=>le.some(Ve=>ve instanceof Ve);let ae,xe;const q=new WeakMap,Z=new WeakMap,oe=new WeakMap,Be=new WeakMap,Re=new WeakMap;let Qe={get(ve,le,Ve){if(ve instanceof IDBTransaction){if("done"===le)return Z.get(ve);if("objectStoreNames"===le)return ve.objectStoreNames||oe.get(ve);if("store"===le)return Ve.objectStoreNames[1]?void 0:Ve.objectStore(Ve.objectStoreNames[0])}return re(ve[le])},set:(ve,le,Ve)=>(ve[le]=Ve,!0),has:(ve,le)=>ve instanceof IDBTransaction&&("done"===le||"store"===le)||le in ve};function mt(ve){return"function"==typeof ve?function Ct(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...le){return ve.apply(Ie(this),le),re(q.get(this))}:function(...le){return re(ve.apply(Ie(this),le))}:function(le,...Ve){const vt=ve.call(Ie(this),le,...Ve);return oe.set(vt,le.sort?le.sort():[le]),re(vt)}}(ve):(ve instanceof IDBTransaction&&function Oe(ve){if(Z.has(ve))return;const le=new Promise((Ve,vt)=>{const Ft=()=>{ve.removeEventListener("complete",Yt),ve.removeEventListener("error",ln),ve.removeEventListener("abort",ln)},Yt=()=>{Ve(),Ft()},ln=()=>{vt(ve.error||new DOMException("AbortError","AbortError")),Ft()};ve.addEventListener("complete",Yt),ve.addEventListener("error",ln),ve.addEventListener("abort",ln)});Z.set(ve,le)}(ve),ce(ve,function Me(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,Qe):ve)}function re(ve){if(ve instanceof IDBRequest)return function Xe(ve){const le=new Promise((Ve,vt)=>{const Ft=()=>{ve.removeEventListener("success",Yt),ve.removeEventListener("error",ln)},Yt=()=>{Ve(re(ve.result)),Ft()},ln=()=>{vt(ve.error),Ft()};ve.addEventListener("success",Yt),ve.addEventListener("error",ln)});return le.then(Ve=>{Ve instanceof IDBCursor&&q.set(Ve,ve)}).catch(()=>{}),Re.set(le,ve),le}(ve);if(Be.has(ve))return Be.get(ve);const le=mt(ve);return le!==ve&&(Be.set(ve,le),Re.set(le,ve)),le}const Ie=ve=>Re.get(ve),Ne=["get","getKey","getAll","getAllKeys","count"],ie=["put","add","delete","clear"],rt=new Map;function qe(ve,le){if(!(ve instanceof IDBDatabase)||le in ve||"string"!=typeof le)return;if(rt.get(le))return rt.get(le);const Ve=le.replace(/FromIndex$/,""),vt=le!==Ve,Ft=ie.includes(Ve);if(!(Ve in(vt?IDBIndex:IDBObjectStore).prototype)||!Ft&&!Ne.includes(Ve))return;const Yt=function(){var ln=(0,c.Z)(function*(Ui,...ri){const Fo=this.transaction(Ui,Ft?"readwrite":"readonly");let Qa=Fo.store;return vt&&(Qa=Qa.index(ri.shift())),(yield Promise.all([Qa[Ve](...ri),Ft&&Fo.done]))[0]});return function(ri){return ln.apply(this,arguments)}}();return rt.set(le,Yt),Yt}!function Fe(ve){Qe=ve(Qe)}(ve=>({...ve,get:(le,Ve,vt)=>qe(le,Ve)||ve.get(le,Ve,vt),has:(le,Ve)=>!!qe(le,Ve)||ve.has(le,Ve)}));class on{constructor(le){this.container=le}getPlatformInfoString(){return this.container.getProviders().map(Ve=>{if(function Ri(ve){const le=ve.getComponent();return"VERSION"===le?.type}(Ve)){const vt=Ve.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(Ve=>Ve).join(" ")}}const xr="@firebase/app",Fn=new P.Yd("@firebase/app"),Je="[DEFAULT]",gt={[xr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bt=new Map,nn=new Map;function Ei(ve,le){try{ve.container.addComponent(le)}catch(Ve){Fn.debug(`Component ${le.name} failed to register with FirebaseApp ${ve.name}`,Ve)}}function Br(ve,le){ve.container.addOrOverwriteComponent(le)}function Jt(ve){const le=ve.name;if(nn.has(le))return Fn.debug(`There were multiple attempts to register component ${le}.`),!1;nn.set(le,ve);for(const Ve of bt.values())Ei(Ve,ve);return!0}function ui(ve,le){const Ve=ve.container.getProvider("heartbeat").getImmediate({optional:!0});return Ve&&Ve.triggerHeartbeat(),ve.container.getProvider(le)}function Ps(ve,le,Ve=Je){ui(ve,le).clearInstance(Ve)}function En(){nn.clear()}const Ut=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jn{constructor(le,Ve,vt){this._isDeleted=!1,this._options=Object.assign({},le),this._config=Object.assign({},Ve),this._name=Ve.name,this._automaticDataCollectionEnabled=Ve.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this.checkDestroyed(),this._automaticDataCollectionEnabled=le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(le){this._isDeleted=le}checkDestroyed(){if(this.isDeleted)throw Ut.create("app-deleted",{appName:this._name})}}const fs="9.23.0";function Xs(ve,le={}){let Ve=ve;"object"!=typeof le&&(le={name:le});const vt=Object.assign({name:Je,automaticDataCollectionEnabled:!1},le),Ft=vt.name;if("string"!=typeof Ft||!Ft)throw Ut.create("bad-app-name",{appName:String(Ft)});if(Ve||(Ve=(0,ee.aH)()),!Ve)throw Ut.create("no-options");const Yt=bt.get(Ft);if(Yt){if((0,ee.vZ)(Ve,Yt.options)&&(0,ee.vZ)(vt,Yt.config))return Yt;throw Ut.create("duplicate-app",{appName:Ft})}const ln=new $.H0(Ft);for(const ri of nn.values())ln.addComponent(ri);const Ui=new jn(Ve,vt,ln);return bt.set(Ft,Ui),Ui}function Qi(ve=Je){const le=bt.get(ve);if(!le&&ve===Je&&(0,ee.aH)())return Xs();if(!le)throw Ut.create("no-app",{appName:ve});return le}function ii(){return Array.from(bt.values())}function Ln(ve){return hi.apply(this,arguments)}function hi(){return(hi=(0,c.Z)(function*(ve){const le=ve.name;bt.has(le)&&(bt.delete(le),yield Promise.all(ve.container.getProviders().map(Ve=>Ve.delete())),ve.isDeleted=!0)})).apply(this,arguments)}function $n(ve,le,Ve){var vt;let Ft=null!==(vt=gt[ve])&&void 0!==vt?vt:ve;Ve&&(Ft+=`-${Ve}`);const Yt=Ft.match(/\s|\//),ln=le.match(/\s|\//);if(Yt||ln){const Ui=[`Unable to register library "${Ft}" with version "${le}":`];return Yt&&Ui.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),Yt&&ln&&Ui.push("and"),ln&&Ui.push(`version name "${le}" contains illegal characters (whitespace or "/")`),void Fn.warn(Ui.join(" "))}Jt(new $.wA(`${Ft}-version`,()=>({library:Ft,version:le}),"VERSION"))}function Ci(ve,le){if(null!==ve&&"function"!=typeof ve)throw Ut.create("invalid-log-argument");(0,P.Am)(ve,le)}function Gn(ve){(0,P.Ub)(ve)}const Cr="firebase-heartbeat-database",rn=1,W="firebase-heartbeat-store";let G=null;function F(){return G||(G=function de(ve,le,{blocked:Ve,upgrade:vt,blocking:Ft,terminated:Yt}={}){const ln=indexedDB.open(ve,le),Ui=re(ln);return vt&&ln.addEventListener("upgradeneeded",ri=>{vt(re(ln.result),ri.oldVersion,ri.newVersion,re(ln.transaction),ri)}),Ve&&ln.addEventListener("blocked",ri=>Ve(ri.oldVersion,ri.newVersion,ri)),Ui.then(ri=>{Yt&&ri.addEventListener("close",()=>Yt()),Ft&&ri.addEventListener("versionchange",Fo=>Ft(Fo.oldVersion,Fo.newVersion,Fo))}).catch(()=>{}),Ui}(Cr,rn,{upgrade:(ve,le)=>{0===le&&ve.createObjectStore(W)}}).catch(ve=>{throw Ut.create("idb-open",{originalErrorMessage:ve.message})})),G}function O(){return(O=(0,c.Z)(function*(ve){try{return yield(yield F()).transaction(W).objectStore(W).get(Ke(ve))}catch(le){if(le instanceof ee.ZR)Fn.warn(le.message);else{const Ve=Ut.create("idb-get",{originalErrorMessage:le?.message});Fn.warn(Ve.message)}}})).apply(this,arguments)}function te(ve,le){return we.apply(this,arguments)}function we(){return(we=(0,c.Z)(function*(ve,le){try{const vt=(yield F()).transaction(W,"readwrite");yield vt.objectStore(W).put(le,Ke(ve)),yield vt.done}catch(Ve){if(Ve instanceof ee.ZR)Fn.warn(Ve.message);else{const vt=Ut.create("idb-set",{originalErrorMessage:Ve?.message});Fn.warn(vt.message)}}})).apply(this,arguments)}function Ke(ve){return`${ve.name}!${ve.options.appId}`}class _t{constructor(le){this.container=le,this._heartbeatsCache=null;const Ve=this.container.getProvider("app").getImmediate();this._storage=new Gt(Ve),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var le=this;return(0,c.Z)(function*(){const vt=le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=Pt();if(null===le._heartbeatsCache&&(le._heartbeatsCache=yield le._heartbeatsCachePromise),le._heartbeatsCache.lastSentHeartbeatDate!==Ft&&!le._heartbeatsCache.heartbeats.some(Yt=>Yt.date===Ft))return le._heartbeatsCache.heartbeats.push({date:Ft,agent:vt}),le._heartbeatsCache.heartbeats=le._heartbeatsCache.heartbeats.filter(Yt=>{const ln=new Date(Yt.date).valueOf();return Date.now()-ln<=2592e6}),le._storage.overwrite(le._heartbeatsCache)})()}getHeartbeatsHeader(){var le=this;return(0,c.Z)(function*(){if(null===le._heartbeatsCache&&(yield le._heartbeatsCachePromise),null===le._heartbeatsCache||0===le._heartbeatsCache.heartbeats.length)return"";const Ve=Pt(),{heartbeatsToSend:vt,unsentEntries:Ft}=function Mn(ve,le=1024){const Ve=[];let vt=ve.slice();for(const Ft of ve){const Yt=Ve.find(ln=>ln.agent===Ft.agent);if(Yt){if(Yt.dates.push(Ft.date),Vi(Ve)>le){Yt.dates.pop();break}}else if(Ve.push({agent:Ft.agent,dates:[Ft.date]}),Vi(Ve)>le){Ve.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:Ve,unsentEntries:vt}}(le._heartbeatsCache.heartbeats),Yt=(0,ee.L)(JSON.stringify({version:2,heartbeats:vt}));return le._heartbeatsCache.lastSentHeartbeatDate=Ve,Ft.length>0?(le._heartbeatsCache.heartbeats=Ft,yield le._storage.overwrite(le._heartbeatsCache)):(le._heartbeatsCache.heartbeats=[],le._storage.overwrite(le._heartbeatsCache)),Yt})()}}function Pt(){return(new Date).toISOString().substring(0,10)}class Gt{constructor(le){this.app=le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var le=this;return(0,c.Z)(function*(){return(yield le._canUseIndexedDBPromise)&&(yield function V(ve){return O.apply(this,arguments)}(le.app))||{heartbeats:[]}})()}overwrite(le){var Ve=this;return(0,c.Z)(function*(){var vt;if(yield Ve._canUseIndexedDBPromise){const Yt=yield Ve.read();return te(Ve.app,{lastSentHeartbeatDate:null!==(vt=le.lastSentHeartbeatDate)&&void 0!==vt?vt:Yt.lastSentHeartbeatDate,heartbeats:le.heartbeats})}})()}add(le){var Ve=this;return(0,c.Z)(function*(){var vt;if(yield Ve._canUseIndexedDBPromise){const Yt=yield Ve.read();return te(Ve.app,{lastSentHeartbeatDate:null!==(vt=le.lastSentHeartbeatDate)&&void 0!==vt?vt:Yt.lastSentHeartbeatDate,heartbeats:[...Yt.heartbeats,...le.heartbeats]})}})()}}function Vi(ve){return(0,ee.L)(JSON.stringify({version:2,heartbeats:ve})).length}!function Xi(ve){Jt(new $.wA("platform-logger",le=>new on(le),"PRIVATE")),Jt(new $.wA("heartbeat",le=>new _t(le),"PRIVATE")),$n(xr,"0.9.13",ve),$n(xr,"0.9.13","esm2017"),$n("fire-js","")}("")},4537:(pt,De,B)=>{B.d(De,{H0:()=>Me,wA:()=>P,zt:()=>ce});var c=B(5861),$=B(9058);class P{constructor(q,Z,oe){this.name=q,this.instanceFactory=Z,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const ee="[DEFAULT]";class ce{constructor(q,Z){this.name=q,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const Z=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(Z)){const oe=new $.BH;if(this.instancesDeferred.set(Z,oe),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:Z});Be&&oe.resolve(Be)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(q){var Z;const oe=this.normalizeInstanceIdentifier(q?.identifier),Be=null!==(Z=q?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(Re){if(Be)return null;throw Re}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function xe(be){return"EAGER"===be.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[Z,oe]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(Z);try{const Re=this.getOrInitializeService({instanceIdentifier:Be});oe.resolve(Re)}catch{}}}}clearInstance(q=ee){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,c.Z)(function*(){const Z=Array.from(q.instances.values());yield Promise.all([...Z.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...Z.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=ee){return this.instances.has(q)}getOptions(q=ee){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:Z={}}=q,oe=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:oe,options:Z});for(const[Re,Xe]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(Re)&&Xe.resolve(Be);return Be}onInit(q,Z){var oe;const Be=this.normalizeInstanceIdentifier(Z),Re=null!==(oe=this.onInitCallbacks.get(Be))&&void 0!==oe?oe:new Set;Re.add(q),this.onInitCallbacks.set(Be,Re);const Xe=this.instances.get(Be);return Xe&&q(Xe,Be),()=>{Re.delete(q)}}invokeOnInitCallbacks(q,Z){const oe=this.onInitCallbacks.get(Z);if(oe)for(const Be of oe)try{Be(q,Z)}catch{}}getOrInitializeService({instanceIdentifier:q,options:Z={}}){let oe=this.instances.get(q);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(be=q,be===ee?void 0:be),options:Z}),this.instances.set(q,oe),this.instancesOptions.set(q,Z),this.invokeOnInitCallbacks(oe,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,oe)}catch{}var be;return oe||null}normalizeInstanceIdentifier(q=ee){return this.component?this.component.multipleInstances?q:ee:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const Z=this.getProvider(q.name);if(Z.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);Z.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const Z=new ce(q,this);return this.providers.set(q,Z),Z}getProviders(){return Array.from(this.providers.values())}}},7879:(pt,De,B)=>{B.d(De,{Am:()=>be,Ub:()=>Me,Yd:()=>xe,in:()=>$});const c=[];var $=(()=>(($=$||{})[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",$))();const P={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},ee=$.INFO,ce={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ae=(q,Z,...oe)=>{if(Z<q.logLevel)return;const Be=(new Date).toISOString(),Re=ce[Z];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Re](`[${Be}]  ${q.name}:`,...oe)};class xe{constructor(Z){this.name=Z,this._logLevel=ee,this._logHandler=ae,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in $))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?P[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...Z),this._logHandler(this,$.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...Z),this._logHandler(this,$.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,$.INFO,...Z),this._logHandler(this,$.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,$.WARN,...Z),this._logHandler(this,$.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...Z),this._logHandler(this,$.ERROR,...Z)}}function Me(q){c.forEach(Z=>{Z.setLogLevel(q)})}function be(q,Z){for(const oe of c){let Be=null;Z&&Z.level&&(Be=P[Z.level]),oe.userLogHandler=null===q?null:(Re,Xe,...Oe)=>{const Qe=Oe.map(Fe=>{if(null==Fe)return null;if("string"==typeof Fe)return Fe;if("number"==typeof Fe||"boolean"==typeof Fe)return Fe.toString();if(Fe instanceof Error)return Fe.message;try{return JSON.stringify(Fe)}catch{return null}}).filter(Fe=>Fe).join(" ");Xe>=(Be??Re.logLevel)&&q({level:$[Xe].toLowerCase(),message:Qe,args:Oe,type:Re.name})}}}},3182:(pt,De,B)=>{B.d(De,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=B(534);(0,c.registerVersion)("firebase","9.23.0","app")},7142:(pt,De,B)=>{B.d(De,{Z:()=>c.Z});var c=B(3106);c.Z.registerVersion("firebase","9.23.0","app-compat")},6365:(pt,De,B)=>{B.r(De);var c=B(5861),$=B(3106),P=B(6878),ee=B(9058),xe=(B(534),B(7879),B(4537));function Me(){return window}function Z(){return Z=(0,c.Z)(function*(F,V,O){var te;const{BuildInfo:we}=Me();(0,P.as)(V.sessionId,"AuthEvent did not contain a session ID");const Ke=yield function Fe(F){return Ct.apply(this,arguments)}(V.sessionId),wt={};return(0,P.at)()?wt.ibi=we.packageName:(0,P.au)()?wt.apn=we.packageName:(0,P.av)(F,"operation-not-supported-in-this-environment"),we.displayName&&(wt.appDisplayName=we.displayName),wt.sessionId=Ke,(0,P.aw)(F,O,V.type,void 0,null!==(te=V.eventId)&&void 0!==te?te:void 0,wt)}),Z.apply(this,arguments)}function Be(){return(Be=(0,c.Z)(function*(F){const{BuildInfo:V}=Me(),O={};(0,P.at)()?O.iosBundleId=V.packageName:(0,P.au)()?O.androidPackageName=V.packageName:(0,P.av)(F,"operation-not-supported-in-this-environment"),yield(0,P.ax)(F,O)})).apply(this,arguments)}function Oe(){return(Oe=(0,c.Z)(function*(F,V,O){const{cordova:te}=Me();let we=()=>{};try{yield new Promise((Ke,wt)=>{let yt=null;function _t(){var Gt;Ke();const Vi=null===(Gt=te.plugins.browsertab)||void 0===Gt?void 0:Gt.close;"function"==typeof Vi&&Vi(),"function"==typeof O?.close&&O.close()}function Pt(){yt||(yt=window.setTimeout(()=>{wt((0,P.az)(F,"redirect-cancelled-by-user"))},2e3))}function Mn(){"visible"===document?.visibilityState&&Pt()}V.addPassiveListener(_t),document.addEventListener("resume",Pt,!1),(0,P.au)()&&document.addEventListener("visibilitychange",Mn,!1),we=()=>{V.removePassiveListener(_t),document.removeEventListener("resume",Pt,!1),document.removeEventListener("visibilitychange",Mn,!1),yt&&window.clearTimeout(yt)}})}finally{we()}})).apply(this,arguments)}function Ct(){return(Ct=(0,c.Z)(function*(F){const V=function mt(F){if((0,P.as)(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(F);const V=new ArrayBuffer(F.length),O=new Uint8Array(V);for(let te=0;te<F.length;te++)O[te]=F.charCodeAt(te);return O}(F),O=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(O)).map(we=>we.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ie extends P.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(V)),super.onEvent(V)}initialized(){var V=this;return(0,c.Z)(function*(){yield V.initPromise})()}}function Ne(F){return ie.apply(this,arguments)}function ie(){return(ie=(0,c.Z)(function*(F){const V=yield on()._get(Ri(F));return V&&(yield on()._remove(Ri(F))),V})).apply(this,arguments)}function qe(){const F=[];for(let O=0;O<20;O++){const te=Math.floor(62*Math.random());F.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(te))}return F.join("")}function on(){return(0,P.aC)(P.b)}function Ri(F){return(0,P.aD)("authEvent",F.config.apiKey,F.name)}function Fn(F){if(!F?.includes("?"))return{};const[V,...O]=F.split("?");return(0,ee.zd)(O.join("?"))}const fe=class vo{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aE,this._overrideRedirectResult=P.aF}_initialize(V){var O=this;return(0,c.Z)(function*(){const te=V._key();let we=O.eventManagers.get(te);return we||(we=new Ie(V),O.eventManagers.set(te,we),O.attachCallbackListeners(V,we)),we})()}_openPopup(V){(0,P.av)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,O,te,we){var Ke=this;return(0,c.Z)(function*(){!function Qe(F){var V,O,te,we,Ke,wt,yt,_t,Pt,Mn;const Gt=Me();(0,P.aA)("function"==typeof(null===(V=Gt?.universalLinks)||void 0===V?void 0:V.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.aA)(typeof(null===(O=Gt?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.aA)("function"==typeof(null===(Ke=null===(we=null===(te=Gt?.cordova)||void 0===te?void 0:te.plugins)||void 0===we?void 0:we.browsertab)||void 0===Ke?void 0:Ke.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aA)("function"==typeof(null===(_t=null===(yt=null===(wt=Gt?.cordova)||void 0===wt?void 0:wt.plugins)||void 0===yt?void 0:yt.browsertab)||void 0===_t?void 0:_t.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aA)("function"==typeof(null===(Mn=null===(Pt=Gt?.cordova)||void 0===Pt?void 0:Pt.InAppBrowser)||void 0===Mn?void 0:Mn.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const wt=yield Ke._initialize(V);yield wt.initialized(),wt.resetRedirect(),(0,P.aG)(),yield Ke._originValidation(V);const yt=function de(F,V,O=null){return{type:V,eventId:O,urlResponse:null,sessionId:qe(),postBody:null,tenantId:F.tenantId,error:(0,P.az)(F,"no-auth-event")}}(V,te,we);yield function ye(F,V){return on()._set(Ri(F),V)}(V,yt);const _t=yield function q(F,V,O){return Z.apply(this,arguments)}(V,yt,O),Pt=yield function Re(F){const{cordova:V}=Me();return new Promise(O=>{V.plugins.browsertab.isAvailable(te=>{let we=null;te?V.plugins.browsertab.openUrl(F):we=V.InAppBrowser.open(F,(0,P.ay)()?"_blank":"_system","location=yes"),O(we)})})}(_t);return function Xe(F,V,O){return Oe.apply(this,arguments)}(V,wt,Pt)})()}_isIframeWebStorageSupported(V,O){throw new Error("Method not implemented.")}_originValidation(V){const O=V._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function oe(F){return Be.apply(this,arguments)}(V)),this.originValidationPromises[O]}attachCallbackListeners(V,O){const{universalLinks:te,handleOpenURL:we,BuildInfo:Ke}=Me(),wt=setTimeout((0,c.Z)(function*(){yield Ne(V),O.onEvent(_e())}),500),yt=function(){var Mn=(0,c.Z)(function*(Gt){clearTimeout(wt);const Vi=yield Ne(V);let Xi=null;Vi&&Gt?.url&&(Xi=function rt(F,V){var O,te;const we=function Ks(F){const V=Fn(F),O=V.link?decodeURIComponent(V.link):void 0,te=Fn(O).link,we=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return Fn(we).link||we||te||O||F}(V);if(we.includes("/__/auth/callback")){const Ke=Fn(we),wt=Ke.firebaseError?function xr(F){try{return JSON.parse(F)}catch{return null}}(decodeURIComponent(Ke.firebaseError)):null,yt=null===(te=null===(O=wt?.code)||void 0===O?void 0:O.split("auth/"))||void 0===te?void 0:te[1],_t=yt?(0,P.az)(yt):null;return _t?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:_t,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:we,postBody:null}}return null}(Vi,Gt.url)),O.onEvent(Xi||_e())});return function(Vi){return Mn.apply(this,arguments)}}();typeof te<"u"&&"function"==typeof te.subscribe&&te.subscribe(null,yt);const _t=we,Pt=`${Ke.packageName.toLowerCase()}://`;Me().handleOpenURL=function(){var Mn=(0,c.Z)(function*(Gt){if(Gt.toLowerCase().startsWith(Pt)&&yt({url:Gt}),"function"==typeof _t)try{_t(Gt)}catch(Vi){console.error(Vi)}});return function(Gt){return Mn.apply(this,arguments)}}()}};function _e(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.az)("no-auth-event")}}function tt(){var F;return(null===(F=self?.location)||void 0===F?void 0:F.protocol)||null}function vn(F=(0,ee.z$)()){return!("file:"!==tt()&&"ionic:"!==tt()&&"capacitor:"!==tt()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xn(){try{const F=self.localStorage,V=P.aL();if(F)return F.setItem(V,"1"),F.removeItem(V),!function xn(F=(0,ee.z$)()){return function dn(){return(0,ee.w1)()&&11===document?.documentMode}()||function $t(F=(0,ee.z$)()){return/Edge\/\d+/.test(F)}(F)}()||(0,ee.hl)()}catch{return zn()&&(0,ee.hl)()}return!1}function zn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function yn(){return(function dt(){return"http:"===tt()||"https:"===tt()}()||(0,ee.ru)()||vn())&&!function Mt(){return(0,ee.b$)()||(0,ee.UG)()}()&&Xn()&&!zn()}function di(){return vn()&&typeof document<"u"}function hs(){return(hs=(0,c.Z)(function*(){return!!di()&&new Promise(F=>{const V=setTimeout(()=>{F(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),F(!0)})})})).apply(this,arguments)}const ni={LOCAL:"local",NONE:"none",SESSION:"session"},Er=P.aA,Qs="persistence";function gt(F){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(F){yield F._initializationPromise;const V=Ei(),O=P.aD(Qs,F.config.apiKey,F.name);V&&V.setItem(O,F._getPersistence())})).apply(this,arguments)}function Ei(){var F;try{return(null===(F=function Ki(){return typeof window<"u"?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch{return null}}const Br=P.aA;class Jt{constructor(){this.browserResolver=P.aC(P.k),this.cordovaResolver=P.aC(fe),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aE,this._overrideRedirectResult=P.aF}_initialize(V){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,O,te,we){var Ke=this;return(0,c.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openPopup(V,O,te,we)})()}_openRedirect(V,O,te,we){var Ke=this;return(0,c.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openRedirect(V,O,te,we)})()}_isIframeWebStorageSupported(V,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,O)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return di()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Br(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,c.Z)(function*(){if(V.underlyingResolver)return;const O=yield function Qr(){return hs.apply(this,arguments)}();V.underlyingResolver=O?V.cordovaResolver:V.browserResolver})()}}function ui(F){return F.unwrap()}function En(F){return Ut(F)}function Ut(F){const{_tokenResponse:V}=F instanceof ee.ZR?F.customData:F;if(!V)return null;if(!(F instanceof ee.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return P.P.credentialFromResult(F);const O=V.providerId;if(!O||O===P.p.PASSWORD)return null;let te;switch(O){case P.p.GOOGLE:te=P.V;break;case P.p.FACEBOOK:te=P.U;break;case P.p.GITHUB:te=P.W;break;case P.p.TWITTER:te=P.Z;break;default:const{oauthIdToken:we,oauthAccessToken:Ke,oauthTokenSecret:wt,pendingToken:yt,nonce:_t}=V;return Ke||wt||we||yt?yt?O.startsWith("saml.")?P.aO._create(O,yt):P.L._fromParams({providerId:O,signInMethod:O,pendingToken:yt,idToken:we,accessToken:Ke}):new P.X(O).credential({idToken:we,accessToken:Ke,rawNonce:_t}):null}return F instanceof ee.ZR?te.credentialFromError(F):te.credentialFromResult(F)}function jn(F,V){return V.catch(O=>{throw O instanceof ee.ZR&&function ur(F,V){var O;const te=null===(O=V.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new Qi(F,P.aq(F,V));else if(te){const we=Ut(V),Ke=V;we&&(Ke.credential=we,Ke.tenantId=te.tenantId||void 0,Ke.email=te.email||void 0,Ke.phoneNumber=te.phoneNumber||void 0)}}(F,O),O}).then(O=>{const we=O.user;return{operationType:O.operationType,credential:En(O),additionalUserInfo:P.ao(O),user:ii.getOrCreate(we)}})}function fs(F,V){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(F,V){const O=yield V;return{verificationId:O.verificationId,confirm:te=>jn(F,O.confirm(te))}})).apply(this,arguments)}class Qi{constructor(V,O){this.resolver=O,this.auth=function Ps(F){return F.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return jn(ui(this.auth),this.resolver.resolveSignIn(V))}}class ii{constructor(V){this._delegate=V,this.multiFactor=P.ar(V)}static getOrCreate(V){return ii.USER_MAP.has(V)||ii.USER_MAP.set(V,new ii(V)),ii.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var O=this;return(0,c.Z)(function*(){return jn(O.auth,P.a0(O._delegate,V))})()}linkWithPhoneNumber(V,O){var te=this;return(0,c.Z)(function*(){return fs(te.auth,P.l(te._delegate,V,O))})()}linkWithPopup(V){var O=this;return(0,c.Z)(function*(){return jn(O.auth,P.d(O._delegate,V,Jt))})()}linkWithRedirect(V){var O=this;return(0,c.Z)(function*(){return yield gt(P.aH(O.auth)),P.g(O._delegate,V,Jt)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var O=this;return(0,c.Z)(function*(){return jn(O.auth,P.a1(O._delegate,V))})()}reauthenticateWithPhoneNumber(V,O){return fs(this.auth,P.r(this._delegate,V,O))}reauthenticateWithPopup(V){return jn(this.auth,P.e(this._delegate,V,Jt))}reauthenticateWithRedirect(V){var O=this;return(0,c.Z)(function*(){return yield gt(P.aH(O.auth)),P.h(O._delegate,V,Jt)})()}sendEmailVerification(V){return P.ae(this._delegate,V)}unlink(V){var O=this;return(0,c.Z)(function*(){return yield P.an(O._delegate,V),O})()}updateEmail(V){return P.aj(this._delegate,V)}updatePassword(V){return P.ak(this._delegate,V)}updatePhoneNumber(V){return P.u(this._delegate,V)}updateProfile(V){return P.ai(this._delegate,V)}verifyBeforeUpdateEmail(V,O){return P.af(this._delegate,V,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ii.USER_MAP=new WeakMap;const Ln=P.aA;let hi=(()=>{class F{constructor(O,te){if(this.app=O,te.isInitialized())return this._delegate=te.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:we}=O.options;Ln(we,"invalid-api-key",{appName:O.name}),Ln(we,"invalid-api-key",{appName:O.name});const Ke=typeof window<"u"?Jt:void 0;this._delegate=te.initialize({options:{persistence:Ci(we,O.name),popupRedirectResolver:Ke}}),this._delegate._updateErrorMap(P.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ii.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,te){P.I(this._delegate,O,te)}applyActionCode(O){return P.a5(this._delegate,O)}checkActionCode(O){return P.a6(this._delegate,O)}confirmPasswordReset(O,te){return P.a4(this._delegate,O,te)}createUserWithEmailAndPassword(O,te){var we=this;return(0,c.Z)(function*(){return jn(we._delegate,P.a8(we._delegate,O,te))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return P.ad(this._delegate,O)}isSignInWithEmailLink(O){return P.ab(this._delegate,O)}getRedirectResult(){var O=this;return(0,c.Z)(function*(){Ln(yn(),O._delegate,"operation-not-supported-in-this-environment");const te=yield P.j(O._delegate,Jt);return te?jn(O._delegate,Promise.resolve(te)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function Ce(F,V){(0,P.aH)(F)._logFramework(V)}(this._delegate,O)}onAuthStateChanged(O,te,we){const{next:Ke,error:wt,complete:yt}=$n(O,te,we);return this._delegate.onAuthStateChanged(Ke,wt,yt)}onIdTokenChanged(O,te,we){const{next:Ke,error:wt,complete:yt}=$n(O,te,we);return this._delegate.onIdTokenChanged(Ke,wt,yt)}sendSignInLinkToEmail(O,te){return P.aa(this._delegate,O,te)}sendPasswordResetEmail(O,te){return P.a3(this._delegate,O,te||void 0)}setPersistence(O){var te=this;return(0,c.Z)(function*(){let we;switch(function Je(F,V){Er(Object.values(ni).includes(V),F,"invalid-persistence-type"),(0,ee.b$)()?Er(V!==ni.SESSION,F,"unsupported-persistence-type"):(0,ee.UG)()?Er(V===ni.NONE,F,"unsupported-persistence-type"):zn()?Er(V===ni.NONE||V===ni.LOCAL&&(0,ee.hl)(),F,"unsupported-persistence-type"):Er(V===ni.NONE||Xn(),F,"unsupported-persistence-type")}(te._delegate,O),O){case ni.SESSION:we=P.a;break;case ni.LOCAL:we=(yield P.aC(P.i)._isAvailable())?P.i:P.b;break;case ni.NONE:we=P.N;break;default:return P.av("argument-error",{appName:te._delegate.name})}return te._delegate.setPersistence(we)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return jn(this._delegate,P._(this._delegate))}signInWithCredential(O){return jn(this._delegate,P.$(this._delegate,O))}signInWithCustomToken(O){return jn(this._delegate,P.a2(this._delegate,O))}signInWithEmailAndPassword(O,te){return jn(this._delegate,P.a9(this._delegate,O,te))}signInWithEmailLink(O,te){return jn(this._delegate,P.ac(this._delegate,O,te))}signInWithPhoneNumber(O,te){return fs(this._delegate,P.s(this._delegate,O,te))}signInWithPopup(O){var te=this;return(0,c.Z)(function*(){return Ln(yn(),te._delegate,"operation-not-supported-in-this-environment"),jn(te._delegate,P.c(te._delegate,O,Jt))})()}signInWithRedirect(O){var te=this;return(0,c.Z)(function*(){return Ln(yn(),te._delegate,"operation-not-supported-in-this-environment"),yield gt(te._delegate),P.f(te._delegate,O,Jt)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return P.a7(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=ni,F})();function $n(F,V,O){let te=F;"function"!=typeof F&&({next:te,error:V,complete:O}=F);const we=te;return{next:wt=>we(wt&&ii.getOrCreate(wt)),error:V,complete:O}}function Ci(F,V){const O=function nn(F,V){const O=Ei();if(!O)return[];const te=P.aD(Qs,F,V);switch(O.getItem(te)){case ni.NONE:return[P.N];case ni.LOCAL:return[P.i,P.a];case ni.SESSION:return[P.a];default:return[]}}(F,V);if(typeof self<"u"&&!O.includes(P.i)&&O.push(P.i),typeof window<"u")for(const te of[P.b,P.a])O.includes(te)||O.push(te);return O.includes(P.N)||O.push(P.N),O}class Gn{constructor(){this.providerId="phone",this._delegate=new P.P(ui($.Z.auth()))}static credential(V,O){return P.P.credential(V,O)}verifyPhoneNumber(V,O){return this._delegate.verifyPhoneNumber(V,O)}unwrap(){return this._delegate}}Gn.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Gn.PROVIDER_ID=P.P.PROVIDER_ID;const Cr=P.aA;class rn{constructor(V,O,te=$.Z.app()){var we;Cr(null===(we=te.options)||void 0===we?void 0:we.apiKey,"invalid-api-key",{appName:te.name}),this._delegate=new P.R(V,O,te.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function G(F){F.INTERNAL.registerComponent(new xe.wA("auth-compat",V=>{const O=V.getProvider("app-compat").getImmediate(),te=V.getProvider("auth");return new hi(O,te)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.Q,FacebookAuthProvider:P.U,GithubAuthProvider:P.W,GoogleAuthProvider:P.V,OAuthProvider:P.X,SAMLAuthProvider:P.Y,PhoneAuthProvider:Gn,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:rn,TwitterAuthProvider:P.Z,Auth:hi,AuthCredential:P.J,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.4.2")}($.Z)},5861:(pt,De,B)=>{function c(P,ee,ce,ae,xe,Me,be){try{var q=P[Me](be),Z=q.value}catch(oe){return void ce(oe)}q.done?ee(Z):Promise.resolve(Z).then(ae,xe)}function $(P){return function(){var ee=this,ce=arguments;return new Promise(function(ae,xe){var Me=P.apply(ee,ce);function be(Z){c(Me,ae,xe,be,q,"next",Z)}function q(Z){c(Me,ae,xe,be,q,"throw",Z)}be(void 0)})}}B.d(De,{Z:()=>$})},7582:(pt,De,B)=>{function ee(fe,_e){var Ce={};for(var he in fe)Object.prototype.hasOwnProperty.call(fe,he)&&_e.indexOf(he)<0&&(Ce[he]=fe[he]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(he=Object.getOwnPropertySymbols(fe);Se<he.length;Se++)_e.indexOf(he[Se])<0&&Object.prototype.propertyIsEnumerable.call(fe,he[Se])&&(Ce[he[Se]]=fe[he[Se]])}return Ce}function oe(fe,_e,Ce,he){return new(Ce||(Ce=Promise))(function(ze,tt){function dt(dn){try{Mt(he.next(dn))}catch($t){tt($t)}}function vn(dn){try{Mt(he.throw(dn))}catch($t){tt($t)}}function Mt(dn){dn.done?ze(dn.value):function Se(ze){return ze instanceof Ce?ze:new Ce(function(tt){tt(ze)})}(dn.value).then(dt,vn)}Mt((he=he.apply(fe,_e||[])).next())})}function re(fe){return this instanceof re?(this.v=fe,this):new re(fe)}function Ie(fe,_e,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,he=Ce.apply(fe,_e||[]),ze=[];return Se={},tt("next"),tt("throw"),tt("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function tt(xn){he[xn]&&(Se[xn]=function(Xn){return new Promise(function(zn,yn){ze.push([xn,Xn,zn,yn])>1||dt(xn,Xn)})})}function dt(xn,Xn){try{!function vn(xn){xn.value instanceof re?Promise.resolve(xn.value.v).then(Mt,dn):$t(ze[0][2],xn)}(he[xn](Xn))}catch(zn){$t(ze[0][3],zn)}}function Mt(xn){dt("next",xn)}function dn(xn){dt("throw",xn)}function $t(xn,Xn){xn(Xn),ze.shift(),ze.length&&dt(ze[0][0],ze[0][1])}}function ye(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,_e=fe[Symbol.asyncIterator];return _e?_e.call(fe):(fe=function Oe(fe){var _e="function"==typeof Symbol&&Symbol.iterator,Ce=_e&&fe[_e],he=0;if(Ce)return Ce.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&he>=fe.length&&(fe=void 0),{value:fe&&fe[he++],done:!fe}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),Ce={},he("next"),he("throw"),he("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function he(ze){Ce[ze]=fe[ze]&&function(tt){return new Promise(function(dt,vn){!function Se(ze,tt,dt,vn){Promise.resolve(vn).then(function(Mt){ze({value:Mt,done:dt})},tt)}(dt,vn,(tt=fe[ze](tt)).done,tt.value)})}}}B.d(De,{FC:()=>Ie,KL:()=>ye,_T:()=>ee,mG:()=>oe,qq:()=>re}),"function"==typeof SuppressedError&&SuppressedError}},pt=>{pt(pt.s=798)}]);