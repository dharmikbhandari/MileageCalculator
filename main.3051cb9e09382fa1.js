(self.webpackChunkmileageCalculator=self.webpackChunkmileageCalculator||[]).push([[179],{6304:(wt,Pe,x)=>{"use strict";x.d(Pe,{Dh:()=>Se,GT:()=>ve,cc:()=>re,hO:()=>ee,on:()=>j,pX:()=>oe,xv:()=>le});var c=x(5879),K=x(7142),P=x(8186);wt=x.hmd(wt);const ce=["ngOnDestroy"],oe=(G,Ae,je,Z={})=>new Proxy(G,{get:(fe,X)=>je.runOutsideAngular(()=>{var pe;if(G[X])return!(null===(pe=Z?.spy)||void 0===pe)&&pe.get&&Z.spy.get(X,G[X]),G[X];if(ce.indexOf(X)>-1)return()=>{};const te=Ae.toPromise().then(me=>{const Q=me&&me[X];return"function"==typeof Q?Q.bind(me):Q&&Q.then?Q.then(ye=>je.run(()=>ye)):je.run(()=>Q)});return new Proxy(()=>{},{get:(me,Q)=>te[Q],apply:(me,Q,ye)=>te.then(ke=>{var ze;const qe=ke&&ke(...ye);return!(null===(ze=Z?.spy)||void 0===ze)&&ze.apply&&Z.spy.apply(X,ye,qe),qe})})})}),ve=(G,Ae)=>{Ae.forEach(je=>{Object.getOwnPropertyNames(je.prototype||je).forEach(Z=>{Object.defineProperty(G.prototype,Z,Object.getOwnPropertyDescriptor(je.prototype||je,Z))})})};class Y{constructor(Ae){return Ae}}const Se=new c.OlP("angularfire2.app.options"),le=new c.OlP("angularfire2.app.name");function j(G,Ae,je){const fe="object"==typeof je&&je||{};fe.name=fe.name||"string"==typeof je&&je||"[DEFAULT]";const pe=K.Z.apps.filter(te=>te&&te.name===fe.name)[0]||Ae.runOutsideAngular(()=>K.Z.initializeApp(G,fe));try{JSON.stringify(G)!==JSON.stringify(pe.options)&&B("error",`${pe.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Y(pe)}const B=(G,...Ae)=>{(0,c.X6Q)()&&typeof console<"u"&&console[G](...Ae)},z={provide:Y,useFactory:j,deps:[Se,c.R0b,[new c.FiY,le]]};let ee=(()=>{class G{constructor(je){K.Z.registerVersion("angularfire",P.q4.full,"core"),K.Z.registerVersion("angularfire",P.q4.full,"app-compat"),K.Z.registerVersion("angular",c.q4F.full,je.toString())}static initializeApp(je,Z){return{ngModule:G,providers:[{provide:Se,useValue:je},{provide:le,useValue:Z}]}}}return G.\u0275fac=function(je){return new(je||G)(c.LFG(c.Lbi))},G.\u0275mod=c.oAB({type:G}),G.\u0275inj=c.cJS({providers:[z]}),G})();function re(G,Ae,je,Z,fe){const[,X,pe]=globalThis.\u0275AngularfireInstanceCache.find(te=>te[0]===G)||[];if(X)return function De(G,Ae){try{return G.toString()===Ae.toString()}catch{return G===Ae}}(fe,pe)||(ue("error",`${Ae} was already initialized on the ${je} Firebase App with different settings.${_e?" You may need to reload as Firebase is not HMR aware.":""}`),ue("warn",{is:fe,was:pe})),X;{const te=Z();return globalThis.\u0275AngularfireInstanceCache.push([G,te,fe]),te}}const _e=!!wt.hot,ue=(G,...Ae)=>{(0,c.X6Q)()&&typeof console<"u"&&console[G](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(wt,Pe,x)=>{"use strict";x.d(Pe,{q4:()=>yc,iC:()=>ma,HU:()=>el,vb:()=>ys,JM:()=>Ul});var c=x(5879),K=x(3182),P=x(5861),ce=x(534),oe=x(9058),ve=x(4537),Y=x(7879);const Se=(w,b)=>b.some(M=>w instanceof M);let le,j;const ee=new WeakMap,re=new WeakMap,De=new WeakMap,_e=new WeakMap,ue=new WeakMap;let je={get(w,b,M){if(w instanceof IDBTransaction){if("done"===b)return re.get(w);if("objectStoreNames"===b)return w.objectStoreNames||De.get(w);if("store"===b)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return pe(w[b])},set:(w,b,M)=>(w[b]=M,!0),has:(w,b)=>w instanceof IDBTransaction&&("done"===b||"store"===b)||b in w};function X(w){return"function"==typeof w?function fe(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function z(){return j||(j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...b){return w.apply(te(this),b),pe(ee.get(this))}:function(...b){return pe(w.apply(te(this),b))}:function(b,...M){const L=w.call(te(this),b,...M);return De.set(L,b.sort?b.sort():[b]),pe(L)}}(w):(w instanceof IDBTransaction&&function Ae(w){if(re.has(w))return;const b=new Promise((M,L)=>{const se=()=>{w.removeEventListener("complete",Ee),w.removeEventListener("error",Ge),w.removeEventListener("abort",Ge)},Ee=()=>{M(),se()},Ge=()=>{L(w.error||new DOMException("AbortError","AbortError")),se()};w.addEventListener("complete",Ee),w.addEventListener("error",Ge),w.addEventListener("abort",Ge)});re.set(w,b)}(w),Se(w,function B(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,je):w)}function pe(w){if(w instanceof IDBRequest)return function G(w){const b=new Promise((M,L)=>{const se=()=>{w.removeEventListener("success",Ee),w.removeEventListener("error",Ge)},Ee=()=>{M(pe(w.result)),se()},Ge=()=>{L(w.error),se()};w.addEventListener("success",Ee),w.addEventListener("error",Ge)});return b.then(M=>{M instanceof IDBCursor&&ee.set(M,w)}).catch(()=>{}),ue.set(b,w),b}(w);if(_e.has(w))return _e.get(w);const b=X(w);return b!==w&&(_e.set(w,b),ue.set(b,w)),b}const te=w=>ue.get(w),ye=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],ze=new Map;function qe(w,b){if(!(w instanceof IDBDatabase)||b in w||"string"!=typeof b)return;if(ze.get(b))return ze.get(b);const M=b.replace(/FromIndex$/,""),L=b!==M,se=ke.includes(M);if(!(M in(L?IDBIndex:IDBObjectStore).prototype)||!se&&!ye.includes(M))return;const Ee=function(){var Ge=(0,P.Z)(function*(It,...pt){const Nt=this.transaction(It,se?"readwrite":"readonly");let an=Nt.store;return L&&(an=an.index(pt.shift())),(yield Promise.all([an[M](...pt),se&&Nt.done]))[0]});return function(pt){return Ge.apply(this,arguments)}}();return ze.set(b,Ee),Ee}!function Z(w){je=w(je)}(w=>({...w,get:(b,M,L)=>qe(b,M)||w.get(b,M,L),has:(b,M)=>!!qe(b,M)||w.has(b,M)}));const St="@firebase/installations",Bt="0.6.4",Xt=1e4,We=`w:${Bt}`,$="FIS_v2",H="https://firebaseinstallations.googleapis.com/v1",ie=36e5,at=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(w){return w instanceof oe.ZR&&w.code.includes("request-failed")}function mt({projectId:w}){return`${H}/projects/${w}/installations`}function Fe(w){return{token:w.token,requestStatus:2,expiresIn:en(w.expiresIn),creationTime:Date.now()}}function Ve(w,b){return Le.apply(this,arguments)}function Le(){return(Le=(0,P.Z)(function*(w,b){const L=(yield b.json()).error;return at.create("request-failed",{requestName:w,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function ot({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function zt(w){return $t.apply(this,arguments)}function $t(){return($t=(0,P.Z)(function*(w){const b=yield w();return b.status>=500&&b.status<600?w():b})).apply(this,arguments)}function en(w){return Number(w.replace("s","000"))}function Hn(){return(Hn=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:b},{fid:M}){const L=mt(w),se=ot(w),Ee=b.getImmediate({optional:!0});if(Ee){const Nt=yield Ee.getHeartbeatsHeader();Nt&&se.append("x-firebase-client",Nt)}const It={method:"POST",headers:se,body:JSON.stringify({fid:M,authVersion:$,appId:w.appId,sdkVersion:We})},pt=yield zt(()=>fetch(L,It));if(pt.ok){const Nt=yield pt.json();return{fid:Nt.fid||M,registrationStatus:2,refreshToken:Nt.refreshToken,authToken:Fe(Nt.authToken)}}throw yield Ve("Create Installation",pt)})).apply(this,arguments)}function $n(w){return new Promise(b=>{setTimeout(b,w)})}const ar=/^[cdef][\w-]{21}$/,yt="";function Ft(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const M=function Ut(w){return function mi(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return ar.test(M)?M:yt}catch{return yt}}function xn(w){return`${w.appName}!${w.appId}`}const zn=new Map;function Pr(w,b){const M=xn(w);Rr(M,b),function Mn(w,b){const M=function ln(){return!Ir&&"BroadcastChannel"in self&&(Ir=new BroadcastChannel("[Firebase] FID Change"),Ir.onmessage=w=>{Rr(w.data.key,w.data.fid)}),Ir}();M&&M.postMessage({key:w,fid:b}),function xi(){0===zn.size&&Ir&&(Ir.close(),Ir=null)}()}(M,b)}function Rr(w,b){const M=zn.get(w);if(M)for(const L of M)L(b)}let Ir=null;const ao="firebase-installations-database",lo=1,qr="firebase-installations-store";let yi=null;function Er(){return yi||(yi=function me(w,b,{blocked:M,upgrade:L,blocking:se,terminated:Ee}={}){const Ge=indexedDB.open(w,b),It=pe(Ge);return L&&Ge.addEventListener("upgradeneeded",pt=>{L(pe(Ge.result),pt.oldVersion,pt.newVersion,pe(Ge.transaction))}),M&&Ge.addEventListener("blocked",()=>M()),It.then(pt=>{Ee&&pt.addEventListener("close",()=>Ee()),se&&pt.addEventListener("versionchange",()=>se())}).catch(()=>{}),It}(ao,lo,{upgrade:(w,b)=>{0===b&&w.createObjectStore(qr)}})),yi}function lr(w,b){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,P.Z)(function*(w,b){const M=xn(w),se=(yield Er()).transaction(qr,"readwrite"),Ee=se.objectStore(qr),Ge=yield Ee.get(M);return yield Ee.put(b,M),yield se.done,(!Ge||Ge.fid!==b.fid)&&Pr(w,b.fid),b})).apply(this,arguments)}function Ri(w){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,P.Z)(function*(w){const b=xn(w),L=(yield Er()).transaction(qr,"readwrite");yield L.objectStore(qr).delete(b),yield L.done})).apply(this,arguments)}function kr(w,b){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,P.Z)(function*(w,b){const M=xn(w),se=(yield Er()).transaction(qr,"readwrite"),Ee=se.objectStore(qr),Ge=yield Ee.get(M),It=b(Ge);return void 0===It?yield Ee.delete(M):yield Ee.put(It,M),yield se.done,It&&(!Ge||Ge.fid!==It.fid)&&Pr(w,It.fid),It})).apply(this,arguments)}function J(w){return q.apply(this,arguments)}function q(){return q=(0,P.Z)(function*(w){let b;const M=yield kr(w.appConfig,L=>{const se=function de(w){return Nn(w||{fid:Ft(),registrationStatus:0})}(L),Ee=function Ye(w,b){if(0===b.registrationStatus){if(!navigator.onLine)return{installationEntry:b,registrationPromise:Promise.reject(at.create("app-offline"))};const M={fid:b.fid,registrationStatus:1,registrationTime:Date.now()},L=function Oe(w,b){return At.apply(this,arguments)}(w,M);return{installationEntry:M,registrationPromise:L}}return 1===b.registrationStatus?{installationEntry:b,registrationPromise:Vt(w)}:{installationEntry:b}}(w,se);return b=Ee.registrationPromise,Ee.installationEntry});return M.fid===yt?{installationEntry:yield b}:{installationEntry:M,registrationPromise:b}}),q.apply(this,arguments)}function At(){return At=(0,P.Z)(function*(w,b){try{const M=yield function kn(w,b){return Hn.apply(this,arguments)}(w,b);return lr(w.appConfig,M)}catch(M){throw st(M)&&409===M.customData.serverCode?yield Ri(w.appConfig):yield lr(w.appConfig,{fid:b.fid,registrationStatus:0}),M}}),At.apply(this,arguments)}function Vt(w){return tn.apply(this,arguments)}function tn(){return(tn=(0,P.Z)(function*(w){let b=yield Un(w.appConfig);for(;1===b.registrationStatus;)yield $n(100),b=yield Un(w.appConfig);if(0===b.registrationStatus){const{installationEntry:M,registrationPromise:L}=yield J(w);return L||M}return b})).apply(this,arguments)}function Un(w){return kr(w,b=>{if(!b)throw at.create("installation-not-found");return Nn(b)})}function Nn(w){return function Wt(w){return 1===w.registrationStatus&&w.registrationTime+Xt<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function wr(){return(wr=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:b},M){const L=function ti(w,{fid:b}){return`${mt(w)}/${b}/authTokens:generate`}(w,M),se=function ft(w,{refreshToken:b}){const M=ot(w);return M.append("Authorization",function fn(w){return`${$} ${w}`}(b)),M}(w,M),Ee=b.getImmediate({optional:!0});if(Ee){const Nt=yield Ee.getHeartbeatsHeader();Nt&&se.append("x-firebase-client",Nt)}const It={method:"POST",headers:se,body:JSON.stringify({installation:{sdkVersion:We,appId:w.appId}})},pt=yield zt(()=>fetch(L,It));if(pt.ok)return Fe(yield pt.json());throw yield Ve("Generate Auth Token",pt)})).apply(this,arguments)}function zi(w){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,P.Z)(function*(w,b=!1){let M;const L=yield kr(w.appConfig,Ee=>{if(!nn(Ee))throw at.create("not-registered");const Ge=Ee.authToken;if(!b&&function vn(w){return 2===w.requestStatus&&!function Jn(w){const b=Date.now();return b<w.creationTime||w.creationTime+w.expiresIn<b+ie}(w)}(Ge))return Ee;if(1===Ge.requestStatus)return M=function Be(w,b){return xe.apply(this,arguments)}(w,b),Ee;{if(!navigator.onLine)throw at.create("app-offline");const It=function er(w){const b={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:b})}(Ee);return M=function Ot(w,b){return jt.apply(this,arguments)}(w,It),It}});return M?yield M:L.authToken}),Fr.apply(this,arguments)}function xe(){return(xe=(0,P.Z)(function*(w,b){let M=yield nt(w.appConfig);for(;1===M.authToken.requestStatus;)yield $n(100),M=yield nt(w.appConfig);const L=M.authToken;return 0===L.requestStatus?zi(w,b):L})).apply(this,arguments)}function nt(w){return kr(w,b=>{if(!nn(b))throw at.create("not-registered");return function Gn(w){return 1===w.requestStatus&&w.requestTime+Xt<Date.now()}(b.authToken)?Object.assign(Object.assign({},b),{authToken:{requestStatus:0}}):b})}function jt(){return jt=(0,P.Z)(function*(w,b){try{const M=yield function En(w,b){return wr.apply(this,arguments)}(w,b),L=Object.assign(Object.assign({},b),{authToken:M});return yield lr(w.appConfig,L),M}catch(M){if(!st(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const L=Object.assign(Object.assign({},b),{authToken:{requestStatus:0}});yield lr(w.appConfig,L)}else yield Ri(w.appConfig);throw M}}),jt.apply(this,arguments)}function nn(w){return void 0!==w&&2===w.registrationStatus}function bn(){return(bn=(0,P.Z)(function*(w){const b=w,{installationEntry:M,registrationPromise:L}=yield J(b);return L?L.catch(console.error):zi(b).catch(console.error),M.fid})).apply(this,arguments)}function jr(){return jr=(0,P.Z)(function*(w,b=!1){const M=w;return yield function ea(w){return ni.apply(this,arguments)}(M),(yield zi(M,b)).token}),jr.apply(this,arguments)}function ni(){return(ni=(0,P.Z)(function*(w){const{registrationPromise:b}=yield J(w);b&&(yield b)})).apply(this,arguments)}function O(w){return at.create("missing-app-config-values",{valueName:w})}const V="installations",W=w=>{const b=w.getProvider("app").getImmediate(),M=function Vo(w){if(!w||!w.options)throw O("App Configuration");if(!w.name)throw O("App Name");const b=["projectId","apiKey","appId"];for(const M of b)if(!w.options[M])throw O(M);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(b);return{app:b,appConfig:M,heartbeatServiceProvider:(0,ce._getProvider)(b,"heartbeat"),_delete:()=>Promise.resolve()}},he=w=>{const b=w.getProvider("app").getImmediate(),M=(0,ce._getProvider)(b,V).getImmediate();return{getId:()=>function Zn(w){return bn.apply(this,arguments)}(M),getToken:se=>function Oa(w){return jr.apply(this,arguments)}(M,se)}};(function Ie(){(0,ce._registerComponent)(new ve.wA(V,W,"PUBLIC")),(0,ce._registerComponent)(new ve.wA("installations-internal",he,"PRIVATE"))})(),(0,ce.registerVersion)(St,Bt),(0,ce.registerVersion)(St,Bt,"esm2017");const He="@firebase/remote-config",vt=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Oi{constructor(b,M,L,se){this.client=b,this.storage=M,this.storageCache=L,this.logger=se}isCachedDataFresh(b,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-M,se=L<=b;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${b}. Is cache hit: ${se}.`),se}fetch(b){var M=this;return(0,P.Z)(function*(){const[L,se]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(se&&M.isCachedDataFresh(b.cacheMaxAgeMillis,L))return se;b.eTag=se&&se.eTag;const Ee=yield M.client.fetch(b),Ge=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ee.status&&Ge.push(M.storage.setLastSuccessfulFetchResponse(Ee)),yield Promise.all(Ge),Ee})()}}function $d(w=navigator){return w.languages&&w.languages[0]||w.language}class Uo{constructor(b,M,L,se,Ee,Ge){this.firebaseInstallations=b,this.sdkVersion=M,this.namespace=L,this.projectId=se,this.apiKey=Ee,this.appId=Ge}fetch(b){var M=this;return(0,P.Z)(function*(){const[L,se]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,It={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":b.eTag||"*"},pt={sdk_version:M.sdkVersion,app_instance_id:L,app_instance_id_token:se,app_id:M.appId,language_code:$d()},Nt={method:"POST",headers:It,body:JSON.stringify(pt)},an=fetch(Ge,Nt),rn=new Promise((Li,_s)=>{b.signal.addEventListener(()=>{const Pu=new Error("The operation was aborted.");Pu.name="AbortError",_s(Pu)})});let Fi;try{yield Promise.race([an,rn]),Fi=yield an}catch(Li){let _s="fetch-client-network";throw"AbortError"===Li?.name&&(_s="fetch-timeout"),vt.create(_s,{originalErrorMessage:Li?.message})}let or=Fi.status;const vs=Fi.headers.get("ETag")||void 0;let ya,Hs;if(200===Fi.status){let Li;try{Li=yield Fi.json()}catch(_s){throw vt.create("fetch-client-parse",{originalErrorMessage:_s?.message})}ya=Li.entries,Hs=Li.state}if("INSTANCE_STATE_UNSPECIFIED"===Hs?or=500:"NO_CHANGE"===Hs?or=304:("NO_TEMPLATE"===Hs||"EMPTY_CONFIG"===Hs)&&(ya={}),304!==or&&200!==or)throw vt.create("fetch-status",{httpStatus:or});return{status:or,eTag:vs,config:ya}})()}}class El{constructor(b,M){this.client=b,this.storage=M}fetch(b){var M=this;return(0,P.Z)(function*(){const L=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(b,L)})()}attemptFetch(b,{throttleEndTimeMillis:M,backoffCount:L}){var se=this;return(0,P.Z)(function*(){yield function fr(w,b){return new Promise((M,L)=>{const se=Math.max(b-Date.now(),0),Ee=setTimeout(M,se);w.addEventListener(()=>{clearTimeout(Ee),L(vt.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(b.signal,M);try{const Ee=yield se.client.fetch(b);return yield se.storage.deleteThrottleMetadata(),Ee}catch(Ee){if(!function Pa(w){if(!(w instanceof oe.ZR&&w.customData))return!1;const b=Number(w.customData.httpStatus);return 429===b||500===b||503===b||504===b}(Ee))throw Ee;const Ge={throttleEndTimeMillis:Date.now()+(0,oe.$s)(L),backoffCount:L+1};return yield se.storage.setThrottleMetadata(Ge),se.attemptFetch(b,Ge)}})()}}class Vd{constructor(b,M,L,se,Ee){this.app=b,this._client=M,this._storageCache=L,this._storage=se,this._logger=Ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ki(w,b){const M=w.target.error||void 0;return vt.create(b,{originalErrorMessage:M&&M?.message})}const Dr="app_namespace_store";class WI{constructor(b,M,L,se=function Dn(){return new Promise((w,b)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=L=>{b(Ki(L,"storage-open"))},M.onsuccess=L=>{w(L.target.result)},M.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Dr,{keyPath:"compositeKey"})}}catch(M){b(vt.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=b,this.appName=M,this.namespace=L,this.openDbPromise=se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(b){return this.set("last_fetch_status",b)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(b){return this.set("last_successful_fetch_timestamp_millis",b)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(b){return this.set("last_successful_fetch_response",b)}getActiveConfig(){return this.get("active_config")}setActiveConfig(b){return this.set("active_config",b)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(b){return this.set("active_config_etag",b)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(b){return this.set("throttle_metadata",b)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(b){var M=this;return(0,P.Z)(function*(){const L=yield M.openDbPromise;return new Promise((se,Ee)=>{const It=L.transaction([Dr],"readonly").objectStore(Dr),pt=M.createCompositeKey(b);try{const Nt=It.get(pt);Nt.onerror=an=>{Ee(Ki(an,"storage-get"))},Nt.onsuccess=an=>{const rn=an.target.result;se(rn?rn.value:void 0)}}catch(Nt){Ee(vt.create("storage-get",{originalErrorMessage:Nt?.message}))}})})()}set(b,M){var L=this;return(0,P.Z)(function*(){const se=yield L.openDbPromise;return new Promise((Ee,Ge)=>{const pt=se.transaction([Dr],"readwrite").objectStore(Dr),Nt=L.createCompositeKey(b);try{const an=pt.put({compositeKey:Nt,value:M});an.onerror=rn=>{Ge(Ki(rn,"storage-set"))},an.onsuccess=()=>{Ee()}}catch(an){Ge(vt.create("storage-set",{originalErrorMessage:an?.message}))}})})()}delete(b){var M=this;return(0,P.Z)(function*(){const L=yield M.openDbPromise;return new Promise((se,Ee)=>{const It=L.transaction([Dr],"readwrite").objectStore(Dr),pt=M.createCompositeKey(b);try{const Nt=It.delete(pt);Nt.onerror=an=>{Ee(Ki(an,"storage-delete"))},Nt.onsuccess=()=>{se()}}catch(Nt){Ee(vt.create("storage-delete",{originalErrorMessage:Nt?.message}))}})})()}createCompositeKey(b){return[this.appId,this.appName,this.namespace,b].join()}}class tc{constructor(b){this.storage=b}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var b=this;return(0,P.Z)(function*(){const M=b.storage.getLastFetchStatus(),L=b.storage.getLastSuccessfulFetchTimestampMillis(),se=b.storage.getActiveConfig(),Ee=yield M;Ee&&(b.lastFetchStatus=Ee);const Ge=yield L;Ge&&(b.lastSuccessfulFetchTimestampMillis=Ge);const It=yield se;It&&(b.activeConfig=It)})()}setLastFetchStatus(b){return this.lastFetchStatus=b,this.storage.setLastFetchStatus(b)}setLastSuccessfulFetchTimestampMillis(b){return this.lastSuccessfulFetchTimestampMillis=b,this.storage.setLastSuccessfulFetchTimestampMillis(b)}setActiveConfig(b){return this.activeConfig=b,this.storage.setActiveConfig(b)}}function sa(){return aa.apply(this,arguments)}function aa(){return(aa=(0,P.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function jo(){(0,ce._registerComponent)(new ve.wA("remote-config",function w(b,{instanceIdentifier:M}){const L=b.getProvider("app").getImmediate(),se=b.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw vt.create("registration-window");if(!(0,oe.hl)())throw vt.create("indexed-db-unavailable");const{projectId:Ee,apiKey:Ge,appId:It}=L.options;if(!Ee)throw vt.create("registration-project-id");if(!Ge)throw vt.create("registration-api-key");if(!It)throw vt.create("registration-app-id");const pt=new WI(It,L.name,M=M||"firebase"),Nt=new tc(pt),an=new Y.Yd(He);an.logLevel=Y.in.ERROR;const rn=new Uo(se,ce.SDK_VERSION,M,Ee,Ge,It),Fi=new El(rn,pt),or=new Oi(Fi,pt,Nt,an),vs=new Vd(L,or,Nt,pt,an);return function pn(w){const b=(0,oe.m9)(w);b._initializePromise||(b._initializePromise=b._storageCache.loadFromStorage().then(()=>{b._isInitializationComplete=!0}))}(vs),vs},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(He,"0.4.4"),(0,ce.registerVersion)(He,"0.4.4","esm2017")}();const Kr=(w,b)=>b.some(M=>w instanceof M);let Zg,br;const cs=new WeakMap,us=new WeakMap,Zr=new WeakMap,oi=new WeakMap,su=new WeakMap;let wl={get(w,b,M){if(w instanceof IDBTransaction){if("done"===b)return us.get(w);if("objectStoreNames"===b)return w.objectStoreNames||Zr.get(w);if("store"===b)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return Ho(w[b])},set:(w,b,M)=>(w[b]=M,!0),has:(w,b)=>w instanceof IDBTransaction&&("done"===b||"store"===b)||b in w};function Xg(w){return"function"==typeof w?function Pf(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fa(){return br||(br=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...b){return w.apply(au(this),b),Ho(cs.get(this))}:function(...b){return Ho(w.apply(au(this),b))}:function(b,...M){const L=w.call(au(this),b,...M);return Zr.set(L,b.sort?b.sort():[b]),Ho(L)}}(w):(w instanceof IDBTransaction&&function Ud(w){if(us.has(w))return;const b=new Promise((M,L)=>{const se=()=>{w.removeEventListener("complete",Ee),w.removeEventListener("error",Ge),w.removeEventListener("abort",Ge)},Ee=()=>{M(),se()},Ge=()=>{L(w.error||new DOMException("AbortError","AbortError")),se()};w.addEventListener("complete",Ee),w.addEventListener("error",Ge),w.addEventListener("abort",Ge)});us.set(w,b)}(w),Kr(w,function Zi(){return Zg||(Zg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,wl):w)}function Ho(w){if(w instanceof IDBRequest)return function Of(w){const b=new Promise((M,L)=>{const se=()=>{w.removeEventListener("success",Ee),w.removeEventListener("error",Ge)},Ee=()=>{M(Ho(w.result)),se()},Ge=()=>{L(w.error),se()};w.addEventListener("success",Ee),w.addEventListener("error",Ge)});return b.then(M=>{M instanceof IDBCursor&&cs.set(M,w)}).catch(()=>{}),su.set(b,w),b}(w);if(oi.has(w))return oi.get(w);const b=Xg(w);return b!==w&&(oi.set(w,b),su.set(b,w)),b}const au=w=>su.get(w);function jd(w,b,{blocked:M,upgrade:L,blocking:se,terminated:Ee}={}){const Ge=indexedDB.open(w,b),It=Ho(Ge);return L&&Ge.addEventListener("upgradeneeded",pt=>{L(Ho(Ge.result),pt.oldVersion,pt.newVersion,Ho(Ge.transaction))}),M&&Ge.addEventListener("blocked",()=>M()),It.then(pt=>{Ee&&pt.addEventListener("close",()=>Ee()),se&&pt.addEventListener("versionchange",()=>se())}).catch(()=>{}),It}function Dl(w,{blocked:b}={}){const M=indexedDB.deleteDatabase(w);return b&&M.addEventListener("blocked",()=>b()),Ho(M).then(()=>{})}const Hd=["get","getKey","getAll","getAllKeys","count"],kf=["put","add","delete","clear"],lu=new Map;function Ff(w,b){if(!(w instanceof IDBDatabase)||b in w||"string"!=typeof b)return;if(lu.get(b))return lu.get(b);const M=b.replace(/FromIndex$/,""),L=b!==M,se=kf.includes(M);if(!(M in(L?IDBIndex:IDBObjectStore).prototype)||!se&&!Hd.includes(M))return;const Ee=function(){var Ge=(0,P.Z)(function*(It,...pt){const Nt=this.transaction(It,se?"readwrite":"readonly");let an=Nt.store;return L&&(an=an.index(pt.shift())),(yield Promise.all([an[M](...pt),se&&Nt.done]))[0]});return function(pt){return Ge.apply(this,arguments)}}();return lu.set(b,Ee),Ee}!function Nf(w){wl=w(wl)}(w=>({...w,get:(b,M,L)=>Ff(b,M)||w.get(b,M,L),has:(b,M)=>!!Ff(b,M)||w.has(b,M)}));const zd="/firebase-messaging-sw.js",cu="/firebase-cloud-messaging-push-scope",bl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Gd="https://fcmregistrations.googleapis.com/v1",Wd="google.c.a.c_id",Cr="google.c.a.c_l",Lf="google.c.a.ts";var Ba=(()=>((Ba=Ba||{}).PUSH_RECEIVED="push-received",Ba.NOTIFICATION_CLICKED="notification-clicked",Ba))();function uo(w){const b=new Uint8Array(w);return btoa(String.fromCharCode(...b)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Cl(w){const M=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(M),se=new Uint8Array(L.length);for(let Ee=0;Ee<L.length;++Ee)se[Ee]=L.charCodeAt(Ee);return se}const Sl="fcm_token_details_db",Yd=5,$a="fcm_token_object_Store";function Va(){return Va=(0,P.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ee=>Ee.name).includes(Sl))return null;let b=null;return(yield jd(Sl,Yd,{upgrade:(L=(0,P.Z)(function*(se,Ee,Ge,It){var pt;if(Ee<2||!se.objectStoreNames.contains($a))return;const Nt=It.objectStore($a),an=yield Nt.index("fcmSenderId").get(w);if(yield Nt.clear(),an)if(2===Ee){const rn=an;if(!rn.auth||!rn.p256dh||!rn.endpoint)return;b={token:rn.fcmToken,createTime:null!==(pt=rn.createTime)&&void 0!==pt?pt:Date.now(),subscriptionOptions:{auth:rn.auth,p256dh:rn.p256dh,endpoint:rn.endpoint,swScope:rn.swScope,vapidKey:"string"==typeof rn.vapidKey?rn.vapidKey:uo(rn.vapidKey)}}}else if(3===Ee){const rn=an;b={token:rn.fcmToken,createTime:rn.createTime,subscriptionOptions:{auth:uo(rn.auth),p256dh:uo(rn.p256dh),endpoint:rn.endpoint,swScope:rn.swScope,vapidKey:uo(rn.vapidKey)}}}else if(4===Ee){const rn=an;b={token:rn.fcmToken,createTime:rn.createTime,subscriptionOptions:{auth:uo(rn.auth),p256dh:uo(rn.p256dh),endpoint:rn.endpoint,swScope:rn.swScope,vapidKey:uo(rn.vapidKey)}}}}),function(Ee,Ge,It,pt){return L.apply(this,arguments)})})).close(),yield Dl(Sl),yield Dl("fcm_vapid_details_db"),yield Dl("undefined"),function zo(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:b}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof b.auth&&b.auth.length>0&&"string"==typeof b.p256dh&&b.p256dh.length>0&&"string"==typeof b.endpoint&&b.endpoint.length>0&&"string"==typeof b.swScope&&b.swScope.length>0&&"string"==typeof b.vapidKey&&b.vapidKey.length>0}(b)?b:null;var L}),Va.apply(this,arguments)}const Ua="firebase-messaging-database",Or=1,Pi="firebase-messaging-store";let Kd=null;function ja(){return Kd||(Kd=jd(Ua,Or,{upgrade:(w,b)=>{0===b&&w.createObjectStore(Pi)}})),Kd}function Tl(w){return ds.apply(this,arguments)}function ds(){return ds=(0,P.Z)(function*(w){const b=nc(w),L=yield(yield ja()).transaction(Pi).objectStore(Pi).get(b);if(L)return L;{const se=yield function Bv(w){return Va.apply(this,arguments)}(w.appConfig.senderId);if(se)return yield Zd(w,se),se}}),ds.apply(this,arguments)}function Zd(w,b){return uu.apply(this,arguments)}function uu(){return(uu=(0,P.Z)(function*(w,b){const M=nc(w),se=(yield ja()).transaction(Pi,"readwrite");return yield se.objectStore(Pi).put(b,M),yield se.done,b})).apply(this,arguments)}function Ha(){return(Ha=(0,P.Z)(function*(w){const b=nc(w),L=(yield ja()).transaction(Pi,"readwrite");yield L.objectStore(Pi).delete(b),yield L.done})).apply(this,arguments)}function nc({appConfig:w}){return w.appId}const si=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Bf(w,b){return $f.apply(this,arguments)}function $f(){return($f=(0,P.Z)(function*(w,b){const M=yield rc(w),L=Vf(b),se={method:"POST",headers:M,body:JSON.stringify(L)};let Ee;try{Ee=yield(yield fetch(za(w.appConfig),se)).json()}catch(Ge){throw si.create("token-subscribe-failed",{errorInfo:Ge?.toString()})}if(Ee.error)throw si.create("token-subscribe-failed",{errorInfo:Ee.error.message});if(!Ee.token)throw si.create("token-subscribe-no-token");return Ee.token})).apply(this,arguments)}function hu(){return(hu=(0,P.Z)(function*(w,b){const M=yield rc(w),L=Vf(b.subscriptionOptions),se={method:"PATCH",headers:M,body:JSON.stringify(L)};let Ee;try{Ee=yield(yield fetch(`${za(w.appConfig)}/${b.token}`,se)).json()}catch(Ge){throw si.create("token-update-failed",{errorInfo:Ge?.toString()})}if(Ee.error)throw si.create("token-update-failed",{errorInfo:Ee.error.message});if(!Ee.token)throw si.create("token-update-no-token");return Ee.token})).apply(this,arguments)}function fu(w,b){return pu.apply(this,arguments)}function pu(){return(pu=(0,P.Z)(function*(w,b){const L={method:"DELETE",headers:yield rc(w)};try{const Ee=yield(yield fetch(`${za(w.appConfig)}/${b}`,L)).json();if(Ee.error)throw si.create("token-unsubscribe-failed",{errorInfo:Ee.error.message})}catch(se){throw si.create("token-unsubscribe-failed",{errorInfo:se?.toString()})}})).apply(this,arguments)}function za({projectId:w}){return`${Gd}/projects/${w}/registrations`}function rc(w){return Al.apply(this,arguments)}function Al(){return(Al=(0,P.Z)(function*({appConfig:w,installations:b}){const M=yield b.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Vf({p256dh:w,auth:b,endpoint:M,vapidKey:L}){const se={web:{endpoint:M,auth:b,p256dh:w}};return L!==bl&&(se.web.applicationPubKey=L),se}const gu=6048e5;function ic(){return ic=(0,P.Z)(function*(w){const b=yield function xl(w,b){return Ga.apply(this,arguments)}(w.swRegistration,w.vapidKey),M={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:b.endpoint,auth:uo(b.getKey("auth")),p256dh:uo(b.getKey("p256dh"))},L=yield Tl(w.firebaseDependencies);if(L){if(function ai(w,b){return b.vapidKey===w.vapidKey&&b.endpoint===w.endpoint&&b.auth===w.auth&&b.p256dh===w.p256dh}(L.subscriptionOptions,M))return Date.now()>=L.createTime+gu?function Go(w,b){return Ml.apply(this,arguments)}(w,{token:L.token,createTime:Date.now(),subscriptionOptions:M}):L.token;try{yield fu(w.firebaseDependencies,L.token)}catch(se){console.warn(se)}return eh(w.firebaseDependencies,M)}return eh(w.firebaseDependencies,M)}),ic.apply(this,arguments)}function Jd(){return Jd=(0,P.Z)(function*(w){const b=yield Tl(w.firebaseDependencies);b&&(yield fu(w.firebaseDependencies,b.token),yield function Xd(w){return Ha.apply(this,arguments)}(w.firebaseDependencies));const M=yield w.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Jd.apply(this,arguments)}function Ml(){return Ml=(0,P.Z)(function*(w,b){try{const M=yield function Qd(w,b){return hu.apply(this,arguments)}(w.firebaseDependencies,b),L=Object.assign(Object.assign({},b),{token:M,createTime:Date.now()});return yield Zd(w.firebaseDependencies,L),M}catch(M){throw yield function mu(w){return Jd.apply(this,arguments)}(w),M}}),Ml.apply(this,arguments)}function eh(w,b){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,P.Z)(function*(w,b){const L={token:yield Bf(w,b),createTime:Date.now(),subscriptionOptions:b};return yield Zd(w,L),L.token})).apply(this,arguments)}function Ga(){return(Ga=(0,P.Z)(function*(w,b){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Cl(b)})})).apply(this,arguments)}function Wa(w){const b={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function th(w,b){if(!b.notification)return;w.notification={};const M=b.notification.title;M&&(w.notification.title=M);const L=b.notification.body;L&&(w.notification.body=L);const se=b.notification.image;se&&(w.notification.image=se);const Ee=b.notification.icon;Ee&&(w.notification.icon=Ee)}(b,w),function hs(w,b){b.data&&(w.data=b.data)}(b,w),function ho(w,b){var M,L,se,Ee,Ge;if(!(b.fcmOptions||null!==(M=b.notification)&&void 0!==M&&M.click_action))return;w.fcmOptions={};const It=null!==(se=null===(L=b.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==se?se:null===(Ee=b.notification)||void 0===Ee?void 0:Ee.click_action;It&&(w.fcmOptions.link=It);const pt=null===(Ge=b.fcmOptions)||void 0===Ge?void 0:Ge.analytics_label;pt&&(w.fcmOptions.analyticsLabel=pt)}(b,w),b}function nh(w,b){const M=[];for(let L=0;L<w.length;L++)M.push(w.charAt(L)),L<b.length&&M.push(b.charAt(L));return M.join("")}function Wo(w){return si.create("missing-app-config-values",{valueName:w})}nh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),nh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rh{constructor(b,M,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const se=function yu(w){if(!w||!w.options)throw Wo("App Configuration Object");if(!w.name)throw Wo("App Name");const b=["projectId","apiKey","appId","messagingSenderId"],{options:M}=w;for(const L of b)if(!M[L])throw Wo(L);return{appName:w.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(b);this.firebaseDependencies={app:b,appConfig:se,installations:M,analyticsProvider:L}}_delete(){return Promise.resolve()}}function oc(){return(oc=(0,P.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(zd,{scope:cu}),w.swRegistration.update().catch(()=>{})}catch(b){throw si.create("failed-service-worker-registration",{browserErrorMessage:b?.message})}})).apply(this,arguments)}function Os(){return(Os=(0,P.Z)(function*(w,b){if(!b&&!w.swRegistration&&(yield function vu(w){return oc.apply(this,arguments)}(w)),b||!w.swRegistration){if(!(b instanceof ServiceWorkerRegistration))throw si.create("invalid-sw-registration");w.swRegistration=b}})).apply(this,arguments)}function Zt(){return(Zt=(0,P.Z)(function*(w,b){b?w.vapidKey=b:w.vapidKey||(w.vapidKey=bl)})).apply(this,arguments)}function ih(){return ih=(0,P.Z)(function*(w,b){if(!navigator)throw si.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw si.create("permission-blocked");return yield function Ns(w,b){return Zt.apply(this,arguments)}(w,b?.vapidKey),yield function _u(w,b){return Os.apply(this,arguments)}(w,b?.serviceWorkerRegistration),function Uf(w){return ic.apply(this,arguments)}(w)}),ih.apply(this,arguments)}function oh(){return(oh=(0,P.Z)(function*(w,b,M){const L=function Hf(w){switch(w){case Ba.NOTIFICATION_CLICKED:return"notification_open";case Ba.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(b);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:M[Wd],message_name:M[Cr],message_time:M[Lf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function wo(){return wo=(0,P.Z)(function*(w,b){const M=b.data;if(!M.isFirebaseMessaging)return;w.onMessageHandler&&M.messageType===Ba.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Wa(M)):w.onMessageHandler.next(Wa(M)));const L=M.data;(function Qg(w){return"object"==typeof w&&!!w&&Wd in w})(L)&&"1"===L["google.c.a.e"]&&(yield function jf(w,b,M){return oh.apply(this,arguments)}(w,M.messageType,L))}),wo.apply(this,arguments)}const qa="@firebase/messaging",wu=w=>{const b=new rh(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Eu(w,b){return wo.apply(this,arguments)}(b,M)),b},Du=w=>{const b=w.getProvider("messaging").getImmediate();return{getToken:L=>function Iu(w,b){return ih.apply(this,arguments)}(b,L)}};function tt(){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,P.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function zf(){(0,ce._registerComponent)(new ve.wA("messaging",wu,"PUBLIC")),(0,ce._registerComponent)(new ve.wA("messaging-internal",Du,"PRIVATE")),(0,ce.registerVersion)(qa,"0.12.4"),(0,ce.registerVersion)(qa,"0.12.4","esm2017")}();const pr="analytics",em="firebase_id",ac="origin",Ii=6e4,fo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lc="https://www.googletagmanager.com/gtag/js",dr=new Y.Yd("@firebase/analytics"),ci=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ol(w){if(!w.startsWith(lc)){const b=ci.create("invalid-gtag-resource",{gtagURL:w});return dr.warn(b.message),""}return w}function ah(w){return Promise.all(w.map(b=>b.catch(M=>M)))}function ca(){return(ca=(0,P.Z)(function*(w,b,M,L,se,Ee){const Ge=L[se];try{if(Ge)yield b[Ge];else{const pt=(yield ah(M)).find(Nt=>Nt.measurementId===se);pt&&(yield b[pt.appId])}}catch(It){dr.error(It)}w("config",se,Ee)})).apply(this,arguments)}function cc(){return(cc=(0,P.Z)(function*(w,b,M,L,se){try{let Ee=[];if(se&&se.send_to){let Ge=se.send_to;Array.isArray(Ge)||(Ge=[Ge]);const It=yield ah(M);for(const pt of Ge){const Nt=It.find(rn=>rn.measurementId===pt),an=Nt&&b[Nt.appId];if(!an){Ee=[];break}Ee.push(an)}}0===Ee.length&&(Ee=Object.values(b)),yield Promise.all(Ee),w("event",L,se||{})}catch(Ee){dr.error(Ee)}})).apply(this,arguments)}const Gf=30,lh=new class ua{constructor(b={},M=1e3){this.throttleMetadata=b,this.intervalMillis=M}getThrottleMetadata(b){return this.throttleMetadata[b]}setThrottleMetadata(b,M){this.throttleMetadata[b]=M}deleteThrottleMetadata(b){delete this.throttleMetadata[b]}};function nm(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function ks(){return(ks=(0,P.Z)(function*(w){var b;const{appId:M,apiKey:L}=w,se={method:"GET",headers:nm(L)},Ee=fo.replace("{app-id}",M),Ge=yield fetch(Ee,se);if(200!==Ge.status&&304!==Ge.status){let It="";try{const pt=yield Ge.json();null!==(b=pt.error)&&void 0!==b&&b.message&&(It=pt.error.message)}catch{}throw ci.create("config-fetch-failed",{httpStatus:Ge.status,responseMessage:It})}return Ge.json()})).apply(this,arguments)}function Bl(){return(Bl=(0,P.Z)(function*(w,b=lh,M){const{appId:L,apiKey:se,measurementId:Ee}=w.options;if(!L)throw ci.create("no-app-id");if(!se){if(Ee)return{measurementId:Ee,appId:L};throw ci.create("no-api-key")}const Ge=b.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},It=new Tu;return setTimeout((0,P.Z)(function*(){It.abort()}),void 0!==M?M:Ii),Wf({appId:L,apiKey:se,measurementId:Ee},Ge,It,b)})).apply(this,arguments)}function Wf(w,b,M){return ch.apply(this,arguments)}function ch(){return ch=(0,P.Z)(function*(w,{throttleEndTimeMillis:b,backoffCount:M},L,se=lh){var Ee;const{appId:Ge,measurementId:It}=w;try{yield function rm(w,b){return new Promise((M,L)=>{const se=Math.max(b-Date.now(),0),Ee=setTimeout(M,se);w.addEventListener(()=>{clearTimeout(Ee),L(ci.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(L,b)}catch(pt){if(It)return dr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${It} provided in the "measurementId" field in the local Firebase config. [${pt?.message}]`),{appId:Ge,measurementId:It};throw pt}try{const pt=yield function ki(w){return ks.apply(this,arguments)}(w);return se.deleteThrottleMetadata(Ge),pt}catch(pt){const Nt=pt;if(!function uc(w){if(!(w instanceof oe.ZR&&w.customData))return!1;const b=Number(w.customData.httpStatus);return 429===b||500===b||503===b||504===b}(Nt)){if(se.deleteThrottleMetadata(Ge),It)return dr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${It} provided in the "measurementId" field in the local Firebase config. [${Nt?.message}]`),{appId:Ge,measurementId:It};throw pt}const an=503===Number(null===(Ee=Nt?.customData)||void 0===Ee?void 0:Ee.httpStatus)?(0,oe.$s)(M,se.intervalMillis,Gf):(0,oe.$s)(M,se.intervalMillis),rn={throttleEndTimeMillis:Date.now()+an,backoffCount:M+1};return se.setThrottleMetadata(Ge,rn),dr.debug(`Calling attemptFetch again in ${an} millis`),Wf(w,rn,L,se)}}),ch.apply(this,arguments)}class Tu{constructor(){this.listeners=[]}addEventListener(b){this.listeners.push(b)}abort(){this.listeners.forEach(b=>b())}}let $l,dh;function uh(){return(uh=(0,P.Z)(function*(w,b,M,L,se){if(se&&se.global)w("event",M,L);else{const Ee=yield b;w("event",M,Object.assign(Object.assign({},L),{send_to:Ee}))}})).apply(this,arguments)}function fc(){return(fc=(0,P.Z)(function*(){if(!(0,oe.hl)())return dr.warn(ci.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(w){return dr.warn(ci.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function fs(){return fs=(0,P.Z)(function*(w,b,M,L,se,Ee,Ge){var It;const pt=function gr(w){return Bl.apply(this,arguments)}(w);pt.then(or=>{M[or.measurementId]=or.appId,w.options.measurementId&&or.measurementId!==w.options.measurementId&&dr.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${or.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(or=>dr.error(or)),b.push(pt);const Nt=function xu(){return fc.apply(this,arguments)}().then(or=>{if(or)return L.getId()}),[an,rn]=yield Promise.all([pt,Nt]);(function Su(w){const b=window.document.getElementsByTagName("script");for(const M of Object.values(b))if(M.src&&M.src.includes(lc)&&M.src.includes(w))return M;return null})(Ee)||function Pl(w,b){const M=function Nl(w,b){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(w,b)),M}("firebase-js-sdk-policy",{createScriptURL:Ol}),L=document.createElement("script"),se=`${lc}?l=${w}&id=${b}`;L.src=M?M?.createScriptURL(se):se,L.async=!0,document.head.appendChild(L)}(Ee,an.measurementId),dh&&(se("consent","default",dh),function Ka(w){dh=w}(void 0)),se("js",new Date);const Fi=null!==(It=Ge?.config)&&void 0!==It?It:{};return Fi[ac]="firebase",Fi.update=!0,null!=rn&&(Fi[em]=rn),se("config",an.measurementId,Fi),$l&&(se("set",$l),function hc(w){$l=w}(void 0)),an.measurementId}),fs.apply(this,arguments)}class sn{constructor(b){this.app=b}_delete(){return delete Ei[this.app.options.appId],Promise.resolve()}}let Ei={},fh=[];const ha={};let Xi,So,Yo="dataLayer",Za=!1;function Ru(w,b,M){!function To(){const w=[];if((0,oe.ru)()&&w.push("This is a browser extension environment."),(0,oe.zI)()||w.push("Cookies are not available."),w.length>0){const b=w.map((L,se)=>`(${se+1}) ${L}`).join(" "),M=ci.create("invalid-analytics-context",{errorInfo:b});dr.warn(M.message)}}();const L=w.options.appId;if(!L)throw ci.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw ci.create("no-api-key");dr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ei[L])throw ci.create("already-exists",{id:L});if(!Za){!function Cu(w){let b=[];Array.isArray(window[w])?b=window[w]:window[w]=b}(Yo);const{wrappedGtag:Ee,gtagCore:Ge}=function Ll(w,b,M,L,se){let Ee=function(...Ge){window[L].push(arguments)};return window[se]&&"function"==typeof window[se]&&(Ee=window[se]),window[se]=function Fl(w,b,M,L){function Ee(){return Ee=(0,P.Z)(function*(Ge,...It){try{if("event"===Ge){const[pt,Nt]=It;yield function qo(w,b,M,L,se){return cc.apply(this,arguments)}(w,b,M,pt,Nt)}else if("config"===Ge){const[pt,Nt]=It;yield function kl(w,b,M,L,se,Ee){return ca.apply(this,arguments)}(w,b,M,L,pt,Nt)}else if("consent"===Ge){const[pt]=It;w("consent","update",pt)}else if("get"===Ge){const[pt,Nt,an]=It;w("get",pt,Nt,an)}else if("set"===Ge){const[pt]=It;w("set",pt)}else w(Ge,...It)}catch(pt){dr.error(pt)}}),Ee.apply(this,arguments)}return function se(Ge){return Ee.apply(this,arguments)}}(Ee,w,b,M),{gtagCore:Ee,wrappedGtag:window[se]}}(Ei,fh,ha,Yo,"gtag");So=Ee,Xi=Ge,Za=!0}return Ei[L]=function hh(w,b,M,L,se,Ee,Ge){return fs.apply(this,arguments)}(w,fh,ha,b,Xi,Yo,M),new sn(w)}function pc(){return fa.apply(this,arguments)}function fa(){return(fa=(0,P.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const wi="@firebase/analytics";!function ga(){(0,ce._registerComponent)(new ve.wA(pr,(b,{options:M})=>Ru(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ce._registerComponent)(new ve.wA("analytics-internal",function w(b){try{const M=b.getProvider(pr).getImmediate();return{logEvent:(L,se,Ee)=>function Ls(w,b,M,L){w=(0,oe.m9)(w),function da(w,b,M,L,se){return uh.apply(this,arguments)}(So,Ei[w.app.options.appId],b,M,L).catch(se=>dr.error(se))}(M,L,se,Ee)}}catch(M){throw ci.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ce.registerVersion)(wi,"0.10.0"),(0,ce.registerVersion)(wi,"0.10.0","esm2017")}();var Mo=x(1954),Jr=x(2631);const gh=new class $s extends Jr.v{}(class Qi extends Mo.o{constructor(b,M){super(b,M),this.scheduler=b,this.work=M}schedule(b,M=0){return M>0?super.schedule(b,M):(this.delay=M,this.state=b,this.scheduler.flush(this),this)}execute(b,M){return M>0||this.closed?super.execute(b,M):this._execute(b,M)}requestAsyncId(b,M,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(b,M,L):(b.flush(this),0)}});var po=x(6321),Zo=x(9397),mr=x(5137),Di=x(3093);const yc=new c.GfV("7.6.1"),ms="__angularfire_symbol__analyticsIsSupportedValue",go="__angularfire_symbol__analyticsIsSupported",mh="__angularfire_symbol__remoteConfigIsSupportedValue",vc="__angularfire_symbol__remoteConfigIsSupported",Vl="__angularfire_symbol__messagingIsSupportedValue",cn="__angularfire_symbol__messagingIsSupported";function Ul(w,b,M){if(b){if(1===b.length)return b[0];const Ee=b.filter(Ge=>Ge.app===M);if(1===Ee.length)return Ee[0]}return M.container.getProvider(w).getImmediate({optional:!0})}globalThis[go]||(globalThis[go]=pc().then(w=>globalThis[ms]=w).catch(()=>globalThis[ms]=!1)),globalThis[cn]||(globalThis[cn]=tt().then(w=>globalThis[Vl]=w).catch(()=>globalThis[Vl]=!1)),globalThis[vc]||(globalThis[vc]=sa().then(w=>globalThis[mh]=w).catch(()=>globalThis[mh]=!1));const ys=(w,b)=>{const M=b?[b]:(0,K.C6)(),L=[];return M.forEach(se=>{se.container.getProvider(w).instances.forEach(Ge=>{L.includes(Ge)||L.push(Ge)})}),L};function Vs(){}class Tr{constructor(b,M=gh){this.zone=b,this.delegate=M}now(){return this.delegate.now()}schedule(b,M,L){const se=this.zone;return this.delegate.schedule(function(Ge){se.runGuarded(()=>{b.apply(this,[Ge])})},M,L)}}class Us{constructor(b){this.zone=b,this.task=null}call(b,M){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vs,{},Vs,Vs)),M.pipe((0,Zo.b)({next:L,complete:L,error:L})).subscribe(b).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let el=(()=>{class w{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Tr(Zone.current)),this.insideAngular=M.run(()=>new Tr(Zone.current,po.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(M){return new(M||w)(c.LFG(c.R0b))},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function js(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function ma(w){return js(),function vh(w){return function(M){return(M=M.lift(new Us(w.ngZone))).pipe((0,mr.R)(w.outsideAngular),(0,Di.Q)(w.insideAngular))}}(js())(w)}},9058:(wt,Pe,x)=>{"use strict";x.d(Pe,{$s:()=>Ri,BH:()=>X,G6:()=>We,L:()=>le,LL:()=>Re,Pz:()=>fe,Sg:()=>pe,UG:()=>Q,US:()=>ve,ZB:()=>z,ZR:()=>Me,aH:()=>Z,b$:()=>ze,eu:()=>H,hl:()=>$,jU:()=>ye,m9:()=>Kt,ne:()=>xn,pd:()=>Ft,r3:()=>$t,ru:()=>ke,tV:()=>j,uI:()=>me,vZ:()=>Hn,w1:()=>St,xO:()=>ar,xb:()=>fn,z$:()=>te,zI:()=>ie,zd:()=>yt});const ce=function(J){const q=[];let de=0;for(let Ye=0;Ye<J.length;Ye++){let Oe=J.charCodeAt(Ye);Oe<128?q[de++]=Oe:Oe<2048?(q[de++]=Oe>>6|192,q[de++]=63&Oe|128):55296==(64512&Oe)&&Ye+1<J.length&&56320==(64512&J.charCodeAt(Ye+1))?(Oe=65536+((1023&Oe)<<10)+(1023&J.charCodeAt(++Ye)),q[de++]=Oe>>18|240,q[de++]=Oe>>12&63|128,q[de++]=Oe>>6&63|128,q[de++]=63&Oe|128):(q[de++]=Oe>>12|224,q[de++]=Oe>>6&63|128,q[de++]=63&Oe|128)}return q},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,q){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const de=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ye=[];for(let Oe=0;Oe<J.length;Oe+=3){const At=J[Oe],Vt=Oe+1<J.length,tn=Vt?J[Oe+1]:0,Un=Oe+2<J.length,Nn=Un?J[Oe+2]:0;let wr=(15&tn)<<2|Nn>>6,ti=63&Nn;Un||(ti=64,Vt||(wr=64)),Ye.push(de[At>>2],de[(3&At)<<4|tn>>4],de[wr],de[ti])}return Ye.join("")},encodeString(J,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(J):this.encodeByteArray(ce(J),q)},decodeString(J,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(J):function(J){const q=[];let de=0,Ye=0;for(;de<J.length;){const Oe=J[de++];if(Oe<128)q[Ye++]=String.fromCharCode(Oe);else if(Oe>191&&Oe<224){const At=J[de++];q[Ye++]=String.fromCharCode((31&Oe)<<6|63&At)}else if(Oe>239&&Oe<365){const Un=((7&Oe)<<18|(63&J[de++])<<12|(63&J[de++])<<6|63&J[de++])-65536;q[Ye++]=String.fromCharCode(55296+(Un>>10)),q[Ye++]=String.fromCharCode(56320+(1023&Un))}else{const At=J[de++],Vt=J[de++];q[Ye++]=String.fromCharCode((15&Oe)<<12|(63&At)<<6|63&Vt)}}return q.join("")}(this.decodeStringToByteArray(J,q))},decodeStringToByteArray(J,q){this.init_();const de=q?this.charToByteMapWebSafe_:this.charToByteMap_,Ye=[];for(let Oe=0;Oe<J.length;){const At=de[J.charAt(Oe++)],tn=Oe<J.length?de[J.charAt(Oe)]:0;++Oe;const Nn=Oe<J.length?de[J.charAt(Oe)]:64;++Oe;const En=Oe<J.length?de[J.charAt(Oe)]:64;if(++Oe,null==At||null==tn||null==Nn||null==En)throw new Y;Ye.push(At<<2|tn>>4),64!==Nn&&(Ye.push(tn<<4&240|Nn>>2),64!==En&&Ye.push(Nn<<6&192|En))}return Ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}};class Y extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const le=function(J){return function(J){const q=ce(J);return ve.encodeByteArray(q,!0)}(J).replace(/\./g,"")},j=function(J){try{return ve.decodeString(J,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function z(J,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return q}for(const de in q)!q.hasOwnProperty(de)||!ee(de)||(J[de]=z(J[de],q[de]));return J}function ee(J){return"__proto__"!==J}const G=()=>{try{return function re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const q=J&&j(J[1]);return q&&JSON.parse(q)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},Z=()=>{var J;return null===(J=G())||void 0===J?void 0:J.config},fe=J=>{var q;return null===(q=G())||void 0===q?void 0:q[`_${J}`]};class X{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,de)=>{this.resolve=q,this.reject=de})}wrapCallback(q){return(de,Ye)=>{de?this.reject(de):this.resolve(Ye),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(de):q(de,Ye))}}}function pe(J,q){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ye=q||"demo-project",Oe=J.iat||0,At=J.sub||J.user_id;if(!At)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Vt=Object.assign({iss:`https://securetoken.google.com/${Ye}`,aud:Ye,iat:Oe,exp:Oe+3600,auth_time:Oe,sub:At,user_id:At,firebase:{sign_in_provider:"custom",identities:{}}},J);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(Vt)),""].join(".")}function te(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(te())}function Q(){var J;const q=null===(J=G())||void 0===J?void 0:J.forceEnvironment;if("node"===q)return!0;if("browser"===q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ye(){return"object"==typeof self&&self.self===self}function ke(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function St(){const J=te();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function We(){return!Q()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $(){try{return"object"==typeof indexedDB}catch{return!1}}function H(){return new Promise((J,q)=>{try{let de=!0;const Ye="validate-browser-context-for-indexeddb-analytics-module",Oe=self.indexedDB.open(Ye);Oe.onsuccess=()=>{Oe.result.close(),de||self.indexedDB.deleteDatabase(Ye),J(!0)},Oe.onupgradeneeded=()=>{de=!1},Oe.onerror=()=>{var At;q((null===(At=Oe.error)||void 0===At?void 0:At.message)||"")}}catch(de){q(de)}})}function ie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Me extends Error{constructor(q,de,Ye){super(de),this.code=q,this.customData=Ye,this.name="FirebaseError",Object.setPrototypeOf(this,Me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Re.prototype.create)}}class Re{constructor(q,de,Ye){this.service=q,this.serviceName=de,this.errors=Ye}create(q,...de){const Ye=de[0]||{},Oe=`${this.service}/${q}`,At=this.errors[q],Vt=At?function at(J,q){return J.replace(st,(de,Ye)=>{const Oe=q[Ye];return null!=Oe?String(Oe):`<${Ye}?>`})}(At,Ye):"Error";return new Me(Oe,`${this.serviceName}: ${Vt} (${Oe}).`,Ye)}}const st=/\{\$([^}]+)}/g;function $t(J,q){return Object.prototype.hasOwnProperty.call(J,q)}function fn(J){for(const q in J)if(Object.prototype.hasOwnProperty.call(J,q))return!1;return!0}function Hn(J,q){if(J===q)return!0;const de=Object.keys(J),Ye=Object.keys(q);for(const Oe of de){if(!Ye.includes(Oe))return!1;const At=J[Oe],Vt=q[Oe];if($n(At)&&$n(Vt)){if(!Hn(At,Vt))return!1}else if(At!==Vt)return!1}for(const Oe of Ye)if(!de.includes(Oe))return!1;return!0}function $n(J){return null!==J&&"object"==typeof J}function ar(J){const q=[];for(const[de,Ye]of Object.entries(J))Array.isArray(Ye)?Ye.forEach(Oe=>{q.push(encodeURIComponent(de)+"="+encodeURIComponent(Oe))}):q.push(encodeURIComponent(de)+"="+encodeURIComponent(Ye));return q.length?"&"+q.join("&"):""}function yt(J){const q={};return J.replace(/^\?/,"").split("&").forEach(Ye=>{if(Ye){const[Oe,At]=Ye.split("=");q[decodeURIComponent(Oe)]=decodeURIComponent(At)}}),q}function Ft(J){const q=J.indexOf("?");if(!q)return"";const de=J.indexOf("#",q);return J.substring(q,de>0?de:void 0)}function xn(J,q){const de=new zn(J,q);return de.subscribe.bind(de)}class zn{constructor(q,de){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=de,this.task.then(()=>{q(this)}).catch(Ye=>{this.error(Ye)})}next(q){this.forEachObserver(de=>{de.next(q)})}error(q){this.forEachObserver(de=>{de.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,de,Ye){let Oe;if(void 0===q&&void 0===de&&void 0===Ye)throw new Error("Missing Observer.");Oe=function yn(J,q){if("object"!=typeof J||null===J)return!1;for(const de of q)if(de in J&&"function"==typeof J[de])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:de,complete:Ye},void 0===Oe.next&&(Oe.next=hr),void 0===Oe.error&&(Oe.error=hr),void 0===Oe.complete&&(Oe.complete=hr);const At=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Oe.error(this.finalError):Oe.complete()}catch{}}),this.observers.push(Oe),At}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let de=0;de<this.observers.length;de++)this.sendOne(de,q)}sendOne(q,de){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{de(this.observers[q])}catch(Ye){typeof console<"u"&&console.error&&console.error(Ye)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hr(){}const yi=1e3,Er=2,lr=144e5,Vn=.5;function Ri(J,q=yi,de=Er){const Ye=q*Math.pow(de,J),Oe=Math.round(Vn*Ye*(Math.random()-.5)*2);return Math.min(lr,Ye+Oe)}function Kt(J){return J&&J._delegate?J._delegate:J}},6506:(wt,Pe,x)=>{"use strict";x.d(Pe,{c:()=>_e});var c=x(7643),K=x(544);let P;const oe=ue=>ue.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ve=ue=>(void 0===P&&(P=void 0===ue.style.animationName&&void 0!==ue.style.webkitAnimationName?"-webkit-":""),P),Y=(ue,G,Ae)=>{const je=G.startsWith("animation")?ve(ue):"";ue.style.setProperty(je+G,Ae)},Se=(ue,G)=>{const Ae=G.startsWith("animation")?ve(ue):"";ue.style.removeProperty(Ae+G)},B=[],De=(ue=[],G)=>{if(void 0!==G){const Ae=Array.isArray(G)?G:[G];return[...ue,...Ae]}return ue},_e=ue=>{let G,Ae,je,Z,fe,X,ye,$,H,ie,we,st,mt,pe=[],te=[],me=[],Q=!1,ke={},ze=[],qe=[],St={},Bt=0,Xt=!1,We=!1,Me=!0,Re=!1,at=!0,Fe=!1;const Ve=ue,Le=[],ot=[],ft=[],zt=[],$t=[],en=[],fn=[],kn=[],Hn=[],$n=[],mi="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,ar="function"==typeof Element&&"function"==typeof Element.prototype.animate&&mi,Ft=()=>$n,yn=(F,W)=>((W?.oneTimeCallback?ot:Le).push({c:F,o:W}),mt),Rr=()=>{if(ar)$n.forEach(F=>{F.cancel()}),$n.length=0;else{const F=ft.slice();(0,K.r)(()=>{F.forEach(W=>{Se(W,"animation-name"),Se(W,"animation-duration"),Se(W,"animation-timing-function"),Se(W,"animation-iteration-count"),Se(W,"animation-delay"),Se(W,"animation-play-state"),Se(W,"animation-fill-mode"),Se(W,"animation-direction")})})}},Mn=()=>{$t.forEach(F=>{F?.parentNode&&F.parentNode.removeChild(F)}),$t.length=0},kr=()=>void 0!==fe?fe:ye?ye.getFill():"both",Kt=()=>void 0!==H?H:void 0!==X?X:ye?ye.getDirection():"normal",J=()=>Xt?"linear":void 0!==je?je:ye?ye.getEasing():"linear",q=()=>We?0:void 0!==ie?ie:void 0!==Ae?Ae:ye?ye.getDuration():0,de=()=>void 0!==Z?Z:ye?ye.getIterations():1,Ye=()=>void 0!==we?we:void 0!==G?G:ye?ye.getDelay():0,nt=()=>{0!==Bt&&(Bt--,0===Bt&&((()=>{Eo(),kn.forEach(He=>He()),Hn.forEach(He=>He());const F=Me?1:0,W=ze,he=qe,Ie=St;ft.forEach(He=>{const Ke=He.classList;W.forEach(Je=>Ke.add(Je)),he.forEach(Je=>Ke.remove(Je));for(const Je in Ie)Ie.hasOwnProperty(Je)&&Y(He,Je,Ie[Je])}),Le.forEach(He=>He.c(F,mt)),ot.forEach(He=>He.c(F,mt)),ot.length=0,at=!0,Me&&(Re=!0),Me=!0})(),ye&&ye.animationFinish()))},Ot=(F=!0)=>{Mn();const W=(ue=>(ue.forEach(G=>{for(const Ae in G)if(G.hasOwnProperty(Ae)){const je=G[Ae];if("easing"===Ae)G["animation-timing-function"]=je,delete G[Ae];else{const Z=oe(Ae);Z!==Ae&&(G[Z]=je,delete G[Ae])}}}),ue))(pe);ft.forEach(he=>{if(W.length>0){const Ie=((ue=[])=>ue.map(G=>{const Ae=G.offset,je=[];for(const Z in G)G.hasOwnProperty(Z)&&"offset"!==Z&&je.push(`${Z}: ${G[Z]};`);return`${100*Ae}% { ${je.join(" ")} }`}).join(" "))(W);st=void 0!==ue?ue:(ue=>{let G=B.indexOf(ue);return G<0&&(G=B.push(ue)-1),`ion-animation-${G}`})(Ie);const He=((ue,G,Ae)=>{var je;const Z=(ue=>{const G=void 0!==ue.getRootNode?ue.getRootNode():ue;return G.head||G})(Ae),fe=ve(Ae),X=Z.querySelector("#"+ue);if(X)return X;const pe=(null!==(je=Ae.ownerDocument)&&void 0!==je?je:document).createElement("style");return pe.id=ue,pe.textContent=`@${fe}keyframes ${ue} { ${G} } @${fe}keyframes ${ue}-alt { ${G} }`,Z.appendChild(pe),pe})(st,Ie,he);$t.push(He),Y(he,"animation-duration",`${q()}ms`),Y(he,"animation-timing-function",J()),Y(he,"animation-delay",`${Ye()}ms`),Y(he,"animation-fill-mode",kr()),Y(he,"animation-direction",Kt());const Ke=de()===1/0?"infinite":de().toString();Y(he,"animation-iteration-count",Ke),Y(he,"animation-play-state","paused"),F&&Y(he,"animation-name",`${He.id}-alt`),(0,K.r)(()=>{Y(he,"animation-name",He.id||null)})}})},nn=(F=!0)=>{(()=>{en.forEach(Ie=>Ie()),fn.forEach(Ie=>Ie());const F=te,W=me,he=ke;ft.forEach(Ie=>{const He=Ie.classList;F.forEach(Ke=>He.add(Ke)),W.forEach(Ke=>He.remove(Ke));for(const Ke in he)he.hasOwnProperty(Ke)&&Y(Ie,Ke,he[Ke])})})(),pe.length>0&&(ar?(ft.forEach(F=>{const W=F.animate(pe,{id:Ve,delay:Ye(),duration:q(),easing:J(),iterations:de(),fill:kr(),direction:Kt()});W.pause(),$n.push(W)}),$n.length>0&&($n[0].onfinish=()=>{nt()})):Ot(F)),Q=!0},vn=F=>{if(F=Math.min(Math.max(F,0),.9999),ar)$n.forEach(W=>{W.currentTime=W.effect.getComputedTiming().delay+q()*F,W.pause()});else{const W=`-${q()*F}ms`;ft.forEach(he=>{pe.length>0&&(Y(he,"animation-delay",W),Y(he,"animation-play-state","paused"))})}},Jn=F=>{$n.forEach(W=>{W.effect.updateTiming({delay:Ye(),duration:q(),easing:J(),iterations:de(),fill:kr(),direction:Kt()})}),void 0!==F&&vn(F)},er=(F=!0,W)=>{(0,K.r)(()=>{ft.forEach(he=>{Y(he,"animation-name",st||null),Y(he,"animation-duration",`${q()}ms`),Y(he,"animation-timing-function",J()),Y(he,"animation-delay",void 0!==W?`-${W*q()}ms`:`${Ye()}ms`),Y(he,"animation-fill-mode",kr()||null),Y(he,"animation-direction",Kt()||null);const Ie=de()===1/0?"infinite":de().toString();Y(he,"animation-iteration-count",Ie),F&&Y(he,"animation-name",`${st}-alt`),(0,K.r)(()=>{Y(he,"animation-name",st||null)})})})},Gn=(F=!1,W=!0,he)=>(F&&zt.forEach(Ie=>{Ie.update(F,W,he)}),ar?Jn(he):er(W,he),mt),jr=()=>{Q&&(ar?$n.forEach(F=>{F.pause()}):ft.forEach(F=>{Y(F,"animation-play-state","paused")}),Fe=!0)},ni=()=>{$=void 0,nt()},Eo=()=>{$&&clearTimeout($)},na=F=>new Promise(W=>{F?.sync&&(We=!0,yn(()=>We=!1,{oneTimeCallback:!0})),Q||nn(),Re&&(ar?(vn(0),Jn()):er(),Re=!1),at&&(Bt=zt.length+1,at=!1),yn(()=>W(),{oneTimeCallback:!0}),zt.forEach(he=>{he.play()}),ar?($n.forEach(F=>{F.play()}),(0===pe.length||0===ft.length)&&nt()):(()=>{if(Eo(),(0,K.r)(()=>{ft.forEach(F=>{pe.length>0&&Y(F,"animation-play-state","running")})}),0===pe.length||0===ft.length)nt();else{const F=Ye()||0,W=q()||0,he=de()||1;isFinite(he)&&($=setTimeout(ni,F+W*he+100)),((ue,G)=>{let Ae;const je={passive:!0},fe=X=>{ue===X.target&&(Ae&&Ae(),Eo(),(0,K.r)(()=>{ft.forEach(F=>{Se(F,"animation-duration"),Se(F,"animation-delay"),Se(F,"animation-play-state")}),(0,K.r)(nt)}))};ue&&(ue.addEventListener("webkitAnimationEnd",fe,je),ue.addEventListener("animationend",fe,je),Ae=()=>{ue.removeEventListener("webkitAnimationEnd",fe,je),ue.removeEventListener("animationend",fe,je)})})(ft[0])}})(),Fe=!1}),Vo=(F,W)=>{const he=pe[0];return void 0===he||void 0!==he.offset&&0!==he.offset?pe=[{offset:0,[F]:W},...pe]:he[F]=W,mt};return mt={parentAnimation:ye,elements:ft,childAnimations:zt,id:Ve,animationFinish:nt,from:Vo,to:(F,W)=>{const he=pe[pe.length-1];return void 0===he||void 0!==he.offset&&1!==he.offset?pe=[...pe,{offset:1,[F]:W}]:he[F]=W,mt},fromTo:(F,W,he)=>Vo(F,W).to(F,he),parent:F=>(ye=F,mt),play:na,pause:()=>(zt.forEach(F=>{F.pause()}),jr(),mt),stop:()=>{zt.forEach(F=>{F.stop()}),Q&&(Rr(),Q=!1),Xt=!1,We=!1,at=!0,H=void 0,ie=void 0,we=void 0,Bt=0,Re=!1,Me=!0,Fe=!1},destroy:F=>(zt.forEach(W=>{W.destroy(F)}),(F=>{Rr(),F&&Mn()})(F),ft.length=0,zt.length=0,pe.length=0,Le.length=0,ot.length=0,Q=!1,at=!0,mt),keyframes:F=>{const W=pe!==F;return pe=F,W&&(F=>{ar?Ft().forEach(W=>{if(W.effect.setKeyframes)W.effect.setKeyframes(F);else{const he=new KeyframeEffect(W.effect.target,F,W.effect.getTiming());W.effect=he}}):Ot()})(pe),mt},addAnimation:F=>{if(null!=F)if(Array.isArray(F))for(const W of F)W.parent(mt),zt.push(W);else F.parent(mt),zt.push(F);return mt},addElement:F=>{if(null!=F)if(1===F.nodeType)ft.push(F);else if(F.length>=0)for(let W=0;W<F.length;W++)ft.push(F[W]);else console.error("Invalid addElement value");return mt},update:Gn,fill:F=>(fe=F,Gn(!0),mt),direction:F=>(X=F,Gn(!0),mt),iterations:F=>(Z=F,Gn(!0),mt),duration:F=>(!ar&&0===F&&(F=1),Ae=F,Gn(!0),mt),easing:F=>(je=F,Gn(!0),mt),delay:F=>(G=F,Gn(!0),mt),getWebAnimations:Ft,getKeyframes:()=>pe,getFill:kr,getDirection:Kt,getDelay:Ye,getIterations:de,getEasing:J,getDuration:q,afterAddRead:F=>(kn.push(F),mt),afterAddWrite:F=>(Hn.push(F),mt),afterClearStyles:(F=[])=>{for(const W of F)St[W]="";return mt},afterStyles:(F={})=>(St=F,mt),afterRemoveClass:F=>(qe=De(qe,F),mt),afterAddClass:F=>(ze=De(ze,F),mt),beforeAddRead:F=>(en.push(F),mt),beforeAddWrite:F=>(fn.push(F),mt),beforeClearStyles:(F=[])=>{for(const W of F)ke[W]="";return mt},beforeStyles:(F={})=>(ke=F,mt),beforeRemoveClass:F=>(me=De(me,F),mt),beforeAddClass:F=>(te=De(te,F),mt),onFinish:yn,isRunning:()=>0!==Bt&&!Fe,progressStart:(F=!1,W)=>(zt.forEach(he=>{he.progressStart(F,W)}),jr(),Xt=F,Q||nn(),Gn(!1,!0,W),mt),progressStep:F=>(zt.forEach(W=>{W.progressStep(F)}),vn(F),mt),progressEnd:(F,W,he)=>(Xt=!1,zt.forEach(Ie=>{Ie.progressEnd(F,W,he)}),void 0!==he&&(ie=he),Re=!1,Me=!0,0===F?(H="reverse"===Kt()?"normal":"reverse","reverse"===H&&(Me=!1),ar?(Gn(),vn(1-W)):(we=(1-W)*q()*-1,Gn(!1,!1))):1===F&&(ar?(Gn(),vn(W)):(we=W*q()*-1,Gn(!1,!1))),void 0!==F&&(yn(()=>{ie=void 0,H=void 0,we=void 0},{oneTimeCallback:!0}),ye||na()),mt)}}},1273:(wt,Pe,x)=>{"use strict";x.d(Pe,{E:()=>j,a:()=>c,s:()=>Se});const c=B=>{try{if(B instanceof Y)return B.value;if(!ce()||"string"!=typeof B||""===B)return B;if(B.includes("onload="))return"";const z=document.createDocumentFragment(),ee=document.createElement("div");z.appendChild(ee),ee.innerHTML=B,ve.forEach(ue=>{const G=z.querySelectorAll(ue);for(let Ae=G.length-1;Ae>=0;Ae--){const je=G[Ae];je.parentNode?je.parentNode.removeChild(je):z.removeChild(je);const Z=P(je);for(let fe=0;fe<Z.length;fe++)K(Z[fe])}});const re=P(z);for(let ue=0;ue<re.length;ue++)K(re[ue]);const De=document.createElement("div");De.appendChild(z);const _e=De.querySelector("div");return null!==_e?_e.innerHTML:De.innerHTML}catch(z){return console.error(z),""}},K=B=>{if(B.nodeType&&1!==B.nodeType)return;if(typeof NamedNodeMap<"u"&&!(B.attributes instanceof NamedNodeMap))return void B.remove();for(let ee=B.attributes.length-1;ee>=0;ee--){const re=B.attributes.item(ee),De=re.name;if(!oe.includes(De.toLowerCase())){B.removeAttribute(De);continue}const _e=re.value,ue=B[De];(null!=_e&&_e.toLowerCase().includes("javascript:")||null!=ue&&ue.toLowerCase().includes("javascript:"))&&B.removeAttribute(De)}const z=P(B);for(let ee=0;ee<z.length;ee++)K(z[ee])},P=B=>null!=B.children?B.children:B.childNodes,ce=()=>{var B;const z=window,ee=null===(B=z?.Ionic)||void 0===B?void 0:B.config;return!ee||(ee.get?ee.get("sanitizerEnabled",!0):!0===ee.sanitizerEnabled||void 0===ee.sanitizerEnabled)},oe=["class","id","href","src","name","slot"],ve=["script","style","iframe","meta","link","object","embed"];class Y{constructor(z){this.value=z}}const Se=B=>{const z=window,ee=z.Ionic;if(!ee||!ee.config||"Object"===ee.config.constructor.name)return z.Ionic=z.Ionic||{},z.Ionic.config=Object.assign(Object.assign({},z.Ionic.config),B),z.Ionic.config},j=!1},9439:(wt,Pe,x)=>{"use strict";x.d(Pe,{C:()=>oe,a:()=>P,d:()=>ce});var c=x(5861),K=x(544);const P=function(){var ve=(0,c.Z)(function*(Y,Se,le,j,B,z){var ee;if(Y)return Y.attachViewToDom(Se,le,B,j);if(!(z||"string"==typeof le||le instanceof HTMLElement))throw new Error("framework delegate is missing");const re="string"==typeof le?null===(ee=Se.ownerDocument)||void 0===ee?void 0:ee.createElement(le):le;return j&&j.forEach(De=>re.classList.add(De)),B&&Object.assign(re,B),Se.appendChild(re),yield new Promise(De=>(0,K.c)(re,De)),re});return function(Se,le,j,B,z,ee){return ve.apply(this,arguments)}}(),ce=(ve,Y)=>{if(Y){if(ve)return ve.removeViewFromDom(Y.parentElement,Y);Y.remove()}return Promise.resolve()},oe=()=>{let ve,Y;return{attachViewToDom:function(){var j=(0,c.Z)(function*(B,z,ee={},re=[]){var De,_e;if(ve=B,z){const G="string"==typeof z?null===(De=ve.ownerDocument)||void 0===De?void 0:De.createElement(z):z;re.forEach(Ae=>G.classList.add(Ae)),Object.assign(G,ee),ve.appendChild(G),yield new Promise(Ae=>(0,K.c)(G,Ae))}else if(ve.children.length>0&&("ION-MODAL"===ve.tagName||"ION-POPOVER"===ve.tagName)&&!ve.children[0].classList.contains("ion-delegate-host")){const Ae=null===(_e=ve.ownerDocument)||void 0===_e?void 0:_e.createElement("div");Ae.classList.add("ion-delegate-host"),re.forEach(je=>Ae.classList.add(je)),Ae.append(...ve.children),ve.appendChild(Ae)}const ue=document.querySelector("ion-app")||document.body;return Y=document.createComment("ionic teleport"),ve.parentNode.insertBefore(Y,ve),ue.appendChild(ve),ve});return function(z,ee){return j.apply(this,arguments)}}(),removeViewFromDom:()=>(ve&&Y&&(Y.parentNode.insertBefore(ve,Y),Y.remove()),Promise.resolve())}}},4587:(wt,Pe,x)=>{"use strict";x.d(Pe,{G:()=>oe});class K{constructor(Y,Se,le,j,B){this.id=Se,this.name=le,this.disableScroll=B,this.priority=1e6*j+Se,this.ctrl=Y}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Y=this.ctrl.capture(this.name,this.id,this.priority);return Y&&this.disableScroll&&this.ctrl.disableScroll(this.id),Y}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class P{constructor(Y,Se,le,j){this.id=Se,this.disable=le,this.disableScroll=j,this.ctrl=Y}block(){if(this.ctrl){if(this.disable)for(const Y of this.disable)this.ctrl.disableGesture(Y,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Y of this.disable)this.ctrl.enableGesture(Y,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ce="backdrop-no-scroll",oe=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Y){var Se;return new K(this,this.newID(),Y.name,null!==(Se=Y.priority)&&void 0!==Se?Se:0,!!Y.disableScroll)}createBlocker(Y={}){return new P(this,this.newID(),Y.disable,!!Y.disableScroll)}start(Y,Se,le){return this.canStart(Y)?(this.requestedStart.set(Se,le),!0):(this.requestedStart.delete(Se),!1)}capture(Y,Se,le){if(!this.start(Y,Se,le))return!1;const j=this.requestedStart;let B=-1e4;if(j.forEach(z=>{B=Math.max(B,z)}),B===le){this.capturedId=Se,j.clear();const z=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Y}});return document.dispatchEvent(z),!0}return j.delete(Se),!1}release(Y){this.requestedStart.delete(Y),this.capturedId===Y&&(this.capturedId=void 0)}disableGesture(Y,Se){let le=this.disabledGestures.get(Y);void 0===le&&(le=new Set,this.disabledGestures.set(Y,le)),le.add(Se)}enableGesture(Y,Se){const le=this.disabledGestures.get(Y);void 0!==le&&le.delete(Se)}disableScroll(Y){this.disabledScroll.add(Y),1===this.disabledScroll.size&&document.body.classList.add(ce)}enableScroll(Y){this.disabledScroll.delete(Y),0===this.disabledScroll.size&&document.body.classList.remove(ce)}canStart(Y){return!(void 0!==this.capturedId||this.isDisabled(Y))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Y){const Se=this.disabledGestures.get(Y);return!!(Se&&Se.size>0)}newID(){return this.gestureId++,this.gestureId}}},5421:(wt,Pe,x)=>{"use strict";x.r(Pe),x.d(Pe,{MENU_BACK_BUTTON_PRIORITY:()=>oe,OVERLAY_BACK_BUTTON_PRIORITY:()=>ce,blockHardwareBackButton:()=>K,startHardwareBackButton:()=>P});var c=x(5861);const K=()=>{document.addEventListener("backbutton",()=>{})},P=()=>{const ve=document;let Y=!1;ve.addEventListener("backbutton",()=>{if(Y)return;let Se=0,le=[];const j=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ee,re){le.push({priority:ee,handler:re,id:Se++})}}});ve.dispatchEvent(j);const B=function(){var ee=(0,c.Z)(function*(re){try{if(re?.handler){const De=re.handler(z);null!=De&&(yield De)}}catch(De){console.error(De)}});return function(De){return ee.apply(this,arguments)}}(),z=()=>{if(le.length>0){let ee={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};le.forEach(re=>{re.priority>=ee.priority&&(ee=re)}),Y=!0,le=le.filter(re=>re.id!==ee.id),B(ee).then(()=>Y=!1)}};z()})},ce=100,oe=99},544:(wt,Pe,x)=>{"use strict";x.d(Pe,{a:()=>Se,b:()=>le,c:()=>P,d:()=>_e,e:()=>De,f:()=>re,g:()=>j,h:()=>ee,i:()=>Y,j:()=>fe,k:()=>oe,l:()=>ue,m:()=>ce,n:()=>z,o:()=>G,p:()=>Z,q:()=>X,r:()=>B,s:()=>pe,t:()=>c,u:()=>Ae,v:()=>je});const c=(te,me=0)=>new Promise(Q=>{K(te,me,Q)}),K=(te,me=0,Q)=>{let ye,ke;const ze={passive:!0},St=()=>{ye&&ye()},Bt=Xt=>{(void 0===Xt||te===Xt.target)&&(St(),Q(Xt))};return te&&(te.addEventListener("webkitTransitionEnd",Bt,ze),te.addEventListener("transitionend",Bt,ze),ke=setTimeout(Bt,me+500),ye=()=>{ke&&(clearTimeout(ke),ke=void 0),te.removeEventListener("webkitTransitionEnd",Bt,ze),te.removeEventListener("transitionend",Bt,ze)}),St},P=(te,me)=>{te.componentOnReady?te.componentOnReady().then(Q=>me(Q)):B(()=>me(te))},ce=te=>void 0!==te.componentOnReady,oe=(te,me=[])=>{const Q={};return me.forEach(ye=>{te.hasAttribute(ye)&&(null!==te.getAttribute(ye)&&(Q[ye]=te.getAttribute(ye)),te.removeAttribute(ye))}),Q},ve=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Y=(te,me)=>{let Q=ve;return me&&me.length>0&&(Q=Q.filter(ye=>!me.includes(ye))),oe(te,Q)},Se=(te,me,Q,ye)=>{var ke;if(typeof window<"u"){const ze=window,qe=null===(ke=ze?.Ionic)||void 0===ke?void 0:ke.config;if(qe){const St=qe.get("_ael");if(St)return St(te,me,Q,ye);if(qe._ael)return qe._ael(te,me,Q,ye)}}return te.addEventListener(me,Q,ye)},le=(te,me,Q,ye)=>{var ke;if(typeof window<"u"){const ze=window,qe=null===(ke=ze?.Ionic)||void 0===ke?void 0:ke.config;if(qe){const St=qe.get("_rel");if(St)return St(te,me,Q,ye);if(qe._rel)return qe._rel(te,me,Q,ye)}}return te.removeEventListener(me,Q,ye)},j=(te,me=te)=>te.shadowRoot||me,B=te=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(te):"function"==typeof requestAnimationFrame?requestAnimationFrame(te):setTimeout(te),z=te=>!!te.shadowRoot&&!!te.attachShadow,ee=te=>{const me=te.closest("ion-item");return me?me.querySelector("ion-label"):null},re=te=>{if(te.focus(),te.classList.contains("ion-focusable")){const me=te.closest("ion-app");me&&me.setFocus([te])}},De=(te,me)=>{let Q;const ye=te.getAttribute("aria-labelledby"),ke=te.id;let ze=null!==ye&&""!==ye.trim()?ye:me+"-lbl",qe=null!==ye&&""!==ye.trim()?document.getElementById(ye):ee(te);return qe?(null===ye&&(qe.id=ze),Q=qe.textContent,qe.setAttribute("aria-hidden","true")):""!==ke.trim()&&(qe=document.querySelector(`label[for="${ke}"]`),qe&&(""!==qe.id?ze=qe.id:qe.id=ze=`${ke}-lbl`,Q=qe.textContent)),{label:qe,labelId:ze,labelText:Q}},_e=(te,me,Q,ye,ke)=>{if(te||z(me)){let ze=me.querySelector("input.aux-input");ze||(ze=me.ownerDocument.createElement("input"),ze.type="hidden",ze.classList.add("aux-input"),me.appendChild(ze)),ze.disabled=ke,ze.name=Q,ze.value=ye||""}},ue=(te,me,Q)=>Math.max(te,Math.min(me,Q)),G=(te,me)=>{if(!te){const Q="ASSERT: "+me;throw console.error(Q),new Error(Q)}},Ae=te=>te.timeStamp||Date.now(),je=te=>{if(te){const me=te.changedTouches;if(me&&me.length>0){const Q=me[0];return{x:Q.clientX,y:Q.clientY}}if(void 0!==te.pageX)return{x:te.pageX,y:te.pageY}}return{x:0,y:0}},Z=te=>{const me="rtl"===document.dir;switch(te){case"start":return me;case"end":return!me;default:throw new Error(`"${te}" is not a valid value for [side]. Use "start" or "end" instead.`)}},fe=(te,me)=>{const Q=te._original||te;return{_original:te,emit:X(Q.emit.bind(Q),me)}},X=(te,me=0)=>{let Q;return(...ye)=>{clearTimeout(Q),Q=setTimeout(te,me,...ye)}},pe=(te,me)=>{if(te??(te={}),me??(me={}),te===me)return!0;const Q=Object.keys(te);if(Q.length!==Object.keys(me).length)return!1;for(const ye of Q)if(!(ye in me)||te[ye]!==me[ye])return!1;return!0}},6953:(wt,Pe,x)=>{"use strict";x.d(Pe,{B:()=>B,H:()=>St,a:()=>Oa,b:()=>Nn,c:()=>Re,d:()=>Fe,e:()=>Il,f:()=>mt,g:()=>at,h:()=>ze,i:()=>Sn,j:()=>z,p:()=>ea,r:()=>xe,w:()=>Vo});var c=x(5861);let P,ce,oe,ve=!1,Y=!1,Se=!1,le=!1,j=!1;const B={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},z=O=>{const V=new URL(O,bn.$resourcesUrl$);return V.origin!==Gn.location.origin?V.href:V.pathname},Ae="s-id",je="sty-id",Z="c-id",X="http://www.w3.org/1999/xlink",pe={},ye=O=>"object"==(O=typeof O)||"function"===O;function ke(O){var V,F,W;return null!==(W=null===(F=null===(V=O.head)||void 0===V?void 0:V.querySelector('meta[name="csp-nonce"]'))||void 0===F?void 0:F.getAttribute("content"))&&void 0!==W?W:void 0}const ze=(O,V,...F)=>{let W=null,he=null,Ie=null,He=!1,Ke=!1;const Je=[],$e=vt=>{for(let Qt=0;Qt<vt.length;Qt++)W=vt[Qt],Array.isArray(W)?$e(W):null!=W&&"boolean"!=typeof W&&((He="function"!=typeof O&&!ye(W))&&(W=String(W)),He&&Ke?Je[Je.length-1].$text$+=W:Je.push(He?qe(null,W):W),Ke=He)};if($e(F),V){V.key&&(he=V.key),V.name&&(Ie=V.name);{const vt=V.className||V.class;vt&&(V.class="object"!=typeof vt?vt:Object.keys(vt).filter(Qt=>vt[Qt]).join(" "))}}if("function"==typeof O)return O(null===V?{}:V,Je,Xt);const gt=qe(O,null);return gt.$attrs$=V,Je.length>0&&(gt.$children$=Je),gt.$key$=he,gt.$name$=Ie,gt},qe=(O,V)=>({$flags$:0,$tag$:O,$text$:V,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),St={},Xt={forEach:(O,V)=>O.map(We).forEach(V),map:(O,V)=>O.map(We).map(V).map($)},We=O=>({vattrs:O.$attrs$,vchildren:O.$children$,vkey:O.$key$,vname:O.$name$,vtag:O.$tag$,vtext:O.$text$}),$=O=>{if("function"==typeof O.vtag){const F=Object.assign({},O.vattrs);return O.vkey&&(F.key=O.vkey),O.vname&&(F.name=O.vname),ze(O.vtag,F,...O.vchildren||[])}const V=qe(O.vtag,O.vtext);return V.$attrs$=O.vattrs,V.$children$=O.vchildren,V.$key$=O.vkey,V.$name$=O.vname,V},ie=(O,V,F,W,he,Ie,He)=>{let Ke,Je,$e,gt;if(1===Ie.nodeType){for(Ke=Ie.getAttribute(Z),Ke&&(Je=Ke.split("."),(Je[0]===He||"0"===Je[0])&&($e={$flags$:0,$hostId$:Je[0],$nodeId$:Je[1],$depth$:Je[2],$index$:Je[3],$tag$:Ie.tagName.toLowerCase(),$elm$:Ie,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},V.push($e),Ie.removeAttribute(Z),O.$children$||(O.$children$=[]),O.$children$[$e.$index$]=$e,O=$e,W&&"0"===$e.$depth$&&(W[$e.$index$]=$e.$elm$))),gt=Ie.childNodes.length-1;gt>=0;gt--)ie(O,V,F,W,he,Ie.childNodes[gt],He);if(Ie.shadowRoot)for(gt=Ie.shadowRoot.childNodes.length-1;gt>=0;gt--)ie(O,V,F,W,he,Ie.shadowRoot.childNodes[gt],He)}else if(8===Ie.nodeType)Je=Ie.nodeValue.split("."),(Je[1]===He||"0"===Je[1])&&(Ke=Je[0],$e={$flags$:0,$hostId$:Je[1],$nodeId$:Je[2],$depth$:Je[3],$index$:Je[4],$elm$:Ie,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ke?($e.$elm$=Ie.nextSibling,$e.$elm$&&3===$e.$elm$.nodeType&&($e.$text$=$e.$elm$.textContent,V.push($e),Ie.remove(),O.$children$||(O.$children$=[]),O.$children$[$e.$index$]=$e,W&&"0"===$e.$depth$&&(W[$e.$index$]=$e.$elm$))):$e.$hostId$===He&&("s"===Ke?($e.$tag$="slot",Ie["s-sn"]=Je[5]?$e.$name$=Je[5]:"",Ie["s-sr"]=!0,W&&($e.$elm$=Zn.createElement($e.$tag$),$e.$name$&&$e.$elm$.setAttribute("name",$e.$name$),Ie.parentNode.insertBefore($e.$elm$,Ie),Ie.remove(),"0"===$e.$depth$&&(W[$e.$index$]=$e.$elm$)),F.push($e),O.$children$||(O.$children$=[]),O.$children$[$e.$index$]=$e):"r"===Ke&&(W?Ie.remove():(he["s-cr"]=Ie,Ie["s-cn"]=!0))));else if(O&&"style"===O.$tag$){const vt=qe(null,Ie.textContent);vt.$elm$=Ie,vt.$index$="0",O.$children$=[vt]}},we=(O,V)=>{if(1===O.nodeType){let F=0;for(;F<O.childNodes.length;F++)we(O.childNodes[F],V);if(O.shadowRoot)for(F=0;F<O.shadowRoot.childNodes.length;F++)we(O.shadowRoot.childNodes[F],V)}else if(8===O.nodeType){const F=O.nodeValue.split(".");"o"===F[0]&&(V.set(F[1]+"."+F[2],O),O.nodeValue="",O["s-en"]=F[3])}},Re=O=>er.push(O),at=O=>Be(O).$modeName$,mt=O=>Be(O).$hostElement$,Fe=(O,V,F)=>{const W=mt(O);return{emit:he=>Ve(W,V,{bubbles:!!(4&F),composed:!!(2&F),cancelable:!!(1&F),detail:he})}},Ve=(O,V,F)=>{const W=bn.ce(V,F);return O.dispatchEvent(W),W},Le=new WeakMap,ot=(O,V,F)=>{let W=Jn.get(O);ni&&F?(W=W||new CSSStyleSheet,"string"==typeof W?W=V:W.replaceSync(V)):W=V,Jn.set(O,W)},ft=(O,V,F,W)=>{var he;let Ie=$t(V,F);const He=Jn.get(Ie);if(O=11===O.nodeType?O:Zn,He)if("string"==typeof He){let Je,Ke=Le.get(O=O.head||O);if(Ke||Le.set(O,Ke=new Set),!Ke.has(Ie)){if(O.host&&(Je=O.querySelector(`[${je}="${Ie}"]`)))Je.innerHTML=He;else{Je=Zn.createElement("style"),Je.innerHTML=He;const $e=null!==(he=bn.$nonce$)&&void 0!==he?he:ke(Zn);null!=$e&&Je.setAttribute("nonce",$e),O.insertBefore(Je,O.querySelector("link"))}Ke&&Ke.add(Ie)}}else O.adoptedStyleSheets.includes(He)||(O.adoptedStyleSheets=[...O.adoptedStyleSheets,He]);return Ie},$t=(O,V)=>"sc-"+(V&&32&O.$flags$?O.$tagName$+"-"+V:O.$tagName$),en=O=>O.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),fn=(O,V,F,W,he,Ie)=>{if(F!==W){let He=Ot(O,V),Ke=V.toLowerCase();if("class"===V){const Je=O.classList,$e=Hn(F),gt=Hn(W);Je.remove(...$e.filter(vt=>vt&&!gt.includes(vt))),Je.add(...gt.filter(vt=>vt&&!$e.includes(vt)))}else if("style"===V){for(const Je in F)(!W||null==W[Je])&&(Je.includes("-")?O.style.removeProperty(Je):O.style[Je]="");for(const Je in W)(!F||W[Je]!==F[Je])&&(Je.includes("-")?O.style.setProperty(Je,W[Je]):O.style[Je]=W[Je])}else if("key"!==V)if("ref"===V)W&&W(O);else if(He||"o"!==V[0]||"n"!==V[1]){const Je=ye(W);if((He||Je&&null!==W)&&!he)try{if(O.tagName.includes("-"))O[V]=W;else{const gt=W??"";"list"===V?He=!1:(null==F||O[V]!=gt)&&(O[V]=gt)}}catch{}let $e=!1;Ke!==(Ke=Ke.replace(/^xlink\:?/,""))&&(V=Ke,$e=!0),null==W||!1===W?(!1!==W||""===O.getAttribute(V))&&($e?O.removeAttributeNS(X,V):O.removeAttribute(V)):(!He||4&Ie||he)&&!Je&&(W=!0===W?"":W,$e?O.setAttributeNS(X,V,W):O.setAttribute(V,W))}else V="-"===V[2]?V.slice(3):Ot(Gn,Ke)?Ke.slice(2):Ke[2]+V.slice(3),F&&bn.rel(O,V,F,!1),W&&bn.ael(O,V,W,!1)}},kn=/\s/,Hn=O=>O?O.split(kn):[],$n=(O,V,F,W)=>{const he=11===V.$elm$.nodeType&&V.$elm$.host?V.$elm$.host:V.$elm$,Ie=O&&O.$attrs$||pe,He=V.$attrs$||pe;for(W in Ie)W in He||fn(he,W,Ie[W],void 0,F,V.$flags$);for(W in He)fn(he,W,Ie[W],He[W],F,V.$flags$)},mi=(O,V,F,W)=>{const he=V.$children$[F];let He,Ke,Je,Ie=0;if(ve||(Se=!0,"slot"===he.$tag$&&(P&&W.classList.add(P+"-s"),he.$flags$|=he.$children$?2:1)),null!==he.$text$)He=he.$elm$=Zn.createTextNode(he.$text$);else if(1&he.$flags$)He=he.$elm$=Zn.createTextNode("");else{if(le||(le="svg"===he.$tag$),He=he.$elm$=Zn.createElementNS(le?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&he.$flags$?"slot-fb":he.$tag$),le&&"foreignObject"===he.$tag$&&(le=!1),$n(null,he,le),(O=>null!=O)(P)&&He["s-si"]!==P&&He.classList.add(He["s-si"]=P),he.$children$)for(Ie=0;Ie<he.$children$.length;++Ie)Ke=mi(O,he,Ie,He),Ke&&He.appendChild(Ke);"svg"===he.$tag$?le=!1:"foreignObject"===He.tagName&&(le=!0)}return He["s-hn"]=oe,3&he.$flags$&&(He["s-sr"]=!0,He["s-cr"]=ce,He["s-sn"]=he.$name$||"",Je=O&&O.$children$&&O.$children$[F],Je&&Je.$tag$===he.$tag$&&O.$elm$&&ar(O.$elm$,!1)),He},ar=(O,V)=>{bn.$flags$|=1;const F=O.childNodes;for(let W=F.length-1;W>=0;W--){const he=F[W];he["s-hn"]!==oe&&he["s-ol"]&&(Pr(he).insertBefore(he,zn(he)),he["s-ol"].remove(),he["s-ol"]=void 0,Se=!0),V&&ar(he,V)}bn.$flags$&=-2},yt=(O,V,F,W,he,Ie)=>{let Ke,He=O["s-cr"]&&O["s-cr"].parentNode||O;for(He.shadowRoot&&He.tagName===oe&&(He=He.shadowRoot);he<=Ie;++he)W[he]&&(Ke=mi(null,F,he,O),Ke&&(W[he].$elm$=Ke,He.insertBefore(Ke,zn(V))))},Ft=(O,V,F)=>{for(let W=V;W<=F;++W){const he=O[W];if(he){const Ie=he.$elm$;ln(he),Ie&&(Y=!0,Ie["s-ol"]?Ie["s-ol"].remove():ar(Ie,!0),Ie.remove())}}},xn=(O,V)=>O.$tag$===V.$tag$&&("slot"===O.$tag$?O.$name$===V.$name$:O.$key$===V.$key$),zn=O=>O&&O["s-ol"]||O,Pr=O=>(O["s-ol"]?O["s-ol"]:O).parentNode,yn=(O,V)=>{const F=V.$elm$=O.$elm$,W=O.$children$,he=V.$children$,Ie=V.$tag$,He=V.$text$;let Ke;null===He?(le="svg"===Ie||"foreignObject"!==Ie&&le,"slot"===Ie||$n(O,V,le),null!==W&&null!==he?((O,V,F,W)=>{let vi,ri,he=0,Ie=0,He=0,Ke=0,Je=V.length-1,$e=V[0],gt=V[Je],vt=W.length-1,Qt=W[0],Cn=W[vt];for(;he<=Je&&Ie<=vt;)if(null==$e)$e=V[++he];else if(null==gt)gt=V[--Je];else if(null==Qt)Qt=W[++Ie];else if(null==Cn)Cn=W[--vt];else if(xn($e,Qt))yn($e,Qt),$e=V[++he],Qt=W[++Ie];else if(xn(gt,Cn))yn(gt,Cn),gt=V[--Je],Cn=W[--vt];else if(xn($e,Cn))("slot"===$e.$tag$||"slot"===Cn.$tag$)&&ar($e.$elm$.parentNode,!1),yn($e,Cn),O.insertBefore($e.$elm$,gt.$elm$.nextSibling),$e=V[++he],Cn=W[--vt];else if(xn(gt,Qt))("slot"===$e.$tag$||"slot"===Cn.$tag$)&&ar(gt.$elm$.parentNode,!1),yn(gt,Qt),O.insertBefore(gt.$elm$,$e.$elm$),gt=V[--Je],Qt=W[++Ie];else{for(He=-1,Ke=he;Ke<=Je;++Ke)if(V[Ke]&&null!==V[Ke].$key$&&V[Ke].$key$===Qt.$key$){He=Ke;break}He>=0?(ri=V[He],ri.$tag$!==Qt.$tag$?vi=mi(V&&V[Ie],F,He,O):(yn(ri,Qt),V[He]=void 0,vi=ri.$elm$),Qt=W[++Ie]):(vi=mi(V&&V[Ie],F,Ie,O),Qt=W[++Ie]),vi&&Pr($e.$elm$).insertBefore(vi,zn($e.$elm$))}he>Je?yt(O,null==W[vt+1]?null:W[vt+1].$elm$,F,W,Ie,vt):Ie>vt&&Ft(V,he,Je)})(F,W,V,he):null!==he?(null!==O.$text$&&(F.textContent=""),yt(F,null,V,he,0,he.length-1)):null!==W&&Ft(W,0,W.length-1),le&&"svg"===Ie&&(le=!1)):(Ke=F["s-cr"])?Ke.parentNode.textContent=He:O.$text$!==He&&(F.data=He)},hr=O=>{const V=O.childNodes;let F,W,he,Ie,He,Ke;for(W=0,he=V.length;W<he;W++)if(F=V[W],1===F.nodeType){if(F["s-sr"])for(He=F["s-sn"],F.hidden=!1,Ie=0;Ie<he;Ie++)if(Ke=V[Ie].nodeType,V[Ie]["s-hn"]!==F["s-hn"]||""!==He){if(1===Ke&&He===V[Ie].getAttribute("slot")){F.hidden=!0;break}}else if(1===Ke||3===Ke&&""!==V[Ie].textContent.trim()){F.hidden=!0;break}hr(F)}},Rr=[],Mn=O=>{let V,F,W,he,Ie,He,Ke=0;const Je=O.childNodes,$e=Je.length;for(;Ke<$e;Ke++){if(V=Je[Ke],V["s-sr"]&&(F=V["s-cr"])&&F.parentNode)for(W=F.parentNode.childNodes,he=V["s-sn"],He=W.length-1;He>=0;He--)F=W[He],!F["s-cn"]&&!F["s-nr"]&&F["s-hn"]!==V["s-hn"]&&(Ir(F,he)?(Ie=Rr.find(gt=>gt.$nodeToRelocate$===F),Y=!0,F["s-sn"]=F["s-sn"]||he,Ie?Ie.$slotRefNode$=V:Rr.push({$slotRefNode$:V,$nodeToRelocate$:F}),F["s-sr"]&&Rr.map(gt=>{Ir(gt.$nodeToRelocate$,F["s-sn"])&&(Ie=Rr.find(vt=>vt.$nodeToRelocate$===F),Ie&&!gt.$slotRefNode$&&(gt.$slotRefNode$=Ie.$slotRefNode$))})):Rr.some(gt=>gt.$nodeToRelocate$===F)||Rr.push({$nodeToRelocate$:F}));1===V.nodeType&&Mn(V)}},Ir=(O,V)=>1===O.nodeType?null===O.getAttribute("slot")&&""===V||O.getAttribute("slot")===V:O["s-sn"]===V||""===V,ln=O=>{O.$attrs$&&O.$attrs$.ref&&O.$attrs$.ref(null),O.$children$&&O.$children$.map(ln)},ao=(O,V)=>{V&&!O.$onRenderResolve$&&V["s-p"]&&V["s-p"].push(new Promise(F=>O.$onRenderResolve$=F))},lo=(O,V)=>{if(O.$flags$|=16,!(4&O.$flags$))return ao(O,O.$ancestorComponent$),Vo(()=>qr(O,V));O.$flags$|=512},qr=(O,V)=>{const W=O.$lazyInstance$;let he;return V&&(O.$flags$|=256,O.$queuedListeners$&&(O.$queuedListeners$.map(([Ie,He])=>Kt(W,Ie,He)),O.$queuedListeners$=void 0),he=Kt(W,"componentWillLoad")),he=yi(he,()=>Kt(W,"componentWillRender")),yi(he,()=>lr(O,W,V))},yi=(O,V)=>Er(O)?O.then(V):V(),Er=O=>O instanceof Promise||O&&O.then&&"function"==typeof O.then,lr=function(){var O=(0,c.Z)(function*(V,F,W){var he;const Ie=V.$hostElement$,Ke=Ie["s-rc"];W&&(O=>{const V=O.$cmpMeta$,F=O.$hostElement$,W=V.$flags$,Ie=ft(F.shadowRoot?F.shadowRoot:F.getRootNode(),V,O.$modeName$);10&W&&(F["s-sc"]=Ie,F.classList.add(Ie+"-h"),2&W&&F.classList.add(Ie+"-s"))})(V);Vn(V,F),Ke&&(Ke.map($e=>$e()),Ie["s-rc"]=void 0);{const $e=null!==(he=Ie["s-p"])&&void 0!==he?he:[],gt=()=>Ri(V);0===$e.length?gt():(Promise.all($e).then(gt),V.$flags$|=4,$e.length=0)}});return function(F,W,he){return O.apply(this,arguments)}}(),Vn=(O,V,F)=>{try{V=V.render&&V.render(),O.$flags$&=-17,O.$flags$|=2,((O,V)=>{const F=O.$hostElement$,W=O.$cmpMeta$,he=O.$vnode$||qe(null,null),Ie=(O=>O&&O.$tag$===St)(V)?V:ze(null,null,V);if(oe=F.tagName,W.$attrsToReflect$&&(Ie.$attrs$=Ie.$attrs$||{},W.$attrsToReflect$.map(([He,Ke])=>Ie.$attrs$[Ke]=F[He])),Ie.$tag$=null,Ie.$flags$|=4,O.$vnode$=Ie,Ie.$elm$=he.$elm$=F.shadowRoot||F,P=F["s-sc"],ce=F["s-cr"],ve=0!=(1&W.$flags$),Y=!1,yn(he,Ie),bn.$flags$|=1,Se){Mn(Ie.$elm$);let He,Ke,Je,$e,gt,vt,Qt=0;for(;Qt<Rr.length;Qt++)He=Rr[Qt],Ke=He.$nodeToRelocate$,Ke["s-ol"]||(Je=Zn.createTextNode(""),Je["s-nr"]=Ke,Ke.parentNode.insertBefore(Ke["s-ol"]=Je,Ke));for(Qt=0;Qt<Rr.length;Qt++)if(He=Rr[Qt],Ke=He.$nodeToRelocate$,He.$slotRefNode$){for($e=He.$slotRefNode$.parentNode,gt=He.$slotRefNode$.nextSibling,Je=Ke["s-ol"];Je=Je.previousSibling;)if(vt=Je["s-nr"],vt&&vt["s-sn"]===Ke["s-sn"]&&$e===vt.parentNode&&(vt=vt.nextSibling,!vt||!vt["s-nr"])){gt=vt;break}(!gt&&$e!==Ke.parentNode||Ke.nextSibling!==gt)&&Ke!==gt&&(!Ke["s-hn"]&&Ke["s-ol"]&&(Ke["s-hn"]=Ke["s-ol"].parentNode.nodeName),$e.insertBefore(Ke,gt))}else 1===Ke.nodeType&&(Ke.hidden=!0)}Y&&hr(Ie.$elm$),bn.$flags$&=-2,Rr.length=0})(O,V)}catch(W){jt(W,O.$hostElement$)}return null},Ri=O=>{const F=O.$hostElement$,he=O.$lazyInstance$,Ie=O.$ancestorComponent$;Kt(he,"componentDidRender"),64&O.$flags$?Kt(he,"componentDidUpdate"):(O.$flags$|=64,J(F),Kt(he,"componentDidLoad"),O.$onReadyResolve$(F),Ie||kr()),O.$onInstanceResolve$(F),O.$onRenderResolve$&&(O.$onRenderResolve$(),O.$onRenderResolve$=void 0),512&O.$flags$&&na(()=>lo(O,!1)),O.$flags$&=-517},Sn=O=>{{const V=Be(O),F=V.$hostElement$.isConnected;return F&&2==(18&V.$flags$)&&lo(V,!1),F}},kr=O=>{J(Zn.documentElement),na(()=>Ve(Gn,"appload",{detail:{namespace:"ionic"}}))},Kt=(O,V,F)=>{if(O&&O[V])try{return O[V](F)}catch(W){jt(W)}},J=O=>O.classList.add("hydrated"),Ye=(O,V,F)=>{if(V.$members$){O.watchers&&(V.$watchers$=O.watchers);const W=Object.entries(V.$members$),he=O.prototype;if(W.map(([Ie,[He]])=>{31&He||2&F&&32&He?Object.defineProperty(he,Ie,{get(){return((O,V)=>Be(this).$instanceValues$.get(V))(0,Ie)},set(Ke){((O,V,F,W)=>{const he=Be(O),Ie=he.$hostElement$,He=he.$instanceValues$.get(V),Ke=he.$flags$,Je=he.$lazyInstance$;F=((O,V)=>null==O||ye(O)?O:4&V?"false"!==O&&(""===O||!!O):2&V?parseFloat(O):1&V?String(O):O)(F,W.$members$[V][0]);const $e=Number.isNaN(He)&&Number.isNaN(F);if((!(8&Ke)||void 0===He)&&F!==He&&!$e&&(he.$instanceValues$.set(V,F),Je)){if(W.$watchers$&&128&Ke){const vt=W.$watchers$[V];vt&&vt.map(Qt=>{try{Je[Qt](F,He,V)}catch(Cn){jt(Cn,Ie)}})}2==(18&Ke)&&lo(he,!1)}})(this,Ie,Ke,V)},configurable:!0,enumerable:!0}):1&F&&64&He&&Object.defineProperty(he,Ie,{value(...Ke){const Je=Be(this);return Je.$onInstancePromise$.then(()=>Je.$lazyInstance$[Ie](...Ke))}})}),1&F){const Ie=new Map;he.attributeChangedCallback=function(He,Ke,Je){bn.jmp(()=>{const $e=Ie.get(He);if(this.hasOwnProperty($e))Je=this[$e],delete this[$e];else if(he.hasOwnProperty($e)&&"number"==typeof this[$e]&&this[$e]==Je)return;this[$e]=(null!==Je||"boolean"!=typeof this[$e])&&Je})},O.observedAttributes=W.filter(([He,Ke])=>15&Ke[0]).map(([He,Ke])=>{const Je=Ke[1]||He;return Ie.set(Je,He),512&Ke[0]&&V.$attrsToReflect$.push([He,Je]),Je})}}return O},Oe=function(){var O=(0,c.Z)(function*(V,F,W,he,Ie){if(!(32&F.$flags$)){F.$flags$|=32;{if((Ie=vn(W)).then){const $e=()=>{};Ie=yield Ie,$e()}Ie.isProxied||(W.$watchers$=Ie.watchers,Ye(Ie,W,2),Ie.isProxied=!0);const Je=()=>{};F.$flags$|=8;try{new Ie(F)}catch($e){jt($e)}F.$flags$&=-9,F.$flags$|=128,Je(),At(F.$lazyInstance$)}if(Ie.style){let Je=Ie.style;"string"!=typeof Je&&(Je=Je[F.$modeName$=(O=>er.map(V=>V(O)).find(V=>!!V))(V)]);const $e=$t(W,F.$modeName$);if(!Jn.has($e)){const gt=()=>{};ot($e,Je,!!(1&W.$flags$)),gt()}}}const He=F.$ancestorComponent$,Ke=()=>lo(F,!0);He&&He["s-rc"]?He["s-rc"].push(Ke):Ke()});return function(F,W,he,Ie,He){return O.apply(this,arguments)}}(),At=O=>{Kt(O,"connectedCallback")},tn=O=>{const V=O["s-cr"]=Zn.createComment("");V["s-cn"]=!0,O.insertBefore(V,O.firstChild)},Nn=(O,V={})=>{var F;const he=[],Ie=V.exclude||[],He=Gn.customElements,Ke=Zn.head,Je=Ke.querySelector("meta[charset]"),$e=Zn.createElement("style"),gt=[],vt=Zn.querySelectorAll(`[${je}]`);let Qt,Cn=!0,vi=0;for(Object.assign(bn,V),bn.$resourcesUrl$=new URL(V.resourcesUrl||"./",Zn.baseURI).href,bn.$flags$|=2;vi<vt.length;vi++)ot(vt[vi].getAttribute(je),en(vt[vi].innerHTML),!0);O.map(ri=>{ri[1].map(Wi=>{const ii={$flags$:Wi[0],$tagName$:Wi[1],$members$:Wi[2],$listeners$:Wi[3]};ii.$members$=Wi[2],ii.$listeners$=Wi[3],ii.$attrsToReflect$=[],ii.$watchers$={};const ra=ii.$tagName$,cr=class extends HTMLElement{constructor(_t){super(_t),nt(_t=this,ii),1&ii.$flags$&&_t.attachShadow({mode:"open",delegatesFocus:!!(16&ii.$flags$)})}connectedCallback(){Qt&&(clearTimeout(Qt),Qt=null),Cn?gt.push(this):bn.jmp(()=>(O=>{if(!(1&bn.$flags$)){const V=Be(O),F=V.$cmpMeta$,W=()=>{};if(1&V.$flags$)Wt(O,V,F.$listeners$),At(V.$lazyInstance$);else{let he;if(V.$flags$|=1,he=O.getAttribute(Ae),he){if(1&F.$flags$){const Ie=ft(O.shadowRoot,F,O.getAttribute("s-mode"));O.classList.remove(Ie+"-h",Ie+"-s")}((O,V,F,W)=>{const Ie=O.shadowRoot,He=[],Je=Ie?[]:null,$e=W.$vnode$=qe(V,null);bn.$orgLocNodes$||we(Zn.body,bn.$orgLocNodes$=new Map),O[Ae]=F,O.removeAttribute(Ae),ie($e,He,[],Je,O,O,F),He.map(gt=>{const vt=gt.$hostId$+"."+gt.$nodeId$,Qt=bn.$orgLocNodes$.get(vt),Cn=gt.$elm$;Qt&&jr&&""===Qt["s-en"]&&Qt.parentNode.insertBefore(Cn,Qt.nextSibling),Ie||(Cn["s-hn"]=V,Qt&&(Cn["s-ol"]=Qt,Cn["s-ol"]["s-nr"]=Cn)),bn.$orgLocNodes$.delete(vt)}),Ie&&Je.map(gt=>{gt&&Ie.appendChild(gt)})})(O,F.$tagName$,he,V)}he||12&F.$flags$&&tn(O);{let Ie=O;for(;Ie=Ie.parentNode||Ie.host;)if(1===Ie.nodeType&&Ie.hasAttribute("s-id")&&Ie["s-p"]||Ie["s-p"]){ao(V,V.$ancestorComponent$=Ie);break}}F.$members$&&Object.entries(F.$members$).map(([Ie,[He]])=>{if(31&He&&O.hasOwnProperty(Ie)){const Ke=O[Ie];delete O[Ie],O[Ie]=Ke}}),Oe(O,V,F)}W()}})(this))}disconnectedCallback(){bn.jmp(()=>(O=>{if(!(1&bn.$flags$)){const V=Be(this),F=V.$lazyInstance$;V.$rmListeners$&&(V.$rmListeners$.map(W=>W()),V.$rmListeners$=void 0),Kt(F,"disconnectedCallback")}})())}componentOnReady(){return Be(this).$onReadyPromise$}};ii.$lazyBundleId$=ri[0],!Ie.includes(ra)&&!He.get(ra)&&(he.push(ra),He.define(ra,Ye(cr,ii,1)))})});{$e.innerHTML=he+"{visibility:hidden}.hydrated{visibility:inherit}",$e.setAttribute("data-styles","");const ri=null!==(F=bn.$nonce$)&&void 0!==F?F:ke(Zn);null!=ri&&$e.setAttribute("nonce",ri),Ke.insertBefore($e,Je?Je.nextSibling:Ke.firstChild)}Cn=!1,gt.length?gt.map(ri=>ri.connectedCallback()):bn.jmp(()=>Qt=setTimeout(kr,30))},Wt=(O,V,F,W)=>{F&&F.map(([he,Ie,He])=>{const Ke=wr(O,he),Je=En(V,He),$e=ti(he);bn.ael(Ke,Ie,Je,$e),(V.$rmListeners$=V.$rmListeners$||[]).push(()=>bn.rel(Ke,Ie,Je,$e))})},En=(O,V)=>F=>{try{256&O.$flags$?O.$lazyInstance$[V](F):(O.$queuedListeners$=O.$queuedListeners$||[]).push([V,F])}catch(W){jt(W)}},wr=(O,V)=>4&V?Zn:8&V?Gn:16&V?Zn.body:O,ti=O=>0!=(2&O),Fr=new WeakMap,Be=O=>Fr.get(O),xe=(O,V)=>Fr.set(V.$lazyInstance$=O,V),nt=(O,V)=>{const F={$flags$:0,$hostElement$:O,$cmpMeta$:V,$instanceValues$:new Map};return F.$onInstancePromise$=new Promise(W=>F.$onInstanceResolve$=W),F.$onReadyPromise$=new Promise(W=>F.$onReadyResolve$=W),O["s-p"]=[],O["s-rc"]=[],Wt(O,F,V.$listeners$),Fr.set(O,F)},Ot=(O,V)=>V in O,jt=(O,V)=>(0,console.error)(O,V),nn=new Map,vn=(O,V,F)=>{const W=O.$tagName$.replace(/-/g,"_"),he=O.$lazyBundleId$,Ie=nn.get(he);return Ie?Ie[W]:x(863)(`./${he}.entry.js`).then(He=>(nn.set(he,He),He[W]),jt)},Jn=new Map,er=[],Gn=typeof window<"u"?window:{},Zn=Gn.document||{head:{}},bn={$flags$:0,$resourcesUrl$:"",jmp:O=>O(),raf:O=>requestAnimationFrame(O),ael:(O,V,F,W)=>O.addEventListener(V,F,W),rel:(O,V,F,W)=>O.removeEventListener(V,F,W),ce:(O,V)=>new CustomEvent(O,V)},Oa=O=>{Object.assign(bn,O)},jr=!0,ea=O=>Promise.resolve(O),ni=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Eo=[],Rs=[],ta=(O,V)=>F=>{O.push(F),j||(j=!0,V&&4&bn.$flags$?na(Gi):bn.raf(Gi))},rr=O=>{for(let V=0;V<O.length;V++)try{O[V](performance.now())}catch(F){jt(F)}O.length=0},Gi=()=>{rr(Eo),rr(Rs),(j=Eo.length>0)&&bn.raf(Gi)},na=O=>ea().then(O),Il=ta(Eo,!1),Vo=ta(Rs,!0)},8077:(wt,Pe,x)=>{"use strict";x.r(Pe),x.d(Pe,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>le});var c=x(4587);const K=(ee,re,De,_e)=>{const ue=P(ee)?{capture:!!_e.capture,passive:!!_e.passive}:!!_e.capture;let G,Ae;return ee.__zone_symbol__addEventListener?(G="__zone_symbol__addEventListener",Ae="__zone_symbol__removeEventListener"):(G="addEventListener",Ae="removeEventListener"),ee[G](re,De,ue),()=>{ee[Ae](re,De,ue)}},P=ee=>{if(void 0===ce)try{const re=Object.defineProperty({},"passive",{get:()=>{ce=!0}});ee.addEventListener("optsTest",()=>{},re)}catch{ce=!1}return!!ce};let ce;const Y=ee=>ee instanceof Document?ee:ee.ownerDocument,le=ee=>{let re=!1,De=!1,_e=!0,ue=!1;const G=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ee),Ae=G.canStart,je=G.onWillStart,Z=G.onStart,fe=G.onEnd,X=G.notCaptured,pe=G.onMove,te=G.threshold,me=G.passive,Q=G.blurOnStart,ye={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ke=((ee,re,De)=>{const _e=De*(Math.PI/180),ue="x"===ee,G=Math.cos(_e),Ae=re*re;let je=0,Z=0,fe=!1,X=0;return{start(pe,te){je=pe,Z=te,X=0,fe=!0},detect(pe,te){if(!fe)return!1;const me=pe-je,Q=te-Z,ye=me*me+Q*Q;if(ye<Ae)return!1;const ke=Math.sqrt(ye),ze=(ue?me:Q)/ke;return X=ze>G?1:ze<-G?-1:0,fe=!1,!0},isGesture:()=>0!==X,getDirection:()=>X}})(G.direction,G.threshold,G.maxAngle),ze=c.G.createGesture({name:ee.gestureName,priority:ee.gesturePriority,disableScroll:ee.disableScroll}),Bt=()=>{re&&(ue=!1,pe&&pe(ye))},Xt=()=>!!ze.capture()&&(re=!0,_e=!1,ye.startX=ye.currentX,ye.startY=ye.currentY,ye.startTime=ye.currentTime,je?je(ye).then($):$(),!0),$=()=>{Q&&(()=>{if(typeof document<"u"){const Re=document.activeElement;Re?.blur&&Re.blur()}})(),Z&&Z(ye),_e=!0},H=()=>{re=!1,De=!1,ue=!1,_e=!0,ze.release()},ie=Re=>{const at=re,st=_e;if(H(),st){if(j(ye,Re),at)return void(fe&&fe(ye));X&&X(ye)}},we=((ee,re,De,_e,ue)=>{let G,Ae,je,Z,fe,X,pe,te=0;const me=We=>{te=Date.now()+2e3,re(We)&&(!Ae&&De&&(Ae=K(ee,"touchmove",De,ue)),je||(je=K(We.target,"touchend",ye,ue)),Z||(Z=K(We.target,"touchcancel",ye,ue)))},Q=We=>{te>Date.now()||re(We)&&(!X&&De&&(X=K(Y(ee),"mousemove",De,ue)),pe||(pe=K(Y(ee),"mouseup",ke,ue)))},ye=We=>{ze(),_e&&_e(We)},ke=We=>{qe(),_e&&_e(We)},ze=()=>{Ae&&Ae(),je&&je(),Z&&Z(),Ae=je=Z=void 0},qe=()=>{X&&X(),pe&&pe(),X=pe=void 0},St=()=>{ze(),qe()},Bt=(We=!0)=>{We?(G||(G=K(ee,"touchstart",me,ue)),fe||(fe=K(ee,"mousedown",Q,ue))):(G&&G(),fe&&fe(),G=fe=void 0,St())};return{enable:Bt,stop:St,destroy:()=>{Bt(!1),_e=De=re=void 0}}})(G.el,Re=>{const at=z(Re);return!(De||!_e||(B(Re,ye),ye.startX=ye.currentX,ye.startY=ye.currentY,ye.startTime=ye.currentTime=at,ye.velocityX=ye.velocityY=ye.deltaX=ye.deltaY=0,ye.event=Re,Ae&&!1===Ae(ye))||(ze.release(),!ze.start()))&&(De=!0,0===te?Xt():(ke.start(ye.startX,ye.startY),!0))},Re=>{re?!ue&&_e&&(ue=!0,j(ye,Re),requestAnimationFrame(Bt)):(j(ye,Re),ke.detect(ye.currentX,ye.currentY)&&(!ke.isGesture()||!Xt())&&Me())},ie,{capture:!1,passive:me}),Me=()=>{H(),we.stop(),X&&X(ye)};return{enable(Re=!0){Re||(re&&ie(void 0),H()),we.enable(Re)},destroy(){ze.destroy(),we.destroy()}}},j=(ee,re)=>{if(!re)return;const De=ee.currentX,_e=ee.currentY,ue=ee.currentTime;B(re,ee);const G=ee.currentX,Ae=ee.currentY,Z=(ee.currentTime=z(re))-ue;if(Z>0&&Z<100){const X=(Ae-_e)/Z;ee.velocityX=(G-De)/Z*.7+.3*ee.velocityX,ee.velocityY=.7*X+.3*ee.velocityY}ee.deltaX=G-ee.startX,ee.deltaY=Ae-ee.startY,ee.event=re},B=(ee,re)=>{let De=0,_e=0;if(ee){const ue=ee.changedTouches;if(ue&&ue.length>0){const G=ue[0];De=G.clientX,_e=G.clientY}else void 0!==ee.pageX&&(De=ee.pageX,_e=ee.pageY)}re.currentX=De,re.currentY=_e},z=ee=>ee.timeStamp||Date.now()},1767:(wt,Pe,x)=>{"use strict";x.d(Pe,{m:()=>B});var c=x(5861),K=x(5421),P=x(544),ce=x(7876),oe=x(6506);const ve=z=>(0,oe.c)().duration(z?400:300),Y=z=>{let ee,re;const De=z.width+8,_e=(0,oe.c)(),ue=(0,oe.c)();z.isEndSide?(ee=De+"px",re="0px"):(ee=-De+"px",re="0px"),_e.addElement(z.menuInnerEl).fromTo("transform",`translateX(${ee})`,`translateX(${re})`);const Ae="ios"===(0,ce.b)(z),je=Ae?.2:.25;return ue.addElement(z.backdropEl).fromTo("opacity",.01,je),ve(Ae).addAnimation([_e,ue])},Se=z=>{let ee,re;const De=(0,ce.b)(z),_e=z.width;z.isEndSide?(ee=-_e+"px",re=_e+"px"):(ee=_e+"px",re=-_e+"px");const ue=(0,oe.c)().addElement(z.menuInnerEl).fromTo("transform",`translateX(${re})`,"translateX(0px)"),G=(0,oe.c)().addElement(z.contentEl).fromTo("transform","translateX(0px)",`translateX(${ee})`),Ae=(0,oe.c)().addElement(z.backdropEl).fromTo("opacity",.01,.32);return ve("ios"===De).addAnimation([ue,G,Ae])},le=z=>{const ee=(0,ce.b)(z),re=z.width*(z.isEndSide?-1:1)+"px",De=(0,oe.c)().addElement(z.contentEl).fromTo("transform","translateX(0px)",`translateX(${re})`);return ve("ios"===ee).addAnimation(De)},B=(()=>{const z=new Map,ee=[],re=function(){var $=(0,c.Z)(function*(H){const ie=yield Z(H);return!!ie&&ie.open()});return function(ie){return $.apply(this,arguments)}}(),De=function(){var $=(0,c.Z)(function*(H){const ie=yield void 0!==H?Z(H):fe();return void 0!==ie&&ie.close()});return function(ie){return $.apply(this,arguments)}}(),_e=function(){var $=(0,c.Z)(function*(H){const ie=yield Z(H);return!!ie&&ie.toggle()});return function(ie){return $.apply(this,arguments)}}(),ue=function(){var $=(0,c.Z)(function*(H,ie){const we=yield Z(ie);return we&&(we.disabled=!H),we});return function(ie,we){return $.apply(this,arguments)}}(),G=function(){var $=(0,c.Z)(function*(H,ie){const we=yield Z(ie);return we&&(we.swipeGesture=H),we});return function(ie,we){return $.apply(this,arguments)}}(),Ae=function(){var $=(0,c.Z)(function*(H){if(null!=H){const ie=yield Z(H);return void 0!==ie&&ie.isOpen()}return void 0!==(yield fe())});return function(ie){return $.apply(this,arguments)}}(),je=function(){var $=(0,c.Z)(function*(H){const ie=yield Z(H);return!!ie&&!ie.disabled});return function(ie){return $.apply(this,arguments)}}(),Z=function(){var $=(0,c.Z)(function*(H){return yield We(),"start"===H||"end"===H?Xt(Me=>Me.side===H&&!Me.disabled)||Xt(Me=>Me.side===H):null!=H?Xt(we=>we.menuId===H):Xt(we=>!we.disabled)||(ee.length>0?ee[0].el:void 0)});return function(ie){return $.apply(this,arguments)}}(),fe=function(){var $=(0,c.Z)(function*(){return yield We(),qe()});return function(){return $.apply(this,arguments)}}(),X=function(){var $=(0,c.Z)(function*(){return yield We(),St()});return function(){return $.apply(this,arguments)}}(),pe=function(){var $=(0,c.Z)(function*(){return yield We(),Bt()});return function(){return $.apply(this,arguments)}}(),te=($,H)=>{z.set($,H)},ye=$=>{const H=$.side;ee.filter(ie=>ie.side===H&&ie!==$).forEach(ie=>ie.disabled=!0)},ke=function(){var $=(0,c.Z)(function*(H,ie,we){if(Bt())return!1;if(ie){const Me=yield fe();Me&&H.el!==Me&&(yield Me.setOpen(!1,!1))}return H._setOpen(ie,we)});return function(ie,we,Me){return $.apply(this,arguments)}}(),qe=()=>Xt($=>$._isOpen),St=()=>ee.map($=>$.el),Bt=()=>ee.some($=>$.isAnimating),Xt=$=>{const H=ee.find($);if(void 0!==H)return H.el},We=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map($=>new Promise(H=>(0,P.c)($,H))));return te("reveal",le),te("push",Se),te("overlay",Y),typeof document<"u"&&document.addEventListener("ionBackButton",$=>{const H=qe();H&&$.detail.register(K.MENU_BACK_BUTTON_PRIORITY,()=>H.close())}),{registerAnimation:te,get:Z,getMenus:X,getOpen:fe,isEnabled:je,swipeGesture:G,isAnimating:pe,isOpen:Ae,enable:ue,toggle:_e,close:De,open:re,_getOpenSync:qe,_createAnimation:($,H)=>{const ie=z.get($);if(!ie)throw new Error("animation not registered");return ie(H)},_register:$=>{ee.indexOf($)<0&&($.disabled||ye($),ee.push($))},_unregister:$=>{const H=ee.indexOf($);H>-1&&ee.splice(H,1)},_setOpen:ke,_setActiveMenu:ye}})()},8354:(wt,Pe,x)=>{"use strict";x.d(Pe,{L:()=>ce,a:()=>oe,b:()=>ve,c:()=>Y,d:()=>Se,e:()=>te,g:()=>ye,l:()=>X,s:()=>me,t:()=>B,w:()=>pe});var c=x(5861),K=x(6953),P=x(544);const ce="ionViewWillEnter",oe="ionViewDidEnter",ve="ionViewWillLeave",Y="ionViewDidLeave",Se="ionViewWillUnload",B=ke=>new Promise((ze,qe)=>{(0,K.w)(()=>{z(ke),ee(ke).then(St=>{St.animation&&St.animation.destroy(),re(ke),ze(St)},St=>{re(ke),qe(St)})})}),z=ke=>{const ze=ke.enteringEl,qe=ke.leavingEl;Q(ze,qe,ke.direction),ke.showGoBack?ze.classList.add("can-go-back"):ze.classList.remove("can-go-back"),me(ze,!1),ze.style.setProperty("pointer-events","none"),qe&&(me(qe,!1),qe.style.setProperty("pointer-events","none"))},ee=function(){var ke=(0,c.Z)(function*(ze){const qe=yield De(ze);return qe&&K.B.isBrowser?_e(qe,ze):ue(ze)});return function(qe){return ke.apply(this,arguments)}}(),re=ke=>{const ze=ke.enteringEl,qe=ke.leavingEl;ze.classList.remove("ion-page-invisible"),ze.style.removeProperty("pointer-events"),void 0!==qe&&(qe.classList.remove("ion-page-invisible"),qe.style.removeProperty("pointer-events"))},De=function(){var ke=(0,c.Z)(function*(ze){return ze.leavingEl&&ze.animated&&0!==ze.duration?ze.animationBuilder?ze.animationBuilder:"ios"===ze.mode?(yield Promise.resolve().then(x.bind(x,8899))).iosTransitionAnimation:(yield Promise.resolve().then(x.bind(x,5298))).mdTransitionAnimation:void 0});return function(qe){return ke.apply(this,arguments)}}(),_e=function(){var ke=(0,c.Z)(function*(ze,qe){yield G(qe,!0);const St=ze(qe.baseEl,qe);Z(qe.enteringEl,qe.leavingEl);const Bt=yield je(St,qe);return qe.progressCallback&&qe.progressCallback(void 0),Bt&&fe(qe.enteringEl,qe.leavingEl),{hasCompleted:Bt,animation:St}});return function(qe,St){return ke.apply(this,arguments)}}(),ue=function(){var ke=(0,c.Z)(function*(ze){const qe=ze.enteringEl,St=ze.leavingEl;return yield G(ze,!1),Z(qe,St),fe(qe,St),{hasCompleted:!0}});return function(qe){return ke.apply(this,arguments)}}(),G=function(){var ke=(0,c.Z)(function*(ze,qe){(void 0!==ze.deepWait?ze.deepWait:qe)&&(yield Promise.all([te(ze.enteringEl),te(ze.leavingEl)])),yield Ae(ze.viewIsReady,ze.enteringEl)});return function(qe,St){return ke.apply(this,arguments)}}(),Ae=function(){var ke=(0,c.Z)(function*(ze,qe){ze&&(yield ze(qe))});return function(qe,St){return ke.apply(this,arguments)}}(),je=(ke,ze)=>{const qe=ze.progressCallback,St=new Promise(Bt=>{ke.onFinish(Xt=>Bt(1===Xt))});return qe?(ke.progressStart(!0),qe(ke)):ke.play(),St},Z=(ke,ze)=>{X(ze,ve),X(ke,ce)},fe=(ke,ze)=>{X(ke,oe),X(ze,Y)},X=(ke,ze)=>{if(ke){const qe=new CustomEvent(ze,{bubbles:!1,cancelable:!1});ke.dispatchEvent(qe)}},pe=()=>new Promise(ke=>(0,P.r)(()=>(0,P.r)(()=>ke()))),te=function(){var ke=(0,c.Z)(function*(ze){const qe=ze;if(qe){if(null!=qe.componentOnReady){if(null!=(yield qe.componentOnReady()))return}else if(null!=qe.__registerHost)return void(yield new Promise(Bt=>(0,P.r)(Bt)));yield Promise.all(Array.from(qe.children).map(te))}});return function(qe){return ke.apply(this,arguments)}}(),me=(ke,ze)=>{ze?(ke.setAttribute("aria-hidden","true"),ke.classList.add("ion-page-hidden")):(ke.hidden=!1,ke.removeAttribute("aria-hidden"),ke.classList.remove("ion-page-hidden"))},Q=(ke,ze,qe)=>{void 0!==ke&&(ke.style.zIndex="back"===qe?"99":"101"),void 0!==ze&&(ze.style.zIndex="100")},ye=ke=>ke.classList.contains("ion-page")?ke:ke.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ke},7643:(wt,Pe,x)=>{"use strict";x.d(Pe,{d:()=>K,w:()=>c});const c=typeof window<"u"?window:void 0,K=typeof document<"u"?document:void 0},7690:(wt,Pe,x)=>{"use strict";x.d(Pe,{a:()=>K,b:()=>P,p:()=>c});const c=(ce,...oe)=>console.warn(`[Ionic Warning]: ${ce}`,...oe),K=(ce,...oe)=>console.error(`[Ionic Error]: ${ce}`,...oe),P=(ce,...oe)=>console.error(`<${ce.tagName.toLowerCase()}> must be used inside ${oe.join(" or ")}.`)},7876:(wt,Pe,x)=>{"use strict";x.d(Pe,{a:()=>B,b:()=>Bt,c:()=>P,g:()=>j,i:()=>Xt});var c=x(6953);class K{constructor(){this.m=new Map}reset($){this.m=new Map(Object.entries($))}get($,H){const ie=this.m.get($);return void 0!==ie?ie:H}getBoolean($,H=!1){const ie=this.m.get($);return void 0===ie?H:"string"==typeof ie?"true"===ie:!!ie}getNumber($,H){const ie=parseFloat(this.m.get($));return isNaN(ie)?void 0!==H?H:NaN:ie}set($,H){this.m.set($,H)}}const P=new K,le="ionic-persist-config",j=We=>z(We),B=(We,$)=>("string"==typeof We&&($=We,We=void 0),j(We).includes($)),z=(We=window)=>{if(typeof We>"u")return[];We.Ionic=We.Ionic||{};let $=We.Ionic.platforms;return null==$&&($=We.Ionic.platforms=ee(We),$.forEach(H=>We.document.documentElement.classList.add(`plt-${H}`))),$},ee=We=>{const $=P.get("platform");return Object.keys(qe).filter(H=>{const ie=$?.[H];return"function"==typeof ie?ie(We):qe[H](We)})},De=We=>!!(ke(We,/iPad/i)||ke(We,/Macintosh/i)&&fe(We)),G=We=>ke(We,/android|sink/i),fe=We=>ze(We,"(any-pointer:coarse)"),pe=We=>te(We)||me(We),te=We=>!!(We.cordova||We.phonegap||We.PhoneGap),me=We=>{const $=We.Capacitor;return!!$?.isNative},ke=(We,$)=>$.test(We.navigator.userAgent),ze=(We,$)=>{var H;return null===(H=We.matchMedia)||void 0===H?void 0:H.call(We,$).matches},qe={ipad:De,iphone:We=>ke(We,/iPhone/i),ios:We=>ke(We,/iPhone|iPod/i)||De(We),android:G,phablet:We=>{const $=We.innerWidth,H=We.innerHeight,ie=Math.min($,H),we=Math.max($,H);return ie>390&&ie<520&&we>620&&we<800},tablet:We=>{const $=We.innerWidth,H=We.innerHeight,ie=Math.min($,H),we=Math.max($,H);return De(We)||(We=>G(We)&&!ke(We,/mobile/i))(We)||ie>460&&ie<820&&we>780&&we<1400},cordova:te,capacitor:me,electron:We=>ke(We,/electron/i),pwa:We=>{var $;return!!(null!==($=We.matchMedia)&&void 0!==$&&$.call(We,"(display-mode: standalone)").matches||We.navigator.standalone)},mobile:fe,mobileweb:We=>fe(We)&&!pe(We),desktop:We=>!fe(We),hybrid:pe};let St;const Bt=We=>We&&(0,c.g)(We)||St,Xt=(We={})=>{if(typeof window>"u")return;const $=window.document,H=window,ie=H.Ionic=H.Ionic||{},we={};We._ael&&(we.ael=We._ael),We._rel&&(we.rel=We._rel),We._ce&&(we.ce=We._ce),(0,c.a)(we);const Me=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(We=>{try{const $=We.sessionStorage.getItem(le);return null!==$?JSON.parse($):{}}catch{return{}}})(H)),{persistConfig:!1}),ie.config),(We=>{const $={};return We.location.search.slice(1).split("&").map(H=>H.split("=")).map(([H,ie])=>[decodeURIComponent(H),decodeURIComponent(ie)]).filter(([H])=>((We,$)=>We.substr(0,$.length)===$)(H,"ionic:")).map(([H,ie])=>[H.slice(6),ie]).forEach(([H,ie])=>{$[H]=ie}),$})(H)),We);P.reset(Me),P.getBoolean("persistConfig")&&((We,$)=>{try{We.sessionStorage.setItem(le,JSON.stringify($))}catch{return}})(H,Me),z(H),ie.config=P,ie.mode=St=P.get("mode",$.documentElement.getAttribute("mode")||(B(H,"ios")?"ios":"md")),P.set("mode",St),$.documentElement.setAttribute("mode",St),$.documentElement.classList.add(St),P.getBoolean("_testing")&&P.set("animated",!1);const Re=st=>{var mt;return null===(mt=st.tagName)||void 0===mt?void 0:mt.startsWith("ION-")},at=st=>["ios","md"].includes(st);(0,c.c)(st=>{for(;st;){const mt=st.mode||st.getAttribute("mode");if(mt){if(at(mt))return mt;Re(st)&&console.warn('Invalid ionic mode: "'+mt+'", expected: "ios" or "md"')}st=st.parentElement}return St})}},8899:(wt,Pe,x)=>{"use strict";x.r(Pe),x.d(Pe,{iosTransitionAnimation:()=>ee,shadow:()=>Y});var c=x(6506),K=x(8354);x(7643),x(6953);const ve=re=>document.querySelector(`${re}.ion-cloned-element`),Y=re=>re.shadowRoot||re,Se=re=>{const De="ION-TABS"===re.tagName?re:re.querySelector("ion-tabs"),_e="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=De){const ue=De.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ue?ue.querySelector(_e):null}return re.querySelector(_e)},le=(re,De)=>{const _e="ION-TABS"===re.tagName?re:re.querySelector("ion-tabs");let ue=[];if(null!=_e){const G=_e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=G&&(ue=G.querySelectorAll("ion-buttons"))}else ue=re.querySelectorAll("ion-buttons");for(const G of ue){const Ae=G.closest("ion-header"),je=Ae&&!Ae.classList.contains("header-collapse-condense-inactive"),Z=G.querySelector("ion-back-button"),fe=G.classList.contains("buttons-collapse");if(null!==Z&&("start"===G.slot||""===G.slot)&&(fe&&je&&De||!fe))return Z}return null},B=(re,De,_e,ue,G,Ae)=>{const je=De?`calc(100% - ${Ae.right+4}px)`:Ae.left-4+"px",Z=De?"7px":"-7px",fe=De?"-4px":"4px",X=De?"-4px":"4px",pe=De?"right":"left",te=De?"left":"right",ye=_e?[{offset:0,opacity:1,transform:`translate3d(${fe}, ${Ae.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Z}, ${G.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Z}, ${G.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${fe}, ${Ae.top-46}px, 0) scale(1)`}],qe=_e?[{offset:0,opacity:1,transform:`translate3d(${X}, ${Ae.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${X}, ${Ae.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${X}, ${Ae.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${X}, ${Ae.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${X}, ${Ae.top-46}px, 0) scale(1)`}],St=(0,c.c)(),Bt=(0,c.c)(),Xt=ve("ion-back-button"),We=Y(Xt).querySelector(".button-text"),$=Y(Xt).querySelector("ion-icon");Xt.text=ue.text,Xt.mode=ue.mode,Xt.icon=ue.icon,Xt.color=ue.color,Xt.disabled=ue.disabled,Xt.style.setProperty("display","block"),Xt.style.setProperty("position","fixed"),Bt.addElement($),St.addElement(We),St.beforeStyles({"transform-origin":`${pe} center`}).beforeAddWrite(()=>{ue.style.setProperty("display","none"),Xt.style.setProperty(pe,je)}).afterAddWrite(()=>{ue.style.setProperty("display",""),Xt.style.setProperty("display","none"),Xt.style.removeProperty(pe)}).keyframes(ye),Bt.beforeStyles({"transform-origin":`${te} center`}).keyframes(qe),re.addAnimation([St,Bt])},z=(re,De,_e,ue,G,Ae)=>{const je=De?`calc(100% - ${G.right}px)`:`${G.left}px`,Z=De?"-18px":"18px",fe=De?"right":"left",te=_e?[{offset:0,opacity:0,transform:`translate3d(${Z}, ${Ae.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${G.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${G.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Z}, ${Ae.top-4}px, 0) scale(0.5)`}],me=ve("ion-title"),Q=(0,c.c)();me.innerText=ue.innerText,me.size=ue.size,me.color=ue.color,Q.addElement(me),Q.beforeStyles({"transform-origin":`${fe} center`,height:"46px",display:"",position:"relative",[fe]:je}).beforeAddWrite(()=>{ue.style.setProperty("display","none")}).afterAddWrite(()=>{ue.style.setProperty("display",""),me.style.setProperty("display","none")}).keyframes(te),re.addAnimation(Q)},ee=(re,De)=>{var _e;try{const ue="cubic-bezier(0.32,0.72,0,1)",G="opacity",Ae="transform",je="0%",fe="rtl"===re.ownerDocument.dir,X=fe?"-99.5%":"99.5%",pe=fe?"33%":"-33%",te=De.enteringEl,me=De.leavingEl,Q="back"===De.direction,ye=te.querySelector(":scope > ion-content"),ke=te.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ze=te.querySelectorAll(":scope > ion-header > ion-toolbar"),qe=(0,c.c)(),St=(0,c.c)();if(qe.addElement(te).duration((null!==(_e=De.duration)&&void 0!==_e?_e:0)||540).easing(De.easing||ue).fill("both").beforeRemoveClass("ion-page-invisible"),me&&null!=re){const $=(0,c.c)();$.addElement(re),qe.addAnimation($)}if(ye||0!==ze.length||0!==ke.length?(St.addElement(ye),St.addElement(ke)):St.addElement(te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),qe.addAnimation(St),Q?St.beforeClearStyles([G]).fromTo("transform",`translateX(${pe})`,`translateX(${je})`).fromTo(G,.8,1):St.beforeClearStyles([G]).fromTo("transform",`translateX(${X})`,`translateX(${je})`),ye){const $=Y(ye).querySelector(".transition-effect");if($){const H=$.querySelector(".transition-cover"),ie=$.querySelector(".transition-shadow"),we=(0,c.c)(),Me=(0,c.c)(),Re=(0,c.c)();we.addElement($).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Me.addElement(H).beforeClearStyles([G]).fromTo(G,0,.1),Re.addElement(ie).beforeClearStyles([G]).fromTo(G,.03,.7),we.addAnimation([Me,Re]),St.addAnimation([we])}}const Bt=te.querySelector("ion-header.header-collapse-condense"),{forward:Xt,backward:We}=((re,De,_e,ue,G)=>{const Ae=le(ue,_e),je=Se(G),Z=Se(ue),fe=le(G,_e),X=null!==Ae&&null!==je&&!_e,pe=null!==Z&&null!==fe&&_e;if(X){const te=je.getBoundingClientRect(),me=Ae.getBoundingClientRect();z(re,De,_e,je,te,me),B(re,De,_e,Ae,te,me)}else if(pe){const te=Z.getBoundingClientRect(),me=fe.getBoundingClientRect();z(re,De,_e,Z,te,me),B(re,De,_e,fe,te,me)}return{forward:X,backward:pe}})(qe,fe,Q,te,me);if(ze.forEach($=>{const H=(0,c.c)();H.addElement($),qe.addAnimation(H);const ie=(0,c.c)();ie.addElement($.querySelector("ion-title"));const we=(0,c.c)(),Me=Array.from($.querySelectorAll("ion-buttons,[menuToggle]")),Re=$.closest("ion-header"),at=Re?.classList.contains("header-collapse-condense-inactive");let st;st=Me.filter(Q?ot=>{const ft=ot.classList.contains("buttons-collapse");return ft&&!at||!ft}:ot=>!ot.classList.contains("buttons-collapse")),we.addElement(st);const mt=(0,c.c)();mt.addElement($.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Fe=(0,c.c)();Fe.addElement(Y($).querySelector(".toolbar-background"));const Ve=(0,c.c)(),Le=$.querySelector("ion-back-button");if(Le&&Ve.addElement(Le),H.addAnimation([ie,we,mt,Fe,Ve]),we.fromTo(G,.01,1),mt.fromTo(G,.01,1),Q)at||ie.fromTo("transform",`translateX(${pe})`,`translateX(${je})`).fromTo(G,.01,1),mt.fromTo("transform",`translateX(${pe})`,`translateX(${je})`),Ve.fromTo(G,.01,1);else if(Bt||ie.fromTo("transform",`translateX(${X})`,`translateX(${je})`).fromTo(G,.01,1),mt.fromTo("transform",`translateX(${X})`,`translateX(${je})`),Fe.beforeClearStyles([G,"transform"]),Re?.translucent?Fe.fromTo("transform",fe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Fe.fromTo(G,.01,"var(--opacity)"),Xt||Ve.fromTo(G,.01,1),Le&&!Xt){const ft=(0,c.c)();ft.addElement(Y(Le).querySelector(".button-text")).fromTo("transform",fe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),H.addAnimation(ft)}}),me){const $=(0,c.c)(),H=me.querySelector(":scope > ion-content"),ie=me.querySelectorAll(":scope > ion-header > ion-toolbar"),we=me.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(H||0!==ie.length||0!==we.length?($.addElement(H),$.addElement(we)):$.addElement(me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),qe.addAnimation($),Q){$.beforeClearStyles([G]).fromTo("transform",`translateX(${je})`,fe?"translateX(-100%)":"translateX(100%)");const Me=(0,K.g)(me);qe.afterAddWrite(()=>{"normal"===qe.getDirection()&&Me.style.setProperty("display","none")})}else $.fromTo("transform",`translateX(${je})`,`translateX(${pe})`).fromTo(G,1,.8);if(H){const Me=Y(H).querySelector(".transition-effect");if(Me){const Re=Me.querySelector(".transition-cover"),at=Me.querySelector(".transition-shadow"),st=(0,c.c)(),mt=(0,c.c)(),Fe=(0,c.c)();st.addElement(Me).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),mt.addElement(Re).beforeClearStyles([G]).fromTo(G,.1,0),Fe.addElement(at).beforeClearStyles([G]).fromTo(G,.7,.03),st.addAnimation([mt,Fe]),$.addAnimation([st])}}ie.forEach(Me=>{const Re=(0,c.c)();Re.addElement(Me);const at=(0,c.c)();at.addElement(Me.querySelector("ion-title"));const st=(0,c.c)(),mt=Me.querySelectorAll("ion-buttons,[menuToggle]"),Fe=Me.closest("ion-header"),Ve=Fe?.classList.contains("header-collapse-condense-inactive"),Le=Array.from(mt).filter(fn=>{const kn=fn.classList.contains("buttons-collapse");return kn&&!Ve||!kn});st.addElement(Le);const ot=(0,c.c)(),ft=Me.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");ft.length>0&&ot.addElement(ft);const zt=(0,c.c)();zt.addElement(Y(Me).querySelector(".toolbar-background"));const $t=(0,c.c)(),en=Me.querySelector("ion-back-button");if(en&&$t.addElement(en),Re.addAnimation([at,st,ot,$t,zt]),qe.addAnimation(Re),$t.fromTo(G,.99,0),st.fromTo(G,.99,0),ot.fromTo(G,.99,0),Q){if(Ve||at.fromTo("transform",`translateX(${je})`,fe?"translateX(-100%)":"translateX(100%)").fromTo(G,.99,0),ot.fromTo("transform",`translateX(${je})`,fe?"translateX(-100%)":"translateX(100%)"),zt.beforeClearStyles([G,"transform"]),Fe?.translucent?zt.fromTo("transform","translateX(0px)",fe?"translateX(-100%)":"translateX(100%)"):zt.fromTo(G,"var(--opacity)",0),en&&!We){const kn=(0,c.c)();kn.addElement(Y(en).querySelector(".button-text")).fromTo("transform",`translateX(${je})`,`translateX(${(fe?-124:124)+"px"})`),Re.addAnimation(kn)}}else Ve||at.fromTo("transform",`translateX(${je})`,`translateX(${pe})`).fromTo(G,.99,0).afterClearStyles([Ae,G]),ot.fromTo("transform",`translateX(${je})`,`translateX(${pe})`).afterClearStyles([Ae,G]),$t.afterClearStyles([G]),at.afterClearStyles([G]),st.afterClearStyles([G])})}return qe}catch(ue){throw ue}}},5298:(wt,Pe,x)=>{"use strict";x.r(Pe),x.d(Pe,{mdTransitionAnimation:()=>oe});var c=x(6506),K=x(8354);x(7643),x(6953);const oe=(ve,Y)=>{var Se,le,j;const B="40px",ee="back"===Y.direction,De=Y.leavingEl,_e=(0,K.g)(Y.enteringEl),ue=_e.querySelector("ion-toolbar"),G=(0,c.c)();if(G.addElement(_e).fill("both").beforeRemoveClass("ion-page-invisible"),ee?G.duration((null!==(Se=Y.duration)&&void 0!==Se?Se:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):G.duration((null!==(le=Y.duration)&&void 0!==le?le:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${B})`,"translateY(0px)").fromTo("opacity",.01,1),ue){const Ae=(0,c.c)();Ae.addElement(ue),G.addAnimation(Ae)}if(De&&ee){G.duration((null!==(j=Y.duration)&&void 0!==j?j:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Ae=(0,c.c)();Ae.addElement((0,K.g)(De)).onFinish(je=>{1===je&&Ae.elements.length>0&&Ae.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${B})`).fromTo("opacity",1,0),G.addAnimation(Ae)}return G}},645:(wt,Pe,x)=>{"use strict";x.d(Pe,{B:()=>Re,G:()=>at,a:()=>B,b:()=>z,c:()=>_e,d:()=>st,e:()=>mt,f:()=>qe,g:()=>Bt,h:()=>$,i:()=>ie,j:()=>G,k:()=>Ae,m:()=>re,n:()=>le,o:()=>fe,q:()=>ke,s:()=>Me});var c=x(5861),K=x(7876),P=x(9439),ce=x(5421),oe=x(544),ve=x(7690);let Y=0,Se=0;const le=new WeakMap,j=Fe=>({create:Ve=>je(Fe,Ve),dismiss:(Ve,Le,ot)=>Q(document,Ve,Le,Fe,ot),getTop:()=>(0,c.Z)(function*(){return ke(document,Fe)})()}),B=j("ion-alert"),z=j("ion-action-sheet"),re=j("ion-modal"),_e=j("ion-popover"),G=Fe=>{typeof document<"u"&&me(document);const Ve=Y++;Fe.overlayIndex=Ve},Ae=Fe=>(Fe.hasAttribute("id")||(Fe.id="ion-overlay-"+ ++Se),Fe.id),je=(Fe,Ve)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Fe).then(()=>{const Le=document.createElement(Fe);return Le.classList.add("overlay-hidden"),Object.assign(Le,Object.assign(Object.assign({},Ve),{hasController:!0})),Xt(document).appendChild(Le),new Promise(ot=>(0,oe.c)(Le,ot))}):Promise.resolve(),Z='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',fe=(Fe,Ve)=>{let Le=Fe.querySelector(Z);const ot=Le?.shadowRoot;ot&&(Le=ot.querySelector(Z)||Le),Le?(0,oe.f)(Le):Ve.focus()},pe=(Fe,Ve)=>{const Le=Array.from(Fe.querySelectorAll(Z));let ot=Le.length>0?Le[Le.length-1]:null;const ft=ot?.shadowRoot;ft&&(ot=ft.querySelector(Z)||ot),ot?ot.focus():Ve.focus()},me=Fe=>{0===Y&&(Y=1,Fe.addEventListener("focus",Ve=>{((Fe,Ve)=>{const Le=ke(Ve,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ot=Fe.target;Le&&ot&&!Le.classList.contains("ion-disable-focus-trap")&&(Le.shadowRoot?(()=>{if(Le.contains(ot))Le.lastFocus=ot;else{const $t=Le.lastFocus;fe(Le,Le),$t===Ve.activeElement&&pe(Le,Le),Le.lastFocus=Ve.activeElement}})():(()=>{if(Le===ot)Le.lastFocus=void 0;else{const $t=(0,oe.g)(Le);if(!$t.contains(ot))return;const en=$t.querySelector(".ion-overlay-wrapper");if(!en)return;if(en.contains(ot))Le.lastFocus=ot;else{const fn=Le.lastFocus;fe(en,Le),fn===Ve.activeElement&&pe(en,Le),Le.lastFocus=Ve.activeElement}}})())})(Ve,Fe)},!0),Fe.addEventListener("ionBackButton",Ve=>{const Le=ke(Fe);Le?.backdropDismiss&&Ve.detail.register(ce.OVERLAY_BACK_BUTTON_PRIORITY,()=>Le.dismiss(void 0,Re))}),Fe.addEventListener("keydown",Ve=>{if("Escape"===Ve.key){const Le=ke(Fe);Le?.backdropDismiss&&Le.dismiss(void 0,Re)}}))},Q=(Fe,Ve,Le,ot,ft)=>{const zt=ke(Fe,ot,ft);return zt?zt.dismiss(Ve,Le):Promise.reject("overlay does not exist")},ke=(Fe,Ve,Le)=>{const ot=((Fe,Ve)=>(void 0===Ve&&(Ve="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Fe.querySelectorAll(Ve)).filter(Le=>Le.overlayIndex>0)))(Fe,Ve).filter(ft=>!(Fe=>Fe.classList.contains("overlay-hidden"))(ft));return void 0===Le?ot[ot.length-1]:ot.find(ft=>ft.id===Le)},ze=(Fe=!1)=>{const Le=Xt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Le&&(Fe?Le.setAttribute("aria-hidden","true"):Le.removeAttribute("aria-hidden"))},qe=function(){var Fe=(0,c.Z)(function*(Ve,Le,ot,ft,zt){var $t,en;if(Ve.presented)return;ze(!0),Ve.presented=!0,Ve.willPresent.emit(),null===($t=Ve.willPresentShorthand)||void 0===$t||$t.emit();const fn=(0,K.b)(Ve),kn=Ve.enterAnimation?Ve.enterAnimation:K.c.get(Le,"ios"===fn?ot:ft);(yield We(Ve,kn,Ve.el,zt))&&(Ve.didPresent.emit(),null===(en=Ve.didPresentShorthand)||void 0===en||en.emit()),"ION-TOAST"!==Ve.el.tagName&&St(Ve.el),Ve.keyboardClose&&(null===document.activeElement||!Ve.el.contains(document.activeElement))&&Ve.el.focus()});return function(Le,ot,ft,zt,$t){return Fe.apply(this,arguments)}}(),St=function(){var Fe=(0,c.Z)(function*(Ve){let Le=document.activeElement;if(!Le)return;const ot=Le?.shadowRoot;ot&&(Le=ot.querySelector(Z)||Le),yield Ve.onDidDismiss(),Le.focus()});return function(Le){return Fe.apply(this,arguments)}}(),Bt=function(){var Fe=(0,c.Z)(function*(Ve,Le,ot,ft,zt,$t,en){var fn,kn;if(!Ve.presented)return!1;ze(!1),Ve.presented=!1;try{Ve.el.style.setProperty("pointer-events","none"),Ve.willDismiss.emit({data:Le,role:ot}),null===(fn=Ve.willDismissShorthand)||void 0===fn||fn.emit({data:Le,role:ot});const Hn=(0,K.b)(Ve),$n=Ve.leaveAnimation?Ve.leaveAnimation:K.c.get(ft,"ios"===Hn?zt:$t);ot!==at&&(yield We(Ve,$n,Ve.el,en)),Ve.didDismiss.emit({data:Le,role:ot}),null===(kn=Ve.didDismissShorthand)||void 0===kn||kn.emit({data:Le,role:ot}),le.delete(Ve),Ve.el.classList.add("overlay-hidden"),Ve.el.style.removeProperty("pointer-events"),void 0!==Ve.el.lastFocus&&(Ve.el.lastFocus=void 0)}catch(Hn){console.error(Hn)}return Ve.el.remove(),!0});return function(Le,ot,ft,zt,$t,en,fn){return Fe.apply(this,arguments)}}(),Xt=Fe=>Fe.querySelector("ion-app")||Fe.body,We=function(){var Fe=(0,c.Z)(function*(Ve,Le,ot,ft){ot.classList.remove("overlay-hidden");const $t=Le(Ve.el,ft);(!Ve.animated||!K.c.getBoolean("animated",!0))&&$t.duration(0),Ve.keyboardClose&&$t.beforeAddWrite(()=>{const fn=ot.ownerDocument.activeElement;fn?.matches("input,ion-input, ion-textarea")&&fn.blur()});const en=le.get(Ve)||[];return le.set(Ve,[...en,$t]),yield $t.play(),!0});return function(Le,ot,ft,zt){return Fe.apply(this,arguments)}}(),$=(Fe,Ve)=>{let Le;const ot=new Promise(ft=>Le=ft);return H(Fe,Ve,ft=>{Le(ft.detail)}),ot},H=(Fe,Ve,Le)=>{const ot=ft=>{(0,oe.b)(Fe,Ve,ot),Le(ft)};(0,oe.a)(Fe,Ve,ot)},ie=Fe=>"cancel"===Fe||Fe===Re,we=Fe=>Fe(),Me=(Fe,Ve)=>{if("function"==typeof Fe)return K.c.get("_zoneGate",we)(()=>{try{return Fe(Ve)}catch(ot){throw ot}})},Re="backdrop",at="gesture",st=Fe=>{let Le,Ve=!1;const ot=(0,P.C)(),ft=(en=!1)=>{if(Le&&!en)return{delegate:Le,inline:Ve};const{el:fn,hasController:kn,delegate:Hn}=Fe;return Ve=null!==fn.parentNode&&!kn,Le=Ve?Hn||ot:Hn,{inline:Ve,delegate:Le}};return{attachViewToDom:function(){var en=(0,c.Z)(function*(fn){const{delegate:kn}=ft(!0);if(kn)return yield kn.attachViewToDom(Fe.el,fn);const{hasController:Hn}=Fe;if(Hn&&void 0!==fn)throw new Error("framework delegate is missing");return null});return function(kn){return en.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:en}=ft();en&&void 0!==Fe.el&&en.removeViewFromDom(Fe.el.parentElement,Fe.el)}}},mt=()=>{let Fe;const Ve=()=>{Fe&&(Fe(),Fe=void 0)};return{addClickListener:(ot,ft)=>{Ve();const zt=void 0!==ft?document.getElementById(ft):null;zt?Fe=((en,fn)=>{const kn=()=>{fn.present()};return en.addEventListener("click",kn),()=>{en.removeEventListener("click",kn)}})(zt,ot):(0,ve.p)(`A trigger element with the ID "${ft}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ot)},removeClickListener:Ve}}},6379:(wt,Pe,x)=>{"use strict";var c=x(5879);let K=null;function P(){return K}class oe{}const ve=new c.OlP("DocumentToken");let Y=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(le)},providedIn:"platform"}),n})();const Se=new c.OlP("Location Initialized");let le=(()=>{class n extends Y{constructor(){super(),this._doc=(0,c.f3M)(ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function j(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function B(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function z(n){return n&&"?"!==n[0]?"?"+n:n}let ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(De)},providedIn:"root"}),n})();const re=new c.OlP("appBaseHref");let De=(()=>{class n extends ee{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return j(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+z(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const d=this.prepareExternalUrl(o+z(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,l){const d=this.prepareExternalUrl(o+z(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y),c.LFG(re,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_e=(()=>{class n extends ee{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=j(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let d=this.prepareExternalUrl(o+z(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,l){let d=this.prepareExternalUrl(o+z(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y),c.LFG(re,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ue=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Z(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(B(je(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+z(r))}normalize(t){return n.stripTrailingSlash(function Ae(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+z(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+z(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=z,n.joinWithSlash=j,n.stripTrailingSlash=B,n.\u0275fac=function(t){return new(t||n)(c.LFG(ee))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function G(){return new ue((0,c.LFG)(ee))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}let Yi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function oa(n){return"server"===n}let jo=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Ni((0,c.LFG)(ve),window)}),n})();class Ni{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function sa(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=co(this.window.history)||co(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function co(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ga extends oe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ai extends Ga{static makeCurrent(){!function ce(n){K||(K=n)}(new ai)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function th(){return Wa=Wa||document.querySelector("base"),Wa?Wa.getAttribute("href"):null}();return null==t?null:function ho(n){hs=hs||document.createElement("a"),hs.setAttribute("href",n);const e=hs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Wa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Zn(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let hs,Wa=null,nh=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const yu=new c.OlP("EventManagerPlugins");let Wo=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(l=>l.supports(t)),!r)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yu),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class rh{constructor(e){this._doc=e}}const vu="ng-app-id";let oc=(()=>{class n{constructor(t,r,o,l={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=oa(l),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${vu}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const l=o.get(t);return l.usage+=r,l.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,l=o?.get(r);if(l?.parentNode===t)return o.delete(r),l.removeAttribute(vu),l;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=r,this.platformIsServer&&d.setAttribute(vu,this.appId),d}}addStyleToHost(t,r){const o=this.getStyleElement(t,r);t.appendChild(o);const l=this.styleRef,d=l.get(r)?.elements;d?d.push(o):l.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ve),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _u={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Os=/%COMP%/g,jf=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Eu(n,e){return e.map(t=>t.replace(Os,n))}let wo=(()=>{class n{constructor(t,r,o,l,d,m,I,C=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=l,this.doc=d,this.platformId=m,this.ngZone=I,this.nonce=C,this.rendererByCompId=new Map,this.platformIsServer=oa(m),this.defaultRenderer=new qa(t,d,I,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===c.ifc.ShadowDom&&(r={...r,encapsulation:c.ifc.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof Tn?o.applyToHost(t):o instanceof tt&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let l=o.get(r.id);if(!l){const d=this.doc,m=this.ngZone,I=this.eventManager,C=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,k=this.platformIsServer;switch(r.encapsulation){case c.ifc.Emulated:l=new Tn(I,C,r,this.appId,A,d,m,k);break;case c.ifc.ShadowDom:return new zf(I,C,t,r,d,m,this.nonce,k);default:l=new tt(I,C,r,A,d,m,k)}l.onDestroy=()=>o.delete(r.id),o.set(r.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wo),c.LFG(oc),c.LFG(c.AFp),c.LFG(jf),c.LFG(ve),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class qa{constructor(e,t,r,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(_u[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Du(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Du(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new c.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=_u[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=_u[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,o&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=P().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Du(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class zf extends qa{constructor(e,t,r,o,l,d,m,I){super(e,l,d,I),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=Eu(o.id,o.styles);for(const A of C){const k=document.createElement("style");m&&k.setAttribute("nonce",m),k.textContent=A,this.shadowRoot.appendChild(k)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class tt extends qa{constructor(e,t,r,o,l,d,m,I){super(e,l,d,m),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.rendererUsageCount=0,this.styles=I?Eu(I,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Tn extends tt{constructor(e,t,r,o,l,d,m,I){const C=o+"-"+r.id;super(e,t,r,l,d,m,I,C),this.contentAttr=function oh(n){return"_ngcontent-%COMP%".replace(Os,n)}(C),this.hostAttr=function Hf(n){return"_nghost-%COMP%".replace(Os,n)}(C)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Jg=(()=>{class n extends rh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ve))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const la=["alt","control","meta","shift"],li={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ps={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let sc=(()=>{class n extends rh{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),la.forEach(C=>{const A=r.indexOf(C);A>-1&&(r.splice(A,1),d+=C+".")}),d+=l,0!=r.length||0===l.length)return null;const I={};return I.domEventName=o,I.fullKey=d,I}static matchEventFullKeyCode(t,r){let o=li[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(o=t.code,l="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),la.forEach(d=>{d!==o&&(0,Ps[d])(t)&&(l+=d+".")}),l+=o,l===r)}static eventCallback(t,r,o){return l=>{n.matchEventFullKeyCode(l,t)&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ve))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const lc=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function em(){ai.makeCurrent()},multi:!0},{provide:ve,useFactory:function Ii(){return(0,c.RDi)(document),document},deps:[]}]),dr=new c.OlP(""),bo=[{provide:c.rWj,useClass:class Qg{addToWindow(e){c.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new c.vHH(5103,!1);return l},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const o=c.dqk.getAllAngularTestabilities();let l=o.length,d=!1;const m=function(I){d=d||I,l--,0==l&&r(d)};o.forEach(I=>{I.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],ci=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function ac(){return new c.qLn},deps:[]},{provide:yu,useClass:Jg,multi:!0,deps:[ve,c.R0b,c.Lbi]},{provide:yu,useClass:sc,multi:!0,deps:[ve]},wo,oc,Wo,{provide:c.FYo,useExisting:wo},{provide:class Kr{},useClass:nh,deps:[]},[]];let Ol=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dr,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...ci,...bo],imports:[Yi,c.hGG]}),n})(),kl=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ve))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Cu(){return new kl((0,c.LFG)(ve))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Co=x(5592),Xr=x(4674),Ln=x(2459),qt=x(2096),Qr=x(5619);const{isArray:dh}=Array,{getPrototypeOf:Ka,prototype:hc,keys:xu}=Object;function fc(n){if(1===n.length){const e=n[0];if(dh(e))return{args:e,keys:null};if(function hh(n){return n&&"object"==typeof n&&Ka(n)===hc}(e)){const t=xu(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var fs=x(2737),sn=x(7398);const{isArray:Ei}=Array;function ha(n){return(0,sn.U)(e=>function fh(n,e){return Ei(e)?n(...e):n(e)}(n,e))}var Yo=x(4564);function Fs(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Xi=x(8251),So=x(7103);function Za(...n){const e=(0,Yo.yG)(n),t=(0,Yo.jO)(n),{args:r,keys:o}=fc(n);if(0===r.length)return(0,Ln.D)([],e);const l=new Co.y(function ph(n,e,t=fs.y){return r=>{To(e,()=>{const{length:o}=n,l=new Array(o);let d=o,m=o;for(let I=0;I<o;I++)To(e,()=>{const C=(0,Ln.D)(n[I],e);let A=!1;C.subscribe((0,Xi.x)(r,k=>{l[I]=k,A||(A=!0,m--),m||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>Fs(o,d):fs.y));return t?l.pipe(ha(t)):l}function To(n,e,t){n?(0,So.f)(t,n,e):e()}const Xa=(0,x(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ps=x(7537);function fa(...n){return function pc(){return(0,ps.J)(1)}()((0,Ln.D)(n,(0,Yo.yG)(n)))}var gs=x(4829);function Yf(n){return new Co.y(e=>{(0,gs.Xf)(n()).subscribe(e)})}var gc=x(8407);function pa(n,e){const t=(0,Xr.m)(n)?n:()=>n,r=o=>o.error(t());return new Co.y(e?o=>e.schedule(r,0,o):r)}var Ko=x(6232),mc=x(7394),Ao=x(9360);function Ls(){return(0,Ao.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Xi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,l=t;t=null,o&&(!l||o===l)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Bs extends Co.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ao.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Xi.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mc.w0.EMPTY)}return e}refCount(){return Ls()(this)}}var wi=x(8645),Sr=x(4664);function ga(n){return n<=0?()=>Ko.E:(0,Ao.e)((e,t)=>{let r=0;e.subscribe((0,Xi.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Mo(...n){const e=(0,Yo.yG)(n);return(0,Ao.e)((t,r)=>{(e?fa(n,t,e):fa(n,t)).subscribe(r)})}function Qi(n,e){return(0,Ao.e)((t,r)=>{let o=0;t.subscribe((0,Xi.x)(r,l=>n.call(e,l,o++)&&r.next(l)))})}var Jr=x(1631);function $s(n){return(0,Ao.e)((e,t)=>{let r=!1;e.subscribe((0,Xi.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function gh(n=Kf){return(0,Ao.e)((e,t)=>{let r=!1;e.subscribe((0,Xi.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Kf(){return new Xa}function po(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qi((o,l)=>n(o,l,r)):fs.y,ga(1),t?$s(e):gh(()=>new Xa))}function Zo(n,e){return(0,Xr.m)(e)?(0,Jr.z)(n,e,1):(0,Jr.z)(n,1)}var mr=x(9397);function Di(n){return(0,Ao.e)((e,t)=>{let l,r=null,o=!1;r=e.subscribe((0,Xi.x)(t,void 0,void 0,d=>{l=(0,gs.Xf)(n(d,Di(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(t))})}function ms(n,e){return(0,Ao.e)(function yc(n,e,t,r,o){return(l,d)=>{let m=t,I=e,C=0;l.subscribe((0,Xi.x)(d,A=>{const k=C++;I=m?n(I,A,k):(m=!0,A),r&&d.next(I)},o&&(()=>{m&&d.next(I),d.complete()})))}}(n,e,arguments.length>=2,!0))}function go(n){return n<=0?()=>Ko.E:(0,Ao.e)((e,t)=>{let r=[];e.subscribe((0,Xi.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Vl(n){return(0,Ao.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const cn="primary",Qa=Symbol("RouteTitle");class im{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ja(n){return new im(n)}function $v(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const d=r[l],m=n[l];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function ys(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!Vs(n[o],e[o]))return!1;return!0}function Vs(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function Tr(n){return n.length>0?n[n.length-1]:null}function Us(n){return function qf(n){return!!n&&(n instanceof Co.y||(0,Xr.m)(n.lift)&&(0,Xr.m)(n.subscribe))}(n)?n:(0,c.QGY)(n)?(0,Ln.D)(Promise.resolve(n)):(0,qt.of)(n)}const el={exact:function yh(n,e,t){if(!L(n.segments,e.segments)||!Nu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!yh(n.children[r],e.children[r],t))return!1;return!0},subset:ma},js={exact:function xo(n,e){return ys(n,e)},subset:function Ou(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Vs(n[t],e[t]))},ignored:()=>!0};function ui(n,e,t){return el[t.paths](n.root,e.root,t.matrixParams)&&js[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ma(n,e,t){return vh(n,e,e.segments,t)}function vh(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!L(o,t)||e.hasChildren()||!Nu(o,t,r))}if(n.segments.length===t.length){if(!L(n.segments,t)||!Nu(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!ma(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(L(n.segments,o)&&Nu(n.segments,o,r)&&n.children[cn])&&vh(n.children[cn],e,l,r)}}function Nu(n,e,t){return e.every((r,o)=>js[t](n[o].parameters,r.parameters))}class jl{constructor(e=new w([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ja(this.queryParams)),this._queryParamMap}toString(){return It.serialize(this)}}class w{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pt(this)}}class b{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ja(this.parameters)),this._parameterMap}toString(){return Hs(this)}}function L(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new Ge},providedIn:"root"}),n})();class Ge{parse(e){const t=new sm(e);return new jl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Nt(e.root,!0)}`,r=function _s(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${rn(t)}=${rn(o)}`).join("&"):`${rn(t)}=${rn(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Fi(n){return encodeURI(n)}(e.fragment)}`:""}`}}const It=new Ge;function pt(n){return n.segments.map(e=>Hs(e)).join("/")}function Nt(n,e){if(!n.hasChildren())return pt(n);if(e){const t=n.children[cn]?Nt(n.children[cn],!1):"",r=[];return Object.entries(n.children).forEach(([o,l])=>{o!==cn&&r.push(`${o}:${Nt(l,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function se(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===cn&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==cn&&(t=t.concat(e(o,r)))}),t}(n,(r,o)=>o===cn?[Nt(n.children[cn],!1)]:[`${o}:${Nt(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[cn]?`${pt(n)}/${t[0]}`:`${pt(n)}/(${t.join("//")})`}}function an(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rn(n){return an(n).replace(/%3B/gi,";")}function or(n){return an(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vs(n){return decodeURIComponent(n)}function ya(n){return vs(n.replace(/\+/g,"%20"))}function Hs(n){return`${or(n.path)}${function Li(n){return Object.keys(n).map(e=>`;${or(e)}=${or(n[e])}`).join("")}(n.parameters)}`}const Pu=/^[^\/()?;#]+/;function Hl(n){const e=n.match(Pu);return e?e[0]:""}const _h=/^[^\/()?;=#]+/,Zf=/^[^=?&#]+/,va=/^[^&#]+/;class sm{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new w([],{}):new w([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[cn]=new w(e,t)),r}parseSegment(){const e=Hl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(e),new b(vs(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Vv(n){const e=n.match(_h);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Hl(this.remaining);o&&(r=o,this.capture(r))}e[vs(t)]=vs(r)}parseQueryParam(e){const t=function om(n){const e=n.match(Zf);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function _c(n){const e=n.match(va);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=ya(t),l=ya(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Hl(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new c.vHH(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=cn);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[cn]:new w([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,!1)}}function Uv(n){return n.segments.length>0?new w([],{[cn]:n}):n}function Xf(n){const e={};for(const r of Object.keys(n.children)){const l=Xf(n.children[r]);if(r===cn&&0===l.segments.length&&l.hasChildren())for(const[d,m]of Object.entries(l.children))e[d]=m;else(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function jv(n){if(1===n.numberOfChildren&&n.children[cn]){const e=n.children[cn];return new w(n.segments.concat(e.segments),e.children)}return n}(new w(n.segments,e))}function Ic(n){return n instanceof jl}function Qf(n){let e;const o=Uv(function t(l){const d={};for(const I of l.children){const C=t(I);d[I.outlet]=C}const m=new w(l.url,d);return l===n&&(e=m),m}(n.root));return e??o}function am(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(0===e.length)return Jf(o,o,o,t,r);const l=function lm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new tp(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Object.entries(l.outlets).forEach(([I,C])=>{m[I]="string"==typeof C?C.split("/"):C}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===d?(l.split("/").forEach((m,I)=>{0==I&&"."===m||(0==I&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new tp(t,e,r)}(e);if(l.toRoot())return Jf(o,o,new w([],{}),t,r);const d=function zv(n,e,t){if(n.isAbsolute)return new ku(e,!0,0);if(!t)return new ku(e,!1,NaN);if(null===t.parent)return new ku(t,!0,0);const r=Ec(n.commands[0])?0:1;return function Gv(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new c.vHH(4005,!1);o=r.segments.length}return new ku(r,!1,o-l)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(l,o,n),m=d.processChildren?Ih(d.segmentGroup,d.index,l.commands):Wv(d.segmentGroup,d.index,l.commands);return Jf(o,d.segmentGroup,m,t,r)}function Ec(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Xo(n){return"object"==typeof n&&null!=n&&n.outlets}function Jf(n,e,t,r,o){let d,l={};r&&Object.entries(r).forEach(([I,C])=>{l[I]=Array.isArray(C)?C.map(A=>`${A}`):`${C}`}),d=n===e?t:ep(n,e,t);const m=Uv(Xf(d));return new jl(m,l,o)}function ep(n,e,t){const r={};return Object.entries(n.children).forEach(([o,l])=>{r[o]=l===e?t:ep(l,e,t)}),new w(n.segments,r)}class tp{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ec(r[0]))throw new c.vHH(4003,!1);const o=r.find(Xo);if(o&&o!==Tr(r))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ku{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Wv(n,e,t){if(n||(n=new w([],{})),0===n.segments.length&&n.hasChildren())return Ih(n,e,t);const r=function Lu(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const d=n.segments[o],m=t[r];if(Xo(m))break;const I=`${m}`,C=r<t.length-1?t[r+1]:null;if(o>0&&void 0===I)break;if(I&&C&&"object"==typeof C&&void 0===C.outlets){if(!Yv(I,C,d))return l;r+=2}else{if(!Yv(I,{},d))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new w(n.segments.slice(0,r.pathIndex),{});return l.children[cn]=new w(n.segments.slice(r.pathIndex),n.children),Ih(l,0,o)}return r.match&&0===o.length?new w(n.segments,{}):r.match&&!n.hasChildren()?cm(n,e,t):r.match?Ih(n,0,o):cm(n,e,t)}function Ih(n,e,t){if(0===t.length)return new w(n.segments,{});{const r=function Fu(n){return Xo(n[0])?n[0].outlets:{[cn]:n}}(t),o={};if(!r[cn]&&n.children[cn]&&1===n.numberOfChildren&&0===n.children[cn].segments.length){const l=Ih(n.children[cn],e,t);return new w(n.segments,l.children)}return Object.entries(r).forEach(([l,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(o[l]=Wv(n.children[l],e,d))}),Object.entries(n.children).forEach(([l,d])=>{void 0===r[l]&&(o[l]=d)}),new w(n.segments,o)}}function cm(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(Xo(l)){const I=qI(l.outlets);return new w(r,I)}if(0===o&&Ec(t[0])){r.push(new b(n.segments[e].path,qv(t[0]))),o++;continue}const d=Xo(l)?l.outlets[cn]:`${l}`,m=o<t.length-1?t[o+1]:null;d&&m&&Ec(m)?(r.push(new b(d,qv(m))),o+=2):(r.push(new b(d,{})),o++)}return new w(r,{})}function qI(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=cm(new w([],{}),0,r))}),e}function qv(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Yv(n,e,t){return n==t.path&&ys(e,t.parameters)}const Eh="imperative";class Is{constructor(e,t){this.id=e,this.url=t}}class _a extends Is{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ia extends Is{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bu extends Is{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tl extends Is{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class wc extends Is{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Dc extends Is{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class um extends Is{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $u extends Is{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wh extends Is{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dh extends Is{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zs{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dm{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kv{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zv{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hm{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class np{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bc{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fm{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new nl,this.attachRef=null}}let nl=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new fm,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=rp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=rp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Bi(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Bi(e,this._root).map(t=>t.value)}}function rp(n,e){if(n===e.value)return e;for(const t of e.children){const r=rp(n,t);if(r)return r}return null}function Bi(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Bi(n,t);if(r.length)return r.unshift(e),r}return[]}class Qo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ea(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Cc extends pm{constructor(e,t){super(e),this.snapshot=t,bh(this,e)}toString(){return this.snapshot.toString()}}function di(n,e){const t=function Vu(n,e){const d=new wa([],{},{},"",{},cn,e,null,{});return new op("",new Qo(d,[]))}(0,e),r=new Qr.X([new b("",{})]),o=new Qr.X({}),l=new Qr.X({}),d=new Qr.X({}),m=new Qr.X(""),I=new Jo(r,o,d,m,l,cn,e,t.root);return I.snapshot=t.root,new Cc(new Qo(I,[]),t)}class Jo{constructor(e,t,r,o,l,d,m,I){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=l,this.outlet=d,this.component=m,this._futureSnapshot=I,this.title=this.dataSubject?.pipe((0,sn.U)(C=>C[Qa]))??(0,qt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,sn.U)(e=>Ja(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,sn.U)(e=>Ja(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ip(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function Ro(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class wa{get title(){return this.data?.[Qa]}constructor(e,t,r,o,l,d,m,I,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=d,this.component=m,this.routeConfig=I,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ja(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ja(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class op extends pm{constructor(e,t){super(t),this.url=e,bh(this,t)}toString(){return Ch(this._root)}}function bh(n,e){e.value._routerState=n,e.children.forEach(t=>bh(n,t))}function Ch(n){const e=n.children.length>0?` { ${n.children.map(Ch).join(", ")} } `:"";return`${n.value}${e}`}function Sc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ys(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ys(e.params,t.params)||n.paramsSubject.next(t.params),function Ul(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ys(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),ys(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function sp(n,e){const t=ys(n.params,e.params)&&function M(n,e){return L(n,e)&&n.every((t,r)=>ys(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||sp(n.parent,e.parent))}let Sh=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=cn,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(nl),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Oo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=t;const o=this.location,d=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,I=new ap(t,m,o.injector);this.activated=o.createComponent(d,{index:o.length,injector:I,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class ap{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Jo?this.route:e===nl?this.childContexts:this.parent.get(e,t)}}const Oo=new c.OlP("");let lp=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=Za([r.queryParams,r.params,r.data]).pipe((0,Sr.w)(([l,d,m],I)=>(m={...l,...d,...m},0===I?(0,qt.of)(m):Promise.resolve(m)))).subscribe(l=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const d=(0,c.qFp)(r.component);if(d)for(const{templateName:m}of d.inputs)t.activatedComponentRef.setInput(m,l[m]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function ju(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function Xv(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return ju(n,r,o);return ju(n,r)})}(n,e,t);return new Qo(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>ju(n,m)),d}}const r=function cp(n){return new Jo(new Qr.X(n.url),new Qr.X(n.params),new Qr.X(n.queryParams),new Qr.X(n.fragment),new Qr.X(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>ju(n,l));return new Qo(r,o)}}const bi="ngNavigationCancelingError";function Hu(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ic(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=Da(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function Da(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[bi]=!0,r.cancellationCode=e,t&&(r.url=t),r}function zu(n){return Es(n)&&Ic(n.url)}function Es(n){return n&&n[bi]}let rl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[Sh],encapsulation:2}),n})();function f(n){const e=n.children&&n.children.map(f),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==cn&&(t.component=rl),t}function g(n){return n.outlet||cn}function S(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class be{constructor(e,t,r,o,l){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=l}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Sc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Ea(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,o[d],r),delete o[d]}),Object.values(o).forEach(l=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Ea(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Ea(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const o=Ea(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new np(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Zv(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(Sc(o),o===l)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Sc(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=S(o.snapshot);d.attachRef=null,d.route=o,d.injector=m,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class it{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ht{constructor(e,t){this.component=e,this.route=t}}function Rt(n,e,t){const r=n._root;return Ji(r,e?e._root:null,t,[r.value])}function Wn(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function Ji(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Ea(e);return n.children.forEach(d=>{(function Wu(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const I=function up(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!L(n.url,e.url);case"pathParamsOrQueryParamsChange":return!L(n.url,e.url)||!ys(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sp(n,e)||!ys(n.queryParams,e.queryParams);default:return!sp(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);I?o.canActivateChecks.push(new it(r)):(l.data=d.data,l._resolvedData=d._resolvedData),Ji(n,e,l.component?m?m.children:null:t,r,o),I&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new ht(m.outlet.component,d))}else d&&il(e,m,o),o.canActivateChecks.push(new it(r)),Ji(n,null,l.component?m?m.children:null:t,r,o)})(d,l[d.value.outlet],t,r.concat([d.value]),o),delete l[d.value.outlet]}),Object.entries(l).forEach(([d,m])=>il(m,t.getContext(d),o)),o}function il(n,e,t){const r=Ea(n),o=n.value;Object.entries(r).forEach(([l,d])=>{il(d,o.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new ht(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function ol(n){return"function"==typeof n}function Mc(n){return n instanceof Xa||"EmptyError"===n?.name}const ym=Symbol("INITIAL_VALUE");function Zu(){return(0,Sr.w)(n=>Za(n.map(e=>e.pipe(ga(1),Mo(ym)))).pipe((0,sn.U)(e=>{for(const t of e)if(!0!==t){if(t===ym)return ym;if(!1===t||t instanceof jl)return t}return!0}),Qi(e=>e!==ym),ga(1)))}function eE(n){return(0,gc.z)((0,mr.b)(e=>{if(Ic(e))throw Hu(0,e)}),(0,sn.U)(e=>!0===e))}class _m{constructor(e){this.segmentGroup=e||null}}class Im{constructor(e){this.urlTree=e}}function Ah(n){return pa(new _m(n))}function Mh(n){return pa(new Im(n))}class tE{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new c.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,qt.of)(r);if(o.numberOfChildren>1||!o.children[cn])return pa(new c.vHH(4e3,!1));o=o.children[cn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new jl(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([o,l])=>{if("string"==typeof l&&l.startsWith(":")){const m=l.substring(1);r[o]=t[m]}else r[o]=l}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let d={};return Object.entries(t.children).forEach(([m,I])=>{d[m]=this.createSegmentGroup(e,I,r,o)}),new w(l,d)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new c.vHH(4001,!1);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}const wm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nE(n,e,t,r,o){const l=Dm(n,e,t);return l.matched?(r=function Gu(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function yx(n,e,t,r){const o=e.canMatch;if(!o||0===o.length)return(0,qt.of)(!0);const l=o.map(d=>{const m=Wn(d,n);return Us(function Yu(n){return n&&ol(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))});return(0,qt.of)(l).pipe(Zu(),eE())}(r,e,t).pipe((0,sn.U)(d=>!0===d?l:{...wm}))):(0,qt.of)(l)}function Dm(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...wm}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||$v)(t,n,e);if(!o)return{...wm};const l={};Object.entries(o.posParams??{}).forEach(([m,I])=>{l[m]=I.path});const d=o.consumed.length>0?{...l,...o.consumed[o.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function rE(n,e,t,r){return t.length>0&&function uC(n,e,t){return t.some(r=>ba(n,e,r)&&g(r)!==cn)}(n,t,r)?{segmentGroup:new w(e,cC(r,new w(t,n.children))),slicedSegments:[]}:0===t.length&&function dC(n,e,t){return t.some(r=>ba(n,e,r))}(n,t,r)?{segmentGroup:new w(n.segments,lC(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new w(n.segments,n.children),slicedSegments:t}}function lC(n,e,t,r,o){const l={};for(const d of r)if(ba(n,t,d)&&!o[g(d)]){const m=new w([],{});l[g(d)]=m}return{...o,...l}}function cC(n,e){const t={};t[cn]=e;for(const r of n)if(""===r.path&&g(r)!==cn){const o=new w([],{});t[g(r)]=o}return t}function ba(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class _x{constructor(e,t,r,o,l,d,m){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=l,this.paramsInheritanceStrategy=d,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new tE(this.urlSerializer,this.urlTree)}noMatchError(e){return new c.vHH(4002,!1)}recognize(){const e=rE(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,cn).pipe(Di(t=>{if(t instanceof Im)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof _m?this.noMatchError(t):t}),(0,sn.U)(t=>{const r=new wa([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cn,this.rootComponentType,null,{}),o=new Qo(r,t),l=new op("",o),d=function Hv(n,e,t=null,r=null){return am(Qf(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(l._root),{state:l,tree:d}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,cn).pipe(Di(r=>{throw r instanceof _m?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=ip(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o,!0)}processChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,Ln.D)(o).pipe(Zo(l=>{const d=r.children[l],m=function _(n,e){const t=n.filter(r=>g(r)===e);return t.push(...n.filter(r=>g(r)!==e)),t}(t,l);return this.processSegmentGroup(e,m,d,l)}),ms((l,d)=>(l.push(...d),l)),$s(null),function mh(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qi((o,l)=>n(o,l,r)):fs.y,go(1),t?$s(e):gh(()=>new Xa))}(),(0,Jr.z)(l=>{if(null===l)return Ah(r);const d=fC(l);return function Ix(n){n.sort((e,t)=>e.value.outlet===cn?-1:t.value.outlet===cn?1:e.value.outlet.localeCompare(t.value.outlet))}(d),(0,qt.of)(d)}))}processSegment(e,t,r,o,l,d){return(0,Ln.D)(t).pipe(Zo(m=>this.processSegmentAgainstRoute(m._injector??e,t,m,r,o,l,d).pipe(Di(I=>{if(I instanceof _m)return(0,qt.of)(null);throw I}))),po(m=>!!m),Di(m=>{if(Mc(m))return function hC(n,e,t){return 0===e.length&&!n.children[t]}(r,o,l)?(0,qt.of)([]):Ah(r);throw m}))}processSegmentAgainstRoute(e,t,r,o,l,d,m){return function fp(n,e,t,r){return!!(g(n)===r||r!==cn&&ba(e,t,n))&&("**"===n.path||Dm(e,n,t).matched)}(r,o,l,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,l,d,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,l,d):Ah(o):Ah(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Mh(l):this.applyRedirects.lineralizeSegments(r,l).pipe((0,Jr.z)(d=>{const m=new w(d,{});return this.processSegment(e,t,m,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d){const{matched:m,consumedSegments:I,remainingSegments:C,positionalParamSegments:A}=Dm(t,o,l);if(!m)return Ah(t);const k=this.applyRedirects.applyRedirectCommands(I,o.redirectTo,A);return o.redirectTo.startsWith("/")?Mh(k):this.applyRedirects.lineralizeSegments(o,k).pipe((0,Jr.z)(ae=>this.processSegment(e,r,t,ae.concat(C),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,l,d){let m;if("**"===r.path){const I=o.length>0?Tr(o).parameters:{},C=new wa(o,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iE(r),g(r),r.component??r._loadedComponent??null,r,oE(r));m=(0,qt.of)({snapshot:C,consumedSegments:[],remainingSegments:[]}),t.children={}}else m=nE(t,r,o,e).pipe((0,sn.U)(({matched:I,consumedSegments:C,remainingSegments:A,parameters:k})=>I?{snapshot:new wa(C,k,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iE(r),g(r),r.component??r._loadedComponent??null,r,oE(r)),consumedSegments:C,remainingSegments:A}:null));return m.pipe((0,Sr.w)(I=>null===I?Ah(t):this.getChildConfig(e=r._injector??e,r,o).pipe((0,Sr.w)(({routes:C})=>{const A=r._loadedInjector??e,{snapshot:k,consumedSegments:ae,remainingSegments:Te}=I,{segmentGroup:Ze,slicedSegments:ut}=rE(t,ae,Te,C);if(0===ut.length&&Ze.hasChildren())return this.processChildren(A,C,Ze).pipe((0,sn.U)(Yt=>null===Yt?null:[new Qo(k,Yt)]));if(0===C.length&&0===ut.length)return(0,qt.of)([new Qo(k,[])]);const dt=g(r)===l;return this.processSegment(A,C,Ze,ut,dt?cn:l,!0).pipe((0,sn.U)(Yt=>[new Qo(k,Yt)]))}))))}getChildConfig(e,t,r){return t.children?(0,qt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,qt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function aC(n,e,t,r){const o=e.canLoad;if(void 0===o||0===o.length)return(0,qt.of)(!0);const l=o.map(d=>{const m=Wn(d,n);return Us(function Tc(n){return n&&ol(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))});return(0,qt.of)(l).pipe(Zu(),eE())}(e,t,r).pipe((0,Jr.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,mr.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function n_(n){return pa(Da(!1,3))}())):(0,qt.of)({routes:[],injector:e})}}function Ex(n){const e=n.value.routeConfig;return e&&""===e.path}function fC(n){const e=[],t=new Set;for(const r of n){if(!Ex(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=fC(r.children);e.push(new Qo(r.value,o))}return e.filter(r=>!t.has(r))}function iE(n){return n.data||{}}function oE(n){return n.resolve||{}}function i_(n){return"string"==typeof n.title||null===n.title}function bm(n){return(0,Sr.w)(e=>{const t=n(e);return t?(0,Ln.D)(t).pipe((0,sn.U)(()=>e)):(0,qt.of)(e)})}const gp=new c.OlP("ROUTES");let aE=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,qt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Us(t.loadComponent()).pipe((0,sn.U)(Cm),(0,mr.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),Vl(()=>{this.componentLoaders.delete(t)})),o=new Bs(r,()=>new wi.x).pipe(Ls());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,qt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,sn.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let I,C;return Array.isArray(m)?C=m:(I=m.create(t).injector,C=I.get(gp,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:C.map(f),injector:I}}),Vl(()=>{this.childrenLoaders.delete(r)})),d=new Bs(l,()=>new wi.x).pipe(Ls());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return Us(t()).pipe((0,sn.U)(Cm),(0,Jr.z)(r=>r instanceof c.YKP||Array.isArray(r)?(0,qt.of)(r):(0,Ln.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cm(n){return function wx(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let xh=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new wi.x,this.configLoader=(0,c.f3M)(aE),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(Ee),this.rootContexts=(0,c.f3M)(nl),this.inputBindingEnabled=null!==(0,c.f3M)(Oo,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,qt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new dm(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new zs(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Qr.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Eh,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qi(r=>0!==r.id),(0,sn.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,Sr.w)(r=>{let o=!1,l=!1;return(0,qt.of)(r).pipe((0,mr.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Sr.w)(d=>{const m=t.browserUrlTree.toString(),I=!t.navigated||d.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!I&&"reload"!==(d.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const A="";return this.events.next(new tl(d.id,t.serializeUrl(r.rawUrl),A,0)),t.rawUrlTree=d.rawUrl,d.resolve(null),Ko.E}if(t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return yC(d.source)&&(t.browserUrlTree=d.extractedUrl),(0,qt.of)(d).pipe((0,Sr.w)(A=>{const k=this.transitions?.getValue();return this.events.next(new _a(A.id,this.urlSerializer.serialize(A.extractedUrl),A.source,A.restoredState)),k!==this.transitions?.getValue()?Ko.E:Promise.resolve(A)}),function gC(n,e,t,r,o,l){return(0,Jr.z)(d=>function vx(n,e,t,r,o,l,d="emptyOnly"){return new _x(n,e,t,r,o,d,l).recognize()}(n,e,t,r,d.extractedUrl,o,l).pipe((0,sn.U)(({state:m,tree:I})=>({...d,targetSnapshot:m,urlAfterRedirects:I}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,mr.b)(A=>{if(r.targetSnapshot=A.targetSnapshot,r.urlAfterRedirects=A.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:A.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!A.extras.skipLocationChange){const ae=t.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);t.setBrowserUrl(ae,A)}t.browserUrlTree=A.urlAfterRedirects}const k=new Dc(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(k)}));if(I&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:A,extractedUrl:k,source:ae,restoredState:Te,extras:Ze}=d,ut=new _a(A,this.urlSerializer.serialize(k),ae,Te);this.events.next(ut);const dt=di(0,this.rootComponentType).snapshot;return r={...d,targetSnapshot:dt,urlAfterRedirects:k,extras:{...Ze,skipLocationChange:!1,replaceUrl:!1}},(0,qt.of)(r)}{const A="";return this.events.next(new tl(d.id,t.serializeUrl(r.extractedUrl),A,1)),t.rawUrlTree=d.rawUrl,d.resolve(null),Ko.E}}),(0,mr.b)(d=>{const m=new um(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),(0,sn.U)(d=>r={...d,guards:Rt(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function iC(n,e){return(0,Jr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?(0,qt.of)({...t,guardsResult:!0}):function oC(n,e,t,r){return(0,Ln.D)(n).pipe((0,Jr.z)(o=>function Th(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,qt.of)(!0);const d=l.map(m=>{const I=S(e)??o,C=Wn(m,I);return Us(function qu(n){return n&&ol(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):I.runInContext(()=>C(n,e,t,r))).pipe(po())});return(0,qt.of)(d).pipe(Zu())}(o.component,o.route,t,e,r)),po(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Jr.z)(m=>m&&function dp(n){return"boolean"==typeof n}(m)?function sC(n,e,t,r){return(0,Ln.D)(e).pipe(Zo(o=>fa(function JI(n,e){return null!==n&&e&&e(new Kv(n)),(0,qt.of)(!0)}(o.route.parent,r),function QI(n,e){return null!==n&&e&&e(new hm(n)),(0,qt.of)(!0)}(o.route,r),function t_(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function kt(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Yf(()=>{const m=d.guards.map(I=>{const C=S(d.node)??t,A=Wn(I,C);return Us(function hp(n){return n&&ol(n.canActivateChild)}(A)?A.canActivateChild(r,n):C.runInContext(()=>A(r,n))).pipe(po())});return(0,qt.of)(m).pipe(Zu())}));return(0,qt.of)(l).pipe(Zu())}(n,o.path,t),function vm(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,qt.of)(!0);const o=r.map(l=>Yf(()=>{const d=S(e)??t,m=Wn(l,d);return Us(function Ac(n){return n&&ol(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(po())}));return(0,qt.of)(o).pipe(Zu())}(n,o.route,t))),po(o=>!0!==o,!0))}(r,l,n,e):(0,qt.of)(m)),(0,sn.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,d=>this.events.next(d)),(0,mr.b)(d=>{if(r.guardsResult=d.guardsResult,Ic(d.guardsResult))throw Hu(0,d.guardsResult);const m=new $u(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),Qi(d=>!!d.guardsResult||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),bm(d=>{if(d.guards.canActivateChecks.length)return(0,qt.of)(d).pipe((0,mr.b)(m=>{const I=new wh(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(I)}),(0,Sr.w)(m=>{let I=!1;return(0,qt.of)(m).pipe(function mC(n,e){return(0,Jr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,qt.of)(t);let l=0;return(0,Ln.D)(o).pipe(Zo(d=>function r_(n,e,t,r){const o=n.routeConfig,l=n._resolve;return void 0!==o?.title&&!i_(o)&&(l[Qa]=o.title),function zl(n,e,t,r){const o=function pp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,qt.of)({});const l={};return(0,Ln.D)(o).pipe((0,Jr.z)(d=>function sE(n,e,t,r){const o=S(e)??r,l=Wn(n,o);return Us(l.resolve?l.resolve(e,t):o.runInContext(()=>l(e,t)))}(n[d],e,t,r).pipe(po(),(0,mr.b)(m=>{l[d]=m}))),go(1),function vc(n){return(0,sn.U)(()=>n)}(l),Di(d=>Mc(d)?Ko.E:pa(d)))}(l,n,e,r).pipe((0,sn.U)(d=>(n._resolvedData=d,n.data=ip(n,t).resolve,o&&i_(o)&&(n.data[Qa]=o.title),null)))}(d.route,r,n,e)),(0,mr.b)(()=>l++),go(1),(0,Jr.z)(d=>l===o.length?(0,qt.of)(t):Ko.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,mr.b)({next:()=>I=!0,complete:()=>{I||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,mr.b)(m=>{const I=new Dh(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(I)}))}),bm(d=>{const m=I=>{const C=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(I.routeConfig).pipe((0,mr.b)(A=>{I.component=A}),(0,sn.U)(()=>{})));for(const A of I.children)C.push(...m(A));return C};return Za(m(d.targetSnapshot.root)).pipe($s(),ga(1))}),bm(()=>this.afterPreactivation()),(0,sn.U)(d=>{const m=function Uu(n,e,t){const r=ju(n,e._root,t?t._root:void 0);return new Cc(r,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:m}}),(0,mr.b)(d=>{t.currentUrlTree=d.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),t.routerState=d.targetRouterState,"deferred"===t.urlUpdateStrategy&&(d.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,d),t.browserUrlTree=d.urlAfterRedirects)}),((n,e,t,r)=>(0,sn.U)(o=>(new be(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),ga(1),(0,mr.b)({next:d=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ia(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{o=!0}}),Vl(()=>{o||l||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Di(d=>{if(l=!0,Es(d)){zu(d)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new Bu(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(m),zu(d)){const I=t.urlHandlingStrategy.merge(d.url,t.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||yC(r.source)};t.scheduleNavigation(I,Eh,null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new wc(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(d))}catch(I){r.reject(I)}}return Ko.E}))}))}cancelNavigationTransition(t,r,o){const l=new Bu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(l),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yC(n){return n!==Eh}let vC=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(l=>l.outlet===cn);return r}getResolvedTitleForRoute(t){return t.data[Qa]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(lE)},providedIn:"root"}),n})(),lE=(()=>{class n extends vC{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(kl))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(EC)},providedIn:"root"}),n})();class IC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let EC=(()=>{class n extends IC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sm=new c.OlP("",{providedIn:"root",factory:()=>({})});let cE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Tm)},providedIn:"root"}),n})(),Tm=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ws=(()=>((ws=ws||{})[ws.COMPLETE=0]="COMPLETE",ws[ws.FAILED=1]="FAILED",ws[ws.REDIRECTING=2]="REDIRECTING",ws))();function Am(n,e){n.events.pipe(Qi(t=>t instanceof Ia||t instanceof Bu||t instanceof wc||t instanceof tl),(0,sn.U)(t=>t instanceof Ia||t instanceof tl?ws.COMPLETE:t instanceof Bu&&(0===t.code||1===t.code)?ws.REDIRECTING:ws.FAILED),Qi(t=>t!==ws.REDIRECTING),ga(1)).subscribe(()=>{e()})}function wC(n){throw n}function hi(n,e,t){return e.parse("/")}const DC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $i=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(Sm,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||wC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hi,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(cE),this.routeReuseStrategy=(0,c.f3M)(_C),this.titleStrategy=(0,c.f3M)(vC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(gp,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(xh),this.urlSerializer=(0,c.f3M)(Ee),this.location=(0,c.f3M)(ue),this.componentInputBindingEnabled=!!(0,c.f3M)(Oo,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new jl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=di(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Eh,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const l={replaceUrl:!0},d=o?.navigationId?o:null;if(o){const I={...o};delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(l.state=I)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,d,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(f),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:d,queryParamsHandling:m,preserveFragment:I}=r,C=I?this.currentUrlTree.fragment:d;let k,A=null;switch(m){case"merge":A={...this.currentUrlTree.queryParams,...l};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=l||null}null!==A&&(A=this.removeEmptyProps(A));try{k=Qf(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),k=this.currentUrlTree.root}return am(k,t,A,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Ic(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,Eh,null,r)}navigate(t,r={skipLocationChange:!1}){return function uE(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new c.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...DC}:!1===r?{...bC}:r,Ic(t))return ui(this.currentUrlTree,t,o);const l=this.parseUrl(t);return ui(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}scheduleNavigation(t,r,o,l,d){if(this.disposed)return Promise.resolve(!1);let m,I,C;d?(m=d.resolve,I=d.reject,C=d.promise):C=new Promise((k,ae)=>{m=k,I=ae});const A=this.pendingTasks.add();return Am(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:l,resolve:m,reject:I,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(k=>Promise.reject(k))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",d)}else{const l={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(o,"",l)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-(this.browserPageId??this.currentPageId);0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dE{}let Dx=(()=>{class n{constructor(t,r,o,l,d){this.router=t,this.injector=o,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Qi(t=>t instanceof Ia),Zo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,c.MMx)(l.providers,t,`Route: ${l.path}`));const d=l._injector??t,m=l._loadedInjector??d;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&o.push(this.preloadConfig(d,l)),(l.children||l._loadedRoutes)&&o.push(this.processRoutes(m,l.children??l._loadedRoutes))}return(0,Ln.D)(o).pipe((0,ps.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,qt.of)(null);const l=o.pipe((0,Jr.z)(d=>null===d?(0,qt.of)(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Ln.D)([l,d]).pipe((0,ps.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG($i),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(dE),c.LFG(aE))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xu=new c.OlP("");let Xn=(()=>{class n{constructor(t,r,o,l,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=l,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _a?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ia?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof tl&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof bc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function sl(n,e){return{\u0275kind:n,\u0275providers:e}}function s_(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get($i),o=n.get(xm);1===n.get(fE)&&r.initialNavigation(),n.get(l_,null,c.XFs.Optional)?.setUpPreloading(),n.get(Xu,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const xm=new c.OlP("",{factory:()=>new wi.x}),fE=new c.OlP("",{providedIn:"root",factory:()=>1}),l_=new c.OlP("");function gE(n){return sl(0,[{provide:l_,useExisting:Dx},{provide:dE,useExisting:n}])}const Om=new c.OlP("ROUTER_FORROOT_GUARD"),Nm=[ue,{provide:Ee,useClass:Ge},$i,nl,{provide:Jo,useFactory:function o_(n){return n.routerState.root},deps:[$i]},aE,[]];function Qu(){return new c.PXZ("Router",$i)}let Pm=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Nm,[],{provide:gp,multi:!0,useValue:t},{provide:Om,useFactory:yE,deps:[[$i,new c.FiY,new c.tp0]]},{provide:Sm,useValue:r||{}},r?.useHash?{provide:ee,useClass:_e}:{provide:ee,useClass:De},{provide:Xu,useFactory:()=>{const n=(0,c.f3M)(jo),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(Sm),r=(0,c.f3M)(xh),o=(0,c.f3M)(Ee);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Xn(o,r,n,e,t)}},r?.preloadingStrategy?gE(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Qu},r?.initialNavigation?Oh(r):[],r?.bindToComponentInputs?sl(8,[lp,{provide:Oo,useExisting:lp}]).\u0275providers:[],[{provide:vE,useFactory:s_},{provide:c.tb,multi:!0,useExisting:vE}]]}}static forChild(t){return{ngModule:n,providers:[{provide:gp,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Om,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function yE(n){return"guarded"}function Oh(n){return["disabled"===n.initialNavigation?sl(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)($i);return()=>{e.setUpLocationChangeListener()}}},{provide:fE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?sl(2,[{provide:fE,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(Se,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get($i),l=e.get(xm);Am(o,()=>{r(!0)}),e.get(xh).afterPreactivation=()=>(r(!0),l.closed?(0,qt.of)(void 0):l),o.initialNavigation()}))}}]).\u0275providers:[]]}const vE=new c.OlP("");let Mx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,r){1&t&&(c.TgZ(0,"p"),c._uU(1,"dashboard works!"),c.qZA())}}),n})(),EE=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Ju=(()=>{class n extends EE{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const es=new c.OlP("NgValueAccessor"),FC={provide:es,useExisting:(0,c.Gpc)(()=>ed),multi:!0},d_=new c.OlP("CompositionEventMode");let ed=(()=>{class n extends EE{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function u_(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(d_,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[c._Bn([FC]),c.qOj]}),n})();const fi=new c.OlP("NgValidators"),Ca=new c.OlP("NgAsyncValidators");function Ip(n){return null}function f_(n){return null!=n}function bE(n){return(0,c.QGY)(n)?(0,Ln.D)(n):n}function CE(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function $C(n,e){return e.map(t=>t(n))}function $m(n){return n.map(e=>function VC(n){return!n.validate}(e)?e:t=>e.validate(t))}function p_(n){return null!=n?function Vm(n){if(!n)return null;const e=n.filter(f_);return 0==e.length?null:function(t){return CE($C(t,e))}}($m(n)):null}function Ep(n){return null!=n?function g_(n){if(!n)return null;const e=n.filter(f_);return 0==e.length?null:function(t){return function xx(...n){const e=(0,Yo.jO)(n),{args:t,keys:r}=fc(n),o=new Co.y(l=>{const{length:d}=t;if(!d)return void l.complete();const m=new Array(d);let I=d,C=d;for(let A=0;A<d;A++){let k=!1;(0,gs.Xf)(t[A]).subscribe((0,Xi.x)(l,ae=>{k||(k=!0,C--),m[A]=ae},()=>I--,void 0,()=>{(!I||!k)&&(C||l.next(r?Fs(r,m):m),l.complete())}))}});return e?o.pipe(ha(e)):o}($C(t,e).map(bE)).pipe((0,sn.U)(CE))}}($m(n)):null}function wp(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function SE(n){return n._rawValidators}function m_(n){return n._rawAsyncValidators}function y_(n){return n?Array.isArray(n)?n:[n]:[]}function Dp(n,e){return Array.isArray(n)?n.includes(e):n===e}function UC(n,e){const t=y_(e);return y_(n).forEach(o=>{Dp(t,o)||t.push(o)}),t}function TE(n,e){return y_(e).filter(t=>!Dp(n,t))}class bp{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=p_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ep(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class No extends bp{get formDirective(){return null}get path(){return null}}class ts extends bp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Nh{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let AE=(()=>{class n extends Nh{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ts,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),ME=(()=>{class n extends Nh{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(No,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();const Mp="VALID",xp="INVALID",Sa="PENDING",Ds="DISABLED";function Um(n){return(E_(n)?n.validators:n)||null}function I_(n,e){return(E_(e)?e.asyncValidators:n)||null}function E_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class qC{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Mp}get invalid(){return this.status===xp}get pending(){return this.status==Sa}get disabled(){return this.status===Ds}get enabled(){return this.status!==Ds}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(UC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(UC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(TE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(TE(e,this._rawAsyncValidators))}hasValidator(e){return Dp(this._rawValidators,e)}hasAsyncValidator(e){return Dp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Sa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ds,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Mp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mp||this.status===Sa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ds:Mp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Sa,this._hasOwnPendingAsyncValidator=!0;const t=bE(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Ds:this.errors?xp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sa)?Sa:this._anyControlsHaveStatus(xp)?xp:Mp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){E_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Fx(n){return Array.isArray(n)?p_(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Lx(n){return Array.isArray(n)?Ep(n):n||null}(this._rawAsyncValidators)}}class Rp extends qC{constructor(e,t,r){super(Um(t),I_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function D_(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new c.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function w_(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[t])throw new c.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const un=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Op}),Op="always";function jm(n,e,t=Op){C_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function XC(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&kE(n,e)})}(n,e),function QC(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function PE(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&kE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ZC(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Hm(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),kp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Pp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function C_(n,e){const t=SE(n);null!==e.validator?n.setValidators(wp(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=m_(n);null!==e.asyncValidator?n.setAsyncValidators(wp(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Pp(e._rawValidators,o),Pp(e._rawAsyncValidators,o)}function kp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=SE(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==e.validator);l.length!==o.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const o=m_(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==e.asyncValidator);l.length!==o.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Pp(e._rawValidators,r),Pp(e._rawAsyncValidators,r),t}function kE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Wm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function $E(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const T_=class extends qC{constructor(e=null,t,r){super(Um(t),I_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),E_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=$E(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Wm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Wm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){$E(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let GE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),qE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Fp=new c.OlP("NgModelWithFormControlWarning"),aS={provide:No,useExisting:(0,c.Gpc)(()=>Ym)};let Ym=(()=>{class n extends No{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return jm(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Hm(t.control||null,t,!1),function LE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function zm(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Hm(r||null,t),(n=>n instanceof T_)(o)&&(jm(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function JC(n,e){C_(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function FE(n,e){return kp(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){C_(this.form,this),this._oldForm&&kp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(fi,10),c.Y36(Ca,10),c.Y36(un,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([aS]),c.qOj,c.TTD]}),n})();const cS={provide:ts,useExisting:(0,c.Gpc)(()=>Km)};let Km=(()=>{class n extends ts{set isDisabled(t){}constructor(t,r,o,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.name=null,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function td(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===ed?t=l:function kh(n){return Object.getPrototypeOf(n.constructor)===Ju}(l)?r=l:o=l}),o||r||t||null}(0,l)}ngOnChanges(t){this._added||this._setUpControl(),function Ph(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Np(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(No,13),c.Y36(fi,10),c.Y36(Ca,10),c.Y36(es,10),c.Y36(Fp,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([cS]),c.qOj,c.TTD]}),n})();let rd=(()=>{class n{constructor(){this._validator=Ip}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ip,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const fS={provide:fi,useExisting:(0,c.Gpc)(()=>F_),multi:!0};let F_=(()=>{class n extends rd{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function nw(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function wE(n){return e=>function km(n){return null!=n&&"number"==typeof n.length}(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[c._Bn([fS]),c.qOj]}),n})(),aw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[qE]}),n})(),mS=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Fp,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:un,useValue:t.callSetDisabledState??Op}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[aw]}),n})();var yS=x(6321),eo=x(8186);function ey(){return(0,Ao.e)((n,e)=>{let t,r=!1;n.subscribe((0,Xi.x)(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}var Mt,ty=x(3997),Aa=x(6304),vS=(x(5967),x(3106)),Xe=x(5861),od=x(534),ny=x(4537),Oc=x(7879),Qn=x(9058),_S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ws={},$_=$_||{},wn=_S||self;function $p(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Fh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Lh="closure_uid_"+(1e9*Math.random()>>>0),IS=0;function ES(n,e,t){return n.call.apply(n.bind,arguments)}function V_(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function mo(n,e,t){return(mo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ES:V_).apply(null,arguments)}function bs(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Hr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,o,l){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function Lr(){this.s=this.s,this.o=this.o}Lr.prototype.s=!1,Lr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function e1(n){Object.prototype.hasOwnProperty.call(n,Lh)&&n[Lh]||(n[Lh]=++IS)}(this)},Lr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Vp=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function rs(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ry(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if($p(r)){const o=n.length||0,l=r.length||0;n.length=o+l;for(let d=0;d<l;d++)n[o+d]=r[d]}else n.push(r)}}function ei(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ei.prototype.h=function(){this.defaultPrevented=!0};var Bh=function(){if(!wn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{wn.addEventListener("test",()=>{},e),wn.removeEventListener("test",()=>{},e)}catch{}return n}();function ll(n){return/^[\s\xa0]*$/.test(n)}function Gl(){var n=wn.navigator;return n&&(n=n.userAgent)?n:""}function Po(n){return-1!=Gl().indexOf(n)}function Nc(n){return Nc[" "](n),n}Nc[" "]=function(){};var oy,n,Vh=Po("Opera"),Ma=Po("Trident")||Po("MSIE"),U_=Po("Edge"),iy=U_||Ma,j_=Po("Gecko")&&!(-1!=Gl().toLowerCase().indexOf("webkit")&&!Po("Edge"))&&!(Po("Trident")||Po("MSIE"))&&!Po("Edge"),lw=-1!=Gl().toLowerCase().indexOf("webkit")&&!Po("Edge");function H_(){var n=wn.document;return n?n.documentMode:void 0}e:{var sy="",ay=(n=Gl(),j_?/rv:([^\);]+)(\)|;)/.exec(n):U_?/Edge\/([\d\.]+)/.exec(n):Ma?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):lw?/WebKit\/(\S+)/.exec(n):Vh?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ay&&(sy=ay?ay[1]:""),Ma){var ly=H_();if(null!=ly&&ly>parseFloat(sy)){oy=String(ly);break e}}oy=sy}var t1=wn.document&&Ma&&(H_()||parseInt(oy,10))||void 0;function cy(n,e){if(ei.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(j_){e:{try{Nc(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:wS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&cy.$.h.call(this)}}Hr(cy,ei);var wS={2:"touch",3:"pen",4:"mouse"};cy.prototype.h=function(){cy.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var jp="closure_listenable_"+(1e6*Math.random()|0),n1=0;function DS(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=o,this.key=++n1,this.fa=this.ia=!1}function z_(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function G_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function uw(n){const e={};for(const t in n)e[t]=n[t];return e}const uy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Uh(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<uy.length;l++)t=uy[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function jh(n){this.src=n,this.g={},this.h=0}function Hh(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=Vp(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(z_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function dy(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.fa&&l.listener==e&&l.capture==!!t&&l.la==r)return o}return-1}jh.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=dy(n,e,r,o);return-1<d?(e=n[d],t||(e.ia=!1)):((e=new DS(e,this.src,l,!!r,o)).ia=t,n.push(e)),e};var ad="closure_lm_"+(1e6*Math.random()|0),hy={};function dw(n,e,t,r,o){if(r&&r.once)return hw(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)dw(n,e[l],t,r,o);return null}return t=q_(t),n&&n[jp]?n.O(e,t,Fh(r)?!!r.capture:!!r,o):zh(n,e,t,!1,r,o)}function zh(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var d=Fh(o)?!!o.capture:!!o,m=Gh(n);if(m||(n[ad]=m=new jh(n)),(t=m.add(e,t,r,d,l)).proxy)return t;if(r=function CS(){const e=py;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Bh||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(fy(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function hw(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)hw(n,e[l],t,r,o);return null}return t=q_(t),n&&n[jp]?n.P(e,t,Fh(r)?!!r.capture:!!r,o):zh(n,e,t,!0,r,o)}function fw(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)fw(n,e[l],t,r,o);else r=Fh(r)?!!r.capture:!!r,t=q_(t),n&&n[jp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=dy(l=n.g[e],t,r,o))&&(z_(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Gh(n))&&(e=n.g[e.toString()],n=-1,e&&(n=dy(e,t,r,o)),(t=-1<n?e[n]:null)&&W_(t))}function W_(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[jp])Hh(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(fy(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Gh(e))?(Hh(t,n),0==t.h&&(t.src=null,e[ad]=null)):z_(n)}}}function fy(n){return n in hy?hy[n]:hy[n]="on"+n}function py(n,e){if(n.fa)n=!0;else{e=new cy(e,this);var t=n.listener,r=n.la||n.src;n.ia&&W_(n),n=t.call(r,e)}return n}function Gh(n){return(n=n[ad])instanceof jh?n:null}var pw="__closure_events_fn_"+(1e9*Math.random()>>>0);function q_(n){return"function"==typeof n?n:(n[pw]||(n[pw]=function(e){return n.handleEvent(e)}),n[pw])}function Vi(){Lr.call(this),this.i=new jh(this),this.S=this,this.J=null}function Ci(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ei(e,n);else if(e instanceof ei)e.target=e.target||n;else{var o=e;Uh(e=new ei(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];o=gy(d,r,!0,e)&&o}if(o=gy(d=e.g=n,r,!0,e)&&o,o=gy(d,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=gy(d=e.g=t[l],r,!1,e)&&o}function gy(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.fa&&d.capture==t){var m=d.listener,I=d.la||d.src;d.ia&&Hh(n.i,d),o=!1!==m.call(I,r)&&o}}return o&&!r.defaultPrevented}Hr(Vi,Lr),Vi.prototype[jp]=!0,Vi.prototype.removeEventListener=function(n,e,t,r){fw(this,n,e,t,r)},Vi.prototype.N=function(){if(Vi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)z_(t[r]);delete n.g[e],n.h--}}this.J=null},Vi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Vi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var my=wn.JSON.stringify;function TS(){var n=Gp;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Y_=new class SS{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new mw,n=>n.reset());class mw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function AS(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function MS(n){wn.setTimeout(()=>{throw n},0)}let Hp,zp=!1,Gp=new class gw{constructor(){this.h=this.g=null}add(e,t){const r=Y_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},yy=()=>{const n=wn.Promise.resolve(void 0);Hp=()=>{n.then(xS)}};var xS=()=>{for(var n;n=TS();){try{n.h.call(n.g)}catch(t){MS(t)}var e=Y_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}zp=!1};function ld(n,e){Vi.call(this),this.h=n||1,this.g=e||wn,this.j=mo(this.qb,this),this.l=Date.now()}function Wh(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Wp(n,e,t){if("function"==typeof n)t&&(n=mo(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=mo(n.handleEvent,n)}return 2147483647<Number(e)?-1:wn.setTimeout(n,e||0)}function K_(n){n.g=Wp(()=>{n.g=null,n.i&&(n.i=!1,K_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Hr(ld,Vi),(Mt=ld.prototype).ga=!1,Mt.T=null,Mt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ci(this,"tick"),this.ga&&(Wh(this),this.start()))}},Mt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Mt.N=function(){ld.$.N.call(this),Wh(this),delete this.g};class RS extends Lr{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:K_(this)}N(){super.N(),this.g&&(wn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qp(n){Lr.call(this),this.h=n,this.g={}}Hr(qp,Lr);var yw=[];function vy(n,e,t,r){Array.isArray(t)||(t&&(yw[0]=t.toString()),t=yw);for(var o=0;o<t.length;o++){var l=dw(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function _y(n){G_(n.g,function(e,t){this.g.hasOwnProperty(t)&&W_(e)},n),n.g={}}function qh(){this.g=!0}function Yh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Z_(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<o.length;d++)o[d]=""}}}return my(t)}catch{return e}}(n,t)+(r?" "+r:"")})}qp.prototype.N=function(){qp.$.N.call(this),_y(this)},qp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qh.prototype.Ea=function(){this.g=!1},qh.prototype.info=function(){};var Pc={},Iy=null;function Yp(){return Iy=Iy||new Vi}function _w(n){ei.call(this,Pc.Ta,n)}function Kh(n){const e=Yp();Ci(e,new _w(e))}function X_(n,e){ei.call(this,Pc.STAT_EVENT,n),this.stat=e}function yo(n){const e=Yp();Ci(e,new X_(e,n))}function Q_(n,e){ei.call(this,Pc.Ua,n),this.size=e}function Kp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return wn.setTimeout(function(){n()},e)}Pc.Ta="serverreachability",Hr(_w,ei),Pc.STAT_EVENT="statevent",Hr(X_,ei),Pc.Ua="timingevent",Hr(Q_,ei);var Zp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},J_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ey(){}function e0(){}Ey.prototype.h=null;var Cy,Zh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Dy(){ei.call(this,"d")}function by(){ei.call(this,"c")}function Xp(){}function Xh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new qp(this),this.P=Sy,this.V=new ld(n=iy?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new t0}function t0(){this.i=null,this.g="",this.h=!1}Hr(Dy,ei),Hr(by,ei),Hr(Xp,Ey),Xp.prototype.g=function(){return new XMLHttpRequest},Xp.prototype.i=function(){return{}},Cy=new Xp;var Sy=45e3,cl={},Ty={};function n0(n,e,t){n.L=1,n.v=Ry(Wl(e)),n.s=t,n.S=!0,Ay(n,null)}function Ay(n,e){n.G=Date.now(),cd(n),n.A=Wl(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),a0(t.i,"t",r),n.C=0,t=n.l.J,n.h=new t0,n.g=E0(n.l,t?e:null,!n.s),0<n.O&&(n.M=new RS(mo(n.Pa,n,n.g),n.O)),vy(n.U,n.g,"readystatechange",n.nb),e=n.I?uw(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Kh(),function vw(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var d="",m=l.split("&"),I=0;I<m.length;I++){var C=m[I].split("=");if(1<C.length){var A=C[0];C=C[1];var k=A.split("_");d=2<=k.length&&"type"==k[1]?d+(A+"=")+C+"&":d+(A+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.W,n.s)}function kc(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function My(n,e,t){let o,r=!0;for(;!n.J&&n.C<t.length;){if(o=PS(n,t),o==Ty){4==e&&(n.o=4,yo(14),r=!1),Yh(n.j,n.m,null,"[Incomplete Response]");break}if(o==cl){n.o=4,yo(15),Yh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Yh(n.j,n.m,o,null),xy(n,o)}kc(n)&&o!=Ty&&o!=cl&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,yo(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),$y(e),e.M=!0,yo(11))):(Yh(n.j,n.m,t,"[Invalid Chunked Response]"),ud(n),Qp(n))}function PS(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ty:(t=Number(e.substring(t,r)),isNaN(t)?cl:(r+=1)+t>e.length?Ty:(e=e.slice(r,r+t),n.C=r+t,e))}function cd(n){n.Y=Date.now()+n.P,kS(n,n.P)}function kS(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Kp(mo(n.lb,n),e)}function r0(n){n.B&&(wn.clearTimeout(n.B),n.B=null)}function Qp(n){0==n.l.H||n.J||y0(n.l,n)}function ud(n){r0(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Wh(n.V),_y(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function xy(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||l0(t.i,n)))if(!n.K&&l0(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;ag(t),Fy(t)}By(t),yo(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=Kp(mo(t.ib,t),6e3));if(1>=Jh(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Lc(t,11)}else if((n.K||t.g==n)&&ag(t),!ll(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.V=C[0],C=C[1],2==t.H)if("c"==C[0]){t.K=C[1],t.pa=C[2];const A=C[3];null!=A&&(t.ra=A,t.l.info("VER="+t.ra));const k=C[4];null!=k&&(t.Ga=k,t.l.info("SVER="+t.Ga));const ae=C[5];null!=ae&&"number"==typeof ae&&0<ae&&(t.L=r=1.5*ae,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const Te=n.g;if(Te){const Ze=Te.g?Te.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ze){var l=r.i;l.g||-1==Ze.indexOf("spdy")&&-1==Ze.indexOf("quic")&&-1==Ze.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Ny(l,l.h),l.h=null))}if(r.F){const ut=Te.g?Te.g.getResponseHeader("X-HTTP-Session-Id"):null;ut&&(r.Da=ut,Ar(r.I,r.F,ut))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var d=n;if((r=t).wa=I0(r,r.J?r.pa:null,r.Y),d.K){bw(r.i,d);var m=d,I=r.L;I&&m.setTimeout(I),m.B&&(r0(m),cd(m)),r.g=d}else g0(r);0<t.j.length&&Ly(t)}else"stop"!=C[0]&&"close"!=C[0]||Lc(t,7);else 3==t.H&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Lc(t,7):p0(t):"noop"!=C[0]&&t.h&&t.h.Aa(C),t.A=0)}Kh()}catch{}}function o0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if($p(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Si(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if($p(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function FS(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if($p(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}(Mt=Xh.prototype).setTimeout=function(n){this.P=n},Mt.nb=function(n){n=n.target;const e=this.M;e&&3==dl(n)?e.l():this.Pa(n)},Mt.Pa=function(n){try{if(n==this.g)e:{const A=dl(this.g);var e=this.g.Ia();if(this.g.da(),!(3>A)&&(3!=A||iy||this.g&&(this.h.h||this.g.ja()||kw(this.g)))){this.J||4!=A||7==e||Kh(),r0(this);var t=this.g.da();this.ca=t;t:if(kc(this)){var r=kw(this.g);n="";var o=r.length,l=4==dl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ud(this),Qp(this);var d="";break t}this.h.i=new wn.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==t,function OS(n,e,t,r,o,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.W,A,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,I=this.g;if((m=I.g?I.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ll(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,yo(12),ud(this),Qp(this);break e}Yh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xy(this,t)}this.S?(My(this,A,d),iy&&this.i&&3==A&&(vy(this.U,this.V,"tick",this.mb),this.V.start())):(Yh(this.j,this.m,d,null),xy(this,d)),4==A&&ud(this),this.i&&!this.J&&(4==A?y0(this.l,this):(this.i=!1,cd(this)))}else(function zS(n){const e={};n=(n.g&&2<=dl(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(ll(n[r]))continue;var t=AS(n[r]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const l=e[o]||[];e[o]=l,l.push(t)}!function bS(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<d.indexOf("Unknown SID")?(this.o=3,yo(12)):(this.o=0,yo(13)),ud(this),Qp(this)}}}catch{}},Mt.mb=function(){if(this.g){var n=dl(this.g),e=this.g.ja();this.C<e.length&&(r0(this),My(this,n,e),this.i&&4!=n&&cd(this))}},Mt.cancel=function(){this.J=!0,ud(this)},Mt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function NS(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Kh(),yo(17)),ud(this),this.o=2,Qp(this)):kS(this,this.Y-n)};var Iw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Fc){this.h=n.h,Jp(this,n.j),this.s=n.s,this.g=n.g,eg(this,n.m),this.l=n.l;var e=n.i,t=new ng;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),dd(this,t),this.o=n.o}else n&&(e=String(n).match(Iw))?(this.h=!1,Jp(this,e[1]||"",!0),this.s=Qh(e[2]||""),this.g=Qh(e[3]||"",!0),eg(this,e[4]),this.l=Qh(e[5]||"",!0),dd(this,e[6]||"",!0),this.o=Qh(e[7]||"")):(this.h=!1,this.i=new ng(null,this.h))}function Wl(n){return new Fc(n)}function Jp(n,e,t){n.j=t?Qh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function eg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function dd(n,e,t){e instanceof ng?(n.i=e,function VS(n,e){e&&!n.j&&(to(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(qs(this,r),a0(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=tg(e,ul)),n.i=new ng(e,n.h))}function Ar(n,e,t){n.i.set(e,t)}function Ry(n){return Ar(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Qh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function tg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Ew),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Ew(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Fc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(tg(e,BS,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(tg(e,BS,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(tg(t,"/"==t.charAt(0)?s0:ww,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",tg(t,$S)),n.join("")};var BS=/[#\/\?@]/g,ww=/[#\?:]/g,s0=/[#\?]/g,ul=/[#\?@]/g,$S=/#/g;function ng(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function to(n){n.g||(n.g=new Map,n.h=0,n.i&&function LS(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qs(n,e){to(n),e=hd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Ys(n,e){return to(n),e=hd(n,e),n.g.has(e)}function a0(n,e,t){qs(n,e),0<t.length&&(n.i=null,n.g.set(hd(n,e),rs(t)),n.h+=t.length)}function hd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Dw(n){this.l=n||jS,n=wn.PerformanceNavigationTiming?0<(n=wn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(wn.g&&wn.g.Ka&&wn.g.Ka()&&wn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Mt=ng.prototype).add=function(n,e){to(this),this.i=null,n=hd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Mt.forEach=function(n,e){to(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},Mt.ta=function(){to(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let l=0;l<o.length;l++)t.push(e[r])}return t},Mt.Z=function(n){to(this);let e=[];if("string"==typeof n)Ys(this,n)&&(e=e.concat(this.g.get(hd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Mt.set=function(n,e){return to(this),this.i=null,Ys(this,n=hd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Mt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),d=this.Z(r);for(r=0;r<d.length;r++){var o=l;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var jS=10;function Oy(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Jh(n){return n.h?1:n.g?n.g.size:0}function l0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ny(n,e){n.g?n.g.add(e):n.h=e}function bw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Cw(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return rs(n.i)}Dw.prototype.cancel=function(){if(this.i=Cw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Sw=class{stringify(n){return wn.JSON.stringify(n,void 0)}parse(n){return wn.JSON.parse(n,void 0)}};function Tw(){this.g=new Sw}function Py(n,e,t){const r=t||"";try{o0(n,function(o,l){let d=o;Fh(o)&&(d=my(o)),e.push(r+l+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function rg(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function ef(n){this.l=n.fc||null,this.j=n.ob||!1}function ig(n,e){Vi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=c0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hr(ef,Ey),ef.prototype.g=function(){return new ig(this.l,this.j)},ef.prototype.i=function(n){return function(){return n}}({}),Hr(ig,Vi);var c0=0;function Aw(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function tf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fd(n)}function fd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Mt=ig.prototype).open=function(n,e){if(this.readyState!=c0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,fd(this)},Mt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||wn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tf(this)),this.readyState=c0},Mt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fd(this)),this.g&&(this.readyState=3,fd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof wn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Aw(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Mt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?tf(this):fd(this),3==this.readyState&&Aw(this)}},Mt.Za=function(n){this.g&&(this.response=this.responseText=n,tf(this))},Mt.Ya=function(n){this.g&&(this.response=n,tf(this))},Mt.ka=function(){this.g&&tf(this)},Mt.setRequestHeader=function(n,e){this.v.append(n,e)},Mt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Mt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ig.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Mw=wn.JSON.parse;function Br(n){Vi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=u0,this.L=this.M=!1}Hr(Br,Vi);var u0="",xw=/^https?$/i,Rw=["POST","PUT"];function d0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,h0(n),ky(n)}function h0(n){n.F||(n.F=!0,Ci(n,"complete"),Ci(n,"error"))}function Nw(n){if(n.h&&typeof $_<"u"&&(!n.C[1]||4!=dl(n)||2!=n.da()))if(n.v&&4==dl(n))Wp(n.La,0,n);else if(Ci(n,"readystatechange"),4==dl(n)){n.h=!1;try{const d=n.da();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===d){var o=String(n.I).match(Iw)[1]||null;!o&&wn.self&&wn.self.location&&(o=wn.self.location.protocol.slice(0,-1)),r=!xw.test(o?o.toLowerCase():"")}t=r}if(t)Ci(n,"complete"),Ci(n,"success");else{n.m=6;try{var l=2<dl(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.da()+"]",h0(n)}}finally{ky(n)}}}function ky(n,e){if(n.g){Pw(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ci(n,"ready");try{t.onreadystatechange=r}catch{}}}function Pw(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(wn.clearTimeout(n.A),n.A=null)}function dl(n){return n.g?n.g.readyState:0}function kw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case u0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Fw(n){let e="";return G_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function f0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Fw(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ar(n,e,t))}function og(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Lw(n){this.Ga=0,this.j=[],this.l=new qh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=og("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=og("baseRetryDelayMs",5e3,n),this.hb=og("retryDelaySeedMs",1e4,n),this.eb=og("forwardChannelMaxRetries",2,n),this.xa=og("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Dw(n&&n.concurrentRequestLimit),this.Ja=new Tw,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function p0(n){if(Bw(n),3==n.H){var e=n.W++,t=Wl(n.I);if(Ar(t,"SID",n.K),Ar(t,"RID",e),Ar(t,"TYPE","terminate"),sg(n,t),(e=new Xh(n,n.l,e)).L=2,e.v=Ry(Wl(t)),t=!1,wn.navigator&&wn.navigator.sendBeacon)try{t=wn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&wn.Image&&((new Image).src=e.v,t=!0),t||(e.g=E0(e.l,null),e.g.ha(e.v)),e.G=Date.now(),cd(e)}_0(n)}function Fy(n){n.g&&($y(n),n.g.cancel(),n.g=null)}function Bw(n){Fy(n),n.u&&(wn.clearTimeout(n.u),n.u=null),ag(n),n.i.cancel(),n.m&&("number"==typeof n.m&&wn.clearTimeout(n.m),n.m=null)}function Ly(n){if(!Oy(n.i)&&!n.m){n.m=!0;var e=n.Na;Hp||yy(),zp||(Hp(),zp=!0),Gp.add(e,n),n.C=0}}function $w(n,e){var t;t=e?e.m:n.W++;const r=Wl(n.I);Ar(r,"SID",n.K),Ar(r,"RID",t),Ar(r,"AID",n.V),sg(n,r),n.o&&n.s&&f0(r,n.o,n.s),t=new Xh(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Vw(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Ny(n.i,t),n0(t,r,e)}function sg(n,e){n.na&&G_(n.na,function(t,r){Ar(e,r,t)}),n.h&&o0({},function(t,r){Ar(e,r,t)})}function Vw(n,e,t){t=Math.min(n.j.length,t);var r=n.h?mo(n.h.Va,n.h,n):null;e:{var o=n.j;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=o[0].g,d.push("ofs="+l)):l=0:d.push("ofs="+l);let m=!0;for(let I=0;I<t;I++){let C=o[I].g;const A=o[I].map;if(C-=l,0>C)l=Math.max(0,o[I].g-100),m=!1;else try{Py(A,d,"req"+C+"_")}catch{r&&r(A)}}if(m){r=d.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function g0(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Hp||yy(),zp||(Hp(),zp=!0),Gp.add(e,n),n.A=0}}function By(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Kp(mo(n.Ma,n),v0(n,n.A)),n.A++,0))}function $y(n){null!=n.B&&(wn.clearTimeout(n.B),n.B=null)}function m0(n){n.g=new Xh(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Wl(n.wa);Ar(e,"RID","rpc"),Ar(e,"SID",n.K),Ar(e,"AID",n.V),Ar(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ar(e,"TO",n.qa),Ar(e,"TYPE","xmlhttp"),sg(n,e),n.o&&n.s&&f0(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Ry(Wl(e)),t.s=null,t.S=!0,Ay(t,n)}function ag(n){null!=n.v&&(wn.clearTimeout(n.v),n.v=null)}function y0(n,e){var t=null;if(n.g==e){ag(n),$y(n),n.g=null;var r=2}else{if(!l0(n.i,e))return;t=e.F,bw(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var o=n.C;Ci(r=Yp(),new Q_(r,t)),Ly(n)}else g0(n);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function GS(n,e){return!(Jh(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Kp(mo(n.Na,n,e),v0(n,n.C)),n.C++,0)))}(n,e)||2==r&&By(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Lc(n,5);break;case 4:Lc(n,10);break;case 3:Lc(n,6);break;default:Lc(n,2)}}function v0(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Lc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=mo(n.pb,n);t||(t=new Fc("//www.google.com/images/cleardot.gif"),wn.location&&"http"==wn.location.protocol||Jp(t,"https"),Ry(t)),function HS(n,e){const t=new qh;if(wn.Image){const r=new Image;r.onload=bs(rg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=bs(rg,t,r,"TestLoadImage: error",!1,e),r.onabort=bs(rg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=bs(rg,t,r,"TestLoadImage: timeout",!1,e),wn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else yo(2);n.H=0,n.h&&n.h.za(e),_0(n),Bw(n)}function _0(n){if(n.H=0,n.ma=[],n.h){const e=Cw(n.i);(0!=e.length||0!=n.j.length)&&(ry(n.ma,e),ry(n.ma,n.j),n.i.i.length=0,rs(n.j),n.j.length=0),n.h.ya()}}function I0(n,e,t){var r=t instanceof Fc?Wl(t):new Fc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),eg(r,r.m);else{var o=wn.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var l=new Fc(null);r&&Jp(l,r),e&&(l.g=e),o&&eg(l,o),t&&(l.l=t),r=l}return e=n.Da,(t=n.F)&&e&&Ar(r,t,e),Ar(r,"VER",n.ra),sg(n,r),r}function E0(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Br(t&&n.Ha&&!n.va?new ef({ob:!0}):n.va)).Oa(n.J),e}function Bc(){}function Vy(){if(Ma&&!(10<=Number(t1)))throw Error("Environmental error: no available transport.")}function Cs(n,e){Vi.call(this),this.g=new Lw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!ll(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ll(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new $c(this)}function pd(n){Dy.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function WS(){by.call(this),this.status=1}function $c(n){this.g=n}function Ks(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Uy(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)r[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var l=n.g[3],d=(e=n.g[0])+(l^(t=n.g[1])&((o=n.g[2])^l))+r[0]+3614090360&4294967295;d=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=t+(d<<7&4294967295|d>>>25))+((d=l+(o^e&(t^o))+r[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^l&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(l^e))+r[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(l^t&(o^l))+r[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=l+(o^e&(t^o))+r[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^l&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(l^e))+r[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(l^t&(o^l))+r[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=l+(o^e&(t^o))+r[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^l&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(l^e))+r[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(l^t&(o^l))+r[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=l+(o^e&(t^o))+r[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^l&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(l^e))+r[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(o^l&(t^o))+r[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=l+(t^o&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(l^e))+r[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=t+(l^e&(o^l))+r[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^l&(t^o))+r[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=l+(t^o&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(l^e))+r[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=t+(l^e&(o^l))+r[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^l&(t^o))+r[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=l+(t^o&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(l^e))+r[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=t+(l^e&(o^l))+r[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^l&(t^o))+r[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=l+(t^o&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(l^e))+r[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=t+(l^e&(o^l))+r[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(t^o^l)+r[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=l+(e^t^o)+r[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=o+(l^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^l^e)+r[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^o^l)+r[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=l+(e^t^o)+r[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=o+(l^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^l^e)+r[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^o^l)+r[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=l+(e^t^o)+r[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=o+(l^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^l^e)+r[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^o^l)+r[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=l+(e^t^o)+r[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=o+(l^e^t)+r[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^l^e)+r[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(o^(t|~l))+r[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=l+(t^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(l|~t))+r[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=t+(l^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(o^(t|~l))+r[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=l+(t^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(l|~t))+r[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=t+(l^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(o^(t|~l))+r[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=l+(t^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(l|~t))+r[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=t+(l^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((l=(e=t+((d=e+(o^(t|~l))+r[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=l+(t^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((o=l+((d=o+(e^(l|~t))+r[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(d<<21&4294967295|d>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+l&4294967295}function sr(n,e){this.h=e;for(var t=[],r=!0,o=n.length-1;0<=o;o--){var l=0|n[o];r&&l==e||(t[o]=l,r=!1)}this.g=t}(Mt=Br.prototype).Oa=function(n){this.M=n},Mt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Cy.g(),this.C=function wy(n){return n.h||(n.h=n.i())}(this.u?this.u:Cy),this.g.onreadystatechange=mo(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(l){return void d0(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),o=wn.FormData&&n instanceof wn.FormData,!(0<=Vp(Rw,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,d]of t)this.g.setRequestHeader(l,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Pw(this),0<this.B&&((this.L=function Ow(n){return Ma&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mo(this.ua,this)):this.A=Wp(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){d0(this,l)}},Mt.ua=function(){typeof $_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ci(this,"timeout"),this.abort(8))},Mt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ci(this,"complete"),Ci(this,"abort"),ky(this))},Mt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ky(this,!0)),Br.$.N.call(this)},Mt.La=function(){this.s||(this.G||this.v||this.l?Nw(this):this.kb())},Mt.kb=function(){Nw(this)},Mt.isActive=function(){return!!this.g},Mt.da=function(){try{return 2<dl(this)?this.g.status:-1}catch{return-1}},Mt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Mt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Mw(e)}},Mt.Ia=function(){return this.m},Mt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Mt=Lw.prototype).ra=8,Mt.H=1,Mt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new Xh(this,this.l,n);let l=this.s;if(this.U&&(l?(l=uw(l),Uh(l,this.U)):l=this.U),null!==this.o||this.O||(o.I=l,l=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Vw(this,o,e),Ar(t=Wl(this.I),"RID",n),Ar(t,"CVER",22),this.F&&Ar(t,"X-HTTP-Session-Id",this.F),sg(this,t),l&&(this.O?e="headers="+encodeURIComponent(String(Fw(l)))+"&"+e:this.o&&f0(t,this.o,l)),Ny(this.i,o),this.bb&&Ar(t,"TYPE","init"),this.P?(Ar(t,"$req",e),Ar(t,"SID","null"),o.aa=!0,n0(o,t,null)):n0(o,t,e),this.H=2}}else 3==this.H&&(n?$w(this,n):0==this.j.length||Oy(this.i)||$w(this))},Mt.Ma=function(){if(this.u=null,m0(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Kp(mo(this.jb,this),n)}},Mt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yo(10),Fy(this),m0(this))},Mt.ib=function(){null!=this.v&&(this.v=null,Fy(this),By(this),yo(19))},Mt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),yo(2)):(this.l.info("Failed to ping google.com"),yo(1))},Mt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Mt=Bc.prototype).Ba=function(){},Mt.Aa=function(){},Mt.za=function(){},Mt.ya=function(){},Mt.isActive=function(){return!0},Mt.Va=function(){},Vy.prototype.g=function(n,e){return new Cs(n,e)},Hr(Cs,Vi),Cs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;yo(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=I0(n,null,n.Y),Ly(n)},Cs.prototype.close=function(){p0(this.g)},Cs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=my(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Ly(e)},Cs.prototype.N=function(){this.g.h=null,delete this.j,p0(this.g),delete this.g,Cs.$.N.call(this)},Hr(pd,Dy),Hr(WS,by),Hr($c,Bc),$c.prototype.Ba=function(){Ci(this.g,"a")},$c.prototype.Aa=function(n){Ci(this.g,new pd(n))},$c.prototype.za=function(n){Ci(this.g,new WS)},$c.prototype.ya=function(){Ci(this.g,"b")},Hr(Ks,function r1(){this.blockSize=-1}),Ks.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ks.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,o=this.h,l=0;l<e;){if(0==o)for(;l<=t;)Uy(this,n,l),l+=this.blockSize;if("string"==typeof n){for(;l<e;)if(r[o++]=n.charCodeAt(l++),o==this.blockSize){Uy(this,r),o=0;break}}else for(;l<e;)if(r[o++]=n[l++],o==this.blockSize){Uy(this,r),o=0;break}}this.h=o,this.i+=e},Ks.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var on={};function w0(n){return-128<=n&&128>n?function $h(n,e){var t=on;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new sr([0|e],0>e?-1:0)}):new sr([0|n],0>n?-1:0)}function hl(n){if(isNaN(n)||!isFinite(n))return nf;if(0>n)return Ui(hl(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Vc;return new sr(e,0)}var Vc=4294967296,nf=w0(0),rf=w0(1),lg=w0(16777216);function tr(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function xa(n){return-1==n.h}function Ui(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new sr(t,~n.h).add(rf)}function cg(n,e){return n.add(Ui(e))}function jy(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function sf(n,e){this.g=n,this.h=e}function ug(n,e){if(tr(e))throw Error("division by zero");if(tr(n))return new sf(nf,nf);if(xa(n))return e=ug(Ui(n),e),new sf(Ui(e.g),Ui(e.h));if(xa(e))return e=ug(n,Ui(e)),new sf(Ui(e.g),e.h);if(30<n.g.length){if(xa(n)||xa(e))throw Error("slowDivide_ only works with positive integers.");for(var t=rf,r=e;0>=r.X(n);)t=D0(t),r=D0(r);var o=gd(t,1),l=gd(r,1);for(r=gd(r,2),t=gd(t,2);!tr(r);){var d=l.add(r);0>=d.X(n)&&(o=o.add(t),l=d),r=gd(r,1),t=gd(t,1)}return e=cg(n,o.R(e)),new sf(o,e)}for(o=nf;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),d=(l=hl(t)).R(e);xa(d)||0<d.X(n);)d=(l=hl(t-=r)).R(e);tr(l)&&(l=rf),o=o.add(l),n=cg(n,d)}return new sf(o,n)}function D0(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new sr(t,n.h)}function gd(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,o=[],l=0;l<r;l++)o[l]=0<e?n.D(l+t)>>>e|n.D(l+t+1)<<32-e:n.D(l+t);return new sr(o,n.h)}(Mt=sr.prototype).ea=function(){if(xa(this))return-Ui(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Vc+r)*e,e*=Vc}return n},Mt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(tr(this))return"0";if(xa(this))return"-"+Ui(this).toString(n);for(var e=hl(Math.pow(n,6)),t=this,r="";;){var o=ug(t,e).g,l=((0<(t=cg(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(tr(t=o))return l+r;for(;6>l.length;)l="0"+l;r=l+r}},Mt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Mt.X=function(n){return xa(n=cg(this,n))?-1:tr(n)?0:1},Mt.abs=function(){return xa(this)?Ui(this):this},Mt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,o=0;o<=e;o++){var l=r+(65535&this.D(o))+(65535&n.D(o)),d=(l>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=d>>>16,t[o]=(d&=65535)<<16|(l&=65535)}return new sr(t,-2147483648&t[t.length-1]?-1:0)},Mt.R=function(n){if(tr(this)||tr(n))return nf;if(xa(this))return xa(n)?Ui(this).R(Ui(n)):Ui(Ui(this).R(n));if(xa(n))return Ui(this.R(Ui(n)));if(0>this.X(lg)&&0>n.X(lg))return hl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var l=this.D(r)>>>16,d=65535&this.D(r),m=n.D(o)>>>16,I=65535&n.D(o);t[2*r+2*o]+=d*I,jy(t,2*r+2*o),t[2*r+2*o+1]+=l*I,jy(t,2*r+2*o+1),t[2*r+2*o+1]+=d*m,jy(t,2*r+2*o+1),t[2*r+2*o+2]+=l*m,jy(t,2*r+2*o+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new sr(t,0)},Mt.gb=function(n){return ug(this,n).h},Mt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new sr(t,this.h&n.h)},Mt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new sr(t,this.h|n.h)},Mt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new sr(t,this.h^n.h)},Vy.prototype.createWebChannel=Vy.prototype.g,Cs.prototype.send=Cs.prototype.u,Cs.prototype.open=Cs.prototype.m,Cs.prototype.close=Cs.prototype.close,Zp.NO_ERROR=0,Zp.TIMEOUT=8,Zp.HTTP_ERROR=6,J_.COMPLETE="complete",e0.EventType=Zh,Zh.OPEN="a",Zh.CLOSE="b",Zh.ERROR="c",Zh.MESSAGE="d",Vi.prototype.listen=Vi.prototype.O,Br.prototype.listenOnce=Br.prototype.P,Br.prototype.getLastError=Br.prototype.Sa,Br.prototype.getLastErrorCode=Br.prototype.Ia,Br.prototype.getStatus=Br.prototype.da,Br.prototype.getResponseJson=Br.prototype.Wa,Br.prototype.getResponseText=Br.prototype.ja,Br.prototype.send=Br.prototype.ha,Br.prototype.setWithCredentials=Br.prototype.Oa,Ks.prototype.digest=Ks.prototype.l,Ks.prototype.reset=Ks.prototype.reset,Ks.prototype.update=Ks.prototype.j,sr.prototype.add=sr.prototype.add,sr.prototype.multiply=sr.prototype.R,sr.prototype.modulo=sr.prototype.gb,sr.prototype.compare=sr.prototype.X,sr.prototype.toNumber=sr.prototype.ea,sr.prototype.toString=sr.prototype.toString,sr.prototype.getBits=sr.prototype.D,sr.fromNumber=hl,sr.fromString=function Uw(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ui(Uw(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=hl(Math.pow(e,8)),r=nf,o=0;o<n.length;o+=8){var l=Math.min(8,n.length-o),d=parseInt(n.substring(o,o+l),e);8>l?(l=hl(Math.pow(e,l)),r=r.R(l).add(hl(d))):r=(r=r.R(t)).add(hl(d))}return r};var qS=Ws.createWebChannelTransport=function(){return new Vy},YS=Ws.getStatEventTarget=function(){return Yp()},b0=Ws.ErrorCode=Zp,dg=Ws.EventType=J_,KS=Ws.Event=Pc,jw=Ws.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ZS=Ws.FetchXmlHttpFactory=ef,md=Ws.WebChannel=e0,Hw=Ws.XhrIo=Br,zw=Ws.Md5=Ks,yd=Ws.Integer=sr;const Gw="@firebase/firestore";class zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");let fl="9.23.0";const Uc=new Oc.Yd("@firebase/firestore");function C0(){return Uc.logLevel}function lt(n,...e){if(Uc.logLevel<=Oc.in.DEBUG){const t=e.map(S0);Uc.debug(`Firestore (${fl}): ${n}`,...t)}}function Gr(n,...e){if(Uc.logLevel<=Oc.in.ERROR){const t=e.map(S0);Uc.error(`Firestore (${fl}): ${n}`,...t)}}function Ss(n,...e){if(Uc.logLevel<=Oc.in.WARN){const t=e.map(S0);Uc.warn(`Firestore (${fl}): ${n}`,...t)}}function S0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Pt(n="Unexpected state"){const e=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: `+n;throw Gr(e),new Error(e)}function Gt(n,e){n||Pt()}function xt(n,e){return n}const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Qn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class T0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hy{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zr.UNAUTHENTICATED))}shutdown(){}}class JS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class eT{constructor(e){this.t=e,this.currentUser=zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let d=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new ji,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const C=d;e.enqueueRetryable((0,Xe.Z)(function*(){yield C.promise,yield l(r.currentUser)}))},I=C=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>I(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?I(C):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new ji)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt("string"==typeof r.accessToken),new T0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Gt(null===e||"string"==typeof e),new zr(e)}}class Ww{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=zr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class hg{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Ww(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tT{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=l=>{null!=l.error&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.T;return this.T=l.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?o(l):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Gt("string"==typeof t.token),this.T=t.token,new qw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function nT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class rT{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=nT(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[l]%62))}return r}}function In(n,e){return n<e?-1:n>e?1:0}function vd(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Yw(n){return n+"\0"}class Nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new rt(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new rt(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new rt(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nr.fromMillis(Date.now())}static fromDate(e){return Nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Nr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?In(this.nanoseconds,e.nanoseconds):In(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ht(e)}static min(){return new Ht(new Nr(0,0))}static max(){return new Ht(new Nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fg{constructor(e,t,r){void 0===t?t=0:t>e.length&&Pt(),void 0===r?r=e.length-t:r>e.length-t&&Pt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===fg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),d=t.get(o);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Bn extends fg{construct(e,t,r){return new Bn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new rt(Ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Bn(t)}static emptyPath(){return new Bn([])}}const iT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $r extends fg{construct(e,t,r){return new $r(e,t,r)}static isValidIdentifier(e){return iT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $r(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new rt(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new rt(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const I=e[o+1];if("\\"!==I&&"."!==I&&"`"!==I)throw new rt(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=I,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(l(),o++)}if(l(),d)throw new rt(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $r(t)}static emptyPath(){return new $r([])}}class Ct{constructor(e){this.path=e}static fromPath(e){return new Ct(Bn.fromString(e))}static fromName(e){return new Ct(Bn.fromString(e).popFirst(5))}static empty(){return new Ct(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ct(new Bn(e.slice()))}}class pg{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function A0(n){return n.fields.find(e=>2===e.kind)}function ql(n){return n.fields.filter(e=>2!==e.kind)}pg.UNKNOWN_ID=-1;class gg{constructor(e,t){this.fieldPath=e,this.kind=t}}class mg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new mg(0,ko.min())}}function Zw(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ht.fromTimestamp(1e9===r?new Nr(t+1,0):new Nr(t,r));return new ko(o,Ct.empty(),e)}function Xw(n){return new ko(n.readTime,n.key,-1)}class ko{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ko(Ht.min(),Ct.empty(),-1)}static max(){return new ko(Ht.max(),Ct.empty(),-1)}}function M0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ct.comparator(n.documentKey,e.documentKey),0!==t?t:In(n.largestBatchId,e.largestBatchId))}const x0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function jc(n){return R0.apply(this,arguments)}function R0(){return R0=(0,Xe.Z)(function*(n){if(n.code!==Ue.FAILED_PRECONDITION||n.message!==x0)throw n;lt("LocalStore","Unexpectedly lost primary lease")}),R0.apply(this,arguments)}class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ne((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ne?t:Ne.resolve(t)}catch(t){return Ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ne.reject(t)}static resolve(e){return new Ne((t,r)=>{t(e)})}static reject(e){return new Ne((t,r)=>{r(e)})}static waitFor(e){return new Ne((t,r)=>{let o=0,l=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++l,d&&l===o&&t()},I=>r(I))}),d=!0,l===o&&t()})}static or(e){let t=Ne.resolve(!1);for(const r of e)t=t.next(o=>o?Ne.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}static mapArray(e,t){return new Ne((r,o)=>{const l=e.length,d=new Array(l);let m=0;for(let I=0;I<l;I++){const C=I;t(e[C]).next(A=>{d[C]=A,++m,m===l&&r(d)},A=>o(A))}})}static doWhile(e,t){return new Ne((r,o)=>{const l=()=>{!0===e()?t().next(()=>{l()},o):r()};l()})}}class zy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new ji,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new yg(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=Gy(r.target.error);this.v.reject(new yg(e,o))}}static open(e,t,r,o){try{return new zy(t,e.transaction(o,r))}catch(l){throw new yg(t,l)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(lt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Jw(t)}}class Ra{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Ra.S((0,Qn.z$)())&&Gr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return lt("SimpleDb","Removing database:",e),_d(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Qn.hl)())return!1;if(Ra.C())return!0;const e=(0,Qn.z$)(),t=Ra.S(e),r=0<t&&t<10,o=Ra.N(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Xe.Z)(function*(){return t.db||(lt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{o(new yg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new rt(Ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new rt(Ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new yg(e,m))},l.onupgradeneeded=d=>{lt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.V.O(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{lt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,Xe.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.$(e);const I=zy.open(l.db,e,d?"readonly":"readwrite",r),C=o(I).next(A=>(I.P(),A)).catch(A=>(I.abort(A),Ne.reject(A))).toPromise();return C.catch(()=>{}),yield I.R,C}catch(I){const C=I,A="FirebaseError"!==C.name&&m<3;if(lt("SimpleDb","Transaction failed with error:",C.message,"Retrying:",A),l.close(),!A)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sT{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return _d(this.L.delete())}}class yg extends rt{constructor(e,t){super(Ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Yl(n){return"IndexedDbTransactionError"===n.name}class Jw{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(lt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(lt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),_d(r)}add(e){return lt("SimpleDb","ADD",this.store.name,e,e),_d(this.store.add(e))}get(e){return _d(this.store.get(e)).next(t=>(void 0===t&&(t=null),lt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return lt("SimpleDb","DELETE",this.store.name,e),_d(this.store.delete(e))}count(){return lt("SimpleDb","COUNT",this.store.name),_d(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),l=[];return this.W(o,(d,m)=>{l.push(m)}).next(()=>l)}{const o=this.store.getAll(r.range);return new Ne((l,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{l(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Ne((o,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}J(e,t){lt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const o=this.cursor(r);return this.W(o,(l,d,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.W(o,t)}Z(e){const t=this.cursor({});return new Ne((r,o)=>{t.onerror=l=>{const d=Gy(l.target.error);o(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}W(e,t){const r=[];return new Ne((o,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const I=new sT(m),C=t(m.primaryKey,m.value,I);if(C instanceof Ne){const A=C.catch(k=>(I.done(),Ne.reject(k)));r.push(A)}I.isDone?o():null===I.K?m.continue():m.continue(I.K)}}).next(()=>Ne.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function _d(n){return new Ne((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Gy(r.target.error);t(o)}})}let eD=!1;function Gy(n){const e=Ra.S((0,Qn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return eD||(eD=!0,setTimeout(()=>{throw r},0)),r}}return n}class aT{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;lt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Xe.Z)(function*(){t.task=null;try{lt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Yl(r)?lt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield jc(r)}yield t.et(6e4)}))}}class lT{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Xe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let o=t,l=!0;return Ne.doWhile(()=>!0===l&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return lt("IndexBackiller",`Processing collection: ${d}`),this.it(e,d,o).next(m=>{o-=m,r.add(d)});l=!1})).next(()=>t-o)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.rt(o,l)).next(m=>(lt("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}rt(e,t){let r=e;return t.changes.forEach((o,l)=>{const d=Xw(l);M0(d,r)>0&&(r=d)}),new ko(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ts=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Id(n){return null==n}function Ed(n){return 0===n&&1/n==-1/0}function O0(n){return"number"==typeof n&&Number.isInteger(n)&&!Ed(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Hi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=tD(e)),e=cT(n.get(t),e);return tD(e)}function cT(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function tD(n){return n+"\x01\x01"}function Zs(n){const e=n.length;if(Gt(e>=2),2===e)return Gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Bn.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&Pt(),n.charAt(d+1)){case"\x01":const m=n.substring(l,d);let I;0===o.length?I=m:(o+=m,I=o,o=""),r.push(I);break;case"\x10":o+=n.substring(l,d),o+="\0";break;case"\x11":o+=n.substring(l,d+1);break;default:Pt()}l=d+2}return new Bn(r)}const nD=["userId","batchId"];function vg(n,e){return[n,Hi(e)]}function wd(n,e,t){return[n,Hi(e),t]}const rD={},uT=["prefixPath","collectionGroup","readTime","documentId"],o1=["prefixPath","collectionGroup","documentId"],N0=["collectionGroup","readTime","prefixPath","documentId"],P0=["canonicalId","targetId"],dT=["targetId","path"],iD=["path","targetId"],oD=["collectionId","parent"],hT=["indexId","uid"],sD=["uid","sequenceNumber"],k0=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],aD=["indexId","uid","orderedDocumentKey"],lD=["userId","collectionPath","documentId"],cD=["userId","collectionPath","largestBatchId"],uD=["userId","collectionGroup","largestBatchId"],dD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fT=[...dD,"documentOverlays"],hD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fD=hD,pD=[...fD,"indexConfiguration","indexState","indexEntries"];class gD extends Qw{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ti(n,e){const t=xt(n);return Ra.M(t.ht,e)}function mD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class yr{constructor(e,t){this.comparator=e,this.root=t||no.EMPTY}insert(e,t){return new yr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,no.BLACK,null,null))}remove(e){return new yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,no.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wy(this.root,e,this.comparator,!0)}}class Wy{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class no{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=r??no.RED,this.left=o??no.EMPTY,this.right=l??no.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new no(e??this.key,t??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return no.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return no.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,no.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,no.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const e=this.left.check();if(e!==this.right.check())throw Pt();return e+(this.isRed()?0:1)}}no.EMPTY=null,no.RED=!0,no.BLACK=!1,no.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new no(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mr{constructor(e){this.comparator=e,this.data=new yr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yD(this.data.getIterator())}getIteratorFrom(e){return new yD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mr(this.comparator);return t.data=e,t}}class yD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function af(n){return n.hasNext()?n.getNext():void 0}class is{constructor(e){this.fields=e,e.sort($r.comparator)}static empty(){return new is([])}unionWith(e){let t=new Mr($r.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new is(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class vD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vD("Invalid base64 string: "+o):o}}(e);return new Ai(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new Ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return In(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ai.EMPTY_BYTE_STRING=new Ai("");const mT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zc(n){if(Gt(!!n),"string"==typeof n){let e=0;const t=mT.exec(n);if(Gt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vr(n.seconds),nanos:vr(n.nanos)}}function vr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function pl(n){return"string"==typeof n?Ai.fromBase64String(n):Ai.fromUint8Array(n)}function _g(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ig(n){const e=n.mapValue.fields.__previous_value__;return _g(e)?Ig(e):e}function lf(n){const e=zc(n.mapValue.fields.__local_write_time__.timestampValue);return new Nr(e.seconds,e.nanos)}class _D{constructor(e,t,r,o,l,d,m,I,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=I,this.useFetchStreams=C}}class Gc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Gc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Gc&&e.projectId===this.projectId&&e.database===this.database}}const Wc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},F0={nullValue:"NULL_VALUE"};function qc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_g(n)?4:Dg(n)?9007199254740991:10:Pt()}function gl(n,e){if(n===e)return!0;const t=qc(n);if(t!==qc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return lf(n).isEqual(lf(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=zc(r.timestampValue),d=zc(o.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,pl(n.bytesValue).isEqual(pl(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return vr(r.geoPointValue.latitude)===vr(o.geoPointValue.latitude)&&vr(r.geoPointValue.longitude)===vr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return vr(r.integerValue)===vr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=vr(r.doubleValue),d=vr(o.doubleValue);return l===d?Ed(l)===Ed(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return vd(n.arrayValue.values||[],e.arrayValue.values||[],gl);case 10:return function(r,o){const l=r.mapValue.fields||{},d=o.mapValue.fields||{};if(mD(l)!==mD(d))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===d[m]||!gl(l[m],d[m])))return!1;return!0}(n,e);default:return Pt()}var o}function Eg(n,e){return void 0!==(n.values||[]).find(t=>gl(t,e))}function Yc(n,e){if(n===e)return 0;const t=qc(n),r=qc(e);if(t!==r)return In(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return In(n.booleanValue,e.booleanValue);case 2:return function(o,l){const d=vr(o.integerValue||o.doubleValue),m=vr(l.integerValue||l.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return ID(n.timestampValue,e.timestampValue);case 4:return ID(lf(n),lf(e));case 5:return In(n.stringValue,e.stringValue);case 6:return function(o,l){const d=pl(o),m=pl(l);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const d=o.split("/"),m=l.split("/");for(let I=0;I<d.length&&I<m.length;I++){const C=In(d[I],m[I]);if(0!==C)return C}return In(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const d=In(vr(o.latitude),vr(l.latitude));return 0!==d?d:In(vr(o.longitude),vr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const d=o.values||[],m=l.values||[];for(let I=0;I<d.length&&I<m.length;++I){const C=Yc(d[I],m[I]);if(C)return C}return In(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===Wc.mapValue&&l===Wc.mapValue)return 0;if(o===Wc.mapValue)return 1;if(l===Wc.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),I=l.fields||{},C=Object.keys(I);m.sort(),C.sort();for(let A=0;A<m.length&&A<C.length;++A){const k=In(m[A],C[A]);if(0!==k)return k;const ae=Yc(d[m[A]],I[C[A]]);if(0!==ae)return ae}return In(m.length,C.length)}(n.mapValue,e.mapValue);default:throw Pt()}}function ID(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return In(n,e);const t=zc(n),r=zc(e),o=In(t.seconds,r.seconds);return 0!==o?o:In(t.nanos,r.nanos)}function ml(n){return L0(n)}function L0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=zc(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?pl(n.bytesValue).toBase64():"referenceValue"in n?Ct.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const d of r.values||[])l?l=!1:o+=",",o+=L0(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const m of o)d?d=!1:l+=",",l+=`${m}:${L0(r.fields[m])}`;return l+"}"}(n.mapValue):Pt();var e}function vo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function B0(n){return!!n&&"integerValue"in n}function Dd(n){return!!n&&"arrayValue"in n}function uf(n){return!!n&&"nullValue"in n}function ED(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qy(n){return!!n&&"mapValue"in n}function wg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Hc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Dg(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function wD(n){return"nullValue"in n?F0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?vo(Gc.empty(),Ct.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Pt()}function yT(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?vo(Gc.empty(),Ct.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Wc:Pt()}function DD(n,e){const t=Yc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Yy(n,e){const t=Yc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ro{constructor(e){this.value=e}static empty(){return new ro({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wg(t)}setAll(e){let t=$r.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const I=this.getFieldsMap(t);this.applyChanges(I,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=wg(d):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());qy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];qy(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Hc(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new ro(wg(this.value))}}function bD(n){const e=[];return Hc(n.fields,(t,r)=>{const o=new $r([t]);if(qy(r)){const l=bD(r.mapValue).fields;if(0===l.length)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)}),new is(e)}class _r{constructor(e,t,r,o,l,d,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=l,this.data=d,this.documentState=m}static newInvalidDocument(e){return new _r(e,0,Ht.min(),Ht.min(),Ht.min(),ro.empty(),0)}static newFoundDocument(e,t,r,o){return new _r(e,1,t,Ht.min(),r,o,0)}static newNoDocument(e,t){return new _r(e,2,t,Ht.min(),Ht.min(),ro.empty(),0)}static newUnknownDocument(e,t){return new _r(e,3,t,Ht.min(),Ht.min(),ro.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ht.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ro.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ro.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kc{constructor(e,t){this.position=e,this.inclusive=t}}function CD(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],d=n.position[o];if(r=l.field.isKeyField()?Ct.comparator(Ct.fromName(d.referenceValue),t.key):Yc(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function $0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!gl(n.position[t],e.position[t]))return!1;return!0}class Kl{constructor(e,t="asc"){this.field=e,this.dir=t}}function vT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class SD{}class On extends SD{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new j0(e,t,r):"array-contains"===t?new _T(e,r):"in"===t?new xD(e,r):"not-in"===t?new IT(e,r):"array-contains-any"===t?new ET(e,r):new On(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new MD(e,r):new H0(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yc(t,this.value)):null!==t&&qc(this.value)===qc(t)&&this.matchesComparison(Yc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class nr extends SD{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new nr(e,t)}matches(e){return Zc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Zc(n){return"and"===n.op}function Ky(n){return"or"===n.op}function V0(n){return U0(n)&&Zc(n)}function U0(n){for(const e of n.filters)if(e instanceof nr)return!1;return!0}function Zy(n){if(n instanceof On)return n.field.canonicalString()+n.op.toString()+ml(n.value);if(V0(n))return n.filters.map(e=>Zy(e)).join(",");{const e=n.filters.map(t=>Zy(t)).join(",");return`${n.op}(${e})`}}function TD(n,e){return n instanceof On?(t=n,(r=e)instanceof On&&t.op===r.op&&t.field.isEqual(r.field)&&gl(t.value,r.value)):n instanceof nr?function(t,r){return r instanceof nr&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,l,d)=>o&&TD(l,r.filters[d]),!0)}(n,e):void Pt();var t,r}function AD(n,e){const t=n.filters.concat(e);return nr.create(t,n.op)}function Xy(n){return n instanceof On?`${(e=n).field.canonicalString()} ${e.op} ${ml(e.value)}`:n instanceof nr?function(e){return e.op.toString()+" {"+e.getFilters().map(Xy).join(" ,")+"}"}(n):"Filter";var e}class j0 extends On{constructor(e,t,r){super(e,t,r),this.key=Ct.fromName(r.referenceValue)}matches(e){const t=Ct.comparator(e.key,this.key);return this.matchesComparison(t)}}class MD extends On{constructor(e,t){super(e,"in",t),this.keys=Qy(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class H0 extends On{constructor(e,t){super(e,"not-in",t),this.keys=Qy(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Qy(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ct.fromName(r.referenceValue))}class _T extends On{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dd(t)&&Eg(t.arrayValue,this.value)}}class xD extends On{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eg(this.value.arrayValue,t)}}class IT extends On{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Eg(this.value.arrayValue,t)}}class ET extends On{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Eg(this.value.arrayValue,r))}}class RD{constructor(e,t=null,r=[],o=[],l=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=d,this.endAt=m,this.dt=null}}function bg(n,e=null,t=[],r=[],o=null,l=null,d=null){return new RD(n,e,t,r,o,l,d)}function Xc(n){const e=xt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Zy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Id(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ml(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ml(r)).join(",")),e.dt=t}return e.dt}function df(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!vT(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!TD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$0(n.startAt,e.startAt)&&$0(n.endAt,e.endAt)}function Cg(n){return Ct.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Sg(n,e){return n.filters.filter(t=>t instanceof On&&t.field.isEqual(e))}function OD(n,e,t){let r=F0,o=!0;for(const l of Sg(n,e)){let d=F0,m=!0;switch(l.op){case"<":case"<=":d=wD(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,m=!1;break;case"!=":case"not-in":d=F0}DD({value:r,inclusive:o},{value:d,inclusive:m})<0&&(r=d,o=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];DD({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function z0(n,e,t){let r=Wc,o=!0;for(const l of Sg(n,e)){let d=Wc,m=!0;switch(l.op){case">=":case">":d=yT(l.value),m=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,m=!1;break;case"!=":case"not-in":d=Wc}Yy({value:r,inclusive:o},{value:d,inclusive:m})>0&&(r=d,o=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];Yy({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class yl{constructor(e,t=null,r=[],o=[],l=null,d="F",m=null,I=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=d,this.startAt=m,this.endAt=I,this.wt=null,this._t=null}}function ND(n,e,t,r,o,l,d,m){return new yl(n,e,t,r,o,l,d,m)}function bd(n){return new yl(n)}function PD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function io(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Zl(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function G0(n){return null!==n.collectionGroup}function Cd(n){const e=xt(n);if(null===e.wt){e.wt=[];const t=Zl(e),r=io(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Kl(t)),e.wt.push(new Kl($r.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Kl($r.keyField(),l))}}}return e.wt}function os(n){const e=xt(n);if(!e._t)if("F"===e.limitType)e._t=bg(e.path,e.collectionGroup,Cd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Cd(e))t.push(new Kl(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Kc(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Kc(e.startAt.position,e.startAt.inclusive):null;e._t=bg(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e._t}function kD(n,e){e.getFirstInequalityField(),Zl(n);const t=n.filters.concat([e]);return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Tg(n,e,t){return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sd(n,e){return df(os(n),os(e))&&n.limitType===e.limitType}function hf(n){return`${Xc(os(n))}|lt:${n.limitType}`}function W0(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Xy(r)).join(", ")}]`),Id(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ml(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ml(r)).join(",")),`Target(${t})`}(os(n))}; limitType=${n.limitType})`}function Td(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ct.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of Cd(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,l,d){const m=CD(o,l,d);return o.inclusive?m<=0:m<0}(t.startAt,Cd(t),r)||t.endAt&&!function(o,l,d){const m=CD(o,l,d);return o.inclusive?m>=0:m>0}(t.endAt,Cd(t),r)));var t,r}function FD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function q0(n){return(e,t)=>{let r=!1;for(const o of Cd(n)){const l=wT(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function wT(n,e,t){const r=n.field.isKeyField()?Ct.comparator(e.key,t.key):function(o,l,d){const m=l.data.field(o),I=d.data.field(o);return null!==m&&null!==I?Yc(m,I):Pt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Pt()}}class Xl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Hc(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return pT(this.inner)}size(){return this.innerSize}}const DT=new yr(Ct.comparator);function _o(){return DT}const Y0=new yr(Ct.comparator);function Ag(...n){let e=Y0;for(const t of n)e=e.insert(t.key,t);return e}function Mg(n){let e=Y0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xs(){return ff()}function bT(){return ff()}function ff(){return new Xl(n=>n.toString(),(n,e)=>n.isEqual(e))}const CT=new yr(Ct.comparator),LD=new Mr(Ct.comparator);function _n(...n){let e=LD;for(const t of n)e=e.add(t);return e}const ST=new Mr(In);function Jy(){return ST}function ev(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ed(e)?"-0":e}}function TT(n){return{integerValue:""+n}}function BD(n,e){return O0(e)?TT(e):ev(n,e)}class K0{constructor(){this._=void 0}}function AT(n,e,t){return n instanceof Ad?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&_g(o)&&(o=Ig(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Qc?VD(n,e):n instanceof Jc?Z0(n,e):function(r,o){const l=$D(r,o),d=UD(l)+UD(r.gt);return B0(l)&&B0(r.gt)?TT(d):ev(r.serializer,d)}(n,e)}function MT(n,e,t){return n instanceof Qc?VD(n,e):n instanceof Jc?Z0(n,e):t}function $D(n,e){return n instanceof pf?B0(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ad extends K0{}class Qc extends K0{constructor(e){super(),this.elements=e}}function VD(n,e){const t=X0(e);for(const r of n.elements)t.some(o=>gl(o,r))||t.push(r);return{arrayValue:{values:t}}}class Jc extends K0{constructor(e){super(),this.elements=e}}function Z0(n,e){let t=X0(e);for(const r of n.elements)t=t.filter(o=>!gl(o,r));return{arrayValue:{values:t}}}class pf extends K0{constructor(e,t){super(),this.serializer=e,this.gt=t}}function UD(n){return vr(n.integerValue||n.doubleValue)}function X0(n){return Dd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class xg{constructor(e,t){this.field=e,this.transform=t}}class HD{constructor(e,t){this.version=e,this.transformResults=t}}class xr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class tv{}function zD(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ng(n.key,xr.none()):new Og(n.key,n.data,xr.none());{const t=n.data,r=ro.empty();let o=new Mr($r.comparator);for(let l of e.fields)if(!o.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?r.delete(l):r.set(l,d),o=o.add(l)}return new eu(n.key,r,new is(o.toArray()),xr.none())}}function s1(n,e,t){n instanceof Og?function(r,o,l){const d=r.value.clone(),m=OT(r.fieldTransforms,o,l.transformResults);d.setAll(m),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof eu?function(r,o,l){if(!Rg(r.precondition,o))return void o.convertToUnknownDocument(l.version);const d=OT(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(RT(r)),m.setAll(d),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gf(n,e,t,r){return n instanceof Og?function(o,l,d,m){if(!Rg(o.precondition,l))return d;const I=o.value.clone(),C=NT(o.fieldTransforms,m,l);return I.setAll(C),l.convertToFoundDocument(l.version,I).setHasLocalMutations(),null}(n,e,t,r):n instanceof eu?function(o,l,d,m){if(!Rg(o.precondition,l))return d;const I=NT(o.fieldTransforms,m,l),C=l.data;return C.setAll(RT(o)),C.setAll(I),l.convertToFoundDocument(l.version,C).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(A=>A.field))}(n,e,t,r):(d=t,Rg(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function a1(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=$D(r.transform,o||null);null!=l&&(null===t&&(t=ro.empty()),t.set(r.field,l))}return t||null}function xT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&vd(t,r,(o,l)=>function jD(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Qc&&r instanceof Qc||t instanceof Jc&&r instanceof Jc?vd(t.elements,r.elements,gl):t instanceof pf&&r instanceof pf?gl(t.gt,r.gt):t instanceof Ad&&r instanceof Ad);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Og extends tv{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class eu extends tv{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function RT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function OT(n,e,t){const r=new Map;Gt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],d=l.transform,m=e.data.field(l.field);r.set(l.field,MT(d,m,t[o]))}return r}function NT(n,e,t){const r=new Map;for(const o of n){const l=o.transform,d=t.data.field(o.field);r.set(o.field,AT(l,d,e))}return r}class Ng extends tv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GD extends tv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nv{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&s1(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=bT();return this.mutations.forEach(o=>{const l=e.get(o.key),d=l.overlayedDocument;let m=this.applyToLocalView(d,l.mutatedFields);m=t.has(o.key)?null:m;const I=zD(d,m);null!==I&&r.set(o.key,I),d.isValidDocument()||d.convertToNoDocument(Ht.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_n())}isEqual(e){return this.batchId===e.batchId&&vd(this.mutations,e.mutations,(t,r)=>xT(t,r))&&vd(this.baseMutations,e.baseMutations,(t,r)=>xT(t,r))}}class Pg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Gt(e.mutations.length===r.length);let o=CT;const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,r[d].version);return new Pg(e,t,r,o)}}class rv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class iv{constructor(e,t){this.count=e,this.unchangedNames=t}}var pi,qn;function kT(n){switch(n){default:return Pt();case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0}}function FT(n){if(void 0===n)return Gr("GRPC error has no .code"),Ue.UNKNOWN;switch(n){case pi.OK:return Ue.OK;case pi.CANCELLED:return Ue.CANCELLED;case pi.UNKNOWN:return Ue.UNKNOWN;case pi.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case pi.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case pi.INTERNAL:return Ue.INTERNAL;case pi.UNAVAILABLE:return Ue.UNAVAILABLE;case pi.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case pi.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case pi.NOT_FOUND:return Ue.NOT_FOUND;case pi.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case pi.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case pi.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case pi.ABORTED:return Ue.ABORTED;case pi.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case pi.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case pi.DATA_LOSS:return Ue.DATA_LOSS;default:return Pt()}}(qn=pi||(pi={}))[qn.OK=0]="OK",qn[qn.CANCELLED=1]="CANCELLED",qn[qn.UNKNOWN=2]="UNKNOWN",qn[qn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qn[qn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qn[qn.NOT_FOUND=5]="NOT_FOUND",qn[qn.ALREADY_EXISTS=6]="ALREADY_EXISTS",qn[qn.PERMISSION_DENIED=7]="PERMISSION_DENIED",qn[qn.UNAUTHENTICATED=16]="UNAUTHENTICATED",qn[qn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qn[qn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qn[qn.ABORTED=10]="ABORTED",qn[qn.OUT_OF_RANGE=11]="OUT_OF_RANGE",qn[qn.UNIMPLEMENTED=12]="UNIMPLEMENTED",qn[qn.INTERNAL=13]="INTERNAL",qn[qn.UNAVAILABLE=14]="UNAVAILABLE",qn[qn.DATA_LOSS=15]="DATA_LOSS";class ov{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sv}static getOrCreateInstance(){return null===sv&&(sv=new ov),sv}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let sv=null;function WD(){return new TextEncoder}const LT=new yd([4294967295,4294967295],0);function BT(n){const e=WD().encode(n),t=new zw;return t.update(e),new Uint8Array(t.digest())}function qD(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new yd([t,r],0),new yd([o,l],0)]}class av{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new mf(`Invalid padding: ${t}`);if(r<0)throw new mf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new mf(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new mf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=yd.fromNumber(this.It)}Et(e,t,r){let o=e.add(t.multiply(yd.fromNumber(r)));return 1===o.compare(LT)&&(o=new yd([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=BT(e),[r,o]=qD(t);for(let l=0;l<this.hashCount;l++){const d=this.Et(r,o,l);if(!this.At(d))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new av(l,o,t);return r.forEach(m=>d.insert(m)),d}insert(e){if(0===this.It)return;const t=BT(e),[r,o]=qD(t);for(let l=0;l<this.hashCount;l++){const d=this.Et(r,o,l);this.Rt(d)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class mf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lv{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Fo.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new lv(Ht.min(),o,new yr(In),_o(),_n())}}class Fo{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Fo(r,t,_n(),_n(),_n())}}class kg{constructor(e,t,r,o){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=o}}class YD{constructor(e,t){this.targetId=e,this.Vt=t}}class $T{constructor(e,t,r=Ai.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Io{constructor(){this.St=0,this.Dt=KD(),this.Ct=Ai.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=_n(),t=_n(),r=_n();return this.Dt.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Pt()}}),new Fo(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=KD()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class VT{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=_o(),this.zt=cv(),this.Wt=new yr(In)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,o)=>{this.te(o)&&t(o)})}ne(e){var t;const r=e.targetId,o=e.Vt.count,l=this.se(r);if(l){const d=l.target;if(Cg(d))if(0===o){const m=new Ct(d.path);this.Yt(r,m,_r.newNoDocument(m,Ht.min()))}else Gt(1===o);else{const m=this.ie(r);if(m!==o){const I=this.re(e,m);0!==I&&(this.ee(r),this.Wt=this.Wt.insert(r,2===I?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=ov.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(C,A,k){var ae,Te,Ze,ut,dt,Yt;const hn={localCacheCount:A,existenceFilterCount:k.count},Jt=k.unchangedNames;return Jt&&(hn.bloomFilter={applied:0===C,hashCount:null!==(ae=Jt?.hashCount)&&void 0!==ae?ae:0,bitmapLength:null!==(ut=null===(Ze=null===(Te=Jt?.bits)||void 0===Te?void 0:Te.bitmap)||void 0===Ze?void 0:Ze.length)&&void 0!==ut?ut:0,padding:null!==(Yt=null===(dt=Jt?.bits)||void 0===dt?void 0:dt.padding)&&void 0!==Yt?Yt:0}),hn}(I,m,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:l="",padding:d=0},hashCount:m=0}=r;let I,C;try{I=pl(l).toUint8Array()}catch(A){if(A instanceof vD)return Ss("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw A}try{C=new av(I,d,m)}catch(A){return Ss(A instanceof mf?"BloomFilter error: ":"Applying bloom filter failed: ",A),1}return 0===C.It?1:o!==t-this.oe(e.targetId,C)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(l=>{const d=this.Gt.ue(),m=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;t.vt(m)||(this.Yt(e,l,null),o++)}),o}ce(e){const t=new Map;this.Qt.forEach((l,d)=>{const m=this.se(d);if(m){if(l.current&&Cg(m.target)){const I=new Ct(m.target.path);null!==this.jt.get(I)||this.ae(d,I)||this.Yt(d,I,_r.newNoDocument(I,e))}l.Mt&&(t.set(d,l.Ot()),l.Ft())}});let r=_n();this.zt.forEach((l,d)=>{let m=!0;d.forEachWhile(I=>{const C=this.se(I);return!C||"TargetPurposeLimboResolution"===C.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.jt.forEach((l,d)=>d.setReadTime(e));const o=new lv(e,t,this.Wt,this.jt,r);return this.jt=_o(),this.zt=cv(),this.Wt=new yr(In),o}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,t)?o.Bt(t,1):o.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Io,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Mr(In),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||lt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Io),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function cv(){return new yr(Ct.comparator)}function KD(){return new yr(Ct.comparator)}const UT={asc:"ASCENDING",desc:"DESCENDING"},Q0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZD={and:"AND",or:"OR"};class XD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function J0(n,e){return n.useProto3Json||Id(e)?e:{value:e}}function Md(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function QD(n,e){return Md(n,e.toTimestamp())}function Wr(n){return Gt(!!n),Ht.fromTimestamp(function(e){const t=zc(e);return new Nr(t.seconds,t.nanos)}(n))}function tI(n,e){return(t=n,new Bn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function nI(n){const e=Bn.fromString(n);return Gt(Rd(e)),e}function Fg(n,e){return tI(n.databaseId,e.path)}function Qs(n,e){const t=nI(e);if(t.get(1)!==n.databaseId.projectId)throw new rt(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new rt(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ct(uv(t))}function vl(n,e){return tI(n.databaseId,e)}function rI(n){const e=nI(n);return 4===e.length?Bn.emptyPath():uv(e)}function xd(n){return new Bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uv(n){return Gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function JD(n,e,t){return{name:Fg(n,e),fields:t.value.mapValue.fields}}function jT(n,e,t){const r=Qs(n,e.name),o=Wr(e.updateTime),l=e.createTime?Wr(e.createTime):Ht.min(),d=new ro({mapValue:{fields:e.fields}}),m=_r.newFoundDocument(r,o,l,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function Lg(n,e){let t;if(e instanceof Og)t={update:JD(n,e.key,e.value)};else if(e instanceof Ng)t={delete:Fg(n,e.key)};else if(e instanceof eu)t={update:JD(n,e.key,e.data),updateMask:rb(e.fieldMask)};else{if(!(e instanceof GD))return Pt();t={verify:Fg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const d=l.transform;if(d instanceof Ad)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Qc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Jc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof pf)return{fieldPath:l.field.canonicalString(),increment:d.gt};throw Pt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:QD(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Pt()),t;var o}function iI(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?xr.updateTime(Wr(o.updateTime)):void 0!==o.exists?xr.exists(o.exists):xr.none():xr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,d){let m=null;"setToServerValue"in d?(Gt("REQUEST_TIME"===d.setToServerValue),m=new Ad):"appendMissingElements"in d?m=new Qc(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new Jc(d.removeAllFromArray.values||[]):"increment"in d?m=new pf(l,d.increment):Pt();const I=$r.fromServerFormat(d.fieldPath);return new xg(I,m)}(n,o)):[];var o;if(e.update){const o=Qs(n,e.update.name),l=new ro({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new is((e.updateMask.fieldPaths||[]).map(C=>$r.fromServerFormat(C)));return new eu(o,l,d,t,r)}return new Og(o,l,t,r)}if(e.delete){const o=Qs(n,e.delete);return new Ng(o,t)}if(e.verify){const o=Qs(n,e.verify);return new GD(o,t)}return Pt()}function oI(n,e){return{documents:[vl(n,e.path)]}}function tb(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=vl(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vl(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(I){if(0!==I.length)return cI(nr.create(I,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(I){if(0!==I.length)return I.map(C=>{return{field:Ql((A=C).field),direction:l1(A.dir)};var A})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=J0(n,e.limit);var m,I;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(I=e.endAt).inclusive,values:I.position}),t}function sI(n){let e=rI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Gt(1===r);const A=t.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let l=[];t.where&&(l=function(A){const k=aI(A);return k instanceof nr&&V0(k)?k.getFilters():[k]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(A=>{return new Kl(yf((k=A).field),function(ae){switch(ae){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let m=null;t.limit&&(m=function(A){let k;return k="object"==typeof A?A.value:A,Id(k)?null:k}(t.limit));let I=null;var A;t.startAt&&(I=new Kc((A=t.startAt).values||[],!!A.before));let C=null;return t.endAt&&(C=function(A){return new Kc(A.values||[],!A.before)}(t.endAt)),ND(e,o,d,l,m,"F",I,C)}function aI(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=yf(e.unaryFilter.field);return On.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=yf(e.unaryFilter.field);return On.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=yf(e.unaryFilter.field);return On.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=yf(e.unaryFilter.field);return On.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(n):void 0!==n.fieldFilter?On.create(yf((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return nr.create(e.compositeFilter.filters.map(t=>aI(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Pt()}}(e.compositeFilter.op))}(n):Pt();var e}function l1(n){return UT[n]}function lI(n){return Q0[n]}function nb(n){return ZD[n]}function Ql(n){return{fieldPath:n.canonicalString()}}function yf(n){return $r.fromServerFormat(n.fieldPath)}function cI(n){return n instanceof On?function(e){if("=="===e.op){if(ED(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NAN"}};if(uf(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ED(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NOT_NAN"}};if(uf(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ql(e.field),op:lI(e.op),value:e.value}}}(n):n instanceof nr?function(e){const t=e.getFilters().map(r=>cI(r));return 1===t.length?t[0]:{compositeFilter:{op:nb(e.op),filters:t}}}(n):Pt()}function rb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Rd(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Js{constructor(e,t,r,o,l=Ht.min(),d=Ht.min(),m=Ai.EMPTY_BYTE_STRING,I=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=I}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uI{constructor(e){this.fe=e}}function ob(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:dv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Fg(o=n.fe,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Md(o,l.version.toTimestamp()),createTime:Md(o,l.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:vf(e.version)};else{if(!e.isUnknownDocument())return Pt();r.unknownDocument={path:t.path.toArray(),version:vf(e.version)}}var o,l;return r}function dv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function vf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function tu(n){const e=new Nr(n.seconds,n.nanoseconds);return Ht.fromTimestamp(e)}function Od(n,e){const t=(e.baseMutations||[]).map(l=>iI(n.fe,l));for(let l=0;l<e.mutations.length-1;++l)l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(e.mutations[l].updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l);const r=e.mutations.map(l=>iI(n.fe,l)),o=Nr.fromMillis(e.localWriteTimeMs);return new nv(e.batchId,o,t,r)}function Bg(n){const e=tu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?tu(n.lastLimboFreeSnapshotVersion):Ht.min();let r;var o;return void 0!==n.query.documents?(Gt(1===(o=n.query).documents.length),r=os(bd(rI(o.documents[0])))):r=os(sI(n.query)),new Js(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ai.fromBase64String(n.resumeToken))}function WT(n,e){const t=vf(e.snapshotVersion),r=vf(e.lastLimboFreeSnapshotVersion);let o;o=Cg(e.target)?oI(n.fe,e.target):tb(n.fe,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Xc(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function sb(n){const e=sI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Tg(e,e.limit,"L"):e}function ab(n,e){return new rv(e.largestBatchId,iI(n.fe,e.overlayMutation))}function dI(n,e){const t=e.path.lastSegment();return[n,Hi(e.path.popLast()),t]}function lb(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:vf(r.readTime),documentKey:Hi(r.documentKey.path),largestBatchId:r.largestBatchId}}class qT{getBundleMetadata(e,t){return cb(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:tu(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return cb(e).put({bundleId:(r=t).id,createTime:vf(Wr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return YT(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:sb(o.bundledQuery),readTime:tu(o.readTime)};var o})}saveNamedQuery(e,t){return YT(e).put({name:(r=t).name,readTime:vf(Wr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function cb(n){return Ti(n,"bundles")}function YT(n){return Ti(n,"namedQueries")}class hI{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new hI(e,t.uid||"")}getOverlay(e,t){return hv(e).get(dI(this.userId,t)).next(r=>r?ab(this.serializer,r):null)}getOverlays(e,t){const r=Xs();return Ne.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((l,d)=>{const m=new rv(t,d);o.push(this.we(e,m))}),Ne.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(Hi(d.getCollectionPath())));const l=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(hv(e).J("collectionPathOverlayIndex",m))}),Ne.waitFor(l)}getOverlaysForCollection(e,t,r){const o=Xs(),l=Hi(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return hv(e).j("collectionPathOverlayIndex",d).next(m=>{for(const I of m){const C=ab(this.serializer,I);o.set(C.getKey(),C)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const l=Xs();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return hv(e).X({index:"collectionGroupOverlayIndex",range:m},(I,C,A)=>{const k=ab(this.serializer,C);l.size()<o||k.largestBatchId===d?(l.set(k.getKey(),k),d=k.largestBatchId):A.done()}).next(()=>l)}we(e,t){return hv(e).put(function(r,o,l){const[d,m,I]=dI(o,l.mutation.key);return{userId:o,collectionPath:m,documentId:I,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Lg(r.fe,l.mutation)}}(this.serializer,this.userId,t))}}function hv(n){return Ti(n,"documentOverlays")}class _f{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(vr(e.integerValue));else if("doubleValue"in e){const r=vr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Ed(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(pl(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?Dg(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Pt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const o of Object.keys(r))this.Te(o,t),this.me(r[o],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const o of r)this.me(o,t)}ve(e,t){this.ye(t,37),Ct.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function c1(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function ub(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const l=c1(255&t[o]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}_f.Ve=new _f;class fv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=t.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=t.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(e){const t=this.Fe(e),r=ub(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Le(e){const t=this.Fe(e),r=ub(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class KT{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class ZT{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class If{constructor(){this.je=new fv,this.ze=new KT(this.je),this.We=new ZT(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class As{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new As(this.indexId,this.documentKey,this.arrayValue,r)}}function Jl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=pv(n.arrayValue,e.arrayValue),0!==t?t:(t=pv(n.directionalValue,e.directionalValue),0!==t?t:Ct.comparator(n.documentKey,e.documentKey)))}function pv(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class fI{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Gt(e.collectionGroup===this.collectionId);const t=A0(e);if(void 0!==t&&!this.en(t))return!1;const r=ql(e);let o=new Set,l=0,d=0;for(;l<r.length&&this.en(r[l]);++l)o=o.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const m=r[l];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[d++],m))return!1}++l}for(;l<r.length;++l)if(d>=this.Ye.length||!this.sn(this.Ye[d++],r[l]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function db(n){var e,t;if(Gt(n instanceof On||n instanceof nr),n instanceof On){if(n instanceof xD){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(l=>On.create(n.field,"==",l)))||[];return nr.create(o,"or")}return n}const r=n.filters.map(o=>db(o));return nr.create(r,n.op)}function pI(n){if(0===n.getFilters().length)return[];const e=hb(db(n));return Gt(XT(e)),$g(e)||Ef(e)?[e]:e.getFilters()}function $g(n){return n instanceof On}function Ef(n){return n instanceof nr&&V0(n)}function XT(n){return $g(n)||Ef(n)||function(e){if(e instanceof nr&&Ky(e)){for(const t of e.getFilters())if(!$g(t)&&!Ef(t))return!1;return!0}return!1}(n)}function hb(n){if(Gt(n instanceof On||n instanceof nr),n instanceof On)return n;if(1===n.filters.length)return hb(n.filters[0]);const e=n.filters.map(r=>hb(r));let t=nr.create(e,n.op);return t=gv(t),XT(t)?t:(Gt(t instanceof nr),Gt(Zc(t)),Gt(t.filters.length>1),t.filters.reduce((r,o)=>fb(r,o)))}function fb(n,e){let t;return Gt(n instanceof On||n instanceof nr),Gt(e instanceof On||e instanceof nr),t=n instanceof On?e instanceof On?nr.create([n,e],"and"):gI(n,e):e instanceof On?gI(e,n):function(r,o){if(Gt(r.filters.length>0&&o.filters.length>0),Zc(r)&&Zc(o))return AD(r,o.getFilters());const l=Ky(r)?r:o,d=Ky(r)?o:r,m=l.filters.map(I=>fb(I,d));return nr.create(m,"or")}(n,e),gv(t)}function gI(n,e){if(Zc(e))return AD(e,n.getFilters());{const t=e.filters.map(r=>fb(n,r));return nr.create(t,"or")}}function gv(n){if(Gt(n instanceof On||n instanceof nr),n instanceof On)return n;const e=n.getFilters();if(1===e.length)return gv(e[0]);if(U0(n))return n;const t=e.map(o=>gv(o)),r=[];return t.forEach(o=>{o instanceof On?r.push(o):o instanceof nr&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:nr.create(r,n.op)}class QT{constructor(){this.rn=new mI}addToCollectionParentIndex(e,t){return this.rn.add(t),Ne.resolve()}getCollectionParents(e,t){return Ne.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ne.resolve()}deleteFieldIndex(e,t){return Ne.resolve()}getDocumentsMatchingTarget(e,t){return Ne.resolve(null)}getIndexType(e,t){return Ne.resolve(0)}getFieldIndexes(e,t){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,t){return Ne.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,t){return Ne.resolve(ko.min())}updateCollectionGroup(e,t,r){return Ne.resolve()}updateIndexEntries(e,t){return Ne.resolve()}}class mI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Mr(Bn.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Mr(Bn.comparator)).toArray()}}const mv=new Uint8Array(0);class pb{constructor(e,t){this.user=e,this.databaseId=t,this.on=new mI,this.un=new Xl(r=>Xc(r),(r,o)=>df(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const l={collectionId:r,parent:Hi(o)};return yI(e).put(l)}return Ne.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Yw(t),""],!1,!0);return yI(e).j(o).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(Zs(d.parent))}return r})}addFieldIndex(e,t){const r=yv(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete o.indexId;const l=r.add(o);if(t.indexState){const d=Vg(e);return l.next(m=>{d.put(lb(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=yv(e),o=Vg(e),l=wf(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=wf(e);let o=!0;const l=new Map;return Ne.forEach(this.cn(t),d=>this.an(e,d).next(m=>{o&&(o=!!m),l.set(d,m)})).next(()=>{if(o){let d=_n();const m=[];return Ne.forEach(l,(I,C)=>{var A;lt("IndexedDbIndexManager",`Using index ${A=I,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(Jt=>`${Jt.fieldPath}:${Jt.kind}`).join(",")}`} to execute ${Xc(t)}`);const k=function(Jt,mn){const An=A0(mn);if(void 0===An)return null;for(const Kn of Sg(Jt,An.fieldPath))switch(Kn.op){case"array-contains-any":return Kn.value.arrayValue.values||[];case"array-contains":return[Kn.value]}return null}(C,I),ae=function(Jt,mn){const An=new Map;for(const Kn of ql(mn))for(const as of Sg(Jt,Kn.fieldPath))switch(as.op){case"==":case"in":An.set(Kn.fieldPath.canonicalString(),as.value);break;case"not-in":case"!=":return An.set(Kn.fieldPath.canonicalString(),as.value),Array.from(An.values())}return null}(C,I),Te=function(Jt,mn){const An=[];let Kn=!0;for(const as of ql(mn)){const Kg=0===as.kind?OD(Jt,as.fieldPath,Jt.startAt):z0(Jt,as.fieldPath,Jt.startAt);An.push(Kg.value),Kn&&(Kn=Kg.inclusive)}return new Kc(An,Kn)}(C,I),Ze=function(Jt,mn){const An=[];let Kn=!0;for(const as of ql(mn)){const Kg=0===as.kind?z0(Jt,as.fieldPath,Jt.endAt):OD(Jt,as.fieldPath,Jt.endAt);An.push(Kg.value),Kn&&(Kn=Kg.inclusive)}return new Kc(An,Kn)}(C,I),ut=this.hn(I,C,Te),dt=this.hn(I,C,Ze),Yt=this.ln(I,C,ae),hn=this.fn(I.indexId,k,ut,Te.inclusive,dt,Ze.inclusive,Yt);return Ne.forEach(hn,Jt=>r.H(Jt,t.limit).next(mn=>{mn.forEach(An=>{const Kn=Ct.fromSegments(An.documentKey);d.has(Kn)||(d=d.add(Kn),m.push(Kn))})}))}).next(()=>m)}return Ne.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:pI(nr.create(e.filters,"and")).map(r=>bg(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,o,l,d,m){const I=(null!=t?t.length:1)*Math.max(r.length,l.length),C=I/(null!=t?t.length:1),A=[];for(let k=0;k<I;++k){const ae=t?this.dn(t[k/C]):mv,Te=this.wn(e,ae,r[k%C],o),Ze=this._n(e,ae,l[k%C],d),ut=m.map(dt=>this.wn(e,ae,dt,!0));A.push(...this.createRange(Te,Ze,ut))}return A}wn(e,t,r,o){const l=new As(e,Ct.empty(),t,r);return o?l:l.Je()}_n(e,t,r,o){const l=new As(e,Ct.empty(),t,r);return o?l.Je():l}an(e,t){const r=new fI(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(l=>{let d=null;for(const m of l)r.tn(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;const o=this.cn(t);return Ne.forEach(o,l=>this.an(e,l).next(d=>{d?0!==r&&d.fields.length<function(m){let I=new Mr($r.comparator),C=!1;for(const A of m.filters)for(const k of A.getFlattenedFilters())k.field.isKeyField()||("array-contains"===k.op||"array-contains-any"===k.op?C=!0:I=I.add(k.field));for(const A of m.orderBy)A.field.isKeyField()||(I=I.add(A.field));return I.size+(C?1:0)}(l)&&(r=1):r=0})).next(()=>null!==t.limit&&o.length>1&&2===r?1:r)}mn(e,t){const r=new If;for(const o of ql(e)){const l=t.data.field(o.fieldPath);if(null==l)return null;const d=r.He(o.kind);_f.Ve._e(l,d)}return r.Qe()}dn(e){const t=new If;return _f.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new If;return _f.Ve._e(vo(this.databaseId,t),r.He(function(o){const l=ql(o);return 0===l.length?0:l[l.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let o=[];o.push(new If);let l=0;for(const d of ql(e)){const m=r[l++];for(const I of o)if(this.yn(t,d.fieldPath)&&Dd(m))o=this.pn(o,d,m);else{const C=I.He(d.kind);_f.Ve._e(m,C)}}return this.In(o)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const o=[...e],l=[];for(const d of r.arrayValue.values||[])for(const m of o){const I=new If;I.seed(m.Qe()),_f.Ve._e(d,I.He(t.kind)),l.push(I)}return l}yn(e,t){return!!e.filters.find(r=>r instanceof On&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=yv(e),o=Vg(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(l=>{const d=[];return Ne.forEach(l,m=>o.get([m.indexId,this.uid]).next(I=>{d.push(function(C,A){const k=A?new mg(A.sequenceNumber,new ko(tu(A.readTime),new Ct(Zs(A.documentKey)),A.largestBatchId)):mg.empty(),ae=C.fields.map(([Te,Ze])=>new gg($r.fromServerFormat(Te),Ze));return new pg(C.indexId,C.collectionGroup,ae,k)}(m,I))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const l=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:In(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=yv(e),l=Vg(e);return this.Tn(e).next(d=>o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Ne.forEach(m,I=>l.put(lb(I.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return Ne.forEach(t,(o,l)=>{const d=r.get(o.collectionGroup);return(d?Ne.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),Ne.forEach(m,I=>this.En(e,o,I).next(C=>{const A=this.An(l,I);return C.isEqual(A)?Ne.resolve():this.vn(e,l,I,C,A)}))))})}Rn(e,t,r,o){return wf(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,o){return wf(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const o=wf(e);let l=new Mr(Jl);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(d,m)=>{l=l.add(new As(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}An(e,t){let r=new Mr(Jl);const o=this.mn(t,e);if(null==o)return r;const l=A0(t);if(null!=l){const d=e.data.field(l.fieldPath);if(Dd(d))for(const m of d.arrayValue.values||[])r=r.add(new As(t.indexId,e.key,this.dn(m),o))}else r=r.add(new As(t.indexId,e.key,mv,o));return r}vn(e,t,r,o,l){lt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,I,C,A,k){const ae=m.getIterator(),Te=I.getIterator();let Ze=af(ae),ut=af(Te);for(;Ze||ut;){let dt=!1,Yt=!1;if(Ze&&ut){const hn=C(Ze,ut);hn<0?Yt=!0:hn>0&&(dt=!0)}else null!=Ze?Yt=!0:dt=!0;dt?(A(ut),ut=af(Te)):Yt?(k(Ze),Ze=af(ae)):(Ze=af(ae),ut=af(Te))}}(o,l,Jl,m=>{d.push(this.Rn(e,t,r,m))},m=>{d.push(this.Pn(e,t,r,m))}),Ne.waitFor(d)}Tn(e){let t=1;return Vg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Jl(d,m)).filter((d,m,I)=>!m||0!==Jl(d,I[m-1]));const o=[];o.push(e);for(const d of r){const m=Jl(d,e),I=Jl(d,t);if(0===m)o[0]=e.Je();else if(m>0&&I<0)o.push(d),o.push(d.Je());else if(I>0)break}o.push(t);const l=[];for(let d=0;d<o.length;d+=2){if(this.bn(o[d],o[d+1]))return[];l.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,mv,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,mv,[]]))}return l}bn(e,t){return Jl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(vI)}getMinOffset(e,t){return Ne.mapArray(this.cn(t),r=>this.an(e,r).next(o=>o||Pt())).next(vI)}}function yI(n){return Ti(n,"collectionParents")}function wf(n){return Ti(n,"indexEntries")}function yv(n){return Ti(n,"indexConfiguration")}function Vg(n){return Ti(n,"indexState")}function vI(n){Gt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;M0(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new ko(e.readTime,e.documentKey,t)}const vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Lo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Lo(e,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function _I(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let m=0;const I=r.X({range:d},(A,k,ae)=>(m++,ae.delete()));l.push(I.next(()=>{Gt(1===m)}));const C=[];for(const A of t.mutations){const k=wd(e,A.key.path,t.batchId);l.push(o.delete(k)),C.push(A.key)}return Ne.waitFor(l).next(()=>C)}function Df(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Pt();e=n.noDocument}return JSON.stringify(e).length}Lo.DEFAULT_COLLECTION_PERCENTILE=10,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lo.DEFAULT=new Lo(41943040,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lo.DISABLED=new Lo(-1,0,0);class _v{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(e,t,r,o){Gt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new _v(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nd(e).X({index:"userMutationsIndex",range:r},(o,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=Ug(e),d=Nd(e);return d.add({}).next(m=>{Gt("number"==typeof m);const I=new nv(m,t,r,o),C=function(ae,Te,Ze){const ut=Ze.baseMutations.map(Yt=>Lg(ae.fe,Yt)),dt=Ze.mutations.map(Yt=>Lg(ae.fe,Yt));return{userId:Te,batchId:Ze.batchId,localWriteTimeMs:Ze.localWriteTime.toMillis(),baseMutations:ut,mutations:dt}}(this.serializer,this.userId,I),A=[];let k=new Mr((ae,Te)=>In(ae.canonicalString(),Te.canonicalString()));for(const ae of o){const Te=wd(this.userId,ae.key.path,m);k=k.add(ae.key.path.popLast()),A.push(d.put(C)),A.push(l.put(Te,rD))}return k.forEach(ae=>{A.push(this.indexManager.addToCollectionParentIndex(e,ae))}),e.addOnCommittedListener(()=>{this.Vn[m]=I.keys()}),Ne.waitFor(A).next(()=>I)})}lookupMutationBatch(e,t){return Nd(e).get(t).next(r=>r?(Gt(r.userId===this.userId),Od(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?Ne.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Vn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Nd(e).X({index:"userMutationsIndex",range:o},(d,m,I)=>{m.userId===this.userId&&(Gt(m.batchId>=r),l=Od(this.serializer,m)),I.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Nd(e).X({index:"userMutationsIndex",range:t,reverse:!0},(o,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nd(e).j("userMutationsIndex",t).next(r=>r.map(o=>Od(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=vg(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return Ug(e).X({range:o},(d,m,I)=>{const[C,A,k]=d,ae=Zs(A);if(C===this.userId&&t.path.isEqual(ae))return Nd(e).get(k).next(Te=>{if(!Te)throw Pt();Gt(Te.userId===this.userId),l.push(Od(this.serializer,Te))});I.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mr(In);const o=[];return t.forEach(l=>{const d=vg(this.userId,l.path),m=IDBKeyRange.lowerBound(d),I=Ug(e).X({range:m},(C,A,k)=>{const[ae,Te,Ze]=C,ut=Zs(Te);ae===this.userId&&l.path.isEqual(ut)?r=r.add(Ze):k.done()});o.push(I)}),Ne.waitFor(o).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=vg(this.userId,r),d=IDBKeyRange.lowerBound(l);let m=new Mr(In);return Ug(e).X({range:d},(I,C,A)=>{const[k,ae,Te]=I,Ze=Zs(ae);k===this.userId&&r.isPrefixOf(Ze)?Ze.length===o&&(m=m.add(Te)):A.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const r=[],o=[];return t.forEach(l=>{o.push(Nd(e).get(l).next(d=>{if(null===d)throw Pt();Gt(d.userId===this.userId),r.push(Od(this.serializer,d))}))}),Ne.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return _I(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Ne.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ne.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Ug(e).X({range:r},(l,d,m)=>{if(l[0]===this.userId){const I=Zs(l[1]);o.push(I)}else m.done()}).next(()=>{Gt(0===o.length)})})}containsKey(e,t){return gb(e,this.userId,t)}xn(e){return mb(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function gb(n,e,t){const r=vg(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return Ug(n).X({range:l,Y:!0},(m,I,C)=>{const[A,k,ae]=m;A===e&&k===o&&(d=!0),C.done()}).next(()=>d)}function Nd(n){return Ti(n,"mutations")}function Ug(n){return Ti(n,"documentMutations")}function mb(n){return Ti(n,"mutationQueues")}class Pd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Pd(0)}static Mn(){return new Pd(-1)}}class JT{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Pd(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Ht.fromTimestamp(new Nr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.On(e,o)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>bf(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Gt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return bf(e).X((d,m)=>{const I=Bg(m);I.sequenceNumber<=t&&null===r.get(I.targetId)&&(o++,l.push(this.removeTargetData(e,I)))}).next(()=>Ne.waitFor(l)).next(()=>o)}forEachTarget(e,t){return bf(e).X((r,o)=>{const l=Bg(o);t(l)})}$n(e){return II(e).get("targetGlobalKey").next(t=>(Gt(null!==t),t))}On(e,t){return II(e).put("targetGlobalKey",t)}Fn(e,t){return bf(e).put(WT(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Xc(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return bf(e).X({range:o,index:"queryTargetsIndex"},(d,m,I)=>{const C=Bg(m);df(t,C.target)&&(l=C,I.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=ec(e);return t.forEach(d=>{const m=Hi(d.path);o.push(l.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),Ne.waitFor(o)}removeMatchingKeys(e,t,r){const o=ec(e);return Ne.forEach(t,l=>{const d=Hi(l.path);return Ne.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=ec(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=ec(e);let l=_n();return o.X({range:r,Y:!0},(d,m,I)=>{const C=Zs(d[1]),A=new Ct(C);l=l.add(A)}).next(()=>l)}containsKey(e,t){const r=Hi(t.path),o=IDBKeyRange.bound([r],[Yw(r)],!1,!0);let l=0;return ec(e).X({index:"documentTargetsIndex",Y:!0,range:o},([d,m],I,C)=>{0!==d&&(l++,C.done())}).next(()=>l>0)}le(e,t){return bf(e).get(t).next(r=>r?Bg(r):null)}}function bf(n){return Ti(n,"targets")}function II(n){return Ti(n,"targetGlobal")}function ec(n){return Ti(n,"targetDocuments")}function eA([n,e],[t,r]){const o=In(n,t);return 0===o?In(e,r):o}class tA{constructor(e){this.Ln=e,this.buffer=new Mr(eA),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();eA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Iv{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;lt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Xe.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Yl(r)?lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield jc(r)}yield t.Qn(3e5)}))}}class yb{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ne.resolve(Ts.ct);const r=new tA(t);return this.jn.forEachTarget(e,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(e,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(vv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vv):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,o,l,d,m,I,C;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),o=this.params.maximumSequenceNumbersToCollect):o=k,d=Date.now(),this.nthSequenceNumber(e,o))).next(k=>(r=k,m=Date.now(),this.removeTargets(e,r,t))).next(k=>(l=k,I=Date.now(),this.removeOrphanedDocuments(e,r))).next(k=>(C=Date.now(),C0()<=Oc.in.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-A}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${l} targets in `+(I-m)+`ms\n\tRemoved ${k} documents in `+(C-I)+`ms\nTotal Duration: ${C-A}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:k})))}}class nA{constructor(e,t){this.db=e,this.garbageCollector=function EI(n,e){return new yb(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,o)=>t(o))}addReference(e,t,r){return Cf(e,r)}removeReference(e,t,r){return Cf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Cf(e,t)}Xn(e,t){return function(r,o){let l=!1;return mb(r).Z(d=>gb(r,d,o).next(m=>(m&&(l=!0),Ne.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Yn(e,(d,m)=>{if(m<=t){const I=this.Xn(e,d).next(C=>{if(!C)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Ht.min()),ec(e).delete([0,Hi(d.path)])))});o.push(I)}}).next(()=>Ne.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Cf(e,t)}Yn(e,t){const r=ec(e);let o,l=Ts.ct;return r.X({index:"documentTargetsIndex"},([d,m],{path:I,sequenceNumber:C})=>{0===d?(l!==Ts.ct&&t(new Ct(Zs(o)),l),l=C,o=I):l=Ts.ct}).next(()=>{l!==Ts.ct&&t(new Ct(Zs(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Cf(n,e){return ec(n).put((r=n.currentSequenceNumber,{targetId:0,path:Hi(e.path),sequenceNumber:r}));var r}class vb{constructor(){this.changes=new Xl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rA{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return kd(e).put(r)}removeEntry(e,t,r){return kd(e).delete(function(o,l){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],dv(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=_r.newInvalidDocument(t);return kd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(nu(t))},(o,l)=>{r=this.ts(t,l)}).next(()=>r)}es(e,t){let r={size:0,document:_r.newInvalidDocument(t)};return kd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(nu(t))},(o,l)=>{r={document:this.ts(t,l),size:Df(l)}}).next(()=>r)}getEntries(e,t){let r=_o();return this.ns(e,t,(o,l)=>{const d=this.ts(o,l);r=r.insert(o,d)}).next(()=>r)}ss(e,t){let r=_o(),o=new yr(Ct.comparator);return this.ns(e,t,(l,d)=>{const m=this.ts(l,d);r=r.insert(l,m),o=o.insert(l,Df(d))}).next(()=>({documents:r,rs:o}))}ns(e,t,r){if(t.isEmpty())return Ne.resolve();let o=new Mr(Ib);t.forEach(I=>o=o.add(I));const l=IDBKeyRange.bound(nu(o.first()),nu(o.last())),d=o.getIterator();let m=d.getNext();return kd(e).X({index:"documentKeyIndex",range:l},(I,C,A)=>{const k=Ct.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;m&&Ib(m,k)<0;)r(m,null),m=d.getNext();m&&m.isEqual(k)&&(r(m,C),m=d.hasNext()?d.getNext():null),m?A.G(nu(m)):A.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,r,o){const l=t.path,d=[l.popLast().toArray(),l.lastSegment(),dv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return kd(e).j(IDBKeyRange.bound(d,m,!0)).next(I=>{let C=_o();for(const A of I){const k=this.ts(Ct.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);k.isFoundDocument()&&(Td(t,k)||o.has(k.key))&&(C=C.insert(k.key,k))}return C})}getAllFromCollectionGroup(e,t,r,o){let l=_o();const d=oA(t,r),m=oA(t,ko.max());return kd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(I,C,A)=>{const k=this.ts(Ct.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);l=l.insert(k.key,k),l.size===o&&A.done()}).next(()=>l)}newChangeBuffer(e){return new _b(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return iA(e).get("remoteDocumentGlobalKey").next(t=>(Gt(!!t),t))}Zn(e,t){return iA(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function ib(n,e){let t;if(e.document)t=jT(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ct.fromSegments(e.noDocument.path),o=tu(e.noDocument.readTime);t=_r.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Pt();{const r=Ct.fromSegments(e.unknownDocument.path),o=tu(e.unknownDocument.version);t=_r.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Nr(r[0],r[1]);return Ht.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Ht.min()))return r}return _r.newInvalidDocument(e)}}function wI(n){return new rA(n)}class _b extends vb{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Xl(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Mr((l,d)=>In(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const m=this.us.get(l);if(t.push(this.os.removeEntry(e,l,m.readTime)),d.isValidDocument()){const I=ob(this.os.serializer,d);o=o.add(l.path.popLast());const C=Df(I);r+=C-m.size,t.push(this.os.addEntry(e,l,I))}else if(r-=m.size,this.trackRemovals){const I=ob(this.os.serializer,d.convertToNoDocument(Ht.min()));t.push(this.os.addEntry(e,l,I))}}),o.forEach(l=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.os.updateMetadata(e,r)),Ne.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:o})=>(o.forEach((l,d)=>{this.us.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function iA(n){return Ti(n,"remoteDocumentGlobal")}function kd(n){return Ti(n,"remoteDocumentsV14")}function nu(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function oA(n,e){const t=e.documentKey.path.toArray();return[n,dv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Ib(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(o=In(t[l],r[l]),o)return o;return o=In(t.length,r.length),o||(o=In(t[t.length-2],r[r.length-2]),o||In(t[t.length-1],r[r.length-1]))}class u1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class sA{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&gf(r.mutation,o,is.empty(),Nr.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,_n()).next(()=>r))}getLocalViewOfDocuments(e,t,r=_n()){const o=Xs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(l=>{let d=Ag();return l.forEach((m,I)=>{d=d.insert(m,I.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Xs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,_n()))}populateOverlays(e,t,r){const o=[];return r.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,o){let l=_o();const d=ff(),m=ff();return t.forEach((I,C)=>{const A=r.get(C.key);o.has(C.key)&&(void 0===A||A.mutation instanceof eu)?l=l.insert(C.key,C):void 0!==A?(d.set(C.key,A.mutation.getFieldMask()),gf(A.mutation,C,A.mutation.getFieldMask(),Nr.now())):d.set(C.key,is.empty())}),this.recalculateAndSaveOverlays(e,l).next(I=>(I.forEach((C,A)=>d.set(C,A)),t.forEach((C,A)=>{var k;return m.set(C,new u1(A,null!==(k=d.get(C))&&void 0!==k?k:null))}),m))}recalculateAndSaveOverlays(e,t){const r=ff();let o=new yr((d,m)=>d-m),l=_n();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(I=>{const C=t.get(I);if(null===C)return;let A=r.get(I)||is.empty();A=m.applyToLocalView(C,A),r.set(I,A);const k=(o.get(m.batchId)||_n()).add(I);o=o.insert(m.batchId,k)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const I=m.getNext(),C=I.key,A=I.value,k=bT();A.forEach(ae=>{if(!l.has(ae)){const Te=zD(t.get(ae),r.get(ae));null!==Te&&k.set(ae,Te),l=l.add(ae)}}),d.push(this.documentOverlayCache.saveOverlays(e,C,k))}return Ne.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ct.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):G0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):Ne.resolve(Xs());let m=-1,I=l;return d.next(C=>Ne.forEach(C,(A,k)=>(m<k.largestBatchId&&(m=k.largestBatchId),l.get(A)?Ne.resolve():this.remoteDocumentCache.getEntry(e,A).next(ae=>{I=I.insert(A,ae)}))).next(()=>this.populateOverlays(e,C,l)).next(()=>this.computeViews(e,I,C,_n())).next(A=>({batchId:m,changes:Mg(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ct(t)).next(r=>{let o=Ag();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let l=Ag();return this.indexManager.getCollectionParents(e,o).next(d=>Ne.forEach(d,m=>{const I=(C=t,A=m.child(o),new yl(A,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,A;return this.getDocumentsMatchingCollectionQuery(e,I,r).next(C=>{C.forEach((A,k)=>{l=l.insert(A,k)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(l=>{o.forEach((m,I)=>{const C=I.getKey();null===l.get(C)&&(l=l.insert(C,_r.newInvalidDocument(C)))});let d=Ag();return l.forEach((m,I)=>{const C=o.get(m);void 0!==C&&gf(C.mutation,I,is.empty(),Nr.now()),Td(t,I)&&(d=d.insert(m,I))}),d})}}class aA{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ne.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Wr(r.createTime)}),Ne.resolve()}getNamedQuery(e,t){return Ne.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:sb(r.bundledQuery),readTime:Wr(r.readTime)}),Ne.resolve();var r}}class d1{constructor(){this.overlays=new yr(Ct.comparator),this.ls=new Map}getOverlay(e,t){return Ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xs();return Ne.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.we(e,t,l)}),Ne.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(r)),Ne.resolve()}getOverlaysForCollection(e,t,r){const o=Xs(),l=t.length+1,d=new Ct(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const I=m.getNext().value,C=I.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===l&&I.largestBatchId>r&&o.set(I.getKey(),I)}return Ne.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new yr((C,A)=>C-A);const d=this.overlays.getIterator();for(;d.hasNext();){const C=d.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let A=l.get(C.largestBatchId);null===A&&(A=Xs(),l=l.insert(C.largestBatchId,A)),A.set(C.getKey(),C)}}const m=Xs(),I=l.getIterator();for(;I.hasNext()&&(I.getNext().value.forEach((C,A)=>m.set(C,A)),!(m.size()>=o)););return Ne.resolve(m)}we(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new rv(t,r));let l=this.ls.get(t);void 0===l&&(l=_n(),this.ls.set(t,l)),this.ls.set(t,l.add(r.key))}}class Eb{constructor(){this.fs=new Mr(oo.ds),this.ws=new Mr(oo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new oo(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new oo(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ct(new Bn([])),r=new oo(t,e),o=new oo(t,e+1),l=[];return this.ws.forEachInRange([r,o],d=>{this.ys(d),l.push(d.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ct(new Bn([])),r=new oo(t,e),o=new oo(t,e+1);let l=_n();return this.ws.forEachInRange([r,o],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new oo(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class oo{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ct.comparator(e.key,t.key)||In(e.As,t.As)}static _s(e,t){return In(e.As,t.As)||Ct.comparator(e.key,t.key)}}class h1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Mr(oo.ds)}checkEmpty(e){return Ne.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const l=this.vs;this.vs++;const d=new nv(l,t,r,o);this.mutationQueue.push(d);for(const m of o)this.Rs=this.Rs.add(new oo(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ne.resolve(d)}lookupMutationBatch(e,t){return Ne.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.bs(t+1),l=o<0?0:o;return Ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new oo(t,0),o=new oo(t,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([r,o],d=>{const m=this.Ps(d.As);l.push(m)}),Ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mr(In);return t.forEach(o=>{const l=new oo(o,0),d=new oo(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,d],m=>{r=r.add(m.As)})}),Ne.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;Ct.isDocumentKey(l)||(l=l.child(""));const d=new oo(new Ct(l),0);let m=new Mr(In);return this.Rs.forEachWhile(I=>{const C=I.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(m=m.add(I.As)),!0)},d),Ne.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Gt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return Ne.forEach(t.mutations,o=>{const l=new oo(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new oo(t,0),o=this.Rs.firstAfterOrEqual(r);return Ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Ne.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class f1{constructor(e){this.Ds=e,this.docs=new yr(Ct.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,d=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ne.resolve(r?r.document.mutableCopy():_r.newInvalidDocument(t))}getEntries(e,t){let r=_o();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():_r.newInvalidDocument(o))}),Ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let l=_o();const d=t.path,m=new Ct(d.child("")),I=this.docs.getIteratorFrom(m);for(;I.hasNext();){const{key:C,value:{document:A}}=I.getNext();if(!d.isPrefixOf(C.path))break;C.path.length>d.length+1||M0(Xw(A),r)<=0||(o.has(A.key)||Td(t,A))&&(l=l.insert(A.key,A.mutableCopy()))}return Ne.resolve(l)}getAllFromCollectionGroup(e,t,r,o){Pt()}Cs(e,t){return Ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new lA(this)}getSize(e){return Ne.resolve(this.size)}}class lA extends vb{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),Ne.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class p1{constructor(e){this.persistence=e,this.xs=new Xl(t=>Xc(t),df),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Eb,this.targetCount=0,this.Ms=Pd.kn()}forEachTarget(e,t){return this.xs.forEach((r,o)=>t(o)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),Ne.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Pd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ne.resolve()}updateTargetData(e,t){return this.Fn(t),Ne.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.xs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.xs.delete(d),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Ne.waitFor(l).next(()=>o)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return Ne.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),Ne.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(d=>{l.push(o.markPotentiallyOrphaned(e,d))}),Ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return Ne.resolve(r)}containsKey(e,t){return Ne.resolve(this.ks.containsKey(t))}}class wb{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ts(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new p1(this),this.indexManager=new QT,this.remoteDocumentCache=new f1(r=>this.referenceDelegate.Ls(r)),this.serializer=new uI(t),this.qs=new aA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new d1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new h1(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){lt("MemoryPersistence","Starting transaction:",e);const o=new g1(this.Os.next());return this.referenceDelegate.Us(),r(o).next(l=>this.referenceDelegate.Ks(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Gs(e,t){return Ne.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class g1 extends Qw{constructor(e){super(),this.currentSequenceNumber=e}}class DI{constructor(e){this.persistence=e,this.Qs=new Eb,this.js=null}static zs(e){return new DI(e)}get Ws(){if(this.js)return this.js;throw Pt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),Ne.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),Ne.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ne.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.Ws.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.Ws,r=>{const o=Ct.fromPath(r);return this.Hs(e,o).next(l=>{l||t.removeEntry(o,Ht.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ne.or([()=>Ne.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class cA{constructor(e){this.serializer=e}O(e,t,r,o){const l=new zy("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nD,{unique:!0}),m.createObjectStore("documentMutations"),uA(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=Ne.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),uA(e)),d=d.next(()=>function(m){const I=m.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ht.min().toTimestamp(),targetCount:0};return I.put("targetGlobalKey",C)}(l))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,I){return I.store("mutations").j().next(C=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nD,{unique:!0});const A=I.store("mutations"),k=C.map(ae=>A.put(ae));return Ne.waitFor(k)})}(e,l))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Ys(l))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(l)))),r<7&&o>=7&&(d=d.next(()=>this.Zs(l))),r<8&&o>=8&&(d=d.next(()=>this.ti(e,l))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.ei(l))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const I=m.createObjectStore("documentOverlays",{keyPath:lD});I.createIndex("collectionPathOverlayIndex",cD,{unique:!1}),I.createIndex("collectionGroupOverlayIndex",uD,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const I=m.createObjectStore("remoteDocumentsV14",{keyPath:uT});I.createIndex("documentKeyIndex",o1),I.createIndex("collectionGroupIndex",N0)}(e)).next(()=>this.ni(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.si(e,l))),r<15&&o>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:hT}).createIndex("sequenceNumberIndex",sD,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:k0}).createIndex("documentKeyIndex",aD,{unique:!1})}(e))),d}Xs(e){let t=0;return e.store("remoteDocuments").X((r,o)=>{t+=Df(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(o=>Ne.forEach(o,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",d).next(m=>Ne.forEach(m,I=>{Gt(I.userId===l.userId);const C=Od(this.serializer,I);return _I(e,l.userId,C).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return r.X((d,m)=>{const I=new Bn(d),C=[0,Hi(I)];l.push(t.get(C).next(A=>A?Ne.resolve():t.put({targetId:0,path:Hi(I),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Ne.waitFor(l))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:oD});const r=t.store("collectionParents"),o=new mI,l=d=>{if(o.add(d)){const m=d.lastSegment(),I=d.popLast();return r.put({collectionId:m,parent:Hi(I)})}};return t.store("remoteDocuments").X({Y:!0},(d,m)=>{const I=new Bn(d);return l(I.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([d,m,I],C)=>{const A=Zs(m);return l(A.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,o)=>{const l=Bg(o),d=WT(this.serializer,l);return t.put(d)})}ni(e,t){const r=t.store("remoteDocuments"),o=[];return r.X((l,d)=>{const m=t.store("remoteDocumentsV14"),I=(C=d,C.document?new Ct(Bn.fromString(C.document.name).popFirst(5)):C.noDocument?Ct.fromSegments(C.noDocument.path):C.unknownDocument?Ct.fromSegments(C.unknownDocument.path):Pt()).path.toArray();var C;const A={prefixPath:I.slice(0,I.length-2),collectionGroup:I[I.length-2],documentId:I[I.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(A))}).next(()=>Ne.waitFor(o))}si(e,t){const r=t.store("mutations"),o=wI(this.serializer),l=new wb(DI.zs,this.serializer.fe);return r.j().next(d=>{const m=new Map;return d.forEach(I=>{var C;let A=null!==(C=m.get(I.userId))&&void 0!==C?C:_n();Od(this.serializer,I).keys().forEach(k=>A=A.add(k)),m.set(I.userId,A)}),Ne.forEach(m,(I,C)=>{const A=new zr(C),k=hI.de(this.serializer,A),ae=l.getIndexManager(A),Te=_v.de(A,this.serializer,ae,l.referenceDelegate);return new sA(o,Te,k,ae).recalculateAndSaveOverlaysForDocumentKeys(new gD(t,Ts.ct),I).next()})})}}function uA(n){n.createObjectStore("targetDocuments",{keyPath:dT}).createIndex("documentTargetsIndex",iD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",P0,{unique:!0}),n.createObjectStore("targetGlobal")}const i="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class s{constructor(e,t,r,o,l,d,m,I,C,A,k=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=l,this.window=d,this.document=m,this.ri=C,this.oi=A,this.ui=k,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=ae=>Promise.resolve(),!s.D())throw new rt(Ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nA(this,o),this.di=t+"main",this.serializer=new uI(I),this.wi=new Ra(this.di,this.ui,new cA(this.serializer)),this.Bs=new JT(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wI(this.serializer),this.qs=new qT,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===A&&Gr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new rt(Ue.FAILED_PRECONDITION,i);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ts(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Xe.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Xe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Xe.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>u(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Yl(e))return lt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return a(e).get("owner").next(t=>Ne.resolve(this.Ri(t)))}Pi(e){return u(e).delete(this.clientId)}bi(){var e=this;return(0,Xe.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Ti(r,"clientMetadata");return o.j().next(l=>{const d=e.Si(l,18e5),m=l.filter(I=>-1===d.indexOf(I));return Ne.forEach(m,I=>o.delete(I.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ne.resolve(!0):a(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new rt(Ue.FAILED_PRECONDITION,i);return!1}}return!(!this.networkEnabled||!this.inForeground)||u(e).j().next(r=>void 0===this.Si(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&lt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Xe.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new gD(t,Ts.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>u(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return _v.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new pb(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return hI.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){lt("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=15===(d=this.ui)?pD:14===d?fD:13===d?hD:12===d?fT:11===d?dD:void Pt();var d;let m;return this.wi.runTransaction(e,o,l,I=>(m=new gD(I,this.Os?this.Os.next():Ts.ct),"readwrite-primary"===t?this.Ti(m).next(C=>!!C||this.Ei(m)).next(C=>{if(!C)throw Gr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new rt(Ue.FAILED_PRECONDITION,x0);return r(m)}).next(C=>this.vi(m).next(()=>C)):this.Oi(m).next(()=>r(m)))).then(I=>(m.raiseOnCommittedEvent(),I))}Oi(e){return a(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new rt(Ue.FAILED_PRECONDITION,i)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return a(e).put("owner",t)}static D(){return Ra.D()}Ai(e){const t=a(e);return t.get("owner").next(r=>this.Ri(r)?(lt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ne.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Gr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Qn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return lt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Gr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Gr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function a(n){return Ti(n,"owner")}function u(n){return Ti(n,"clientMetadata")}function h(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class p{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=o}static Li(e,t){let r=_n(),o=_n();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new p(e,t.fromCache,r,o)}}class y{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ki(e,t).next(l=>l||this.Gi(e,t,o,r)).next(l=>l||this.Qi(e,t))}Ki(e,t){if(PD(t))return Ne.resolve(null);let r=os(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=Tg(t,null,"F"),r=os(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=_n(...l);return this.Ui.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(I=>{const C=this.ji(t,m);return this.zi(t,C,d,I.readTime)?this.Ki(e,Tg(t,null,"F")):this.Wi(e,C,t,I)}))})))}Gi(e,t,r,o){return PD(t)||o.isEqual(Ht.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(l=>{const d=this.ji(t,l);return this.zi(t,d,r,o)?this.Qi(e,t):(C0()<=Oc.in.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),W0(t)),this.Wi(e,d,t,Zw(o,-1)))})}ji(e,t){let r=new Mr(q0(e));return t.forEach((o,l)=>{Td(e,l)&&(r=r.add(l))}),r}zi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Qi(e,t){return C0()<=Oc.in.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",W0(t)),this.Ui.getDocumentsMatchingQuery(e,t,ko.min())}Wi(e,t,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class E{constructor(e,t,r,o){this.persistence=e,this.Hi=t,this.serializer=o,this.Ji=new yr(In),this.Yi=new Xl(l=>Xc(l),df),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sA(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function D(n,e,t,r){return new E(n,e,t,r)}function T(n,e){return N.apply(this,arguments)}function N(){return N=(0,Xe.Z)(function*(n,e){const t=xt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],m=[];let I=_n();for(const C of o){d.push(C.batchId);for(const A of C.mutations)I=I.add(A.key)}for(const C of l){m.push(C.batchId);for(const A of C.mutations)I=I.add(A.key)}return t.localDocuments.getDocuments(r,I).next(C=>({er:C,removedBatchIds:d,addedBatchIds:m}))})})}),N.apply(this,arguments)}function ge(n){const e=xt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Qe(n,e,t){let r=_n(),o=_n();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=_o();return t.forEach((m,I)=>{const C=l.get(m);I.isFoundDocument()!==C.isFoundDocument()&&(o=o.add(m)),I.isNoDocument()&&I.version.isEqual(Ht.min())?(e.removeEntry(m,I.readTime),d=d.insert(m,I)):!C.isValidDocument()||I.version.compareTo(C.version)>0||0===I.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(I),d=d.insert(m,I)):lt("LocalStore","Ignoring outdated watch update for ",m,". Current version:",C.version," Watch version:",I.version)}),{nr:d,sr:o}})}function ct(n,e){const t=xt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Et(n,e){const t=xt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Bs.getTargetData(r,e).next(l=>l?(o=l,Ne.resolve(o)):t.Bs.allocateTargetId(r).next(d=>(o=new Js(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Lt(n,e,t){return et.apply(this,arguments)}function et(){return et=(0,Xe.Z)(function*(n,e,t){const r=xt(n),o=r.Ji.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Yl(d))throw d;lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),et.apply(this,arguments)}function dn(n,e,t){const r=xt(n);let o=Ht.min(),l=_n();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,I,C){const A=xt(m),k=A.Yi.get(C);return void 0!==k?Ne.resolve(A.Ji.get(k)):A.Bs.getTargetData(I,C)}(r,d,os(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(d,m.targetId).next(I=>{l=I})}).next(()=>r.Hi.getDocumentsMatchingQuery(d,e,t?o:Ht.min(),t?l:_n())).next(m=>(so(r,FD(e),m),{documents:m,ir:l})))}function Rn(n,e){const t=xt(n),r=xt(t.Bs),o=t.Ji.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.le(l,e).next(d=>d?d.target:null))}function Pn(n,e){const t=xt(n),r=t.Xi.get(e)||Ht.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Zi.getAllFromCollectionGroup(o,e,Zw(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(so(t,e,o),o))}function so(n,e,t){let r=n.Xi.get(e)||Ht.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Xi.set(e,r)}function bI(){return bI=(0,Xe.Z)(function*(n,e,t,r){const o=xt(n);let l=_n(),d=_o();for(const C of t){const A=e.rr(C.metadata.name);C.document&&(l=l.add(A));const k=e.ur(C);k.setReadTime(e.cr(C.metadata.readTime)),d=d.insert(A,k)}const m=o.Zi.newChangeBuffer({trackRemovals:!0}),I=yield Et(o,(C=r,os(bd(Bn.fromString(`__bundle__/docs/${C}`)))));var C;return o.persistence.runTransaction("Apply bundle documents","readwrite",C=>Qe(C,m,d).next(A=>(m.apply(C),A)).next(A=>o.Bs.removeMatchingKeysForTargetId(C,I.targetId).next(()=>o.Bs.addMatchingKeys(C,l,I.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(C,A.nr,A.sr)).next(()=>A.nr)))}),bI.apply(this,arguments)}function dA(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,Xe.Z)(function*(n,e,t=_n()){const r=yield Et(n,os(sb(e.bundledQuery))),o=xt(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const d=Wr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.qs.saveNamedQuery(l,e);const m=r.withResumeToken(Ai.EMPTY_BYTE_STRING,d);return o.Ji=o.Ji.insert(m.targetId,m),o.Bs.updateTargetData(l,m).next(()=>o.Bs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.Bs.addMatchingKeys(l,t,r.targetId)).next(()=>o.qs.saveNamedQuery(l,e))})}),hA.apply(this,arguments)}function m1(n,e){return`firestore_clients_${n}_${e}`}function y1(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function fA(n,e){return`firestore_targets_${n}_${e}`}class Db{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static ar(e,t,r){const o=JSON.parse(r);let l,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(l=new rt(o.error.code,o.error.message))),d?new Db(e,t,o.state,l):(Gr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class CI{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new rt(r.error.code,r.error.message))),l?new CI(e,r.state,o):(Gr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=Jy();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=O0(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return o?new bb(e,l):(Gr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class pA{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new pA(t.clientId,t.onlineState):(Gr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class gA{constructor(){this.activeTargetIds=Jy()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mA{constructor(e,t,r,o,l){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new yr(In),this.started=!1,this.yr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.pr=m1(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new gA),this.Tr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Xe.Z)(function*(){const t=yield e.syncEngine.$i();for(const o of t){if(o===e.wr)continue;const l=e.getItem(m1(e.persistenceKey,o));if(l){const d=bb.ar(o,l);d&&(e.gr=e.gr.insert(d.clientId,d))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const o=e.br(r);o&&e.Vr(o)}for(const o of e.yr)e.mr(o);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(fA(this.persistenceKey,e));if(r){const o=CI.ar(e,r);o&&(t=o.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fA(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Cr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return lt("SharedClientState","READ",e,t),t}setItem(e,t){lt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){lt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(lt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Gr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Xe.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const o=t.Or(r.key);return t.Fr(o,null)}{const o=t.Br(r.key,r.newValue);if(o)return t.Fr(o.clientId,o)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const o=t.Lr(r.key,r.newValue);if(o)return t.qr(o)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const o=t.Ur(r.key,r.newValue);if(o)return t.Kr(o)}}else if(r.key===t.vr){if(null!==r.newValue){const o=t.br(r.newValue);if(o)return t.Vr(o)}}else if(r.key===t.Ir){const o=function(l){let d=Ts.ct;if(null!=l)try{const m=JSON.parse(l);Gt("number"==typeof m),d=m}catch(m){Gr("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==Ts.ct&&t.sequenceNumberHandler(o)}else if(r.key===t.Rr){const o=t.Gr(r.newValue);yield Promise.all(o.map(l=>t.syncEngine.Qr(l)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const o=new Db(this.currentUser,e,t,r),l=y1(this.persistenceKey,this.currentUser,e);this.setItem(l,o.hr())}Cr(e){const t=y1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const o=fA(this.persistenceKey,e),l=new CI(e,t,r);this.setItem(o,l.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return bb.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),o=Number(r[1]);return Db.ar(new zr(void 0!==r[2]?r[2]:null),o,t)}Ur(e,t){const r=this.Ar.exec(e),o=Number(r[1]);return CI.ar(o,t)}br(e){return pA.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Xe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);lt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),o=this.Sr(this.gr),l=this.Sr(r),d=[],m=[];return l.forEach(I=>{o.has(I)||d.push(I)}),o.forEach(I=>{l.has(I)||m.push(I)}),this.syncEngine.Wr(d,m).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Jy();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class v1{constructor(){this.Hr=new gA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new gA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JO{Yr(e){}shutdown(){}}class _1{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Cb=null;function yA(){return null===Cb?Cb=268435456+Math.round(2147483648*Math.random()):Cb++,"0x"+Cb.toString(16)}const eN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tN{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ss="WebChannelConnection";class nN extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,o,l){const d=yA(),m=this.To(e,t);lt("RestConnection",`Sending RPC '${e}' ${d}:`,m,r);const I={};return this.Eo(I,o,l),this.Ao(e,m,I,r).then(C=>(lt("RestConnection",`Received RPC '${e}' ${d}: `,C),C),C=>{throw Ss("RestConnection",`RPC '${e}' ${d} failed with error: `,C,"url: ",m,"request:",r),C})}vo(e,t,r,o,l,d){return this.Io(e,t,r,o,l)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+fl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}To(e,t){return`${this.mo}/v1/${t}:${eN[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,o){const l=yA();return new Promise((d,m)=>{const I=new Hw;I.setWithCredentials(!0),I.listenOnce(dg.COMPLETE,()=>{try{switch(I.getLastErrorCode()){case b0.NO_ERROR:const A=I.getResponseJson();lt(ss,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(A)),d(A);break;case b0.TIMEOUT:lt(ss,`RPC '${e}' ${l} timed out`),m(new rt(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case b0.HTTP_ERROR:const k=I.getStatus();if(lt(ss,`RPC '${e}' ${l} failed with status:`,k,"response text:",I.getResponseText()),k>0){let ae=I.getResponseJson();Array.isArray(ae)&&(ae=ae[0]);const Te=ae?.error;if(Te&&Te.status&&Te.message){const Ze=function(ut){const dt=ut.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(dt)>=0?dt:Ue.UNKNOWN}(Te.status);m(new rt(Ze,Te.message))}else m(new rt(Ue.UNKNOWN,"Server responded with status "+I.getStatus()))}else m(new rt(Ue.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{lt(ss,`RPC '${e}' ${l} completed.`)}});const C=JSON.stringify(o);lt(ss,`RPC '${e}' ${l} sending request:`,o),I.send(t,"POST",C,r,15)})}Ro(e,t,r){const o=yA(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=qS(),m=YS(),I={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(I.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(I.xmlHttpFactory=new ZS({})),this.Eo(I.initMessageHeaders,t,r),I.encodeInitMessageHeaders=!0;const A=l.join("");lt(ss,`Creating RPC '${e}' stream ${o}: ${A}`,I);const k=d.createWebChannel(A,I);let ae=!1,Te=!1;const Ze=new tN({ro:dt=>{Te?lt(ss,`Not sending because RPC '${e}' stream ${o} is closed:`,dt):(ae||(lt(ss,`Opening RPC '${e}' stream ${o} transport.`),k.open(),ae=!0),lt(ss,`RPC '${e}' stream ${o} sending:`,dt),k.send(dt))},oo:()=>k.close()}),ut=(dt,Yt,hn)=>{dt.listen(Yt,Jt=>{try{hn(Jt)}catch(mn){setTimeout(()=>{throw mn},0)}})};return ut(k,md.EventType.OPEN,()=>{Te||lt(ss,`RPC '${e}' stream ${o} transport opened.`)}),ut(k,md.EventType.CLOSE,()=>{Te||(Te=!0,lt(ss,`RPC '${e}' stream ${o} transport closed`),Ze.wo())}),ut(k,md.EventType.ERROR,dt=>{Te||(Te=!0,Ss(ss,`RPC '${e}' stream ${o} transport errored:`,dt),Ze.wo(new rt(Ue.UNAVAILABLE,"The operation could not be completed")))}),ut(k,md.EventType.MESSAGE,dt=>{var Yt;if(!Te){const hn=dt.data[0];Gt(!!hn);const mn=hn.error||(null===(Yt=hn[0])||void 0===Yt?void 0:Yt.error);if(mn){lt(ss,`RPC '${e}' stream ${o} received error:`,mn);const An=mn.status;let Kn=function(Kg){const KO=pi[Kg];if(void 0!==KO)return FT(KO)}(An),as=mn.message;void 0===Kn&&(Kn=Ue.INTERNAL,as="Unknown error status: "+An+" with message "+mn.message),Te=!0,Ze.wo(new rt(Kn,as)),k.close()}else lt(ss,`RPC '${e}' stream ${o} received:`,hn),Ze._o(hn)}}),ut(m,KS.STAT_EVENT,dt=>{dt.stat===jw.PROXY?lt(ss,`RPC '${e}' stream ${o} detected buffering proxy`):dt.stat===jw.NOPROXY&&lt(ss,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Ze.fo()},0),Ze}}function I1(){return typeof window<"u"?window:null}function Sb(){return typeof document<"u"?document:null}function SI(n){return new XD(n,!0)}class vA{constructor(e,t,r=1e3,o=1.5,l=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=o,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,t-r);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class E1{constructor(e,t,r,o,l,d,m,I){this.ii=e,this.$o=r,this.Oo=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=I,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new vA(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Xe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Xe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Xe.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===Ue.RESOURCE_EXHAUSTED?(Gr(t.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===Ue.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===t&&this.Zo(r,o)},r=>{e(()=>{const o=new rt(Ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,Xe.Z)(function*(){e.state=0,e.start()}))}tu(e){return lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rN extends E1{constructor(e,t,r,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.serializer=l}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function HT(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(I=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===I?1:"REMOVE"===I?2:"CURRENT"===I?3:"RESET"===I?4:Pt(),o=e.targetChange.targetIds||[],l=function(I,C){return I.useProto3Json?(Gt(void 0===C||"string"==typeof C),Ai.fromBase64String(C||"")):(Gt(void 0===C||C instanceof Uint8Array),Ai.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(I){const C=void 0===I.code?Ue.UNKNOWN:FT(I.code);return new rt(C,I.message||"")}(d);t=new $T(r,o,l,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Qs(n,r.document.name),l=Wr(r.document.updateTime),d=r.document.createTime?Wr(r.document.createTime):Ht.min(),m=new ro({mapValue:{fields:r.document.fields}}),I=_r.newFoundDocument(o,l,d,m);t=new kg(r.targetIds||[],r.removedTargetIds||[],I.key,I)}else if("documentDelete"in e){const r=e.documentDelete,o=Qs(n,r.document),l=r.readTime?Wr(r.readTime):Ht.min(),d=_r.newNoDocument(o,l);t=new kg([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=Qs(n,r.document);t=new kg([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Pt();{const r=e.filter,{count:o=0,unchangedNames:l}=r,d=new iv(o,l);t=new YD(r.targetId,d)}}var I;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ht.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ht.min():l.readTime?Wr(l.readTime):Ht.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=xd(this.serializer),t.addTarget=function(o,l){let d;const m=l.target;if(d=Cg(m)?{documents:oI(o,m)}:{query:tb(o,m)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=eI(o,l.resumeToken);const I=J0(o,l.expectedCount);null!==I&&(d.expectedCount=I)}else if(l.snapshotVersion.compareTo(Ht.min())>0){d.readTime=Md(o,l.snapshotVersion.toTimestamp());const I=J0(o,l.expectedCount);null!==I&&(d.expectedCount=I)}return d}(this.serializer,e);const r=function GT(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=xd(this.serializer),t.removeTarget=e,this.Wo(t)}}class iN extends E1{constructor(e,t,r,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function zT(n,e){return n&&n.length>0?(Gt(void 0!==e),n.map(t=>function(r,o){let l=Wr(r.updateTime?r.updateTime:o);return l.isEqual(Ht.min())&&(l=Wr(o)),new HD(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.cu(r,t)}return Gt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=xd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Lg(this.serializer,r))};this.Wo(t)}}class oN extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new rt(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Io(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new rt(Ue.UNKNOWN,o.toString())})}vo(e,t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.vo(e,t,r,l,d,o)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new rt(Ue.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class aN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Gr(t),this.mu=!1):lt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class lN{constructor(e,t,r,o,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(m=>{r.enqueueAndForget((0,Xe.Z)(function*(){var I;Sf(d)&&(lt("RemoteStore","Restarting streams for network reachability change."),yield(I=(0,Xe.Z)(function*(C){const A=xt(C);A.vu.add(4),yield Dv(A),A.bu.set("Unknown"),A.vu.delete(4),yield TI(A)}),function(C){return I.apply(this,arguments)})(d))}))}),this.bu=new aN(r,o)}}function TI(n){return IA.apply(this,arguments)}function IA(){return IA=(0,Xe.Z)(function*(n){if(Sf(n))for(const e of n.Ru)yield e(!0)}),IA.apply(this,arguments)}function Dv(n){return EA.apply(this,arguments)}function EA(){return EA=(0,Xe.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),EA.apply(this,arguments)}function Tb(n,e){const t=xt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),bA(t)?DA(t):Cv(t).Ko()&&wA(t,e))}function AI(n,e){const t=xt(n),r=Cv(t);t.Au.delete(e),r.Ko()&&w1(t,e),0===t.Au.size&&(r.Ko()?r.jo():Sf(t)&&t.bu.set("Unknown"))}function wA(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ht.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cv(n).su(e)}function w1(n,e){n.Vu.qt(e),Cv(n).iu(e)}function DA(n){n.Vu=new VT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Cv(n).start(),n.bu.gu()}function bA(n){return Sf(n)&&!Cv(n).Uo()&&n.Au.size>0}function Sf(n){return 0===xt(n).vu.size}function D1(n){n.Vu=void 0}function cN(n){return CA.apply(this,arguments)}function CA(){return CA=(0,Xe.Z)(function*(n){n.Au.forEach((e,t)=>{wA(n,e)})}),CA.apply(this,arguments)}function uN(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,Xe.Z)(function*(n,e){D1(n),bA(n)?(n.bu.Iu(e),DA(n)):n.bu.set("Unknown")}),SA.apply(this,arguments)}function dN(n,e,t){return TA.apply(this,arguments)}function TA(){return TA=(0,Xe.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof $T&&2===e.state&&e.cause)try{yield(r=(0,Xe.Z)(function*(o,l){const d=l.cause;for(const m of l.targetIds)o.Au.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o.Au.delete(m),o.Vu.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ab(n,r)}else if(e instanceof kg?n.Vu.Ht(e):e instanceof YD?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Ht.min()))try{const r=yield ge(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const d=o.Vu.ce(l);return d.targetChanges.forEach((m,I)=>{if(m.resumeToken.approximateByteSize()>0){const C=o.Au.get(I);C&&o.Au.set(I,C.withResumeToken(m.resumeToken,l))}}),d.targetMismatches.forEach((m,I)=>{const C=o.Au.get(m);if(!C)return;o.Au.set(m,C.withResumeToken(Ai.EMPTY_BYTE_STRING,C.snapshotVersion)),w1(o,m);const A=new Js(C.target,m,I,C.sequenceNumber);wA(o,A)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){lt("RemoteStore","Failed to raise snapshot:",r),yield Ab(n,r)}var r}),TA.apply(this,arguments)}function Ab(n,e,t){return AA.apply(this,arguments)}function AA(){return AA=(0,Xe.Z)(function*(n,e,t){if(!Yl(e))throw e;n.vu.add(1),yield Dv(n),n.bu.set("Offline"),t||(t=()=>ge(n.localStore)),n.asyncQueue.enqueueRetryable((0,Xe.Z)(function*(){lt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield TI(n)}))}),AA.apply(this,arguments)}function b1(n,e){return e().catch(t=>Ab(n,t,e))}function bv(n){return MA.apply(this,arguments)}function MA(){return MA=(0,Xe.Z)(function*(n){const e=xt(n),t=Tf(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;hN(e);)try{const o=yield ct(e.localStore,r);if(null===o){0===e.Eu.length&&t.jo();break}r=o.batchId,fN(e,o)}catch(o){yield Ab(e,o)}C1(e)&&S1(e)}),MA.apply(this,arguments)}function hN(n){return Sf(n)&&n.Eu.length<10}function fN(n,e){n.Eu.push(e);const t=Tf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function C1(n){return Sf(n)&&!Tf(n).Uo()&&n.Eu.length>0}function S1(n){Tf(n).start()}function pN(n){return xA.apply(this,arguments)}function xA(){return xA=(0,Xe.Z)(function*(n){Tf(n).hu()}),xA.apply(this,arguments)}function gN(n){return RA.apply(this,arguments)}function RA(){return RA=(0,Xe.Z)(function*(n){const e=Tf(n);for(const t of n.Eu)e.uu(t.mutations)}),RA.apply(this,arguments)}function mN(n,e,t){return OA.apply(this,arguments)}function OA(){return OA=(0,Xe.Z)(function*(n,e,t){const r=n.Eu.shift(),o=Pg.from(r,e,t);yield b1(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield bv(n)}),OA.apply(this,arguments)}function yN(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,Xe.Z)(function*(n,e){var t;e&&Tf(n).ou&&(yield(t=(0,Xe.Z)(function*(r,o){if(kT(l=o.code)&&l!==Ue.ABORTED){const d=r.Eu.shift();Tf(r).Qo(),yield b1(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield bv(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),C1(n)&&S1(n)}),NA.apply(this,arguments)}function T1(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,Xe.Z)(function*(n,e){const t=xt(n);t.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const r=Sf(t);t.vu.add(3),yield Dv(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield TI(t)}),PA.apply(this,arguments)}function kA(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,Xe.Z)(function*(n,e){const t=xt(n);e?(t.vu.delete(2),yield TI(t)):e||(t.vu.add(2),yield Dv(t),t.bu.set("Unknown"))}),FA.apply(this,arguments)}function Cv(n){return n.Su||(n.Su=function(e,t,r){const o=xt(e);return o.fu(),new rN(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:cN.bind(null,n),ao:uN.bind(null,n),nu:dN.bind(null,n)}),n.Ru.push(function(){var e=(0,Xe.Z)(function*(t){t?(n.Su.Qo(),bA(n)?DA(n):n.bu.set("Unknown")):(yield n.Su.stop(),D1(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Tf(n){return n.Du||(n.Du=function(e,t,r){const o=xt(e);return o.fu(),new iN(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:pN.bind(null,n),ao:yN.bind(null,n),au:gN.bind(null,n),cu:mN.bind(null,n)}),n.Ru.push(function(){var e=(0,Xe.Z)(function*(t){t?(n.Du.Qo(),yield bv(n)):(yield n.Du.stop(),n.Eu.length>0&&(lt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class LA{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,l){const d=Date.now()+r,m=new LA(e,t,d,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rt(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sv(n,e){if(Gr("AsyncQueue",`${e}: ${n}`),Yl(n))return new rt(Ue.UNAVAILABLE,`${e}: ${n}`);throw n}class Tv{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ct.comparator(t.key,r.key):(t,r)=>Ct.comparator(t.key,r.key),this.keyedMap=Ag(),this.sortedSet=new yr(this.comparator)}static emptySet(e){return new Tv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Tv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class A1{constructor(){this.Cu=new yr(Ct.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Pt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Av{constructor(e,t,r,o,l,d,m,I,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=I,this.hasCachedResults=C}static fromInitialDocuments(e,t,r,o,l){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Av(e,t,Tv.emptySet(t),d,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class vN{constructor(){this.Nu=void 0,this.listeners=[]}}class _N{constructor(){this.queries=new Xl(e=>hf(e),Sd),this.onlineState="Unknown",this.ku=new Set}}function BA(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,Xe.Z)(function*(n,e){const t=xt(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new vN),o)try{l.Nu=yield t.onListen(r)}catch(d){const m=Sv(d,`Initialization of query '${W0(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Mu(t.onlineState),l.Nu&&e.$u(l.Nu)&&jA(t)}),$A.apply(this,arguments)}function VA(n,e){return UA.apply(this,arguments)}function UA(){return UA=(0,Xe.Z)(function*(n,e){const t=xt(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),UA.apply(this,arguments)}function IN(n,e){const t=xt(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.$u(o)&&(r=!0);d.Nu=o}}r&&jA(t)}function EN(n,e,t){const r=xt(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function jA(n){n.ku.forEach(e=>{e.next()})}class HA{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Av(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Av.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class wN{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class M1{constructor(e){this.serializer=e}rr(e){return Qs(this.serializer,e)}ur(e){return e.metadata.exists?jT(this.serializer,e.document,!1):_r.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Wr(e)}}class DN{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=x1(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=Bn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new M1(this.serializer);for(const o of e)if(o.metadata.queries){const l=r.rr(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||_n()).add(l);t.set(d,m)}}return t}complete(){var e=this;return(0,Xe.Z)(function*(){const t=yield function wv(n,e,t,r){return bI.apply(this,arguments)}(e.localStore,new M1(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const o of e.queries)yield dA(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function x1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class R1{constructor(e){this.key=e}}class O1{constructor(e){this.key=e}}class N1{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=_n(),this.mutatedKeys=_n(),this.tc=q0(e),this.ec=new Tv(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new A1,o=t?t.ec:this.ec;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const I="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,C="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,k)=>{const ae=o.get(A),Te=Td(this.query,k)?k:null,Ze=!!ae&&this.mutatedKeys.has(ae.key),ut=!!Te&&(Te.hasLocalMutations||this.mutatedKeys.has(Te.key)&&Te.hasCommittedMutations);let dt=!1;ae&&Te?ae.data.isEqual(Te.data)?Ze!==ut&&(r.track({type:3,doc:Te}),dt=!0):this.rc(ae,Te)||(r.track({type:2,doc:Te}),dt=!0,(I&&this.tc(Te,I)>0||C&&this.tc(Te,C)<0)&&(m=!0)):!ae&&Te?(r.track({type:0,doc:Te}),dt=!0):ae&&!Te&&(r.track({type:1,doc:ae}),dt=!0,(I||C)&&(m=!0)),dt&&(Te?(d=d.add(Te),l=ut?l.add(A):l.delete(A)):(d=d.delete(A),l=l.delete(A)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const A="F"===this.query.limitType?d.last():d.first();d=d.delete(A.key),l=l.delete(A.key),r.track({type:1,doc:A})}return{ec:d,ic:r,zi:m,mutatedKeys:l}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((C,A)=>function(k,ae){const Te=Ze=>{switch(Ze){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return Te(k)-Te(ae)}(C.type,A.type)||this.tc(C.doc,A.doc)),this.oc(r);const d=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,I=m!==this.Xu;return this.Xu=m,0!==l.length||I?{snapshot:new Av(this.query,e.ec,o,l,e.mutatedKeys,0===m,I,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:d}:{cc:d}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new A1,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=_n(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new O1(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new R1(r))}),t}hc(e){this.Yu=e.ir,this.Zu=_n();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Av.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class bN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class CN{constructor(e){this.key=e,this.fc=!1}}class SN{constructor(e,t,r,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.dc={},this.wc=new Xl(m=>hf(m),Sd),this._c=new Map,this.mc=new Set,this.gc=new yr(Ct.comparator),this.yc=new Map,this.Ic=new Eb,this.Tc={},this.Ec=new Map,this.Ac=Pd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function TN(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,Xe.Z)(function*(n,e){const t=fM(n);let r,o;const l=t.wc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.lc();else{const d=yield Et(t.localStore,os(e)),m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield GA(t,e,r,"current"===m,d.resumeToken),t.isPrimaryClient&&Tb(t.remoteStore,d)}return o}),zA.apply(this,arguments)}function GA(n,e,t,r,o){return WA.apply(this,arguments)}function WA(){return WA=(0,Xe.Z)(function*(n,e,t,r,o){n.Rc=(k,ae,Te)=>{return(Ze=(0,Xe.Z)(function*(ut,dt,Yt,hn){let Jt=dt.view.sc(Yt);Jt.zi&&(Jt=yield dn(ut.localStore,dt.query,!1).then(({documents:Kn})=>dt.view.sc(Kn,Jt)));const mn=hn&&hn.targetChanges.get(dt.targetId),An=dt.view.applyChanges(Jt,ut.isPrimaryClient,mn);return nM(ut,dt.targetId,An.cc),An.snapshot}),function(ut,dt,Yt,hn){return Ze.apply(this,arguments)})(n,k,ae,Te);var Ze};const l=yield dn(n.localStore,e,!0),d=new N1(e,l.ir),m=d.sc(l.documents),I=Fo.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),C=d.applyChanges(m,n.isPrimaryClient,I);nM(n,t,C.cc);const A=new bN(e,t,d);return n.wc.set(e,A),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),C.snapshot}),WA.apply(this,arguments)}function AN(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,Xe.Z)(function*(n,e){const t=xt(n),r=t.wc.get(e),o=t._c.get(r.targetId);if(o.length>1)return t._c.set(r.targetId,o.filter(l=>!Sd(l,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Lt(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),AI(t.remoteStore,r.targetId),Mv(t,r.targetId)}).catch(jc))):(Mv(t,r.targetId),yield Lt(t.localStore,r.targetId,!0))}),qA.apply(this,arguments)}function YA(){return YA=(0,Xe.Z)(function*(n,e,t){const r=pM(n);try{const o=yield function(l,d){const m=xt(l),I=Nr.now(),C=d.reduce((ae,Te)=>ae.add(Te.key),_n());let A,k;return m.persistence.runTransaction("Locally write mutations","readwrite",ae=>{let Te=_o(),Ze=_n();return m.Zi.getEntries(ae,C).next(ut=>{Te=ut,Te.forEach((dt,Yt)=>{Yt.isValidDocument()||(Ze=Ze.add(dt))})}).next(()=>m.localDocuments.getOverlayedDocuments(ae,Te)).next(ut=>{A=ut;const dt=[];for(const Yt of d){const hn=a1(Yt,A.get(Yt.key).overlayedDocument);null!=hn&&dt.push(new eu(Yt.key,hn,bD(hn.value.mapValue),xr.exists(!0)))}return m.mutationQueue.addMutationBatch(ae,I,dt,d)}).next(ut=>{k=ut;const dt=ut.applyToLocalDocumentSet(A,Ze);return m.documentOverlayCache.saveOverlays(ae,ut.batchId,dt)})}).then(()=>({batchId:k.batchId,changes:Mg(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,d,m){let I=l.Tc[l.currentUser.toKey()];I||(I=new yr(In)),I=I.insert(d,m),l.Tc[l.currentUser.toKey()]=I}(r,o.batchId,t),yield Fd(r,o.changes),yield bv(r.remoteStore)}catch(o){const l=Sv(o,"Failed to persist write");t.reject(l)}}),YA.apply(this,arguments)}function P1(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,Xe.Z)(function*(n,e){const t=xt(n);try{const r=yield function Ce(n,e){const t=xt(n),r=e.snapshotVersion;let o=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Zi.newChangeBuffer({trackRemovals:!0});o=t.Ji;const m=[];e.targetChanges.forEach((A,k)=>{const ae=o.get(k);if(!ae)return;m.push(t.Bs.removeMatchingKeys(l,A.removedDocuments,k).next(()=>t.Bs.addMatchingKeys(l,A.addedDocuments,k)));let Te=ae.withSequenceNumber(l.currentSequenceNumber);var Ze,ut,dt;null!==e.targetMismatches.get(k)?Te=Te.withResumeToken(Ai.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):A.resumeToken.approximateByteSize()>0&&(Te=Te.withResumeToken(A.resumeToken,r)),o=o.insert(k,Te),ut=Te,dt=A,(0===(Ze=ae).resumeToken.approximateByteSize()||ut.snapshotVersion.toMicroseconds()-Ze.snapshotVersion.toMicroseconds()>=3e8||dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(l,Te))});let I=_o(),C=_n();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,A))}),m.push(Qe(l,d,e.documentUpdates).next(A=>{I=A.nr,C=A.sr})),!r.isEqual(Ht.min())){const A=t.Bs.getLastRemoteSnapshotVersion(l).next(k=>t.Bs.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(A)}return Ne.waitFor(m).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,I,C)).next(()=>I)}).then(l=>(t.Ji=o,l))}(t.localStore,e);e.targetChanges.forEach((o,l)=>{const d=t.yc.get(l);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.fc=!0:o.modifiedDocuments.size>0?Gt(d.fc):o.removedDocuments.size>0&&(Gt(d.fc),d.fc=!1))}),yield Fd(t,r,e)}catch(r){yield jc(r)}}),KA.apply(this,arguments)}function k1(n,e,t){const r=xt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.wc.forEach((l,d)=>{const m=d.view.Mu(e);m.snapshot&&o.push(m.snapshot)}),function(l,d){const m=xt(l);m.onlineState=d;let I=!1;m.queries.forEach((C,A)=>{for(const k of A.listeners)k.Mu(d)&&(I=!0)}),I&&jA(m)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xN(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Xe.Z)(function*(n,e,t){const r=xt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.yc.get(e),l=o&&o.key;if(l){let d=new yr(Ct.comparator);d=d.insert(l,_r.newNoDocument(l,Ht.min()));const m=_n().add(l),I=new lv(Ht.min(),new Map,new yr(In),d,m);yield P1(r,I),r.gc=r.gc.remove(l),r.yc.delete(e),rM(r)}else yield Lt(r.localStore,e,!1).then(()=>Mv(r,e,t)).catch(jc)}),ZA.apply(this,arguments)}function RN(n,e){return XA.apply(this,arguments)}function XA(){return XA=(0,Xe.Z)(function*(n,e){const t=xt(n),r=e.batch.batchId;try{const o=yield function U(n,e){const t=xt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.Zi.newChangeBuffer({trackRemovals:!0});return function(d,m,I,C){const A=I.batch,k=A.keys();let ae=Ne.resolve();return k.forEach(Te=>{ae=ae.next(()=>C.getEntry(m,Te)).next(Ze=>{const ut=I.docVersions.get(Te);Gt(null!==ut),Ze.version.compareTo(ut)<0&&(A.applyToRemoteDocument(Ze,I),Ze.isValidDocument()&&(Ze.setReadTime(I.commitVersion),C.addEntry(Ze)))})}),ae.next(()=>d.mutationQueue.removeMutationBatch(m,A))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=_n();for(let I=0;I<d.mutationResults.length;++I)d.mutationResults[I].transformResults.length>0&&(m=m.add(d.batch.mutations[I].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);tM(t,r,null),eM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Fd(t,o)}catch(o){yield jc(o)}}),XA.apply(this,arguments)}function ON(n,e,t){return QA.apply(this,arguments)}function QA(){return QA=(0,Xe.Z)(function*(n,e,t){const r=xt(n);try{const o=yield function(l,d){const m=xt(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",I=>{let C;return m.mutationQueue.lookupMutationBatch(I,d).next(A=>(Gt(null!==A),C=A.keys(),m.mutationQueue.removeMutationBatch(I,A))).next(()=>m.mutationQueue.performConsistencyCheck(I)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(I,C,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(I,C)).next(()=>m.localDocuments.getDocuments(I,C))})}(r.localStore,e);tM(r,e,t),eM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Fd(r,o)}catch(o){yield jc(o)}}),QA.apply(this,arguments)}function JA(){return JA=(0,Xe.Z)(function*(n,e){const t=xt(n);Sf(t.remoteStore)||lt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=xt(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ec.get(r)||[];o.push(e),t.Ec.set(r,o)}catch(r){const o=Sv(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),JA.apply(this,arguments)}function eM(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function tM(n,e,t){const r=xt(n);let o=r.Tc[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function Mv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||F1(n,r)})}function F1(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(AI(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),rM(n))}function nM(n,e,t){for(const r of t)r instanceof R1?(n.Ic.addReference(r.key,e),PN(n,r)):r instanceof O1?(lt("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||F1(n,r.key)):Pt()}function PN(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(lt("SyncEngine","New document in limbo: "+t),n.mc.add(r),rM(n))}function rM(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ct(Bn.fromString(e)),r=n.Ac.next();n.yc.set(r,new CN(t)),n.gc=n.gc.insert(t,r),Tb(n.remoteStore,new Js(os(bd(t.path)),r,"TargetPurposeLimboResolution",Ts.ct))}}function Fd(n,e,t){return iM.apply(this,arguments)}function iM(){return iM=(0,Xe.Z)(function*(n,e,t){const r=xt(n),o=[],l=[],d=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,I)=>{d.push(r.Rc(I,e,t).then(C=>{if((C||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(I.targetId,C?.fromCache?"not-current":"current"),C){o.push(C);const A=p.Li(I.targetId,C);l.push(A)}}))}),yield Promise.all(d),r.dc.nu(o),yield(m=(0,Xe.Z)(function*(I,C){const A=xt(I);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>Ne.forEach(C,ae=>Ne.forEach(ae.Fi,Te=>A.persistence.referenceDelegate.addReference(k,ae.targetId,Te)).next(()=>Ne.forEach(ae.Bi,Te=>A.persistence.referenceDelegate.removeReference(k,ae.targetId,Te)))))}catch(k){if(!Yl(k))throw k;lt("LocalStore","Failed to update sequence numbers: "+k)}for(const k of C){const ae=k.targetId;if(!k.fromCache){const Te=A.Ji.get(ae),ut=Te.withLastLimboFreeSnapshotVersion(Te.snapshotVersion);A.Ji=A.Ji.insert(ae,ut)}}}),function(I,C){return m.apply(this,arguments)})(r.localStore,l))}),iM.apply(this,arguments)}function kN(n,e){return oM.apply(this,arguments)}function oM(){return oM=(0,Xe.Z)(function*(n,e){const t=xt(n);if(!t.currentUser.isEqual(e)){lt("SyncEngine","User change. New user:",e.toKey());const r=yield T(t.localStore,e);t.currentUser=e,(o=t).Ec.forEach(d=>{d.forEach(m=>{m.reject(new rt(Ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fd(t,r.er)}var o}),oM.apply(this,arguments)}function FN(n,e){const t=xt(n),r=t.yc.get(e);if(r&&r.fc)return _n().add(r.key);{let o=_n();const l=t._c.get(e);if(!l)return o;for(const d of l){const m=t.wc.get(d);o=o.unionWith(m.view.nc)}return o}}function LN(n,e){return sM.apply(this,arguments)}function sM(){return sM=(0,Xe.Z)(function*(n,e){const t=xt(n),r=yield dn(t.localStore,e.query,!0),o=e.view.hc(r);return t.isPrimaryClient&&nM(t,e.targetId,o.cc),o}),sM.apply(this,arguments)}function BN(n,e){return aM.apply(this,arguments)}function aM(){return aM=(0,Xe.Z)(function*(n,e){const t=xt(n);return Pn(t.localStore,e).then(r=>Fd(t,r))}),aM.apply(this,arguments)}function $N(n,e,t,r){return lM.apply(this,arguments)}function lM(){return lM=(0,Xe.Z)(function*(n,e,t,r){const o=xt(n),l=yield function(d,m){const I=xt(d),C=xt(I.mutationQueue);return I.persistence.runTransaction("Lookup mutation documents","readonly",A=>C.Sn(A,m).next(k=>k?I.localDocuments.getDocuments(A,k):Ne.resolve(null)))}(o.localStore,e);var m;null!==l?("pending"===t?yield bv(o.remoteStore):"acknowledged"===t||"rejected"===t?(tM(o,e,r||null),eM(o,e),m=e,xt(xt(o.localStore).mutationQueue).Cn(m)):Pt(),yield Fd(o,l)):lt("SyncEngine","Cannot apply mutation batch with id: "+e)}),lM.apply(this,arguments)}function cM(){return cM=(0,Xe.Z)(function*(n,e){const t=xt(n);if(fM(t),pM(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield L1(t,r.toArray());t.vc=!0,yield kA(t.remoteStore,!0);for(const l of o)Tb(t.remoteStore,l)}else if(!1===e&&!1!==t.vc){const r=[];let o=Promise.resolve();t._c.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(Mv(t,d),Lt(t.localStore,d,!0))),AI(t.remoteStore,d)}),yield o,yield L1(t,r),function(l){const d=xt(l);d.yc.forEach((m,I)=>{AI(d.remoteStore,I)}),d.Ic.Ts(),d.yc=new Map,d.gc=new yr(Ct.comparator)}(t),t.vc=!1,yield kA(t.remoteStore,!1)}}),cM.apply(this,arguments)}function L1(n,e,t){return uM.apply(this,arguments)}function uM(){return uM=(0,Xe.Z)(function*(n,e,t){const r=xt(n),o=[],l=[];for(const d of e){let m;const I=r._c.get(d);if(I&&0!==I.length){m=yield Et(r.localStore,os(I[0]));for(const C of I){const A=r.wc.get(C),k=yield LN(r,A);k.snapshot&&l.push(k.snapshot)}}else{const C=yield Rn(r.localStore,d);m=yield Et(r.localStore,C),yield GA(r,B1(C),d,!1,m.resumeToken)}o.push(m)}return r.dc.nu(l),o}),uM.apply(this,arguments)}function B1(n){return ND(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function UN(n){const e=xt(n);return xt(xt(e.localStore).persistence).$i()}function jN(n,e,t,r){return dM.apply(this,arguments)}function dM(){return dM=(0,Xe.Z)(function*(n,e,t,r){const o=xt(n);if(o.vc)return void lt("SyncEngine","Ignoring unexpected query state notification.");const l=o._c.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield Pn(o.localStore,FD(l[0])),m=lv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ai.EMPTY_BYTE_STRING);yield Fd(o,d,m);break}case"rejected":yield Lt(o.localStore,e,!0),Mv(o,e,r);break;default:Pt()}}),dM.apply(this,arguments)}function HN(n,e,t){return hM.apply(this,arguments)}function hM(){return hM=(0,Xe.Z)(function*(n,e,t){const r=fM(n);if(r.vc){for(const o of e){if(r._c.has(o)){lt("SyncEngine","Adding an already active target "+o);continue}const l=yield Rn(r.localStore,o),d=yield Et(r.localStore,l);yield GA(r,B1(l),d.targetId,!1,d.resumeToken),Tb(r.remoteStore,d)}for(const o of t)r._c.has(o)&&(yield Lt(r.localStore,o,!1).then(()=>{AI(r.remoteStore,o),Mv(r,o)}).catch(jc))}}),hM.apply(this,arguments)}function fM(n){const e=xt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=P1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xN.bind(null,e),e.dc.nu=IN.bind(null,e.eventManager),e.dc.Pc=EN.bind(null,e.eventManager),e}function pM(n){const e=xt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ON.bind(null,e),e}class MI{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Xe.Z)(function*(){t.serializer=SI(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return D(this.persistence,new y,e.initialUser,this.serializer)}createPersistence(e){return new wb(DI.zs,this.serializer)}createSharedClientState(e){return new v1}terminate(){var e=this;return(0,Xe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gM extends MI{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Xe.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield pM(r.Vc.syncEngine),yield bv(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return D(this.persistence,new y,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Iv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new lT(t,this.persistence);return new aT(e.asyncQueue,r)}createPersistence(e){const t=h(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Lo.withCacheSize(this.cacheSizeBytes):Lo.DEFAULT;return new s(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,I1(),Sb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new v1}}class $1 extends gM{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Xe.Z)(function*(){yield t().call(r,e);const o=r.Vc.syncEngine;r.sharedClientState instanceof mA&&(r.sharedClientState.syncEngine={jr:$N.bind(null,o),zr:jN.bind(null,o),Wr:HN.bind(null,o),$i:UN.bind(null,o),Qr:BN.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var l=(0,Xe.Z)(function*(d){yield function VN(n,e){return cM.apply(this,arguments)}(r.Vc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}createSharedClientState(e){const t=I1();if(!mA.D(t))throw new rt(Ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=h(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class xv{initialize(e,t){var r=this;return(0,Xe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>k1(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=kN.bind(null,r.syncEngine),yield kA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new _N}createDatastore(e){const t=SI(e.databaseInfo.databaseId),r=new nN(e.databaseInfo);return new oN(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=m=>k1(this.syncEngine,m,0),d=_1.D()?new _1:new JO,new lN(t,r,o,l,d);var t,r,o,l,d}createSyncEngine(e,t){return function(r,o,l,d,m,I,C){const A=new SN(r,o,l,d,m,I);return C&&(A.vc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Xe.Z)(function*(t){const r=xt(t);lt("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Dv(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function V1(n,e=10240){let t=0;return{read:()=>(0,Xe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Xe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Mb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class WN{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new ji,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Xe.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Xe.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Xe.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),o=Number(r);isNaN(o)&&e.Mc(`length string (${r}) is not valid number`);const l=yield e.$c(o);return new wN(JSON.parse(l),t.length+o)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Xe.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Xe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Xe.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class qN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Xe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new rt(Ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Xe.Z)(function*(l,d){const m=xt(l),I=xd(m.serializer)+"/documents",C={documents:d.map(Te=>Fg(m.serializer,Te))},A=yield m.vo("BatchGetDocuments",I,C,d.length),k=new Map;A.forEach(Te=>{const Ze=function eb(n,e){return"found"in e?function(t,r){Gt(!!r.found);const o=Qs(t,r.found.name),l=Wr(r.found.updateTime),d=r.found.createTime?Wr(r.found.createTime):Ht.min(),m=new ro({mapValue:{fields:r.found.fields}});return _r.newFoundDocument(o,l,d,m)}(n,e):"missing"in e?function(t,r){Gt(!!r.missing),Gt(!!r.readTime);const o=Qs(t,r.missing),l=Wr(r.readTime);return _r.newNoDocument(o,l)}(n,e):Pt()}(m.serializer,Te);k.set(Ze.key.toString(),Ze)});const ae=[];return d.forEach(Te=>{const Ze=k.get(Te.toString());Gt(!!Ze),ae.push(Ze)}),ae}),function(l,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ng(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Xe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=Ct.fromPath(o);e.mutations.push(new GD(l,e.precondition(l)))}),yield(r=(0,Xe.Z)(function*(o,l){const d=xt(o),m=xd(d.serializer)+"/documents",I={writes:l.map(C=>Lg(d.serializer,C))};yield d.Io("Commit",m,I)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Pt();t=Ht.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new rt(Ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ht.min())?xr.exists(!1):xr.updateTime(t):xr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ht.min()))throw new rt(Ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xr.updateTime(t)}return xr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class YN{constructor(e,t,r,o,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=l,this.Bc=r.maxAttempts,this.qo=new vA(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Xe.Z)(function*(){const t=new qN(e.datastore),r=e.qc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.Uc(l)}))}).catch(o=>{e.Uc(o)})}))}qc(e){try{const t=this.updateFunction(e);return!Id(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!kT(t)}return!1}}class KN{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=zr.UNAUTHENTICATED,this.clientId=rT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Xe.Z)(function*(m){lt("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(lt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Xe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rt(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Xe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Sv(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function xb(n,e){return mM.apply(this,arguments)}function mM(){return mM=(0,Xe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Xe.Z)(function*(l){r.isEqual(l)||(yield T(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),mM.apply(this,arguments)}function yM(n,e){return vM.apply(this,arguments)}function vM(){return vM=(0,Xe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield _M(n);lt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>T1(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>T1(e.remoteStore,l)),n._onlineComponents=e}),vM.apply(this,arguments)}function U1(n){return"FirebaseError"===n.name?n.code===Ue.FAILED_PRECONDITION||n.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function _M(n){return IM.apply(this,arguments)}function IM(){return IM=(0,Xe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){lt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield xb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!U1(t))throw t;Ss("Error using user provided cache. Falling back to memory cache: "+t),yield xb(n,new MI)}}else lt("FirestoreClient","Using default OfflineComponentProvider"),yield xb(n,new MI);return n._offlineComponents}),IM.apply(this,arguments)}function Rb(n){return EM.apply(this,arguments)}function EM(){return EM=(0,Xe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(lt("FirestoreClient","Using user provided OnlineComponentProvider"),yield yM(n,n._uninitializedComponentsProvider._online)):(lt("FirestoreClient","Using default OnlineComponentProvider"),yield yM(n,new xv))),n._onlineComponents}),EM.apply(this,arguments)}function j1(n){return _M(n).then(e=>e.persistence)}function Ob(n){return _M(n).then(e=>e.localStore)}function H1(n){return Rb(n).then(e=>e.remoteStore)}function wM(n){return Rb(n).then(e=>e.syncEngine)}function Rv(n){return DM.apply(this,arguments)}function DM(){return DM=(0,Xe.Z)(function*(n){const e=yield Rb(n),t=e.eventManager;return t.onListen=TN.bind(null,e.syncEngine),t.onUnlisten=AN.bind(null,e.syncEngine),t}),DM.apply(this,arguments)}function G1(n,e,t={}){const r=new ji;return n.asyncQueue.enqueueAndForget((0,Xe.Z)(function*(){return function(o,l,d,m,I){const C=new Mb({next:k=>{l.enqueueAndForget(()=>VA(o,A));const ae=k.docs.has(d);!ae&&k.fromCache?I.reject(new rt(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):ae&&k.fromCache&&m&&"server"===m.source?I.reject(new rt(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):I.resolve(k)},error:k=>I.reject(k)}),A=new HA(bd(d.path),C,{includeMetadataChanges:!0,Ku:!0});return BA(o,A)}(yield Rv(n),n.asyncQueue,e,t,r)})),r.promise}function W1(n,e,t={}){const r=new ji;return n.asyncQueue.enqueueAndForget((0,Xe.Z)(function*(){return function(o,l,d,m,I){const C=new Mb({next:k=>{l.enqueueAndForget(()=>VA(o,A)),k.fromCache&&"server"===m.source?I.reject(new rt(Ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(k)},error:k=>I.reject(k)}),A=new HA(d,C,{includeMetadataChanges:!0,Ku:!0});return BA(o,A)}(yield Rv(n),n.asyncQueue,e,t,r)})),r.promise}function q1(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Y1=new Map;function bM(n,e,t){if(!t)throw new rt(Ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function K1(n,e,t,r){if(!0===e&&!0===r)throw new rt(Ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Z1(n){if(!Ct.isDocumentKey(n))throw new rt(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function X1(n){if(Ct.isDocumentKey(n))throw new rt(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Nb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Pt()}function jn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new rt(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nb(n);throw new rt(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Q1(n,e){if(e<=0)throw new rt(Ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class J1{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new rt(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rt(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=q1(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new rt(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new rt(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new rt(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xI{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rt(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rt(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Hy;switch(t.type){case"firstParty":return new hg(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new rt(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Y1.get(e);t&&(lt("ComponentProvider","Removing Datastore"),Y1.delete(e),t.terminate())}(this),Promise.resolve()}}class Vr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vr(this.firestore,e,this._key)}}class Bo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bo(this.firestore,e,this._query)}}class ru extends Bo{constructor(e,t,r){super(e,t,bd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vr(this.firestore,null,new Ct(e))}withConverter(e){return new ru(this.firestore,e,this._path)}}function tR(n,e,...t){if(n=(0,Qn.m9)(n),bM("collection","path",e),n instanceof xI){const r=Bn.fromString(e,...t);return X1(r),new ru(n,null,r)}{if(!(n instanceof Vr||n instanceof ru))throw new rt(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bn.fromString(e,...t));return X1(r),new ru(n.firestore,null,r)}}function Pb(n,e,...t){if(n=(0,Qn.m9)(n),1===arguments.length&&(e=rT.A()),bM("doc","path",e),n instanceof xI){const r=Bn.fromString(e,...t);return Z1(r),new Vr(n,null,new Ct(r))}{if(!(n instanceof Vr||n instanceof ru))throw new rt(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bn.fromString(e,...t));return Z1(r),new Vr(n.firestore,n instanceof ru?n.converter:null,new Ct(r))}}function nR(n,e){return n=(0,Qn.m9)(n),e=(0,Qn.m9)(e),(n instanceof Vr||n instanceof ru)&&(e instanceof Vr||e instanceof ru)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function CM(n,e){return n=(0,Qn.m9)(n),e=(0,Qn.m9)(e),n instanceof Bo&&e instanceof Bo&&n.firestore===e.firestore&&Sd(n._query,e._query)&&n.converter===e.converter}class oP{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new vA(this,"async_queue_retry"),this.Xc=()=>{const t=Sb();t&&lt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Sb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Sb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ji;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Xe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Yl(t))throw t;lt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Gr("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const o=LA.createAndSchedule(this,e,t,r,l=>this.na(l));return this.zc.push(o),o}Zc(){this.Wc&&Pt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Xe.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function SM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class sP{constructor(){this._progressObserver={},this._taskCompletionResolver=new ji,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ur extends xI{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new oP,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||rR(this),this._firestoreClient.terminate()}}function Mi(n){return n._firestoreClient||rR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function rR(n){var e,t,r;const o=n._freezeSettings(),l=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new _D(n._databaseId,m,n._persistenceKey,(C=o).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,q1(C.experimentalLongPollingOptions),C.useFetchStreams));var m,C;n._firestoreClient=new KN(n._authCredentials,n._appCheckCredentials,n._queue,l),null!==(t=o.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function iR(n,e,t){const r=new ji;return n.asyncQueue.enqueue((0,Xe.Z)(function*(){try{yield xb(n,t),yield yM(n,e),r.resolve()}catch(o){const l=o;if(!U1(l))throw l;Ss("Error enabling indexeddb cache. Falling back to memory cache: "+l),r.reject(l)}})).then(()=>r.promise)}function oR(n){if(n._initialized||n._terminated)throw new rt(Ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class iu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new iu(Ai.fromBase64String(e))}catch(t){throw new rt(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new iu(Ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ld{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new rt(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jg{constructor(e){this._methodName=e}}class kb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new rt(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new rt(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return In(this._lat,e._lat)||In(this._long,e._long)}}const yP=/^__.*__$/;class vP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new eu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Og(e,this.data,t,this.fieldTransforms)}}class sR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new eu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class Fb{constructor(e,t,r,o,l,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Fb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return $b(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(aR(this.ca)&&yP.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class _P{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||SI(e)}ya(e,t,r,o=!1){return new Fb({ca:e,methodName:t,ga:r,path:$r.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hg(n){const e=n._freezeSettings(),t=SI(n._databaseId);return new _P(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Lb(n,e,t,r,o,l={}){const d=n.ya(l.merge||l.mergeFields?2:0,e,t,o);xM("Data must be an object, but it was:",d,r);const m=uR(r,d);let I,C;if(l.merge)I=new is(d.fieldMask),C=d.fieldTransforms;else if(l.mergeFields){const A=[];for(const k of l.mergeFields){const ae=NI(e,k,t);if(!d.contains(ae))throw new rt(Ue.INVALID_ARGUMENT,`Field '${ae}' is specified in your field mask but missing from your input data.`);hR(A,ae)||A.push(ae)}I=new is(A),C=d.fieldTransforms.filter(k=>I.covers(k.field))}else I=null,C=d.fieldTransforms;return new vP(new ro(m),I,C)}class OI extends jg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof OI}}function lR(n,e,t){return new Fb({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class TM extends jg{_toFieldTransform(e){return new xg(e.path,new Ad)}isEqual(e){return e instanceof TM}}class IP extends jg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=lR(this,e,!0),r=this.pa.map(l=>zg(l,t)),o=new Qc(r);return new xg(e.path,o)}isEqual(e){return this===e}}class EP extends jg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=lR(this,e,!0),r=this.pa.map(l=>zg(l,t)),o=new Jc(r);return new xg(e.path,o)}isEqual(e){return this===e}}class wP extends jg{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new pf(e.serializer,BD(e.serializer,this.Ia));return new xg(e.path,t)}isEqual(e){return this===e}}function AM(n,e,t,r){const o=n.ya(1,e,t);xM("Data must be an object, but it was:",o,r);const l=[],d=ro.empty();Hc(r,(I,C)=>{const A=Bb(e,I,t);C=(0,Qn.m9)(C);const k=o.da(A);if(C instanceof OI)l.push(A);else{const ae=zg(C,k);null!=ae&&(l.push(A),d.set(A,ae))}});const m=new is(l);return new sR(d,m,o.fieldTransforms)}function MM(n,e,t,r,o,l){const d=n.ya(1,e,t),m=[NI(e,r,t)],I=[o];if(l.length%2!=0)throw new rt(Ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ae=0;ae<l.length;ae+=2)m.push(NI(e,l[ae])),I.push(l[ae+1]);const C=[],A=ro.empty();for(let ae=m.length-1;ae>=0;--ae)if(!hR(C,m[ae])){const Te=m[ae];let Ze=I[ae];Ze=(0,Qn.m9)(Ze);const ut=d.da(Te);if(Ze instanceof OI)C.push(Te);else{const dt=zg(Ze,ut);null!=dt&&(C.push(Te),A.set(Te,dt))}}const k=new is(C);return new sR(A,k,d.fieldTransforms)}function cR(n,e,t,r=!1){return zg(t,n.ya(r?4:3,e))}function zg(n,e){if(dR(n=(0,Qn.m9)(n)))return xM("Unsupported field value:",e,n),uR(n,e);if(n instanceof jg)return function(t,r){if(!aR(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const d of t){let m=zg(d,r.wa(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Qn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return BD(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Nr.fromDate(t);return{timestampValue:Md(r.serializer,o)}}if(t instanceof Nr){const o=new Nr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Md(r.serializer,o)}}if(t instanceof kb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof iu)return{bytesValue:eI(r.serializer,t._byteString)};if(t instanceof Vr){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:tI(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Nb(t)}`)}(n,e)}function uR(n,e){const t={};return pT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hc(n,(r,o)=>{const l=zg(o,e.ha(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function dR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Nr||n instanceof kb||n instanceof iu||n instanceof Vr||n instanceof jg)}function xM(n,e,t){if(!dR(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Nb(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function NI(n,e,t){if((e=(0,Qn.m9)(e))instanceof Ld)return e._internalPath;if("string"==typeof e)return Bb(n,e);throw $b("Field path arguments must be of type string or ",n,!1,void 0,t)}const DP=new RegExp("[~\\*/\\[\\]]");function Bb(n,e,t){if(e.search(DP)>=0)throw $b(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ld(...e.split("."))._internalPath}catch{throw $b(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $b(n,e,t,r,o){const l=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let I="";return(l||d)&&(I+=" (found",l&&(I+=` in field ${r}`),d&&(I+=` in document ${o}`),I+=")"),new rt(Ue.INVALID_ARGUMENT,m+n+I)}function hR(n,e){return n.some(t=>t.isEqual(e))}class PI{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class bP extends PI{data(){return super.data()}}function Vb(n,e){return"string"==typeof e?Bb(n,e):e instanceof Ld?e._internalPath:e._delegate._internalPath}function fR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new rt(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RM{}class kI extends RM{}function Af(n,e,...t){let r=[];e instanceof RM&&r.push(e),r=r.concat(t),function(o){const l=o.filter(m=>m instanceof Ov).length,d=o.filter(m=>m instanceof FI).length;if(l>1||l>0&&d>0)throw new rt(Ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class FI extends kI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new FI(e,t,r)}_apply(e){const t=this._parse(e);return yR(e._query,t),new Bo(e.firestore,e.converter,kD(e._query,t))}_parse(e){const t=Hg(e.firestore);return function(o,l,d,m,I,C,A){let k;if(I.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new rt(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){mR(A,C);const ae=[];for(const Te of A)ae.push(gR(m,o,Te));k={arrayValue:{values:ae}}}else k=gR(m,o,A)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||mR(A,C),k=cR(d,"where",A,"in"===C||"not-in"===C);return On.create(I,C,k)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ov extends RM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ov(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let l=r;const d=o.getFlattenedFilters();for(const m of d)yR(l,m),l=kD(l,m)}(e._query,t),new Bo(e.firestore,e.converter,kD(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class OM extends kI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new OM(e,t)}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new rt(Ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new rt(Ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Kl(o,l);return function(m,I){if(null===io(m)){const C=Zl(m);null!==C&&vR(0,C,I.field)}}(r,d),d}(e._query,this._field,this._direction);return new Bo(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new yl(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Ub extends kI{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Ub(e,t,r)}_apply(e){return new Bo(e.firestore,e.converter,Tg(e._query,this._limit,this._limitType))}}class jb extends kI{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new jb(e,t,r)}_apply(e){const t=pR(e,this.type,this._docOrFields,this._inclusive);return new Bo(e.firestore,e.converter,(o=t,new yl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class Hb extends kI{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Hb(e,t,r)}_apply(e){const t=pR(e,this.type,this._docOrFields,this._inclusive);return new Bo(e.firestore,e.converter,(o=t,new yl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function pR(n,e,t,r){if(t[0]=(0,Qn.m9)(t[0]),t[0]instanceof PI)return function(o,l,d,m,I){if(!m)throw new rt(Ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const C=[];for(const A of Cd(o))if(A.field.isKeyField())C.push(vo(l,m.key));else{const k=m.data.field(A.field);if(_g(k))throw new rt(Ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const ae=A.field.canonicalString();throw new rt(Ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ae}' (used as the orderBy) does not exist.`)}C.push(k)}return new Kc(C,I)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Hg(n.firestore);return function(l,d,m,I,C,A){const k=l.explicitOrderBy;if(C.length>k.length)throw new rt(Ue.INVALID_ARGUMENT,`Too many arguments provided to ${I}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ae=[];for(let Te=0;Te<C.length;Te++){const Ze=C[Te];if(k[Te].field.isKeyField()){if("string"!=typeof Ze)throw new rt(Ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${I}(), but got a ${typeof Ze}`);if(!G0(l)&&-1!==Ze.indexOf("/"))throw new rt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${I}() must be a plain document ID, but '${Ze}' contains a slash.`);const ut=l.path.child(Bn.fromString(Ze));if(!Ct.isDocumentKey(ut))throw new rt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${I}() must result in a valid document path, but '${ut}' is not because it contains an odd number of segments.`);const dt=new Ct(ut);ae.push(vo(d,dt))}else{const ut=cR(m,I,Ze);ae.push(ut)}}return new Kc(ae,A)}(n._query,n.firestore._databaseId,o,e,t,r)}}function gR(n,e,t){if("string"==typeof(t=(0,Qn.m9)(t))){if(""===t)throw new rt(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G0(e)&&-1!==t.indexOf("/"))throw new rt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Bn.fromString(t));if(!Ct.isDocumentKey(r))throw new rt(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vo(n,new Ct(r))}if(t instanceof Vr)return vo(n,t._key);throw new rt(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nb(t)}.`)}function mR(n,e){if(!Array.isArray(n)||0===n.length)throw new rt(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yR(n,e){if(e.isInequality()){const r=Zl(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new rt(Ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const l=io(n);null!==l&&vR(0,o,l)}const t=function(r,o){for(const l of r)for(const d of l.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new rt(Ue.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function vR(n,e,t){if(!t.isEqual(e))throw new rt(Ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class NM{convertValue(e,t="none"){switch(qc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Hc(e,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new kb(vr(e.latitude),vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ig(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(lf(e));default:return null}}convertTimestamp(e){const t=zc(e);return new Nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Bn.fromString(e);Gt(Rd(r));const o=new Gc(r.get(1),r.get(3)),l=new Ct(r.popFirst(5));return o.isEqual(t)||Gr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function zb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class NP extends NM{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,t)}}class Gg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bd extends PI{constructor(e,t,r,o,l,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new LI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Vb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class LI extends Bd{data(e={}){return super.data(e)}}class Mf{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Gg(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new LI(this._firestore,this._userDataWriter,r.key,r,new Gg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new rt(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new LI(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Gg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new LI(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Gg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let I=-1,C=-1;return 0!==d.type&&(I=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),C=l.indexOf(d.doc.key)),{type:kP(d.type),doc:m,oldIndex:I,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function kP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}function IR(n,e){return n instanceof Bd&&e instanceof Bd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Mf&&e instanceof Mf&&n._firestore===e._firestore&&CM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class xf extends NM{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,t)}}function ER(n,e,t){n=jn(n,Vr);const r=jn(n.firestore,Ur),o=zb(n.converter,e,t);return Nv(r,[Lb(Hg(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,xr.none())])}function wR(n,e,t,...r){n=jn(n,Vr);const o=jn(n.firestore,Ur),l=Hg(o);let d;return d="string"==typeof(e=(0,Qn.m9)(e))||e instanceof Ld?MM(l,"updateDoc",n._key,e,t,r):AM(l,"updateDoc",n._key,e),Nv(o,[d.toMutation(n._key,xr.exists(!0))])}function DR(n,...e){var t,r,o;n=(0,Qn.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||SM(e[d])||(l=e[d],d++);const m={includeMetadataChanges:l.includeMetadataChanges};if(SM(e[d])){const k=e[d];e[d]=null===(t=k.next)||void 0===t?void 0:t.bind(k),e[d+1]=null===(r=k.error)||void 0===r?void 0:r.bind(k),e[d+2]=null===(o=k.complete)||void 0===o?void 0:o.bind(k)}let I,C,A;if(n instanceof Vr)C=jn(n.firestore,Ur),A=bd(n._key.path),I={next:k=>{e[d]&&e[d](PM(C,n,k))},error:e[d+1],complete:e[d+2]};else{const k=jn(n,Bo);C=jn(k.firestore,Ur),A=k._query;const ae=new xf(C);I={next:Te=>{e[d]&&e[d](new Mf(C,ae,k,Te))},error:e[d+1],complete:e[d+2]},fR(n._query)}return function(k,ae,Te,Ze){const ut=new Mb(Ze),dt=new HA(ae,ut,Te);return k.asyncQueue.enqueueAndForget((0,Xe.Z)(function*(){return BA(yield Rv(k),dt)})),()=>{ut.Dc(),k.asyncQueue.enqueueAndForget((0,Xe.Z)(function*(){return VA(yield Rv(k),dt)}))}}(Mi(C),A,m,I)}function Nv(n,e){return function(t,r){const o=new ji;return t.asyncQueue.enqueueAndForget((0,Xe.Z)(function*(){return function MN(n,e,t){return YA.apply(this,arguments)}(yield wM(t),r,o)})),o.promise}(Mi(n),e)}function PM(n,e,t){const r=t.docs.get(e._key),o=new xf(n);return new Bd(n,o,e._key,r,new Gg(t.hasPendingWrites,t.fromCache),e.converter)}const JP={maxAttempts:5};class bR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hg(e)}set(e,t,r){this._verifyNotCommitted();const o=Rf(e,this._firestore),l=zb(o.converter,t,r),d=Lb(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,xr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=Rf(e,this._firestore);let d;return d="string"==typeof(t=(0,Qn.m9)(t))||t instanceof Ld?MM(this._dataReader,"WriteBatch.update",l._key,t,r,o):AM(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,xr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Rf(e,this._firestore);return this._mutations=this._mutations.concat(new Ng(t._key,xr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rt(Ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rf(n,e){if((n=(0,Qn.m9)(n)).firestore!==e)throw new rt(Ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ek extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Hg(e)}get(e){const t=Rf(e,this._firestore),r=new NP(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Pt();const l=o[0];if(l.isFoundDocument())return new PI(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new PI(this._firestore,r,t._key,null,t.converter);throw Pt()})}set(e,t,r){const o=Rf(e,this._firestore),l=zb(o.converter,t,r),d=Lb(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const l=Rf(e,this._firestore);let d;return d="string"==typeof(t=(0,Qn.m9)(t))||t instanceof Ld?MM(this._dataReader,"Transaction.update",l._key,t,r,o):AM(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=Rf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Rf(e,this._firestore),r=new xf(this._firestore);return super.get(e).then(o=>new Bd(this._firestore,r,t._key,o._document,new Gg(!1,!1),t.converter))}}function kM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new rt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function SR(){if(typeof Uint8Array>"u")throw new rt("unimplemented","Uint8Arrays are not available in this environment.")}function TR(){if(!function gT(){return typeof atob<"u"}())throw new rt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){fl=od.SDK_VERSION,(0,od._registerComponent)(new ny.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const l=t.getProvider("app").getImmediate(),d=new Ur(new eT(t.getProvider("auth-internal")),new tT(t.getProvider("app-check-internal")),function(m,I){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new rt(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gc(m.options.projectId,I)}(l,r),l);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,od.registerVersion)(Gw,"3.13.0",n),(0,od.registerVersion)(Gw,"3.13.0","esm2017")}();class BI{constructor(e){this._delegate=e}static fromBase64String(e){return TR(),new BI(iu.fromBase64String(e))}static fromUint8Array(e){return SR(),new BI(iu.fromUint8Array(e))}toBase64(){return TR(),this._delegate.toBase64()}toUint8Array(){return SR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function FM(n){return function ck(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class uk{enableIndexedDbPersistence(e,t){return function lP(n,e){oR(n=jn(n,Ur));const t=Mi(n);if(t._uninitializedComponentsProvider)throw new rt(Ue.FAILED_PRECONDITION,"SDK cache is already specified.");Ss("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new xv;return iR(t,o,new gM(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function cP(n){oR(n=jn(n,Ur));const e=Mi(n);if(e._uninitializedComponentsProvider)throw new rt(Ue.FAILED_PRECONDITION,"SDK cache is already specified.");Ss("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new xv;return iR(e,r,new $1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function uP(n){if(n._initialized&&!n._terminated)throw new rt(Ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ji;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Xe.Z)(function*(){try{yield(t=(0,Xe.Z)(function*(r){if(!Ra.D())return Promise.resolve();const o=r+"main";yield Ra.delete(o)}),function(r){return t.apply(this,arguments)})(h(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class AR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Gc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ss("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function eR(n,e,t,r={}){var o;const l=(n=jn(n,xI))._getSettings(),d=`${e}:${t}`;if("firestore.googleapis.com"!==l.host&&l.host!==d&&Ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:d,ssl:!1})),r.mockUserToken){let m,I;if("string"==typeof r.mockUserToken)m=r.mockUserToken,I=zr.MOCK_USER;else{m=(0,Qn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new rt(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new zr(C)}n._authCredentials=new JS(new T0(m,I))}}(this._delegate,e,t,r)}enableNetwork(){return function hP(n){return function ZN(n){return n.asyncQueue.enqueue((0,Xe.Z)(function*(){const e=yield j1(n),t=yield H1(n);return e.setNetworkEnabled(!0),function(r){const o=xt(r);return o.vu.delete(0),TI(o)}(t)}))}(Mi(n=jn(n,Ur)))}(this._delegate)}disableNetwork(){return function fP(n){return function XN(n){return n.asyncQueue.enqueue((0,Xe.Z)(function*(){const e=yield j1(n),t=yield H1(n);return e.setNetworkEnabled(!1),(r=(0,Xe.Z)(function*(o){const l=xt(o);l.vu.add(0),yield Dv(l),l.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Mi(n=jn(n,Ur)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,K1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function dP(n){return function(e){const t=new ji;return e.asyncQueue.enqueueAndForget((0,Xe.Z)(function*(){return function NN(n,e){return JA.apply(this,arguments)}(yield wM(e),t)})),t.promise}(Mi(n=jn(n,Ur)))}(this._delegate)}onSnapshotsInSync(e){return function zP(n,e){return function eP(n,e){const t=new Mb(e);return n.asyncQueue.enqueueAndForget((0,Xe.Z)(function*(){return r=yield Rv(n),o=t,xt(r).ku.add(o),void o.next();var r,o})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Xe.Z)(function*(){return r=yield Rv(n),o=t,void xt(r).ku.delete(o);var r,o}))}}(Mi(n=jn(n,Ur)),SM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new rt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Pv(this,tR(this._delegate,e))}catch(t){throw Ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new _l(this,Pb(this._delegate,e))}catch(t){throw Ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xs(this,function iP(n,e){if(n=jn(n,xI),bM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new rt(Ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bo(n,null,(t=e,new yl(Bn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function tk(n,e,t){n=jn(n,Ur);const r=Object.assign(Object.assign({},JP),t);return function(o){if(o.maxAttempts<1)throw new rt(Ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,l,d){const m=new ji;return o.asyncQueue.enqueueAndForget((0,Xe.Z)(function*(){const I=yield function z1(n){return Rb(n).then(e=>e.datastore)}(o);new YN(o.asyncQueue,I,d,l,m).run()})),m.promise}(Mi(n),o=>e(new ek(n,o)),r)}(this._delegate,t=>e(new MR(this,t)))}batch(){return Mi(this._delegate),new xR(new bR(this._delegate,e=>Nv(this._delegate,e)))}loadBundle(e){return function pP(n,e){const t=Mi(n=jn(n,Ur)),r=new sP;return function tP(n,e,t,r){const o=function(l,d){let m;return m="string"==typeof l?WD().encode(l):l,I=function(I,C){if(I instanceof Uint8Array)return V1(I,C);if(I instanceof ArrayBuffer)return V1(new Uint8Array(I),C);if(I instanceof ReadableStream)return I.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new WN(I,d);var I}(t,SI(e));n.asyncQueue.enqueueAndForget((0,Xe.Z)(function*(){!function zN(n,e,t){const r=xt(n);var o;(o=(0,Xe.Z)(function*(l,d,m){try{const I=yield d.getMetadata();if(yield function(ae,Te){const Ze=xt(ae),ut=Wr(Te.createTime);return Ze.persistence.runTransaction("hasNewerBundle","readonly",dt=>Ze.qs.getBundleMetadata(dt,Te.id)).then(dt=>!!dt&&dt.createTime.compareTo(ut)>=0)}(l.localStore,I))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(ae=I).totalDocuments,bytesLoaded:ae.totalBytes,totalDocuments:ae.totalDocuments,totalBytes:ae.totalBytes}),Promise.resolve(new Set);m._updateProgress(x1(I));const C=new DN(I,l.localStore,d.serializer);let A=yield d.bc();for(;A;){const ae=yield C.zu(A);ae&&m._updateProgress(ae),A=yield d.bc()}const k=yield C.complete();return yield Fd(l,k.Ju,void 0),yield function(ae,Te){const Ze=xt(ae);return Ze.persistence.runTransaction("Save bundle","readwrite",ut=>Ze.qs.saveBundleMetadata(ut,Te))}(l.localStore,I),m._completeWith(k.progress),Promise.resolve(k.Hu)}catch(I){return Ss("SyncEngine",`Loading bundle failed with ${I}`),m._failWith(I),Promise.resolve(new Set)}var ae}),function(l,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield wM(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function gP(n,e){return function nP(n,e){return n.asyncQueue.enqueue((0,Xe.Z)(function*(){return function(t,r){const o=xt(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.qs.getNamedQuery(l,r))}(yield Ob(n),e)}))}(Mi(n=jn(n,Ur)),e).then(t=>t?new Bo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new xs(this,t):null)}}class Gb extends NM{constructor(e){super(),this.firestore=e}convertBytes(e){return new BI(new iu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return _l.forKey(t,this.firestore,null)}}class MR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Gb(e)}get(e){const t=qg(e);return this._delegate.get(t).then(r=>new $I(this._firestore,new Bd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=qg(e);return r?(kM("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=qg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=qg(e);return this._delegate.delete(t),this}}class xR{constructor(e){this._delegate=e}set(e,t,r){const o=qg(e);return r?(kM("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=qg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=qg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Wg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new LI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new VI(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Wg.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new Wg(e,new Gb(e),t),o.set(t,l)),l}}Wg.INSTANCES=new WeakMap;class _l{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Gb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new rt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new _l(t,new Vr(t._delegate,r,new Ct(e)))}static forKey(e,t,r){return new _l(t,new Vr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Pv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Pv(this.firestore,tR(this._delegate,e))}catch(t){throw Ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qn.m9)(e))instanceof Vr&&nR(this._delegate,e)}set(e,t){t=kM("DocumentReference.set",t);try{return t?ER(this._delegate,e,t):ER(this._delegate,e)}catch(r){throw Ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?wR(this._delegate,e):wR(this._delegate,e,t,...r)}catch(o){throw Ms(o,"updateDoc()","DocumentReference.update()")}}delete(){return function jP(n){return Nv(jn(n.firestore,Ur),[new Ng(n._key,xr.none())])}(this._delegate)}onSnapshot(...e){const t=RR(e),r=OR(e,o=>new $I(this.firestore,new Bd(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return DR(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function LP(n){n=jn(n,Vr);const e=jn(n.firestore,Ur),t=Mi(e),r=new xf(e);return function QN(n,e){const t=new ji;return n.asyncQueue.enqueueAndForget((0,Xe.Z)(function*(){return(r=(0,Xe.Z)(function*(o,l,d){try{const m=yield function(I,C){const A=xt(I);return A.persistence.runTransaction("read document","readonly",k=>A.localDocuments.getDocument(k,C))}(o,l);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new rt(Ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const I=Sv(m,`Failed to get document '${l} from cache`);d.reject(I)}}),function(o,l,d){return r.apply(this,arguments)})(yield Ob(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Bd(e,r,n._key,o,new Gg(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function BP(n){n=jn(n,Vr);const e=jn(n.firestore,Ur);return G1(Mi(e),n._key,{source:"server"}).then(t=>PM(e,n,t))}(this._delegate):function FP(n){n=jn(n,Vr);const e=jn(n.firestore,Ur);return G1(Mi(e),n._key).then(t=>PM(e,n,t))}(this._delegate),t.then(r=>new $I(this.firestore,new Bd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new _l(this.firestore,this._delegate.withConverter(e?Wg.getInstance(this.firestore,e):null))}}function Ms(n,e,t){return n.message=n.message.replace(e,t),n}function RR(n){for(const e of n)if("object"==typeof e&&!FM(e))return e;return{}}function OR(n,e){var t,r;let o;return o=FM(n[0])?n[0]:FM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class $I{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new _l(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return IR(this._delegate,e._delegate)}}class VI extends $I{data(e){const t=this._delegate.data(e);return function QS(n,e){n||Pt()}(void 0!==t),t}}class xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Gb(e)}where(e,t,r){try{return new xs(this.firestore,Af(this._delegate,function CP(n,e,t){const r=e,o=Vb("where",n);return FI._create(o,r,t)}(e,t,r)))}catch(o){throw Ms(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xs(this.firestore,Af(this._delegate,function SP(n,e="asc"){const t=e,r=Vb("orderBy",n);return OM._create(r,t)}(e,t)))}catch(r){throw Ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xs(this.firestore,Af(this._delegate,function TP(n){return Q1("limit",n),Ub._create("limit",n,"F")}(e)))}catch(t){throw Ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xs(this.firestore,Af(this._delegate,function AP(n){return Q1("limitToLast",n),Ub._create("limitToLast",n,"L")}(e)))}catch(t){throw Ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xs(this.firestore,Af(this._delegate,function MP(...n){return jb._create("startAt",n,!0)}(...e)))}catch(t){throw Ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xs(this.firestore,Af(this._delegate,function xP(...n){return jb._create("startAfter",n,!1)}(...e)))}catch(t){throw Ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xs(this.firestore,Af(this._delegate,function RP(...n){return Hb._create("endBefore",n,!1)}(...e)))}catch(t){throw Ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xs(this.firestore,Af(this._delegate,function OP(...n){return Hb._create("endAt",n,!0)}(...e)))}catch(t){throw Ms(t,"endAt()","Query.endAt()")}}isEqual(e){return CM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function VP(n){n=jn(n,Bo);const e=jn(n.firestore,Ur),t=Mi(e),r=new xf(e);return function JN(n,e){const t=new ji;return n.asyncQueue.enqueueAndForget((0,Xe.Z)(function*(){return(r=(0,Xe.Z)(function*(o,l,d){try{const m=yield dn(o,l,!0),I=new N1(l,m.ir),C=I.sc(m.documents),A=I.applyChanges(C,!1);d.resolve(A.snapshot)}catch(m){const I=Sv(m,`Failed to execute query '${l} against cache`);d.reject(I)}}),function(o,l,d){return r.apply(this,arguments)})(yield Ob(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Mf(e,r,n,o))}(this._delegate):"server"===e?.source?function UP(n){n=jn(n,Bo);const e=jn(n.firestore,Ur),t=Mi(e),r=new xf(e);return W1(t,n._query,{source:"server"}).then(o=>new Mf(e,r,n,o))}(this._delegate):function $P(n){n=jn(n,Bo);const e=jn(n.firestore,Ur),t=Mi(e),r=new xf(e);return fR(n._query),W1(t,n._query).then(o=>new Mf(e,r,n,o))}(this._delegate),t.then(r=>new LM(this.firestore,new Mf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=RR(e),r=OR(e,o=>new LM(this.firestore,new Mf(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return DR(this._delegate,t,r)}withConverter(e){return new xs(this.firestore,this._delegate.withConverter(e?Wg.getInstance(this.firestore,e):null))}}class hk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new VI(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class LM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new VI(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new hk(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new VI(this._firestore,r))})}isEqual(e){return IR(this._delegate,e._delegate)}}class Pv extends xs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new _l(this.firestore,e):null}doc(e){try{return new _l(this.firestore,void 0===e?Pb(this._delegate):Pb(this._delegate,e))}catch(t){throw Ms(t,"doc()","CollectionReference.doc()")}}add(e){return function HP(n,e){const t=jn(n.firestore,Ur),r=Pb(n),o=zb(n.converter,e);return Nv(t,[Lb(Hg(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,xr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new _l(this.firestore,t))}isEqual(e){return nR(this._delegate,e._delegate)}withConverter(e){return new Pv(this.firestore,this._delegate.withConverter(e?Wg.getInstance(this.firestore,e):null))}}function qg(n){return jn(n,Vr)}class BM{constructor(...e){this._delegate=new Ld(...e)}static documentId(){return new BM($r.keyField().canonicalString())}isEqual(e){return(e=(0,Qn.m9)(e))instanceof Ld&&this._delegate._internalPath.isEqual(e._internalPath)}}class Yg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function rk(){return new TM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Yg(e)}static delete(){const e=function nk(){return new OI("deleteField")}();return e._methodName="FieldValue.delete",new Yg(e)}static arrayUnion(...e){const t=function ik(...n){return new IP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Yg(t)}static arrayRemove(...e){const t=function ok(...n){return new EP("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Yg(t)}static increment(e){const t=function sk(n){return new wP("increment",n)}(e);return t._methodName="FieldValue.increment",new Yg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const fk={Firestore:AR,GeoPoint:kb,Timestamp:Nr,Blob:BI,Transaction:MR,WriteBatch:xR,DocumentReference:_l,DocumentSnapshot:$I,Query:xs,QueryDocumentSnapshot:VI,QuerySnapshot:LM,CollectionReference:Pv,FieldPath:BM,FieldValue:Yg,setLogLevel:function dk(n){!function XS(n){Uc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function gk(n){(function pk(n,e){n.INTERNAL.registerComponent(new ny.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},fk)))})(n,(e,t)=>new AR(e,t,new uk)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(vS.Z);var mk=x(3019),Wb=x(3093),yk=x(4552);class vk extends wi.x{constructor(e=1/0,t=1/0,r=yk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!o&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const d=t.now();let m=0;for(let I=1;I<r.length&&r[I]<=d;I+=2)m=I;m&&r.splice(0,m+1)}}}var _k=x(3020);function NR(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,_k.B)({connector:()=>new vk(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function PR(n,e){return(0,Xr.m)(e)?(0,Sr.w)(()=>n,e):(0,Sr.w)(()=>n)}var $M=x(5137);x(3182);const UM=new Map,FR={activated:!1,tokenObservers:[]},bk={initialized:!1,enabled:!1};function gi(n){return UM.get(n)||Object.assign({},FR)}function Yb(){return bk}const jM="https://content-firebaseappcheck.googleapis.com/v1",Ak="exchangeDebugToken",LR={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class xk{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Xe.Z)(function*(){t.stop();try{t.pending=new Qn.BH,yield function Rk(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Qn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const $o=new Qn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function HM(n){if(!gi(n).activated)throw $o.create("use-before-activation",{appName:n.name})}function Xb(n,e){return GM.apply(this,arguments)}function GM(){return GM=(0,Xe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const k=yield o.getHeartbeatsHeader();k&&(r["X-Firebase-Client"]=k)}const l={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,l)}catch(k){throw $o.create("fetch-network-error",{originalErrorMessage:k?.message})}if(200!==d.status)throw $o.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(k){throw $o.create("fetch-parse-error",{originalErrorMessage:k?.message})}const I=m.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw $o.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(I[1]),A=Date.now();return{token:m.token,expireTimeMillis:A+C,issuedAtTimeMillis:A}}),GM.apply(this,arguments)}function BR(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${jM}/projects/${t}/apps/${r}:${Ak}?key=${o}`,body:{debug_token:e}}}const kk="firebase-app-check-database",Fk=1,UI="firebase-app-check-store";let Qb=null;function WM(){return WM=(0,Xe.Z)(function*(n,e){const r=(yield function VR(){return Qb||(Qb=new Promise((n,e)=>{try{const t=indexedDB.open(kk,Fk);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e($o.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(UI,{keyPath:"compositeKey"})}}catch(t){e($o.create("storage-open",{originalErrorMessage:t?.message}))}}),Qb)}()).transaction(UI,"readwrite"),l=r.objectStore(UI).put({compositeKey:n,value:e});return new Promise((d,m)=>{l.onsuccess=I=>{d()},r.onerror=I=>{var C;m($o.create("storage-set",{originalErrorMessage:null===(C=I.target.error)||void 0===C?void 0:C.message}))}})}),WM.apply(this,arguments)}const jI=new Oc.Yd("@firebase/app-check");function KM(n,e){return(0,Qn.hl)()?function Bk(n,e){return function UR(n,e){return WM.apply(this,arguments)}(function HR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{jI.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function XM(){return Yb().enabled}function QM(){return JM.apply(this,arguments)}function JM(){return JM=(0,Xe.Z)(function*(){const n=Yb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),JM.apply(this,arguments)}const zk={error:"UNKNOWN_ERROR"};function Gk(n){return Qn.US.encodeString(JSON.stringify(n),!1)}function Jb(n){return ex.apply(this,arguments)}function ex(){return ex=(0,Xe.Z)(function*(n,e=!1){const t=n.app;HM(t);const r=gi(t);let l,o=r.token;if(o&&!kv(o)&&(r.token=void 0,o=void 0),!o){const I=yield r.cachedTokenPromise;I&&(kv(I)?o=I:yield KM(t,void 0))}if(!e&&o&&kv(o))return{token:o.token};let m,d=!1;if(XM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Xb(BR(t,yield QM()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const I=yield r.exchangeTokenPromise;return yield KM(t,I),r.token=I,{token:I.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield gi(t).exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?jI.warn(I.message):jI.error(I),l=I}return o?l?m=kv(o)?{token:o.token,internalError:l}:qR(l):(m={token:o.token},r.token=o,yield KM(t,o)):m=qR(l),d&&function WR(n,e){const t=gi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m}),ex.apply(this,arguments)}function tx(){return tx=(0,Xe.Z)(function*(n){const e=n.app;HM(e);const{provider:t}=gi(e);if(XM()){const r=yield QM(),{token:o}=yield Xb(BR(e,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield t.getToken();return{token:r}}}),tx.apply(this,arguments)}function rx(n,e){const t=gi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function GR(n){const{app:e}=n,t=gi(e);let r=t.tokenRefresher;r||(r=function Wk(n){const{app:e}=n;return new xk((0,Xe.Z)(function*(){let r;if(r=gi(e).token?yield Jb(n,!0):yield Jb(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=gi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},LR.RETRIAL_MIN_WAIT,LR.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function kv(n){return n.expireTimeMillis-Date.now()>0}function qR(n){return{token:Gk(zk),error:n}}class qk{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=gi(this.app);for(const t of e)rx(this.app,t.next);return Promise.resolve()}}const tO="app-check-internal";!function aF(){(0,od._registerComponent)(new ny.wA("app-check",n=>function Yk(n,e){return new qk(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(tO).initialize()})),(0,od._registerComponent)(new ny.wA(tO,n=>function Kk(n){return{getToken:e=>Jb(n,e),getLimitedUseToken:()=>function zR(n){return tx.apply(this,arguments)}(n),addTokenListener:e=>function nx(n,e,t,r){const{app:o}=n,l=gi(o);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:r,type:e}],l.token&&kv(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),GR(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>GR(n))}(n,"INTERNAL",e),removeTokenListener:e=>rx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,od.registerVersion)("@firebase/app-check","0.8.0")}();class ax{constructor(){return(0,eo.vb)("app-check")}}typeof window<"u"&&window;var hF=x(7142);const rO=new c.OlP("angularfire2.auth.use-emulator"),iO=new c.OlP("angularfire2.auth.settings"),oO=new c.OlP("angularfire2.auth.tenant-id"),sO=new c.OlP("angularfire2.auth.langugage-code"),aO=new c.OlP("angularfire2.auth.use-device-language"),lO=new c.OlP("angularfire.auth.persistence"),cO=(n,e,t,r,o,l,d,m)=>(0,Aa.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const I=e.runOutsideAngular(()=>n.auth());if(t&&I.useEmulator(...t),r&&(I.tenantId=r),I.languageCode=o,l&&I.useDeviceLanguage(),d)for(const[C,A]of Object.entries(d))I.settings[C]=A;return m&&I.setPersistence(m),I},[t,r,o,l,d,m]);let uO=(()=>{class n{constructor(t,r,o,l,d,m,I,C,A,k,ae,Te){const Ze=new wi.x,ut=(0,qt.of)(void 0).pipe((0,Wb.Q)(d.outsideAngular),(0,Sr.w)(()=>l.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,5967)))),(0,sn.U)(()=>(0,Aa.on)(t,l,r)),(0,sn.U)(dt=>cO(dt,l,m,C,A,k,I,ae)),NR({bufferSize:1,refCount:!1}));if(oa(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,qt.of)(null);else{ut.pipe(po()).subscribe();const Yt=ut.pipe((0,Sr.w)(mn=>mn.getRedirectResult().then(An=>An,()=>null)),eo.iC,NR({bufferSize:1,refCount:!1})),hn=ut.pipe((0,Sr.w)(mn=>new Co.y(An=>({unsubscribe:l.runOutsideAngular(()=>mn.onAuthStateChanged(Kn=>An.next(Kn),Kn=>An.error(Kn),()=>An.complete()))})))),Jt=ut.pipe((0,Sr.w)(mn=>new Co.y(An=>({unsubscribe:l.runOutsideAngular(()=>mn.onIdTokenChanged(Kn=>An.next(Kn),Kn=>An.error(Kn),()=>An.complete()))}))));this.authState=Yt.pipe(PR(hn),(0,$M.R)(d.outsideAngular),(0,Wb.Q)(d.insideAngular)),this.user=Yt.pipe(PR(Jt),(0,$M.R)(d.outsideAngular),(0,Wb.Q)(d.insideAngular)),this.idToken=this.user.pipe((0,Sr.w)(mn=>mn?(0,Ln.D)(mn.getIdToken()):(0,qt.of)(null))),this.idTokenResult=this.user.pipe((0,Sr.w)(mn=>mn?(0,Ln.D)(mn.getIdTokenResult()):(0,qt.of)(null))),this.credential=(0,mk.T)(Yt,Ze,this.authState.pipe(Qi(mn=>!mn))).pipe((0,sn.U)(mn=>mn?.user?mn:null),(0,$M.R)(d.outsideAngular),(0,Wb.Q)(d.insideAngular))}return(0,Aa.pX)(this,ut,l,{spy:{apply:(dt,Yt,hn)=>{(dt.startsWith("signIn")||dt.startsWith("createUser"))&&hn.then(Jt=>Ze.next(Jt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Aa.Dh),c.LFG(Aa.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(eo.HU),c.LFG(rO,8),c.LFG(iO,8),c.LFG(oO,8),c.LFG(sO,8),c.LFG(aO,8),c.LFG(lO,8),c.LFG(ax,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function dO(n,e){return function pF(n,e=yS.z){return new Co.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function cx(n,e){return dO(n,e).pipe((0,sn.U)(t=>({payload:t,type:"query"})))}function tC(n,e){return cx(n,e).pipe(Mo(void 0),ey(),(0,sn.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const I=o.find(A=>A.doc.ref.isEqual(d.ref)),C=t?.payload.docs.find(A=>A.ref.isEqual(d.ref));I&&JSON.stringify(I.doc.metadata)===JSON.stringify(d.metadata)||!I&&C&&JSON.stringify(C.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),l}))}function hO(n,e,t){return tC(n,t).pipe(ms((r,o)=>function mF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function yF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ux(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ux(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ux(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),(0,ty.x)(),(0,sn.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function ux(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function fO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class pO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=tC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,sn.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Mo(void 0),ey(),Qi(([r,o])=>o.length>0||!r),(0,sn.U)(([r,o])=>o),eo.iC)}auditTrail(e){return this.stateChanges(e).pipe(ms((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=fO(e);return hO(this.query,t,this.afs.schedulers.outsideAngular).pipe(eo.iC)}valueChanges(e={}){return cx(this.query,this.afs.schedulers.outsideAngular).pipe((0,sn.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),eo.iC)}get(e){return(0,Ln.D)(this.query.get(e)).pipe(eo.iC)}add(e){return this.ref.add(e)}doc(e){return new gO(this.ref.doc(e),this.afs)}}class gO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=vO(r,t);return new pO(o,l,this.afs)}snapshotChanges(){return function gF(n,e){return dO(n,e).pipe(Mo(void 0),ey(),(0,sn.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(eo.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,sn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ln.D)(this.ref.get(e)).pipe(eo.iC)}}class vF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?tC(this.query,this.afs.schedulers.outsideAngular).pipe((0,sn.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Qi(t=>t.length>0),eo.iC):tC(this.query,this.afs.schedulers.outsideAngular).pipe(eo.iC)}auditTrail(e){return this.stateChanges(e).pipe(ms((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=fO(e);return hO(this.query,t,this.afs.schedulers.outsideAngular).pipe(eo.iC)}valueChanges(e={}){return cx(this.query,this.afs.schedulers.outsideAngular).pipe((0,sn.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),eo.iC)}get(e){return(0,Ln.D)(this.query.get(e)).pipe(eo.iC)}}const mO=new c.OlP("angularfire2.enableFirestorePersistence"),yO=new c.OlP("angularfire2.firestore.persistenceSettings"),_F=new c.OlP("angularfire2.firestore.settings"),IF=new c.OlP("angularfire2.firestore.use-emulator");function vO(n,e=(t=>t)){return{query:e(n),ref:n}}let _O=(()=>{class n{constructor(t,r,o,l,d,m,I,C,A,k,ae,Te,Ze,ut,dt,Yt,hn){this.schedulers=I;const Jt=(0,Aa.on)(t,m,r),mn=A;k&&cO(Jt,m,ae,Ze,ut,dt,Te,Yt),[this.firestore,this.persistenceEnabled$]=(0,Aa.cc)(`${Jt.name}.firestore`,"AngularFirestore",Jt.name,()=>{const An=m.runOutsideAngular(()=>Jt.firestore());if(l&&An.settings(l),mn&&An.useEmulator(...mn),o&&!oa(d)){const Kn=()=>{try{return(0,Ln.D)(An.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(as){return typeof console<"u"&&console.warn(as),(0,qt.of)(!1)}};return[An,m.runOutsideAngular(Kn)]}return[An,(0,qt.of)(!1)]},[l,mn,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=vO(o,r),m=this.schedulers.ngZone.run(()=>l);return new pO(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),l=this.firestore.collectionGroup(t);return new vF(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new gO(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Aa.Dh),c.LFG(Aa.xv,8),c.LFG(mO,8),c.LFG(_F,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(eo.HU),c.LFG(yO,8),c.LFG(IF,8),c.LFG(uO,8),c.LFG(rO,8),c.LFG(iO,8),c.LFG(oO,8),c.LFG(sO,8),c.LFG(aO,8),c.LFG(lO,8),c.LFG(ax,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),EF=(()=>{class n{constructor(){hF.Z.registerVersion("angularfire",eo.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:mO,useValue:!0},{provide:yO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[_O]}),n})(),wF=(()=>{class n{constructor(){this.firestore=(0,c.f3M)(_O)}getUsers(){return this.firestore.collection("/Users").snapshotChanges().pipe((0,sn.U)(r=>r.map(o=>({id:o.payload.doc.id,name:o.payload.doc.get("name"),pin:o.payload.doc.get("pin"),createdBy:o.payload.doc.get("createdBy"),createdDate:o.payload.doc.get("createdDate"),modifiedBy:o.payload.doc.get("modifiedBy"),modifiedDate:o.payload.doc.get("modifiedDate"),isActive:o.payload.doc.get("isActive")}))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Dt=x(7582),DF=x(4266);const bF=["addListener","removeListener"],CF=["addEventListener","removeEventListener"],SF=["on","off"];function dx(n,e,t,r){if((0,Xr.m)(t)&&(r=t,t=void 0),r)return dx(n,e,t).pipe(ha(r));const[o,l]=function MF(n){return(0,Xr.m)(n.addEventListener)&&(0,Xr.m)(n.removeEventListener)}(n)?CF.map(d=>m=>n[d](e,m,t)):function TF(n){return(0,Xr.m)(n.addListener)&&(0,Xr.m)(n.removeListener)}(n)?bF.map(IO(n,e)):function AF(n){return(0,Xr.m)(n.on)&&(0,Xr.m)(n.off)}(n)?SF.map(IO(n,e)):[];if(!o&&(0,DF.z)(n))return(0,Jr.z)(d=>dx(d,e,t))((0,gs.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new Co.y(d=>{const m=(...I)=>d.next(1<I.length?I:I[0]);return o(m),()=>l(m)})}function IO(n,e){return t=>r=>n[t](e,r)}x(6506),x(8899),x(5298),x(8077);var hx=x(7876),RF=(x(544),x(1273)),HI=x(8354),EO=(x(1767),x(645)),wO=(x(7643),x(4587),x(6953));const NF=hx.i,Tt=["*"],DO=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n);let zI=(()=>{class n{constructor(t,r){this.injector=t,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=t,Fv(this.el)}handleValueChange(t,r){t===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),Fv(this.el))}_handleBlurEvent(t){t===this.el.nativeElement&&(this.onTouched(),Fv(this.el))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(ts)}catch{}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>Fv(this.el)));const r=t.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(l=>{if(typeof r[l]<"u"){const d=r[l].bind(r);r[l]=(...m)=>{d(...m),Fv(this.el)}}})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.zs3),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,hostBindings:function(t,r){1&t&&c.NdJ("ionBlur",function(l){return r._handleBlurEvent(l.target)})}}),n})();const Fv=n=>{DO(()=>{const e=n.nativeElement,t=null!=e.value&&e.value.toString().length>0,r=jF(e);fx(e,r);const o=e.closest("ion-item");o&&fx(o,t?[...r,"item-has-value"]:r)})},jF=n=>{const e=n.classList,t=[];for(let r=0;r<e.length;r++){const o=e.item(r);null!==o&&HF(o,"ng-")&&t.push(`ion-${o.substring(3)}`)}return t},fx=(n,e)=>{const t=n.classList;t.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),t.add(...e)},HF=(n,e)=>n.substring(0,e.length)===e;let bO=(()=>{class n extends zI{constructor(t,r){super(t,r)}_handleInputEvent(t){this.handleValueChange(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.zs3),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(t,r){1&t&&c.NdJ("ionInput",function(l){return r._handleInputEvent(l.target)})},features:[c._Bn([{provide:es,useExisting:n,multi:!0}]),c.qOj]}),n})();const YF=(n,e)=>{const t=n.prototype;e.forEach(r=>{Object.defineProperty(t,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},KF=(n,e)=>{const t=n.prototype;e.forEach(r=>{t[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},Yn=(n,e,t)=>{t.forEach(r=>n[r]=dx(e,r))};function bt(n){return function(t){const{defineCustomElementFn:r,inputs:o,methods:l}=n;return void 0!==r&&r(),o&&YF(t,o),l&&KF(t,l),t}}let CO=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ion-app"]],ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Dt.gn)([bt({})],n),n})(),SO=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Dt.gn)([bt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],n),n})(),TO=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Dt.gn)([bt({inputs:["mode"]})],n),n})(),AO=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Dt.gn)([bt({inputs:["color","mode","translucent"]})],n),n})(),MO=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Dt.gn)([bt({inputs:["color","mode"]})],n),n})(),xO=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Dt.gn)([bt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],n),n})(),RO=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Yn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Dt.gn)([bt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})(),OO=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Dt.gn)([bt({inputs:["fixed"]})],n),n})(),NO=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Yn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Dt.gn)([bt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),PO=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Dt.gn)([bt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],n),n})(),kO=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Dt.gn)([bt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})(),FO=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ion-row"]],ngContentSelectors:Tt,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n=(0,Dt.gn)([bt({})],n),n})();const BO=new c.OlP("USERCONFIG");class UO{constructor(e={}){this.data=e}get(e){return this.data[e]}}let nC=(()=>{class n{constructor(){this.zone=(0,c.f3M)(c.R0b),this.applicationRef=(0,c.f3M)(c.z2F)}create(t,r,o){return new d2(t,r,this.applicationRef,this.zone,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class d2{constructor(e,t,r,o,l){this.environmentInjector=e,this.injector=t,this.applicationRef=r,this.zone=o,this.elementReferenceKey=l,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,r,o){return this.zone.run(()=>new Promise(l=>{const d={...r};void 0!==this.elementReferenceKey&&(d[this.elementReferenceKey]=e),l(h2(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,e,t,d,o,this.elementReferenceKey))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(t);if(o){o.destroy(),this.elRefMap.delete(t);const l=this.elEventsMap.get(t);l&&(l(),this.elEventsMap.delete(t))}r()}))}}const h2=(n,e,t,r,o,l,d,m,I,C,A)=>{const k=c.zs3.create({providers:p2(I),parent:t}),ae=(0,c.LMc)(m,{environmentInjector:e,elementInjector:k}),Te=ae.instance,Ze=ae.location.nativeElement;if(I&&(A&&void 0!==Te[A]&&console.error(`[Ionic Error]: ${A} is a reserved property when using ${d.tagName.toLowerCase()}. Rename or remove the "${A}" property from ${m.name}.`),Object.assign(Te,I)),C)for(const dt of C)Ze.classList.add(dt);const ut=jO(n,Te,Ze);return d.appendChild(Ze),r.attachView(ae.hostView),o.set(Ze,ae),l.set(Ze,ut),Ze},f2=[HI.L,HI.a,HI.b,HI.c,HI.d],jO=(n,e,t)=>n.run(()=>{const r=f2.filter(o=>"function"==typeof e[o]).map(o=>{const l=d=>e[o](d.detail);return t.addEventListener(o,l),()=>t.removeEventListener(o,l)});return()=>r.forEach(o=>o())}),HO=new c.OlP("NavParamsToken"),p2=n=>[{provide:HO,useValue:n},{provide:UO,useFactory:g2,deps:[HO]}],g2=n=>new UO(n);class YO{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,r){return this.ctrl.dismiss(e,t,r)}getTop(){return this.ctrl.getTop()}}let R2=(()=>{class n extends YO{constructor(){super(EO.m),this.angularDelegate=(0,c.f3M)(nC),this.injector=(0,c.f3M)(c.zs3),this.environmentInjector=(0,c.f3M)(c.lqb)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),O2=(()=>{class n extends YO{constructor(){super(EO.c),this.angularDelegate=(0,c.f3M)(nC),this.injector=(0,c.f3M)(c.zs3),this.environmentInjector=(0,c.f3M)(c.lqb)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const N2=(n,e,t)=>()=>{if(e.defaultView&&typeof window<"u"){(0,RF.s)({...n,_zoneGate:l=>t.run(l)});const o="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function OF(){var n=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&n.push(x.e(6748).then(x.t.bind(x,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&n.push(x.e(2214).then(x.t.bind(x,2668,23)))}return Promise.all(n)}().then(()=>((n,e)=>typeof window>"u"?Promise.resolve():(0,wO.p)().then(()=>(NF(),(0,wO.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),e))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:DO,jmp:l=>t.runOutsideAngular(l),ael(l,d,m,I){l[o](d,m,I)},rel(l,d,m,I){l.removeEventListener(d,m,I)}}))}};let P2=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:BO,useValue:t},{provide:c.ip1,useFactory:N2,multi:!0,deps:[BO,ve,c.R0b]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[nC,R2,O2],imports:[Yi]}),n})();const k2=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(){this.userServices=(0,c.f3M)(wF),this.router=(0,c.f3M)($i),this.loginForm=new Rp({pin:new T_(0)})}onSubmit(){let t=this.loginForm.get("pin")?.value;4===t?.toString().length&&(console.log(this.loginForm.value),this.userServices.getUsers().subscribe(r=>{r.filter(l=>l.pin==t).length>0?this.router.navigate(["/dashboard"]):console.error("Not valid")}))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:12,vars:1,consts:[[1,"login-grid"],[3,"formGroup"],["maxlength","4","type","password","formControlName","pin",1,"ion-text-center","text-space",3,"ngModelChange"]],template:function(t,r){1&t&&(c.TgZ(0,"ion-grid",0)(1,"ion-row")(2,"ion-col")(3,"ion-card")(4,"ion-card-header")(5,"ion-card-title"),c._uU(6,"Mileage Calculator"),c.qZA()(),c.TgZ(7,"ion-card-content")(8,"form",1)(9,"ion-list")(10,"ion-item")(11,"ion-input",2),c.NdJ("ngModelChange",function(){return r.onSubmit()}),c.qZA()()()()()()()()()),2&t&&(c.xp6(8),c.Q6J("formGroup",r.loginForm))},dependencies:[SO,TO,AO,MO,xO,OO,NO,PO,kO,FO,bO,GE,AE,ME,F_,Ym,Km],styles:[".text-space[_ngcontent-%COMP%]{letter-spacing:calc(10vw - 16px);padding-left:calc(10vw - 16px);text-align:center}.login-grid[_ngcontent-%COMP%]{margin-top:50%}"]}),n})()},{path:"dashboard",component:Mx}];let F2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Pm.forRoot(k2),Pm]}),n})(),L2=(()=>{class n{constructor(){this.title="mileageCalculator"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&(c.TgZ(0,"ion-app")(1,"ion-content"),c._UZ(2,"router-outlet"),c.qZA()())},dependencies:[Sh,CO,RO]}),n})();const B2_firebaseConfig={apiKey:"AIzaSyC8vB4W-na-a3lnoI0lXyyoNodJc8OlnVA",authDomain:"mileagecalculator-ff59b.firebaseapp.com",projectId:"mileagecalculator-ff59b",storageBucket:"mileagecalculator-ff59b.appspot.com",messagingSenderId:"439632748644",appId:"1:439632748644:web:a307c17d2de0d4059bbf71"};let $2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[L2]}),n.\u0275inj=c.cJS({imports:[Ol,F2,P2.forRoot(),mS,Aa.hO.initializeApp(B2_firebaseConfig),EF]}),n})();lc().bootstrapModule($2).catch(n=>console.error(n))},5619:(wt,Pe,x)=>{"use strict";x.d(Pe,{X:()=>K});var c=x(8645);class K extends c.x{constructor(ce){super(),this._value=ce}get value(){return this.getValue()}_subscribe(ce){const oe=super._subscribe(ce);return!oe.closed&&ce.next(this._value),oe}getValue(){const{hasError:ce,thrownError:oe,_value:ve}=this;if(ce)throw oe;return this._throwIfClosed(),ve}next(ce){super.next(this._value=ce)}}},5592:(wt,Pe,x)=>{"use strict";x.d(Pe,{y:()=>Se});var c=x(1887),K=x(7394),P=x(4850),ce=x(8407),oe=x(2653),ve=x(4674),Y=x(1441);let Se=(()=>{class z{constructor(re){re&&(this._subscribe=re)}lift(re){const De=new z;return De.source=this,De.operator=re,De}subscribe(re,De,_e){const ue=function B(z){return z&&z instanceof c.Lv||function j(z){return z&&(0,ve.m)(z.next)&&(0,ve.m)(z.error)&&(0,ve.m)(z.complete)}(z)&&(0,K.Nn)(z)}(re)?re:new c.Hp(re,De,_e);return(0,Y.x)(()=>{const{operator:G,source:Ae}=this;ue.add(G?G.call(ue,Ae):Ae?this._subscribe(ue):this._trySubscribe(ue))}),ue}_trySubscribe(re){try{return this._subscribe(re)}catch(De){re.error(De)}}forEach(re,De){return new(De=le(De))((_e,ue)=>{const G=new c.Hp({next:Ae=>{try{re(Ae)}catch(je){ue(je),G.unsubscribe()}},error:ue,complete:_e});this.subscribe(G)})}_subscribe(re){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(re)}[P.L](){return this}pipe(...re){return(0,ce.U)(re)(this)}toPromise(re){return new(re=le(re))((De,_e)=>{let ue;this.subscribe(G=>ue=G,G=>_e(G),()=>De(ue))})}}return z.create=ee=>new z(ee),z})();function le(z){var ee;return null!==(ee=z??oe.config.Promise)&&void 0!==ee?ee:Promise}},8645:(wt,Pe,x)=>{"use strict";x.d(Pe,{x:()=>Y});var c=x(5592),K=x(7394);const ce=(0,x(2306).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=x(9039),ve=x(1441);let Y=(()=>{class le extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const z=new Se(this,this);return z.operator=B,z}_throwIfClosed(){if(this.closed)throw new ce}next(B){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const z of this.currentObservers)z.next(B)}})}error(B){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:z}=this;for(;z.length;)z.shift().error(B)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:z,isStopped:ee,observers:re}=this;return z||ee?K.Lc:(this.currentObservers=null,re.push(B),new K.w0(()=>{this.currentObservers=null,(0,oe.P)(re,B)}))}_checkFinalizedStatuses(B){const{hasError:z,thrownError:ee,isStopped:re}=this;z?B.error(ee):re&&B.complete()}asObservable(){const B=new c.y;return B.source=this,B}}return le.create=(j,B)=>new Se(j,B),le})();class Se extends Y{constructor(j,B){super(),this.destination=j,this.source=B}next(j){var B,z;null===(z=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===z||z.call(B,j)}error(j){var B,z;null===(z=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===z||z.call(B,j)}complete(){var j,B;null===(B=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===B||B.call(j)}_subscribe(j){var B,z;return null!==(z=null===(B=this.source)||void 0===B?void 0:B.subscribe(j))&&void 0!==z?z:K.Lc}}},1887:(wt,Pe,x)=>{"use strict";x.d(Pe,{Hp:()=>_e,Lv:()=>z});var c=x(4674),K=x(7394),P=x(2653),ce=x(3894);function oe(){}const ve=le("C",void 0,void 0);function le(Z,fe,X){return{kind:Z,value:fe,error:X}}var j=x(7599),B=x(1441);class z extends K.w0{constructor(fe){super(),this.isStopped=!1,fe?(this.destination=fe,(0,K.Nn)(fe)&&fe.add(this)):this.destination=je}static create(fe,X,pe){return new _e(fe,X,pe)}next(fe){this.isStopped?Ae(function Se(Z){return le("N",Z,void 0)}(fe),this):this._next(fe)}error(fe){this.isStopped?Ae(function Y(Z){return le("E",void 0,Z)}(fe),this):(this.isStopped=!0,this._error(fe))}complete(){this.isStopped?Ae(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(fe){this.destination.next(fe)}_error(fe){try{this.destination.error(fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ee=Function.prototype.bind;function re(Z,fe){return ee.call(Z,fe)}class De{constructor(fe){this.partialObserver=fe}next(fe){const{partialObserver:X}=this;if(X.next)try{X.next(fe)}catch(pe){ue(pe)}}error(fe){const{partialObserver:X}=this;if(X.error)try{X.error(fe)}catch(pe){ue(pe)}else ue(fe)}complete(){const{partialObserver:fe}=this;if(fe.complete)try{fe.complete()}catch(X){ue(X)}}}class _e extends z{constructor(fe,X,pe){let te;if(super(),(0,c.m)(fe)||!fe)te={next:fe??void 0,error:X??void 0,complete:pe??void 0};else{let me;this&&P.config.useDeprecatedNextContext?(me=Object.create(fe),me.unsubscribe=()=>this.unsubscribe(),te={next:fe.next&&re(fe.next,me),error:fe.error&&re(fe.error,me),complete:fe.complete&&re(fe.complete,me)}):te=fe}this.destination=new De(te)}}function ue(Z){P.config.useDeprecatedSynchronousErrorHandling?(0,B.O)(Z):(0,ce.h)(Z)}function Ae(Z,fe){const{onStoppedNotification:X}=P.config;X&&j.z.setTimeout(()=>X(Z,fe))}const je={closed:!0,next:oe,error:function G(Z){throw Z},complete:oe}},7394:(wt,Pe,x)=>{"use strict";x.d(Pe,{Lc:()=>ve,w0:()=>oe,Nn:()=>Y});var c=x(4674);const P=(0,x(2306).d)(le=>function(B){le(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((z,ee)=>`${ee+1}) ${z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var ce=x(9039);class oe{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const re of B)re.remove(this);else B.remove(this);const{initialTeardown:z}=this;if((0,c.m)(z))try{z()}catch(re){j=re instanceof P?re.errors:[re]}const{_finalizers:ee}=this;if(ee){this._finalizers=null;for(const re of ee)try{Se(re)}catch(De){j=j??[],De instanceof P?j=[...j,...De.errors]:j.push(De)}}if(j)throw new P(j)}}add(j){var B;if(j&&j!==this)if(this.closed)Se(j);else{if(j instanceof oe){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(j)}}_hasParent(j){const{_parentage:B}=this;return B===j||Array.isArray(B)&&B.includes(j)}_addParent(j){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(j),B):B?[B,j]:j}_removeParent(j){const{_parentage:B}=this;B===j?this._parentage=null:Array.isArray(B)&&(0,ce.P)(B,j)}remove(j){const{_finalizers:B}=this;B&&(0,ce.P)(B,j),j instanceof oe&&j._removeParent(this)}}oe.EMPTY=(()=>{const le=new oe;return le.closed=!0,le})();const ve=oe.EMPTY;function Y(le){return le instanceof oe||le&&"closed"in le&&(0,c.m)(le.remove)&&(0,c.m)(le.add)&&(0,c.m)(le.unsubscribe)}function Se(le){(0,c.m)(le)?le():le.unsubscribe()}},2653:(wt,Pe,x)=>{"use strict";x.d(Pe,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(wt,Pe,x)=>{"use strict";x.d(Pe,{E:()=>K});const K=new(x(5592).y)(oe=>oe.complete())},2459:(wt,Pe,x)=>{"use strict";x.d(Pe,{D:()=>fe});var c=x(4829),K=x(3093),P=x(5137),ve=x(5592),Se=x(4971),le=x(4674),j=x(7103);function z(X,pe){if(!X)throw new Error("Iterable cannot be null");return new ve.y(te=>{(0,j.f)(te,pe,()=>{const me=X[Symbol.asyncIterator]();(0,j.f)(te,pe,()=>{me.next().then(Q=>{Q.done?te.complete():te.next(Q.value)})},0,!0)})})}var ee=x(8382),re=x(4026),De=x(4266),_e=x(3664),ue=x(5726),G=x(9853),Ae=x(541);function fe(X,pe){return pe?function Z(X,pe){if(null!=X){if((0,ee.c)(X))return function ce(X,pe){return(0,c.Xf)(X).pipe((0,P.R)(pe),(0,K.Q)(pe))}(X,pe);if((0,De.z)(X))return function Y(X,pe){return new ve.y(te=>{let me=0;return pe.schedule(function(){me===X.length?te.complete():(te.next(X[me++]),te.closed||this.schedule())})})}(X,pe);if((0,re.t)(X))return function oe(X,pe){return(0,c.Xf)(X).pipe((0,P.R)(pe),(0,K.Q)(pe))}(X,pe);if((0,ue.D)(X))return z(X,pe);if((0,_e.T)(X))return function B(X,pe){return new ve.y(te=>{let me;return(0,j.f)(te,pe,()=>{me=X[Se.h](),(0,j.f)(te,pe,()=>{let Q,ye;try{({value:Q,done:ye}=me.next())}catch(ke){return void te.error(ke)}ye?te.complete():te.next(Q)},0,!0)}),()=>(0,le.m)(me?.return)&&me.return()})}(X,pe);if((0,Ae.L)(X))return function je(X,pe){return z((0,Ae.Q)(X),pe)}(X,pe)}throw(0,G.z)(X)}(X,pe):(0,c.Xf)(X)}},4829:(wt,Pe,x)=>{"use strict";x.d(Pe,{Xf:()=>ee});var c=x(7582),K=x(4266),P=x(4026),ce=x(5592),oe=x(8382),ve=x(5726),Y=x(9853),Se=x(3664),le=x(541),j=x(4674),B=x(3894),z=x(4850);function ee(Z){if(Z instanceof ce.y)return Z;if(null!=Z){if((0,oe.c)(Z))return function re(Z){return new ce.y(fe=>{const X=Z[z.L]();if((0,j.m)(X.subscribe))return X.subscribe(fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Z);if((0,K.z)(Z))return function De(Z){return new ce.y(fe=>{for(let X=0;X<Z.length&&!fe.closed;X++)fe.next(Z[X]);fe.complete()})}(Z);if((0,P.t)(Z))return function _e(Z){return new ce.y(fe=>{Z.then(X=>{fe.closed||(fe.next(X),fe.complete())},X=>fe.error(X)).then(null,B.h)})}(Z);if((0,ve.D)(Z))return G(Z);if((0,Se.T)(Z))return function ue(Z){return new ce.y(fe=>{for(const X of Z)if(fe.next(X),fe.closed)return;fe.complete()})}(Z);if((0,le.L)(Z))return function Ae(Z){return G((0,le.Q)(Z))}(Z)}throw(0,Y.z)(Z)}function G(Z){return new ce.y(fe=>{(function je(Z,fe){var X,pe,te,me;return(0,c.mG)(this,void 0,void 0,function*(){try{for(X=(0,c.KL)(Z);!(pe=yield X.next()).done;)if(fe.next(pe.value),fe.closed)return}catch(Q){te={error:Q}}finally{try{pe&&!pe.done&&(me=X.return)&&(yield me.call(X))}finally{if(te)throw te.error}}fe.complete()})})(Z,fe).catch(X=>fe.error(X))})}},3019:(wt,Pe,x)=>{"use strict";x.d(Pe,{T:()=>ve});var c=x(7537),K=x(4829),P=x(6232),ce=x(4564),oe=x(2459);function ve(...Y){const Se=(0,ce.yG)(Y),le=(0,ce._6)(Y,1/0),j=Y;return j.length?1===j.length?(0,K.Xf)(j[0]):(0,c.J)(le)((0,oe.D)(j,Se)):P.E}},2096:(wt,Pe,x)=>{"use strict";x.d(Pe,{of:()=>P});var c=x(4564),K=x(2459);function P(...ce){const oe=(0,c.yG)(ce);return(0,K.D)(ce,oe)}},8251:(wt,Pe,x)=>{"use strict";x.d(Pe,{x:()=>K});var c=x(1887);function K(ce,oe,ve,Y,Se){return new P(ce,oe,ve,Y,Se)}class P extends c.Lv{constructor(oe,ve,Y,Se,le,j){super(oe),this.onFinalize=le,this.shouldUnsubscribe=j,this._next=ve?function(B){try{ve(B)}catch(z){oe.error(z)}}:super._next,this._error=Se?function(B){try{Se(B)}catch(z){oe.error(z)}finally{this.unsubscribe()}}:super._error,this._complete=Y?function(){try{Y()}catch(B){oe.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},3997:(wt,Pe,x)=>{"use strict";x.d(Pe,{x:()=>ce});var c=x(2737),K=x(9360),P=x(8251);function ce(ve,Y=c.y){return ve=ve??oe,(0,K.e)((Se,le)=>{let j,B=!0;Se.subscribe((0,P.x)(le,z=>{const ee=Y(z);(B||!ve(j,ee))&&(B=!1,j=ee,le.next(z))}))})}function oe(ve,Y){return ve===Y}},7398:(wt,Pe,x)=>{"use strict";x.d(Pe,{U:()=>P});var c=x(9360),K=x(8251);function P(ce,oe){return(0,c.e)((ve,Y)=>{let Se=0;ve.subscribe((0,K.x)(Y,le=>{Y.next(ce.call(oe,le,Se++))}))})}},7537:(wt,Pe,x)=>{"use strict";x.d(Pe,{J:()=>P});var c=x(1631),K=x(2737);function P(ce=1/0){return(0,c.z)(K.y,ce)}},1631:(wt,Pe,x)=>{"use strict";x.d(Pe,{z:()=>Se});var c=x(7398),K=x(4829),P=x(9360),ce=x(7103),oe=x(8251),Y=x(4674);function Se(le,j,B=1/0){return(0,Y.m)(j)?Se((z,ee)=>(0,c.U)((re,De)=>j(z,re,ee,De))((0,K.Xf)(le(z,ee))),B):("number"==typeof j&&(B=j),(0,P.e)((z,ee)=>function ve(le,j,B,z,ee,re,De,_e){const ue=[];let G=0,Ae=0,je=!1;const Z=()=>{je&&!ue.length&&!G&&j.complete()},fe=pe=>G<z?X(pe):ue.push(pe),X=pe=>{re&&j.next(pe),G++;let te=!1;(0,K.Xf)(B(pe,Ae++)).subscribe((0,oe.x)(j,me=>{ee?.(me),re?fe(me):j.next(me)},()=>{te=!0},void 0,()=>{if(te)try{for(G--;ue.length&&G<z;){const me=ue.shift();De?(0,ce.f)(j,De,()=>X(me)):X(me)}Z()}catch(me){j.error(me)}}))};return le.subscribe((0,oe.x)(j,fe,()=>{je=!0,Z()})),()=>{_e?.()}}(z,ee,le,B)))}},3093:(wt,Pe,x)=>{"use strict";x.d(Pe,{Q:()=>ce});var c=x(7103),K=x(9360),P=x(8251);function ce(oe,ve=0){return(0,K.e)((Y,Se)=>{Y.subscribe((0,P.x)(Se,le=>(0,c.f)(Se,oe,()=>Se.next(le),ve),()=>(0,c.f)(Se,oe,()=>Se.complete(),ve),le=>(0,c.f)(Se,oe,()=>Se.error(le),ve)))})}},3020:(wt,Pe,x)=>{"use strict";x.d(Pe,{B:()=>oe});var c=x(4829),K=x(8645),P=x(1887),ce=x(9360);function oe(Y={}){const{connector:Se=(()=>new K.x),resetOnError:le=!0,resetOnComplete:j=!0,resetOnRefCountZero:B=!0}=Y;return z=>{let ee,re,De,_e=0,ue=!1,G=!1;const Ae=()=>{re?.unsubscribe(),re=void 0},je=()=>{Ae(),ee=De=void 0,ue=G=!1},Z=()=>{const fe=ee;je(),fe?.unsubscribe()};return(0,ce.e)((fe,X)=>{_e++,!G&&!ue&&Ae();const pe=De=De??Se();X.add(()=>{_e--,0===_e&&!G&&!ue&&(re=ve(Z,B))}),pe.subscribe(X),!ee&&_e>0&&(ee=new P.Hp({next:te=>pe.next(te),error:te=>{G=!0,Ae(),re=ve(je,le,te),pe.error(te)},complete:()=>{ue=!0,Ae(),re=ve(je,j),pe.complete()}}),(0,c.Xf)(fe).subscribe(ee))})(z)}}function ve(Y,Se,...le){if(!0===Se)return void Y();if(!1===Se)return;const j=new P.Hp({next:()=>{j.unsubscribe(),Y()}});return(0,c.Xf)(Se(...le)).subscribe(j)}},5137:(wt,Pe,x)=>{"use strict";x.d(Pe,{R:()=>K});var c=x(9360);function K(P,ce=0){return(0,c.e)((oe,ve)=>{ve.add(P.schedule(()=>oe.subscribe(ve),ce))})}},4664:(wt,Pe,x)=>{"use strict";x.d(Pe,{w:()=>ce});var c=x(4829),K=x(9360),P=x(8251);function ce(oe,ve){return(0,K.e)((Y,Se)=>{let le=null,j=0,B=!1;const z=()=>B&&!le&&Se.complete();Y.subscribe((0,P.x)(Se,ee=>{le?.unsubscribe();let re=0;const De=j++;(0,c.Xf)(oe(ee,De)).subscribe(le=(0,P.x)(Se,_e=>Se.next(ve?ve(ee,_e,De,re++):_e),()=>{le=null,z()}))},()=>{B=!0,z()}))})}},9397:(wt,Pe,x)=>{"use strict";x.d(Pe,{b:()=>oe});var c=x(4674),K=x(9360),P=x(8251),ce=x(2737);function oe(ve,Y,Se){const le=(0,c.m)(ve)||Y||Se?{next:ve,error:Y,complete:Se}:ve;return le?(0,K.e)((j,B)=>{var z;null===(z=le.subscribe)||void 0===z||z.call(le);let ee=!0;j.subscribe((0,P.x)(B,re=>{var De;null===(De=le.next)||void 0===De||De.call(le,re),B.next(re)},()=>{var re;ee=!1,null===(re=le.complete)||void 0===re||re.call(le),B.complete()},re=>{var De;ee=!1,null===(De=le.error)||void 0===De||De.call(le,re),B.error(re)},()=>{var re,De;ee&&(null===(re=le.unsubscribe)||void 0===re||re.call(le)),null===(De=le.finalize)||void 0===De||De.call(le)}))}):ce.y}},1954:(wt,Pe,x)=>{"use strict";x.d(Pe,{o:()=>oe});var c=x(7394);class K extends c.w0{constructor(Y,Se){super()}schedule(Y,Se=0){return this}}const P={setInterval(ve,Y,...Se){const{delegate:le}=P;return le?.setInterval?le.setInterval(ve,Y,...Se):setInterval(ve,Y,...Se)},clearInterval(ve){const{delegate:Y}=P;return(Y?.clearInterval||clearInterval)(ve)},delegate:void 0};var ce=x(9039);class oe extends K{constructor(Y,Se){super(Y,Se),this.scheduler=Y,this.work=Se,this.pending=!1}schedule(Y,Se=0){var le;if(this.closed)return this;this.state=Y;const j=this.id,B=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(B,j,Se)),this.pending=!0,this.delay=Se,this.id=null!==(le=this.id)&&void 0!==le?le:this.requestAsyncId(B,this.id,Se),this}requestAsyncId(Y,Se,le=0){return P.setInterval(Y.flush.bind(Y,this),le)}recycleAsyncId(Y,Se,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return Se;null!=Se&&P.clearInterval(Se)}execute(Y,Se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(Y,Se);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Y,Se){let j,le=!1;try{this.work(Y)}catch(B){le=!0,j=B||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:Y,scheduler:Se}=this,{actions:le}=Se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(le,this),null!=Y&&(this.id=this.recycleAsyncId(Se,Y,null)),this.delay=null,super.unsubscribe()}}}},2631:(wt,Pe,x)=>{"use strict";x.d(Pe,{v:()=>P});var c=x(4552);class K{constructor(oe,ve=K.now){this.schedulerActionCtor=oe,this.now=ve}schedule(oe,ve=0,Y){return new this.schedulerActionCtor(this,oe).schedule(Y,ve)}}K.now=c.l.now;class P extends K{constructor(oe,ve=K.now){super(oe,ve),this.actions=[],this._active=!1}flush(oe){const{actions:ve}=this;if(this._active)return void ve.push(oe);let Y;this._active=!0;do{if(Y=oe.execute(oe.state,oe.delay))break}while(oe=ve.shift());if(this._active=!1,Y){for(;oe=ve.shift();)oe.unsubscribe();throw Y}}}},6321:(wt,Pe,x)=>{"use strict";x.d(Pe,{z:()=>P});var c=x(1954);const P=new(x(2631).v)(c.o)},4552:(wt,Pe,x)=>{"use strict";x.d(Pe,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},7599:(wt,Pe,x)=>{"use strict";x.d(Pe,{z:()=>c});const c={setTimeout(K,P,...ce){const{delegate:oe}=c;return oe?.setTimeout?oe.setTimeout(K,P,...ce):setTimeout(K,P,...ce)},clearTimeout(K){const{delegate:P}=c;return(P?.clearTimeout||clearTimeout)(K)},delegate:void 0}},4971:(wt,Pe,x)=>{"use strict";x.d(Pe,{h:()=>K});const K=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(wt,Pe,x)=>{"use strict";x.d(Pe,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(wt,Pe,x)=>{"use strict";x.d(Pe,{_6:()=>ve,jO:()=>ce,yG:()=>oe});var c=x(4674);function P(Y){return Y[Y.length-1]}function ce(Y){return(0,c.m)(P(Y))?Y.pop():void 0}function oe(Y){return function K(Y){return Y&&(0,c.m)(Y.schedule)}(P(Y))?Y.pop():void 0}function ve(Y,Se){return"number"==typeof P(Y)?Y.pop():Se}},9039:(wt,Pe,x)=>{"use strict";function c(K,P){if(K){const ce=K.indexOf(P);0<=ce&&K.splice(ce,1)}}x.d(Pe,{P:()=>c})},2306:(wt,Pe,x)=>{"use strict";function c(K){const ce=K(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}x.d(Pe,{d:()=>c})},1441:(wt,Pe,x)=>{"use strict";x.d(Pe,{O:()=>ce,x:()=>P});var c=x(2653);let K=null;function P(oe){if(c.config.useDeprecatedSynchronousErrorHandling){const ve=!K;if(ve&&(K={errorThrown:!1,error:null}),oe(),ve){const{errorThrown:Y,error:Se}=K;if(K=null,Y)throw Se}}else oe()}function ce(oe){c.config.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=oe)}},7103:(wt,Pe,x)=>{"use strict";function c(K,P,ce,oe=0,ve=!1){const Y=P.schedule(function(){ce(),ve?K.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(K.add(Y),!ve)return Y}x.d(Pe,{f:()=>c})},2737:(wt,Pe,x)=>{"use strict";function c(K){return K}x.d(Pe,{y:()=>c})},4266:(wt,Pe,x)=>{"use strict";x.d(Pe,{z:()=>c});const c=K=>K&&"number"==typeof K.length&&"function"!=typeof K},5726:(wt,Pe,x)=>{"use strict";x.d(Pe,{D:()=>K});var c=x(4674);function K(P){return Symbol.asyncIterator&&(0,c.m)(P?.[Symbol.asyncIterator])}},4674:(wt,Pe,x)=>{"use strict";function c(K){return"function"==typeof K}x.d(Pe,{m:()=>c})},8382:(wt,Pe,x)=>{"use strict";x.d(Pe,{c:()=>P});var c=x(4850),K=x(4674);function P(ce){return(0,K.m)(ce[c.L])}},3664:(wt,Pe,x)=>{"use strict";x.d(Pe,{T:()=>P});var c=x(4971),K=x(4674);function P(ce){return(0,K.m)(ce?.[c.h])}},4026:(wt,Pe,x)=>{"use strict";x.d(Pe,{t:()=>K});var c=x(4674);function K(P){return(0,c.m)(P?.then)}},541:(wt,Pe,x)=>{"use strict";x.d(Pe,{L:()=>ce,Q:()=>P});var c=x(7582),K=x(4674);function P(oe){return(0,c.FC)(this,arguments,function*(){const Y=oe.getReader();try{for(;;){const{value:Se,done:le}=yield(0,c.qq)(Y.read());if(le)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Se)}}finally{Y.releaseLock()}})}function ce(oe){return(0,K.m)(oe?.getReader)}},9360:(wt,Pe,x)=>{"use strict";x.d(Pe,{A:()=>K,e:()=>P});var c=x(4674);function K(ce){return(0,c.m)(ce?.lift)}function P(ce){return oe=>{if(K(oe))return oe.lift(function(ve){try{return ce(ve,this)}catch(Y){this.error(Y)}});throw new TypeError("Unable to lift unknown Observable type")}}},8407:(wt,Pe,x)=>{"use strict";x.d(Pe,{U:()=>P,z:()=>K});var c=x(2737);function K(...ce){return P(ce)}function P(ce){return 0===ce.length?c.y:1===ce.length?ce[0]:function(ve){return ce.reduce((Y,Se)=>Se(Y),ve)}}},3894:(wt,Pe,x)=>{"use strict";x.d(Pe,{h:()=>P});var c=x(2653),K=x(7599);function P(ce){K.z.setTimeout(()=>{const{onUnhandledError:oe}=c.config;if(!oe)throw ce;oe(ce)})}},9853:(wt,Pe,x)=>{"use strict";function c(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(Pe,{z:()=>c})},863:(wt,Pe,x)=>{var c={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[7068,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,3591,433],"./ion-datetime_3.entry.js":[7059,3591,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function K(P){if(!x.o(c,P))return Promise.resolve().then(()=>{var ve=new Error("Cannot find module '"+P+"'");throw ve.code="MODULE_NOT_FOUND",ve});var ce=c[P],oe=ce[0];return Promise.all(ce.slice(1).map(x.e)).then(()=>x(oe))}K.keys=()=>Object.keys(c),K.id=863,wt.exports=K},5879:(wt,Pe,x)=>{"use strict";x.d(Pe,{$8M:()=>po,$WT:()=>Qt,$Z:()=>tS,AFp:()=>PC,AaK:()=>z,CRH:()=>Sg,EJc:()=>pi,F$t:()=>Zp,F4k:()=>Pc,FYo:()=>jC,FiY:()=>ya,Gf:()=>df,GfV:()=>Cp,GkF:()=>qh,Gpc:()=>De,HDt:()=>ov,Hsn:()=>J_,JOm:()=>zs,LFG:()=>Sn,LMc:()=>Ev,Lbi:()=>IE,Lck:()=>uT,MMx:()=>oD,NdJ:()=>Iy,Ojb:()=>EE,OlP:()=>Xn,P3R:()=>TC,PXZ:()=>Lg,Q6J:()=>Gp,QGY:()=>Z_,Qsj:()=>AE,R0b:()=>Io,RDi:()=>Ah,Rgc:()=>uf,SBq:()=>Nh,Sil:()=>WD,Suo:()=>Cg,TTD:()=>za,TgZ:()=>ld,VuI:()=>aA,X6Q:()=>Bg,XFs:()=>yt,Xpm:()=>O,Xq5:()=>Fh,Xts:()=>Mm,Y36:()=>Rc,YKP:()=>rD,YNc:()=>gw,Yjl:()=>Je,Yz7:()=>Le,Z0I:()=>$t,ZZ4:()=>vv,_Bn:()=>vg,_UZ:()=>Wp,_c5:()=>mb,_uU:()=>ef,aQg:()=>Df,c2e:()=>rv,cJS:()=>ft,cg1:()=>$c,dDg:()=>tI,dqk:()=>yn,eFA:()=>sI,eJc:()=>Sd,ekj:()=>s0,eoX:()=>nI,f3M:()=>Kt,g9A:()=>kC,h0i:()=>wd,hGG:()=>Pd,iGM:()=>Xc,ifc:()=>Un,ip1:()=>nv,jDz:()=>sD,kL8:()=>Ks,lG2:()=>Ke,lqb:()=>Qu,lri:()=>QD,n5z:()=>Jr,oAB:()=>he,oxw:()=>Q_,q4F:()=>xE,qFp:()=>cA,qLn:()=>Ap,qOj:()=>ty,qZA:()=>Wh,rWj:()=>Wr,rg0:()=>Qd,sBO:()=>lb,s_b:()=>Kl,soG:()=>iv,tb:()=>uv,tp0:()=>Li,uIk:()=>ry,vHH:()=>Z,vpe:()=>vo,wAp:()=>on,xp6:()=>Op,z2F:()=>Rd,zSh:()=>mE,zs3:()=>xc});var c=x(8645),K=x(7394),P=x(5619),ce=x(5592),oe=x(3019),ve=x(2096),Y=x(3020),Se=x(4664),le=x(3997);function j(i){for(let s in i)if(i[s]===j)return s;throw Error("Could not find renamed property on target object.")}function B(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function z(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(z).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ee(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const re=j({__forward_ref__:j});function De(i){return i.__forward_ref__=De,i.toString=function(){return z(this())},i}function _e(i){return ue(i)?i():i}function ue(i){return"function"==typeof i&&i.hasOwnProperty(re)&&i.__forward_ref__===De}function G(i){return i&&!!i.\u0275providers}const je="https://g.co/ng/security#xss";class Z extends Error{constructor(s,a){super(function fe(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function X(i){return"string"==typeof i?i:null==i?"":String(i)}function ye(i,s){throw new Z(-201,!1)}function at(i,s){null==i&&function st(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function Le(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function ft(i){return{providers:i.providers||[],imports:i.imports||[]}}function zt(i){return en(i,Hn)||en(i,mi)}function $t(i){return null!==zt(i)}function en(i,s){return i.hasOwnProperty(s)?i[s]:null}function kn(i){return i&&(i.hasOwnProperty($n)||i.hasOwnProperty(ar))?i[$n]:null}const Hn=j({\u0275prov:j}),$n=j({\u0275inj:j}),mi=j({ngInjectableDef:j}),ar=j({ngInjectorDef:j});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let Ft;function xn(i){const s=Ft;return Ft=i,s}function zn(i,s,a){const u=zt(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&yt.Optional?null:void 0!==s?s:void ye(z(i))}const yn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ir={},ln="__NG_DI_FLAG__",xi="ngTempTokenPath",lo=/\n/gm,yi="__source";let Er;function Vn(i){const s=Er;return Er=i,s}function Ri(i,s=yt.Default){if(void 0===Er)throw new Z(-203,!1);return null===Er?zn(i,void 0,s):Er.get(i,s&yt.Optional?null:void 0,s)}function Sn(i,s=yt.Default){return(function Ut(){return Ft}()||Ri)(_e(i),s)}function Kt(i,s=yt.Default){return Sn(i,J(s))}function J(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function q(i){const s=[];for(let a=0;a<i.length;a++){const u=_e(i[a]);if(Array.isArray(u)){if(0===u.length)throw new Z(900,!1);let h,p=yt.Default;for(let y=0;y<u.length;y++){const E=u[y],D=Ye(E);"number"==typeof D?-1===D?h=E.token:p|=D:h=E}s.push(Sn(h,p))}else s.push(Sn(u))}return s}function de(i,s){return i[ln]=s,i.prototype[ln]=s,i}function Ye(i){return i[ln]}function Vt(i){return{toString:i}.toString()}var tn=(()=>((tn=tn||{})[tn.OnPush=0]="OnPush",tn[tn.Default=1]="Default",tn))(),Un=(()=>{return(i=Un||(Un={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Un;var i})();const Nn={},Wt=[],En=j({\u0275cmp:j}),wr=j({\u0275dir:j}),ti=j({\u0275pipe:j}),zi=j({\u0275mod:j}),Fr=j({\u0275fac:j}),Be=j({__NG_ELEMENT_ID__:j}),xe=j({__NG_ENV_ID__:j});function nt(i,s,a){let u=i.length;for(;;){const h=i.indexOf(s,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const p=s.length;if(h+p===u||i.charCodeAt(h+p)<=32)return h}a=h+1}}function Ot(i,s,a){let u=0;for(;u<a.length;){const h=a[u];if("number"==typeof h){if(0!==h)break;u++;const p=a[u++],y=a[u++],E=a[u++];i.setAttribute(s,y,E,p)}else{const p=h,y=a[++u];nn(p)?i.setProperty(s,p,y):i.setAttribute(s,p,y),u++}}return u}function jt(i){return 3===i||4===i||6===i}function nn(i){return 64===i.charCodeAt(0)}function vn(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?a=h:0===a||Jn(i,a,h,null,-1===a||2===a?s[++u]:null)}}return i}function Jn(i,s,a,u,h){let p=0,y=i.length;if(-1===s)y=-1;else for(;p<i.length;){const E=i[p++];if("number"==typeof E){if(E===s){y=-1;break}if(E>s){y=p-1;break}}}for(;p<i.length;){const E=i[p];if("number"==typeof E)break;if(E===a){if(null===u)return void(null!==h&&(i[p+1]=h));if(u===i[p+1])return void(i[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==y&&(i.splice(y,0,s),p=y+1),i.splice(p++,0,a),null!==u&&i.splice(p++,0,u),null!==h&&i.splice(p++,0,h)}const er="ng-template";function Gn(i,s,a){let u=0,h=!0;for(;u<i.length;){let p=i[u++];if("string"==typeof p&&h){const y=i[u++];if(a&&"class"===p&&-1!==nt(y.toLowerCase(),s,0))return!0}else{if(1===p){for(;u<i.length&&"string"==typeof(p=i[u++]);)if(p.toLowerCase()===s)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function Zn(i){return 4===i.type&&i.value!==er}function bn(i,s,a){return s===(4!==i.type||a?i.value:er)}function Oa(i,s,a){let u=4;const h=i.attrs||[],p=function Rs(i){for(let s=0;s<i.length;s++)if(jt(i[s]))return s;return i.length}(h);let y=!1;for(let E=0;E<s.length;E++){const D=s[E];if("number"!=typeof D){if(!y)if(4&u){if(u=2|1&u,""!==D&&!bn(i,D,a)||""===D&&1===s.length){if(jr(u))return!1;y=!0}}else{const T=8&u?D:s[++E];if(8&u&&null!==i.attrs){if(!Gn(i.attrs,T,a)){if(jr(u))return!1;y=!0}continue}const U=ea(8&u?"class":D,h,Zn(i),a);if(-1===U){if(jr(u))return!1;y=!0;continue}if(""!==T){let ge;ge=U>p?"":h[U+1].toLowerCase();const Ce=8&u?ge:null;if(Ce&&-1!==nt(Ce,T,0)||2&u&&T!==ge){if(jr(u))return!1;y=!0}}}}else{if(!y&&!jr(u)&&!jr(D))return!1;if(y&&jr(D))continue;y=!1,u=D|1&u}}return jr(u)||y}function jr(i){return 0==(1&i)}function ea(i,s,a,u){if(null===s)return-1;let h=0;if(u||!a){let p=!1;for(;h<s.length;){const y=s[h];if(y===i)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=s[++h];for(;"string"==typeof E;)E=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function ta(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function ni(i,s,a=!1){for(let u=0;u<s.length;u++)if(Oa(i,s[u],a))return!0;return!1}function rr(i,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(i.length===u.length){for(let h=0;h<i.length;h++)if(i[h]!==u[h])continue e;return!0}}return!1}function Gi(i,s){return i?":not("+s.trim()+")":s}function na(i){let s=i[0],a=1,u=2,h="",p=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&u){const E=i[++a];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?h+="."+y:4&u&&(h+=" "+y);else""!==h&&!jr(y)&&(s+=Gi(p,h),h=""),u=y,p=p||!jr(u);a++}return""!==h&&(s+=Gi(p,h)),s}function O(i){return Vt(()=>{const s=vi(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===tn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Un.Emulated,styles:i.styles||Wt,_:null,schemas:i.schemas||null,tView:null,id:""};ri(a);const u=i.dependencies;return a.directiveDefs=Wi(u,!1),a.pipeDefs=Wi(u,!0),a.id=function ra(i){let s=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const h of a)s=Math.imul(31,s)+h.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function F(i){return $e(i)||gt(i)}function W(i){return null!==i}function he(i){return Vt(()=>({type:i.type,bootstrap:i.bootstrap||Wt,declarations:i.declarations||Wt,imports:i.imports||Wt,exports:i.exports||Wt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function He(i,s){if(null==i)return Nn;const a={};for(const u in i)if(i.hasOwnProperty(u)){let h=i[u],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=u,s&&(s[h]=p)}return a}function Ke(i){return Vt(()=>{const s=vi(i);return ri(s),s})}function Je(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function $e(i){return i[En]||null}function gt(i){return i[wr]||null}function vt(i){return i[ti]||null}function Qt(i){const s=$e(i)||gt(i)||vt(i);return null!==s&&s.standalone}function Cn(i,s){const a=i[zi]||null;if(!a&&!0===s)throw new Error(`Type ${z(i)} does not have '\u0275mod' property.`);return a}function vi(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||Nn,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Wt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:He(i.inputs,s),outputs:He(i.outputs)}}function ri(i){i.features?.forEach(s=>s(i))}function Wi(i,s){if(!i)return null;const a=s?vt:F;return()=>("function"==typeof i?i():i).map(u=>a(u)).filter(W)}const cr=0,_t=1,pn=2,ir=3,qi=4,Na=5,_i=6,ia=7,ur=8,Yr=9,ls=10,gn=11,Oi=12,$d=13,Uo=14,fr=15,Pa=16,El=17,Yi=18,ka=19,Vd=20,Ki=21,Dr=22,ou=23,oa=24,Dn=25,tc=1,jo=2,Ni=7,sa=9,Kr=11;function br(i){return Array.isArray(i)&&"object"==typeof i[tc]}function Zi(i){return Array.isArray(i)&&!0===i[tc]}function Fa(i){return 0!=(4&i.flags)}function cs(i){return i.componentOffset>-1}function us(i){return 1==(1&i.flags)}function Zr(i){return!!i.template}function oi(i){return 0!=(512&i[pn])}function La(i,s){return i.hasOwnProperty(Fr)?i[Fr]:null}let Yd=yn.WeakRef??class Sl{constructor(s){this.ref=s}deref(){return this.ref}},Va=0,zo=null,Ua=!1;function Or(i){const s=zo;return zo=i,s}class Pi{constructor(){this.id=Va++,this.ref=function $a(i){return new Yd(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,a]of this.producers){const u=a.producerNode.deref();if(void 0!==u&&a.atTrackingVersion===this.trackingVersion){if(u.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(s),u?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=Ua;Ua=!0;try{for(const[a,u]of this.consumers){const h=u.consumerNode.deref();void 0!==h&&h.trackingVersion===u.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),h?.producers.delete(this.id))}}finally{Ua=s}}producerAccessed(){if(Ua)throw new Error("");if(null===zo)return;let s=zo.producers.get(this.id);void 0===s?(s={consumerNode:zo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:zo.trackingVersion},zo.producers.set(this.id,s),this.consumers.set(zo.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=zo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==zo?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let Xd=null;function Qd(i){const s=Or(null);try{return i()}finally{Or(s)}}const hu=()=>{};class fu extends Pi{constructor(s,a,u){super(),this.watch=s,this.schedule=a,this.dirty=!1,this.cleanupFn=hu,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=u}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=Or(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=hu,this.watch(this.registerOnCleanup)}finally{Or(s)}}cleanup(){this.cleanupFn()}}class pu{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function za(){return rc}function rc(i){return i.type.prototype.ngOnChanges&&(i.setInput=Vf),Al}function Al(){const i=Uf(this),s=i?.current;if(s){const a=i.previous;if(a===Nn)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function Vf(i,s,a,u){const h=this.declaredInputs[a],p=Uf(i)||function ic(i,s){return i[gu]=s}(i,{previous:Nn,current:null}),y=p.current||(p.current={}),E=p.previous,D=E[h];y[h]=new pu(D&&D.currentValue,s,E===Nn),i[u]=s}za.ngInherit=!0;const gu="__ngSimpleChanges__";function Uf(i){return i[gu]||null}const Go=function(i,s,a){};function Fn(i){for(;Array.isArray(i);)i=i[cr];return i}function ai(i,s){return Fn(s[i.index])}function th(i,s){return i.data[s]}function ho(i,s){const a=s[i];return br(a)?a:a[cr]}function Wo(i,s){return null==s?null:i[s]}function rh(i){i[El]=0}function vu(i){1024&i[pn]||(i[pn]|=1024,_u(i,1))}function oc(i){1024&i[pn]&&(i[pn]&=-1025,_u(i,-1))}function _u(i,s){let a=i[ir];if(null===a)return;a[Na]+=s;let u=a;for(a=a[ir];null!==a&&(1===s&&1===u[Na]||-1===s&&0===u[Na]);)a[Na]+=s,u=a,a=a[ir]}const Zt={lFrame:Su(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Eu(){return Zt.bindingsEnabled}function wo(){return null!==Zt.skipHydrationRootTNode}function tt(){return Zt.lFrame.lView}function Tn(){return Zt.lFrame.tView}function li(){let i=Ps();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ps(){return Zt.lFrame.currentTNode}function Do(i,s){const a=Zt.lFrame;a.currentTNode=i,a.isParent=s}function Rl(){return Zt.lFrame.isParent}function bu(){Zt.lFrame.isParent=!1}function dr(){return Zt.lFrame.bindingIndex++}function ah(i,s){const a=Zt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Pl(s)}function Pl(i){Zt.lFrame.currentDirectiveIndex=i}function kl(){return Zt.lFrame.currentQueryIndex}function ca(i){Zt.lFrame.currentQueryIndex=i}function qo(i){const s=i[_t];return 2===s.type?s.declTNode:1===s.type?i[_i]:null}function cc(i,s,a){if(a&yt.SkipSelf){let h=s,p=i;for(;!(h=h.parent,null!==h||a&yt.Host||(h=qo(p),null===h||(p=p[Uo],10&h.type))););if(null===h)return!1;s=h,i=p}const u=Zt.lFrame=Ll();return u.currentTNode=s,u.lView=i,!0}function Fl(i){const s=Ll(),a=i[_t];Zt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Ll(){const i=Zt.lFrame,s=null===i?null:i.child;return null===s?Su(i):s}function Su(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Gf(){const i=Zt.lFrame;return Zt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const tm=Gf;function ua(){const i=Gf();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ki(){return Zt.lFrame.selectedIndex}function ks(i){Zt.lFrame.selectedIndex=i}function gr(){const i=Zt.lFrame;return th(i.tView,i.selectedIndex)}let Tu=!0;function $l(){return Tu}function da(i){Tu=i}function Au(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:N}=p;y&&(i.contentHooks??=[]).push(-a,y),E&&((i.contentHooks??=[]).push(a,E),(i.contentCheckHooks??=[]).push(a,E)),D&&(i.viewHooks??=[]).push(-a,D),T&&((i.viewHooks??=[]).push(a,T),(i.viewCheckHooks??=[]).push(a,T)),null!=N&&(i.destroyHooks??=[]).push(a,N)}}function Ya(i,s,a){Co(i,s,3,a)}function Mu(i,s,a,u){(3&i[pn])===a&&Co(i,s,a,u)}function dc(i,s){let a=i[pn];(3&a)===s&&(a&=8191,a+=1,i[pn]=a)}function Co(i,s,a,u){const p=u??-1,y=s.length-1;let E=0;for(let D=void 0!==u?65535&i[El]:0;D<y;D++)if("number"==typeof s[D+1]){if(E=s[D],null!=u&&E>=u)break}else s[D]<0&&(i[El]+=65536),(E<p||-1==p)&&(qf(i,a,s,D),i[El]=(4294901760&i[El])+D+2),D++}function Xr(i,s){Go(4,i,s);const a=Or(null);try{s.call(i)}finally{Or(a),Go(5,i,s)}}function qf(i,s,a,u){const h=a[u]<0,p=a[u+1],E=i[h?-a[u]:a[u]];h?i[pn]>>13<i[El]>>16&&(3&i[pn])===s&&(i[pn]+=8192,Xr(E,p)):Xr(E,p)}const Ln=-1;class qt{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function sn(i){return i!==Ln}function Ei(i){return 32767&i}function ha(i,s){let a=function fh(i){return i>>16}(i),u=s;for(;a>0;)u=u[Uo],a--;return u}let Yo=!0;function Fs(i){const s=Yo;return Yo=i,s}const So=255,Za=5;let ph=0;const To={};function Xa(i,s){const a=pc(i,s);if(-1!==a)return a;const u=s[_t];u.firstCreatePass&&(i.injectorIndex=s.length,ps(u.data,i),ps(s,null),ps(u.blueprint,null));const h=fa(i,s),p=i.injectorIndex;if(sn(h)){const y=Ei(h),E=ha(h,s),D=E[_t].data;for(let T=0;T<8;T++)s[p+T]=E[y+T]|D[y+T]}return s[p+8]=h,p}function ps(i,s){i.push(0,0,0,0,0,0,0,0,s)}function pc(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function fa(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,h=s;for(;null!==h;){if(u=Kf(h),null===u)return Ln;if(a++,h=h[Uo],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return Ln}function gs(i,s,a){!function Ru(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(Be)&&(u=a[Be]),null==u&&(u=a[Be]=ph++);const h=u&So;s.data[i+(h>>Za)]|=1<<h}(i,s,a)}function gc(i,s,a){if(a&yt.Optional||void 0!==i)return i;ye()}function pa(i,s,a,u){if(a&yt.Optional&&void 0===u&&(u=null),!(a&(yt.Self|yt.Host))){const h=i[Yr],p=xn(void 0);try{return h?h.get(s,u,a&yt.Optional):zn(s,u,a&yt.Optional)}finally{xn(p)}}return gc(u,0,a)}function Ko(i,s,a,u=yt.Default,h){if(null!==i){if(2048&s[pn]&&!(u&yt.Self)){const y=function gh(i,s,a,u,h){let p=i,y=s;for(;null!==p&&null!==y&&2048&y[pn]&&!(512&y[pn]);){const E=mc(p,y,a,u|yt.Self,To);if(E!==To)return E;let D=p.parent;if(!D){const T=y[Vd];if(T){const N=T.get(a,To,u);if(N!==To)return N}D=Kf(y),y=y[Uo]}p=D}return h}(i,s,a,u,To);if(y!==To)return y}const p=mc(i,s,a,u,To);if(p!==To)return p}return pa(s,a,u,h)}function mc(i,s,a,u,h){const p=function wi(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Be)?i[Be]:void 0;return"number"==typeof s?s>=0?s&So:Qi:s}(a);if("function"==typeof p){if(!cc(s,i,u))return u&yt.Host?gc(h,0,u):pa(s,a,u,h);try{const y=p(u);if(null!=y||u&yt.Optional)return y;ye()}finally{tm()}}else if("number"==typeof p){let y=null,E=pc(i,s),D=Ln,T=u&yt.Host?s[fr][_i]:null;for((-1===E||u&yt.SkipSelf)&&(D=-1===E?fa(i,s):s[E+8],D!==Ln&&ga(u,!1)?(y=s[_t],E=Ei(D),s=ha(D,s)):E=-1);-1!==E;){const N=s[_t];if(Sr(p,E,N.data)){const U=Ao(E,s,a,y,u,T);if(U!==To)return U}D=s[E+8],D!==Ln&&ga(u,s[_t].data[E+8]===T)&&Sr(p,E,s)?(y=N,E=Ei(D),s=ha(D,s)):E=-1}}return h}function Ao(i,s,a,u,h,p){const y=s[_t],E=y.data[i+8],N=Ls(E,y,a,null==u?cs(E)&&Yo:u!=y&&0!=(3&E.type),h&yt.Host&&p===E);return null!==N?Bs(s,y,N,E):To}function Ls(i,s,a,u,h){const p=i.providerIndexes,y=s.data,E=1048575&p,D=i.directiveStart,N=p>>20,ge=h?E+N:i.directiveEnd;for(let Ce=u?E:E+N;Ce<ge;Ce++){const Qe=y[Ce];if(Ce<D&&a===Qe||Ce>=D&&Qe.type===a)return Ce}if(h){const Ce=y[D];if(Ce&&Zr(Ce)&&Ce.type===a)return D}return null}function Bs(i,s,a,u){let h=i[a];const p=s.data;if(function Qr(i){return i instanceof qt}(h)){const y=h;y.resolving&&function te(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Z(-200,`Circular dependency in DI detected for ${i}${a}`)}(function pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():X(i)}(p[a]));const E=Fs(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?xn(y.injectImpl):null;cc(i,u,yt.Default);try{h=i[a]=y.factory(void 0,p,i,u),s.firstCreatePass&&a>=u.directiveStart&&function uh(i,s,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=s.type.prototype;if(u){const y=rc(s);(a.preOrderHooks??=[]).push(i,y),(a.preOrderCheckHooks??=[]).push(i,y)}h&&(a.preOrderHooks??=[]).push(0-i,h),p&&((a.preOrderHooks??=[]).push(i,p),(a.preOrderCheckHooks??=[]).push(i,p))}(a,p[a],s)}finally{null!==D&&xn(D),Fs(E),y.resolving=!1,tm()}}return h}function Sr(i,s,a){return!!(a[s+(i>>Za)]&1<<i)}function ga(i,s){return!(i&yt.Self||i&yt.Host&&s)}class Mo{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return Ko(this._tNode,this._lView,s,J(u),a)}}function Qi(){return new Mo(li(),tt())}function Jr(i){return Vt(()=>{const s=i.prototype.constructor,a=s[Fr]||$s(s),u=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==u;){const p=h[Fr]||$s(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function $s(i){return ue(i)?()=>{const s=$s(_e(i));return s&&s()}:La(i)}function Kf(i){const s=i[_t],a=s.type;return 2===a?s.declTNode:1===a?i[_i]:null}function po(i){return function Yf(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const p=a[h];if(jt(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(p===s)return a[h+1];h+=2}}}return null}(li(),i)}const mr="__parameters__";function go(i,s,a){return Vt(()=>{const u=function ms(i){return function(...a){if(i){const u=i(...a);for(const h in u)this[h]=u[h]}}}(s);function h(...p){if(this instanceof h)return u.apply(this,p),this;const y=new h(...p);return E.annotation=y,E;function E(D,T,N){const U=D.hasOwnProperty(mr)?D[mr]:Object.defineProperty(D,mr,{value:[]})[mr];for(;U.length<=N;)U.push(null);return(U[N]=U[N]||[]).push(y),D}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}function xo(i,s){i.forEach(a=>Array.isArray(a)?xo(a,s):s(a))}function yh(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Ou(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ma(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}function b(i,s,a){let u=L(i,s);return u>=0?i[1|u]=a:(u=~u,function jl(i,s,a,u){let h=i.length;if(h==s)i.push(a,u);else if(1===h)i.push(u,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function M(i,s){const a=L(i,s);if(a>=0)return i[1|a]}function L(i,s){return function Ee(i,s,a){let u=0,h=i.length>>a;for(;h!==u;){const p=u+(h-u>>1),y=i[p<<a];if(s===y)return p<<a;y>s?h=p:u=p+1}return~(h<<a)}(i,s,1)}const ya=de(go("Optional"),8),Li=de(go("SkipSelf"),4);function wh(i){return 128==(128&i.flags)}var zs=(()=>((zs=zs||{})[zs.Important=1]="Important",zs[zs.DashCase=2]="DashCase",zs))();const dm=/^>|^->|<!--|-->|--!>|<!-$/g,Kv=/(<|>)/,Zv="\u200b$1\u200b";const np=new Map;let bc=0;const Cc="__ngContext__";function di(i,s){br(s)?(i[Cc]=s[ka],function fm(i){np.set(i[ka],i)}(s)):i[Cc]=s}let ap;function Oo(i,s){return ap(i,s)}function Uu(i){const s=i[ir];return Zi(s)?s[ir]:s}function cp(i){return Hu(i[Oi])}function bi(i){return Hu(i[qi])}function Hu(i){for(;null!==i&&!Zi(i);)i=i[qi];return i}function Da(i,s,a,u,h){if(null!=u){let p,y=!1;Zi(u)?p=u:br(u)&&(y=!0,u=u[cr]);const E=Fn(u);0===i&&null!==a?null==h?it(s,a,E):be(s,a,E,h||null,!0):1===i&&null!==a?be(s,a,E,h||null,!0):2===i?function Yu(i,s,a){const u=Wn(i,s);u&&function Rt(i,s,a,u){i.removeChild(s,a,u)}(i,u,s,a)}(s,E,y):3===i&&s.destroyNode(E),null!=p&&function iC(i,s,a,u,h){const p=a[Ni];p!==Fn(a)&&Da(s,i,u,p,h);for(let E=Kr;E<a.length;E++){const D=a[E];Mc(D[_t],D,i,s,u,p)}}(s,i,p,a,h)}}function rl(i,s){return i.createComment(function hm(i){return i.replace(dm,s=>s.replace(Kv,Zv))}(s))}function Gu(i,s,a){return i.createElement(s,a)}function mm(i,s){const a=i[sa],u=a.indexOf(s);oc(s),a.splice(u,1)}function v(i,s){if(i.length<=Kr)return;const a=Kr+s,u=i[a];if(u){const h=u[Pa];null!==h&&h!==i&&mm(h,u),s>0&&(i[a-1][qi]=u[qi]);const p=Ou(i,Kr+s);!function Qv(i,s){Mc(i,s,s[gn],2,null,null),s[cr]=null,s[_i]=null}(u[_t],u);const y=p[Yi];null!==y&&y.detachView(p[_t]),u[ir]=null,u[qi]=null,u[pn]&=-129}return u}function f(i,s){if(!(256&s[pn])){const a=s[gn];s[ou]?.destroy(),s[oa]?.destroy(),a.destroyNode&&Mc(i,s,a,3,null,null),function ZI(i){let s=i[Oi];if(!s)return g(i[_t],i);for(;s;){let a=null;if(br(s))a=s[Oi];else{const u=s[Kr];u&&(a=u)}if(!a){for(;s&&!s[qi]&&s!==i;)br(s)&&g(s[_t],s),s=s[ir];null===s&&(s=i),br(s)&&g(s[_t],s),a=s&&s[qi]}s=a}}(s)}}function g(i,s){if(!(256&s[pn])){s[pn]&=-129,s[pn]|=256,function S(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const h=s[a[u]];if(!(h instanceof qt)){const p=a[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=h[p[y]],D=p[y+1];Go(4,E,D);try{D.call(E)}finally{Go(5,E,D)}}else{Go(4,h,p);try{p.call(h)}finally{Go(5,h,p)}}}}}(i,s),function _(i,s){const a=i.cleanup,u=s[ia];if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+3];y>=0?u[y]():u[-y].unsubscribe(),p+=2}else a[p].call(u[a[p+1]]);null!==u&&(s[ia]=null);const h=s[Ki];if(null!==h){s[Ki]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(i,s),1===s[_t].type&&s[gn].destroy();const a=s[Pa];if(null!==a&&Zi(s[ir])){a!==s[ir]&&mm(a,s);const u=s[Yi];null!==u&&u.detachView(i)}!function pm(i){np.delete(i[ka])}(s)}}function R(i,s,a){return function ne(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[cr];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:p}=i.data[u.directiveStart+h];if(p===Un.None||p===Un.Emulated)return null}return ai(u,a)}}(i,s.parent,a)}function be(i,s,a,u,h){i.insertBefore(s,a,u,h)}function it(i,s,a){i.appendChild(s,a)}function ht(i,s,a,u,h){null!==u?be(i,s,a,u,h):it(i,s,a)}function Wn(i,s){return i.parentNode(s)}function Wu(i,s,a){return il(i,s,a)}let ol,Im,Em,il=function up(i,s,a){return 40&i.type?ai(i,a):null};function Tc(i,s,a,u){const h=R(i,u,s),p=s[gn],E=Wu(u.parent||s[_i],u,s);if(null!=h)if(Array.isArray(a))for(let D=0;D<a.length;D++)ht(p,h,a[D],E,!1);else ht(p,h,a,E,!1);void 0!==ol&&ol(p,u,s,a,h)}function Ac(i,s){if(null!==s){const a=s.type;if(3&a)return ai(s,i);if(4&a)return qu(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return Ac(i,u);{const h=i[s.index];return Zi(h)?qu(-1,h):Fn(h)}}if(32&a)return Oo(s,i)()||Fn(i[s.index]);{const u=hp(i,s);return null!==u?Array.isArray(u)?u[0]:Ac(Uu(i[fr]),u):Ac(i,s.next)}}return null}function hp(i,s){return null!==s?i[fr][_i].projection[s.projection]:null}function qu(i,s){const a=Kr+i+1;if(a<s.length){const u=s[a],h=u[_t].firstChild;if(null!==h)return Ac(u,h)}return s[Ni]}function Ku(i,s,a,u,h,p,y){for(;null!=a;){const E=u[a.index],D=a.type;if(y&&0===s&&(E&&di(Fn(E),u),a.flags|=2),32!=(32&a.flags))if(8&D)Ku(i,s,a.child,u,h,p,!1),Da(s,i,h,E,p);else if(32&D){const T=Oo(a,u);let N;for(;N=T();)Da(s,i,h,N,p);Da(s,i,h,E,p)}else 16&D?Zu(i,s,u,a,h,p):Da(s,i,h,E,p);a=y?a.projectionNext:a.next}}function Mc(i,s,a,u,h,p){Ku(a,u,i.firstChild,s,h,p,!1)}function Zu(i,s,a,u,h,p){const y=a[fr],D=y[_i].projection[u.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)Da(s,i,h,D[T],p);else{let T=D;const N=y[ir];wh(u)&&(T.flags|=128),Ku(i,s,T,N,h,p,!0)}}function QI(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function JI(i,s,a){const{mergedAttrs:u,classes:h,styles:p}=a;null!==u&&Ot(i,s,u),null!==h&&QI(i,s,h),null!==p&&function sC(i,s,a){i.setAttribute(s,"style",a)}(i,s,p)}function Ah(i){Im=i}function nE(i){return function n_(){if(void 0===Em&&(Em=null,yn.trustedTypes))try{Em=yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Em}()?.createScriptURL(i)||i}class Dm{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${je})`}}function ba(i){return i instanceof Dm?i.changingThisBreaksApplicationSecurity:i}function fp(i,s){const a=function hC(i){return i instanceof Dm&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${je})`)}return a===s}const mC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var hi=(()=>((hi=hi||{})[hi.NONE=0]="NONE",hi[hi.HTML=1]="HTML",hi[hi.STYLE=2]="STYLE",hi[hi.SCRIPT=3]="SCRIPT",hi[hi.URL=4]="URL",hi[hi.RESOURCE_URL=5]="RESOURCE_URL",hi))();function $i(i){const s=Xu();return s?s.sanitize(hi.URL,i)||"":fp(i,"URL")?ba(i):function r_(i){return(i=String(i)).match(mC)?i:"unsafe:"+i}(X(i))}function uE(i){const s=Xu();if(s)return nE(s.sanitize(hi.RESOURCE_URL,i)||"");if(fp(i,"ResourceURL"))return nE(ba(i));throw new Z(904,!1)}function TC(i,s,a){return function dE(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?uE:$i}(s,a)(i)}function Xu(){const i=tt();return i&&i[ls].sanitizer}class Xn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Le({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Mm=new Xn("ENVIRONMENT_INITIALIZER"),o_=new Xn("INJECTOR",-1),sl=new Xn("INJECTOR_DEF_TYPES");class hE{get(s,a=Ir){if(a===Ir){const u=new Error(`NullInjectorError: No provider for ${z(s)}!`);throw u.name="NullInjectorError",u}return a}}function bx(...i){return{\u0275providers:MC(0,i),\u0275fromNgModule:!0}}function MC(i,...s){const a=[],u=new Set;let h;return xo(s,p=>{const y=p;xm(y,a,[],u)&&(h||=[],h.push(y))}),void 0!==h&&s_(h,a),a}function s_(i,s){for(let a=0;a<i.length;a++){const{providers:h}=i[a];a_(h,p=>{s.push(p)})}}function xm(i,s,a,u){if(!(i=_e(i)))return!1;let h=null,p=kn(i);const y=!p&&$e(i);if(p||y){if(y&&!y.standalone)return!1;h=i}else{const D=i.ngModule;if(p=kn(D),!p)return!1;h=D}const E=u.has(h);if(y){if(E)return!1;if(u.add(h),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of D)xm(T,s,a,u)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let T;u.add(h);try{xo(p.imports,N=>{xm(N,s,a,u)&&(T||=[],T.push(N))})}finally{}void 0!==T&&s_(T,s)}if(!E){const T=La(h)||(()=>new h);s.push({provide:h,useFactory:T,deps:Wt},{provide:sl,useValue:h,multi:!0},{provide:Mm,useValue:()=>Sn(h),multi:!0})}const D=p.providers;null==D||E||a_(D,N=>{s.push(N)})}}return h!==i&&void 0!==i.providers}function a_(i,s){for(let a of i)G(a)&&(a=a.\u0275providers),Array.isArray(a)?a_(a,s):s(a)}const xC=j({provide:String,useValue:j});function pE(i){return null!==i&&"object"==typeof i&&xC in i}function Rh(i){return"function"==typeof i}const mE=new Xn("Set Injector scope."),Rm={},Sx={};let Om;function Nm(){return void 0===Om&&(Om=new hE),Om}class Qu{}class Pm extends Qu{get destroyed(){return this._destroyed}constructor(s,a,u,h){super(),this.parent=a,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_E(s,y=>this.processProvider(y)),this.records.set(o_,Oh(void 0,this)),h.has("environment")&&this.records.set(Qu,Oh(void 0,this));const p=this.records.get(mE);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(sl.multi,Wt,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=Vn(this),u=xn(void 0);try{return s()}finally{Vn(a),xn(u)}}get(s,a=Ir,u=yt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(xe))return s[xe](this);u=J(u);const h=Vn(this),p=xn(void 0);try{if(!(u&yt.SkipSelf)){let E=this.records.get(s);if(void 0===E){const D=function Tx(i){return"function"==typeof i||"object"==typeof i&&i instanceof Xn}(s)&&zt(s);E=D&&this.injectableDefInScope(D)?Oh(c_(s),Rm):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(u&yt.Self?Nm():this.parent).get(s,a=u&yt.Optional&&a===Ir?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[xi]=y[xi]||[]).unshift(z(s)),h)throw y;return function Oe(i,s,a,u){const h=i[xi];throw s[yi]&&h.unshift(s[yi]),i.message=function At(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=z(s);if(Array.isArray(s))h=s.map(z).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let E=s[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):z(E)))}h=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${i.replace(lo,"\n  ")}`}("\n"+i.message,h,a,u),i.ngTokenPath=h,i[xi]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{xn(p),Vn(h)}}resolveInjectorInitializers(){const s=Vn(this),a=xn(void 0);try{const u=this.get(Mm.multi,Wt,yt.Self);for(const h of u)h()}finally{Vn(s),xn(a)}}toString(){const s=[],a=this.records;for(const u of a.keys())s.push(z(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(s){let a=Rh(s=_e(s))?s:_e(s&&s.provide);const u=function OC(i){return pE(i)?Oh(void 0,i.useValue):Oh(yE(i),Rm)}(s);if(Rh(s)||!0!==s.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Oh(void 0,Rm,!0),h.factory=()=>q(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,u)}hydrate(s,a){return a.value===Rm&&(a.value=Sx,a.value=a.factory()),"object"==typeof a.value&&a.value&&function NC(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=_e(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function c_(i){const s=zt(i),a=null!==s?s.factory:La(i);if(null!==a)return a;if(i instanceof Xn)throw new Z(204,!1);if(i instanceof Function)return function RC(i){const s=i.length;if(s>0)throw ma(s,"?"),new Z(204,!1);const a=function fn(i){return i&&(i[Hn]||i[mi])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Z(204,!1)}function yE(i,s,a){let u;if(Rh(i)){const h=_e(i);return La(h)||c_(h)}if(pE(i))u=()=>_e(i.useValue);else if(function gE(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...q(i.deps||[]));else if(function l_(i){return!(!i||!i.useExisting)}(i))u=()=>Sn(_e(i.useExisting));else{const h=_e(i&&(i.useClass||i.provide));if(!function vE(i){return!!i.deps}(i))return La(h)||c_(h);u=()=>new h(...q(i.deps))}return u}function Oh(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function _E(i,s){for(const a of i)Array.isArray(a)?_E(a,s):a&&G(a)?_E(a.\u0275providers,s):s(a)}const PC=new Xn("AppId",{providedIn:"root",factory:()=>Ax}),Ax="ng",kC=new Xn("Platform Initializer"),IE=new Xn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),EE=new Xn("CSP nonce",{providedIn:"root",factory:()=>function Mh(){if(void 0!==Im)return Im;if(typeof document<"u")return document;throw new Z(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let h_=(i,s)=>null;function Ip(i,s){return h_(i,s)}class SE{}class m_{}class TE{resolveComponentFactory(s){throw function y_(i){const s=Error(`No component factory found for ${z(i)}.`);return s.ngComponent=i,s}(s)}}let bp=(()=>{class i{}return i.NULL=new TE,i})();function No(){return ts(li(),tt())}function ts(i,s){return new Nh(ai(i,s))}let Nh=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=No,i})();function Ox(i){return i instanceof Nh?i.nativeElement:i}class jC{}let AE=(()=>{class i{constructor(){this.destroyNode=null}}return i.__NG_ELEMENT_ID__=()=>function ME(){const i=tt(),a=ho(li().index,i);return(br(a)?a:i)[gn]}(),i})(),v_=(()=>{class i{}return i.\u0275prov=Le({token:i,providedIn:"root",factory:()=>null}),i})();class Cp{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const xE=new Cp("16.1.4"),Sp={};function Tp(i){for(;i;){i[pn]|=64;const s=Uu(i);if(oi(i)&&!s)return i;i=s}return null}function RE(i){return i.ngOriginalError}class Ap{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&RE(s);for(;a&&RE(a);)a=RE(a);return a||null}}const GC=new Xn("",{providedIn:"root",factory:()=>!1});function Ds(i){return i instanceof Function?i():i}class Rp extends Pi{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){Tp(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,a,u){const h=Or(this);this.trackingVersion++;try{s(a,u)}finally{Or(h)}}destroy(){this.trackingVersion++}}let b_=null;function YC(){return b_??=new Rp,b_}function NE(i,s){return i[s]??YC()}function KC(i,s){const a=YC();a.hasReadASignal&&(i[s]=b_,a.lView=i,b_=new Rp)}const un={};function Op(i){Np(Tn(),tt(),ki()+i,!1)}function Np(i,s,a,u){if(!u)if(3==(3&s[pn])){const p=i.preOrderCheckHooks;null!==p&&Ya(s,p,a)}else{const p=i.preOrderHooks;null!==p&&Mu(s,p,0,a)}ks(a)}function FE(i,s=null,a=null,u){const h=eS(i,s,a,u);return h.resolveInjectorInitializers(),h}function eS(i,s=null,a=null,u,h=new Set){const p=[a||Wt,bx(i)];return u=u||("object"==typeof i?void 0:z(i)),new Pm(p,s||Nm(),u||null,h)}let xc=(()=>{class i{static create(a,u){if(Array.isArray(a))return FE({name:""},u,a,"");{const h=a.name??"";return FE({name:h},a.parent,a.providers,h)}}}return i.THROW_IF_NOT_FOUND=Ir,i.NULL=new hE,i.\u0275prov=Le({token:i,providedIn:"any",factory:()=>Sn(o_)}),i.__NG_ELEMENT_ID__=-1,i})();function Rc(i,s=yt.Default){const a=tt();return null===a?Sn(i,s):Ko(li(),a,_e(i),s)}function tS(){throw new Error("invalid")}function Ph(i,s,a,u,h,p,y,E,D,T,N){const U=s.blueprint.slice();return U[cr]=h,U[pn]=140|u,(null!==T||i&&2048&i[pn])&&(U[pn]|=2048),rh(U),U[ir]=U[Uo]=i,U[ur]=a,U[ls]=y||i&&i[ls],U[gn]=E||i&&i[gn],U[Yr]=D||i&&i[Yr]||null,U[_i]=p,U[ka]=function YI(){return bc++}(),U[Dr]=N,U[Vd]=T,U[fr]=2==s.type?i[fr]:U,U}function kh(i,s,a,u,h){let p=i.data[s];if(null===p)p=function zm(i,s,a,u,h){const p=Ps(),y=Rl(),D=i.data[s]=function jx(i,s,a,u,h,p){let y=s?s.injectorIndex:-1,E=0;return wo()&&(E|=128),{type:a,index:u,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,s,u,h);return null===i.firstChild&&(i.firstChild=D),null!==p&&(y?null==p.child&&null!==D.parent&&(p.child=D):null===p.next&&(p.next=D,D.prev=p)),D}(i,s,a,u,h),function ci(){return Zt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=u,p.attrs=h;const y=function sc(){const i=Zt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Do(p,!0),p}function td(i,s,a,u){if(0===a)return-1;const h=s.length;for(let p=0;p<a;p++)s.push(u),i.blueprint.push(u),i.data.push(null);return h}function LE(i,s,a,u,h){const p=NE(s,ou),y=ki(),E=2&u;try{if(ks(-1),E&&s.length>Dn&&Np(i,s,Dn,!1),Go(E?2:0,h),E)p.runInContext(a,u,h);else{const T=Or(null);try{a(u,h)}finally{Or(T)}}}finally{E&&null===s[ou]&&KC(s,ou),ks(y),Go(E?3:1,h)}}function BE(i,s,a){if(Fa(s)){const u=Or(null);try{const p=s.directiveEnd;for(let y=s.directiveStart;y<p;y++){const E=i.data[y];E.contentQueries&&E.contentQueries(1,a[y],y)}}finally{Or(u)}}}function S_(i,s,a){Eu()&&(function iS(i,s,a,u){const h=a.directiveStart,p=a.directiveEnd;cs(a)&&function lS(i,s,a){const u=ai(s,i),h=Gm(a);let y=16;a.signals?y=4096:a.onPush&&(y=64);const E=Lp(i,Ph(i,h,null,y,u,s,null,i[ls].rendererFactory.createRenderer(u,a),null,null,null));i[s.index]=E}(s,a,i.data[h+a.componentOffset]),i.firstCreatePass||Xa(a,s),di(u,s);const y=a.initialInputs;for(let E=h;E<p;E++){const D=i.data[E],T=Bs(s,i,E,a);di(T,s),null!==y&&x_(0,E-h,T,D,0,y),Zr(D)&&(ho(a.index,s)[ur]=Bs(s,i,E,a))}}(i,s,a,ai(a,s)),64==(64&a.flags)&&A_(i,s,a))}function nd(i,s,a=ai){const u=s.localNames;if(null!==u){let h=s.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],E=-1===y?a(s,i):i[y];i[h++]=E}}}function Gm(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Wm(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function Wm(i,s,a,u,h,p,y,E,D,T,N){const U=Dn+u,ge=U+h,Ce=function $E(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:un);return a}(U,ge),Qe="function"==typeof T?T():T;return Ce[_t]={type:i,blueprint:Ce,template:a,queries:null,viewQuery:E,declTNode:s,data:Ce.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:Qe,incompleteFirstPass:!1,ssrId:N}}let VE=i=>null;function nS(i,s,a,u){for(let h in i)if(i.hasOwnProperty(h)){a=null===a?{}:a;const p=i[h];null===u?jE(a,s,h,p):u.hasOwnProperty(h)&&jE(a,s,u[h],p)}return a}function jE(i,s,a,u){i.hasOwnProperty(a)?i[a].push(s,u):i[a]=[s,u]}function qm(i,s,a,u){if(Eu()){const h=null===u?null:{"":-1},p=function YE(i,s){const a=i.directiveRegistry;let u=null,h=null;if(a)for(let p=0;p<a.length;p++){const y=a[p];if(ni(s,y.selectors,!1))if(u||(u=[]),Zr(y))if(null!==y.findHostDirectiveDefs){const E=[];h=h||new Map,y.findHostDirectiveDefs(y,E,h),u.unshift(...E,y),Fp(i,s,E.length)}else u.unshift(y),Fp(i,s,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,u,h),u.push(y)}return null===u?null:[u,h]}(i,a);let y,E;null===p?y=E=null:[y,E]=p,null!==y&&WE(i,s,a,y,h,E),h&&function sS(i,s,a){if(s){const u=i.localNames=[];for(let h=0;h<s.length;h+=2){const p=a[s[h+1]];if(null==p)throw new Z(-301,!1);u.push(s[h],p)}}}(a,u,h)}a.mergedAttrs=vn(a.mergedAttrs,a.attrs)}function WE(i,s,a,u,h,p){for(let T=0;T<u.length;T++)gs(Xa(a,s),i,u[T].type);!function aS(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,u.length);for(let T=0;T<u.length;T++){const N=u[T];N.providersResolver&&N.providersResolver(N)}let y=!1,E=!1,D=td(i,s,u.length,null);for(let T=0;T<u.length;T++){const N=u[T];a.mergedAttrs=vn(a.mergedAttrs,N.hostAttrs),Ym(i,a,s,D,N),KE(D,N,h),null!==N.contentQueries&&(a.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(a.flags|=64);const U=N.type.prototype;!y&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),y=!0),!E&&(U.ngOnChanges||U.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),E=!0),D++}!function HE(i,s,a){const h=s.directiveEnd,p=i.data,y=s.attrs,E=[];let D=null,T=null;for(let N=s.directiveStart;N<h;N++){const U=p[N],ge=a?a.get(U):null,Qe=ge?ge.outputs:null;D=nS(U.inputs,N,D,ge?ge.inputs:null),T=nS(U.outputs,N,T,Qe);const ct=null===D||null===y||Zn(s)?null:cS(D,N,y);E.push(ct)}null!==D&&(D.hasOwnProperty("class")&&(s.flags|=8),D.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=D,s.outputs=T}(i,a,p)}function A_(i,s,a){const u=a.directiveStart,h=a.directiveEnd,p=a.index,y=function Nl(){return Zt.lFrame.currentDirectiveIndex}();try{ks(p);for(let E=u;E<h;E++){const D=i.data[E],T=s[E];Pl(E),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&oS(D,T)}}finally{ks(-1),Pl(y)}}function oS(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Fp(i,s,a){s.componentOffset=a,(i.components??=[]).push(s.index)}function KE(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;Zr(s)&&(a[""]=i)}}function Ym(i,s,a,u,h){i.data[u]=h;const p=h.factory||(h.factory=La(h.type)),y=new qt(p,Zr(h),Rc);i.blueprint[u]=y,a[u]=y,function zx(i,s,a,u,h){const p=h.hostBindings;if(p){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const E=~s.index;(function qE(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=E&&y.push(E),y.push(a,u,p)}}(i,s,u,td(i,a,h.hostVars,un),h)}function Gs(i,s,a,u,h,p){const y=ai(i,s);!function M_(i,s,a,u,h,p,y){if(null==p)i.removeAttribute(s,h,a);else{const E=null==y?X(p):y(p,u||"",h);i.setAttribute(s,h,E,a)}}(s[gn],y,p,i.value,a,u,h)}function x_(i,s,a,u,h,p){const y=p[s];if(null!==y)for(let E=0;E<y.length;)R_(u,a,y[E++],y[E++],y[E++])}function R_(i,s,a,u,h){const p=Or(null);try{const y=i.inputTransforms;null!==y&&y.hasOwnProperty(u)&&(h=y[u].call(s,h)),null!==i.setInput?i.setInput(s,h,a,u):s[u]=h}finally{Or(p)}}function cS(i,s,a){let u=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===u&&(u=[]);const y=i[p];for(let E=0;E<y.length;E+=2)if(y[E]===s){u.push(p,y[E+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function Km(i,s,a,u){return[i,!0,!1,s,null,0,u,a,null,null,null]}function ZE(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const p=a[u+1];if(-1!==p){const y=i.data[p];ca(a[u]),y.contentQueries(2,s[p],p)}}}function Lp(i,s){return i[Oi]?i[$d][qi]=s:i[Oi]=s,i[$d]=s,s}function O_(i,s,a){ca(0);const u=Or(null);try{s(i,a)}finally{Or(u)}}function QE(i){return i[ia]||(i[ia]=[])}function JE(i){return i.cleanup||(i.cleanup=[])}function ew(i,s){const a=i[Yr],u=a?a.get(Ap,null):null;u&&u.handleError(s)}function tw(i,s,a,u,h){for(let p=0;p<a.length;){const y=a[p++],E=a[p++];R_(i.data[y],s[y],u,E,h)}}function uS(i,s){const a=ho(s,i),u=a[_t];!function nw(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])}(u,a);const h=a[cr];null!==h&&null===a[Dr]&&(a[Dr]=Ip(h,a[Yr])),Zm(u,a,a[ur])}function Zm(i,s,a){Fl(s);try{const u=i.viewQuery;null!==u&&O_(1,u,a);const h=i.template;null!==h&&LE(i,s,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&ZE(i,s),i.staticViewQueries&&O_(2,i.viewQuery,a);const p=i.components;null!==p&&function rd(i,s){for(let a=0;a<s.length;a++)uS(i,s[a])}(s,p)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[pn]&=-5,ua()}}let P_=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(a,u,h){const p=typeof Zone>"u"?null:Zone.current,y=new fu(a,T=>{this.all.has(T)&&this.queue.set(T,p)},h);let E;this.all.add(y),y.notify();const D=()=>{y.cleanup(),E?.(),this.all.delete(y),this.queue.delete(y)};return E=u?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[a,u]of this.queue)this.queue.delete(a),u?u.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return i.\u0275prov=Le({token:i,providedIn:"root",factory:()=>new i}),i})();function Xm(i,s,a){let u=a?i.styles:null,h=a?i.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const E=s[y];"number"==typeof E?p=E:1==p?h=ee(h,E):2==p&&(u=ee(u,E+": "+s[++y]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=h:i.classesWithoutHost=h}function id(i,s,a,u,h=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&u.push(Fn(p)),Zi(p)){for(let E=Kr;E<p.length;E++){const D=p[E],T=D[_t].firstChild;null!==T&&id(D[_t],D,T,u)}p[Ni]!==p[cr]&&u.push(p[Ni])}const y=a.type;if(8&y)id(i,s,a.child,u);else if(32&y){const E=Oo(a,s);let D;for(;D=E();)u.push(D)}else if(16&y){const E=hp(s,a);if(Array.isArray(E))u.push(...E);else{const D=Uu(s[fr]);id(D[_t],D,E,u,!0)}}a=h?a.projectionNext:a.next}return u}function Bp(i,s,a,u=!0){const h=s[ls].rendererFactory;h.begin&&h.begin();try{ow(i,s,i.template,a)}catch(y){throw u&&ew(s,y),y}finally{h.end&&h.end(),s[ls].effectManager?.flush()}}function ow(i,s,a,u){const h=s[pn];if(256!=(256&h)){s[ls].effectManager?.flush(),Fl(s);try{rh(s),function lc(i){return Zt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&LE(i,s,a,2,u);const y=3==(3&h);if(y){const T=i.preOrderCheckHooks;null!==T&&Ya(s,T,null)}else{const T=i.preOrderHooks;null!==T&&Mu(s,T,0,null),dc(s,0)}if(function fS(i){for(let s=cp(i);null!==s;s=bi(s)){if(!s[jo])continue;const a=s[sa];for(let u=0;u<a.length;u++){vu(a[u])}}}(s),k_(s,2),null!==i.contentQueries&&ZE(i,s),y){const T=i.contentCheckHooks;null!==T&&Ya(s,T)}else{const T=i.contentHooks;null!==T&&Mu(s,T,1),dc(s,1)}!function Bx(i,s){const a=i.hostBindingOpCodes;if(null===a)return;const u=NE(s,oa);try{for(let h=0;h<a.length;h++){const p=a[h];if(p<0)ks(~p);else{const y=p,E=a[++h],D=a[++h];ah(E,y),u.runInContext(D,2,s[y])}}}finally{null===s[oa]&&KC(s,oa),ks(-1)}}(i,s);const E=i.components;null!==E&&L_(s,E,0);const D=i.viewQuery;if(null!==D&&O_(2,D,u),y){const T=i.viewCheckHooks;null!==T&&Ya(s,T)}else{const T=i.viewHooks;null!==T&&Mu(s,T,2),dc(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[pn]&=-73,oc(s)}finally{ua()}}}function k_(i,s){for(let a=cp(i);null!==a;a=bi(a))for(let u=Kr;u<a.length;u++)sw(a[u],s)}function F_(i,s,a){sw(ho(s,i),a)}function sw(i,s){if(!function nh(i){return 128==(128&i[pn])}(i))return;const a=i[_t];if(80&i[pn]&&0===s||1024&i[pn]||2===s)ow(a,i,a.template,i[ur]);else if(i[Na]>0){k_(i,1);const h=i[_t].components;null!==h&&L_(i,h,1)}}function L_(i,s,a){for(let u=0;u<s.length;u++)F_(i,s[u],a)}class Qm{get rootNodes(){const s=this._lView,a=s[_t];return id(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ur]}set context(s){this._lView[ur]=s}get destroyed(){return 256==(256&this._lView[pn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[ir];if(Zi(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(v(s,u),Ou(a,u))}this._attachedToViewContainer=!1}f(this._lView[_t],this._lView)}onDestroy(s){!function Os(i,s){if(256==(256&i[pn]))throw new Z(911,!1);null===i[Ki]&&(i[Ki]=[]),i[Ki].push(s)}(this._lView,s)}markForCheck(){Tp(this._cdRefInjectingView||this._lView)}detach(){this._lView[pn]&=-129}reattach(){this._lView[pn]|=128}detectChanges(){Bp(this._lView[_t],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gm(i,s){Mc(i,s,s[gn],2,null,null)}(this._lView[_t],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=s}}class qx extends Qm{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Bp(s[_t],s,s[ur],!1)}checkNoChanges(){}get context(){return null}}class pS extends bp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=$e(s);return new Jm(a,this.ngModule)}}function aw(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Yx{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,u){u=J(u);const h=this.injector.get(s,Sp,u);return h!==Sp||a===Sp?h:this.parentInjector.get(s,a,u)}}class Jm extends m_{get inputs(){const s=this.componentDef,a=s.inputTransforms,u=aw(s.inputs);if(null!==a)for(const h of u)a.hasOwnProperty(h.propName)&&(h.transform=a[h.propName]);return u}get outputs(){return aw(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Il(i){return i.map(na).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,u,h){let p=(h=h||this.ngModule)instanceof Qu?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new Yx(s,p):s,E=y.get(jC,null);if(null===E)throw new Z(407,!1);const N={rendererFactory:E,sanitizer:y.get(v_,null),effectManager:y.get(P_,null)},U=E.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",Ce=u?function T_(i,s,a,u){const p=u.get(GC,!1)||a===Un.ShadowDom,y=i.selectRootElement(s,p);return function $x(i){VE(i)}(y),y}(U,u,this.componentDef.encapsulation,y):Gu(U,ge,function gS(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(ge)),Et=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Lt=Wm(0,null,null,1,0,null,null,null,null,null,null),et=Ph(null,Lt,null,Et,null,null,N,U,y,null,null);let dn,Rn;Fl(et);try{const Pn=this.componentDef;let so,wv=null;Pn.findHostDirectiveDefs?(so=[],wv=new Map,Pn.findHostDirectiveDefs(Pn,so,wv),so.push(Pn)):so=[Pn];const bI=function Zx(i,s){const a=i[_t],u=Dn;return i[u]=s,kh(a,u,2,"#host",null)}(et,Ce),dA=function Xx(i,s,a,u,h,p,y){const E=h[_t];!function Qx(i,s,a,u){for(const h of i)s.mergedAttrs=vn(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(Xm(s,s.mergedAttrs,!0),null!==a&&JI(u,a,s))}(u,i,s,y);let D=null;null!==s&&(D=Ip(s,h[Yr]));const T=p.rendererFactory.createRenderer(s,a);let N=16;a.signals?N=4096:a.onPush&&(N=64);const U=Ph(h,Gm(a),null,N,h[i.index],i,p,T,null,null,D);return E.firstCreatePass&&Fp(E,i,u.length-1),Lp(h,U),h[i.index]=U}(bI,Ce,Pn,so,et,N,U);Rn=th(Lt,Dn),Ce&&function mS(i,s,a,u){if(u)Ot(i,a,["ng-version",xE.full]);else{const{attrs:h,classes:p}=function Vo(i){const s=[],a=[];let u=1,h=2;for(;u<i.length;){let p=i[u];if("string"==typeof p)2===h?""!==p&&s.push(p,i[++u]):8===h&&a.push(p);else{if(!jr(h))break;h=p}u++}return{attrs:s,classes:a}}(s.selectors[0]);h&&Ot(i,a,h),p&&p.length>0&&QI(i,a,p.join(" "))}}(U,Pn,Ce,u),void 0!==a&&function yS(i,s,a){const u=i.projection=[];for(let h=0;h<s.length;h++){const p=a[h];u.push(null!=p?Array.from(p):null)}}(Rn,this.ngContentSelectors,a),dn=function Jx(i,s,a,u,h,p){const y=li(),E=h[_t],D=ai(y,h);WE(E,h,y,a,null,u);for(let N=0;N<a.length;N++)di(Bs(h,E,y.directiveStart+N,y),h);A_(E,h,y),D&&di(D,h);const T=Bs(h,E,y.directiveStart+y.componentOffset,y);if(i[ur]=h[ur]=T,null!==p)for(const N of p)N(T,s);return BE(E,y,i),T}(dA,Pn,so,wv,et,[eo]),Zm(Lt,et,null)}finally{ua()}return new Kx(this.componentType,dn,ts(Rn,et),et,Rn)}}class Kx extends SE{constructor(s,a,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new qx(h),this.componentType=s}setInput(s,a){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const p=this._rootLView;tw(p[_t],p,h,s,a),this.previousInputValues.set(s,a),Tp(ho(this._tNode.index,p))}}get injector(){return new Mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function eo(){const i=li();Au(tt()[_t],i)}function ty(i){let s=function ey(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;s;){let h;if(Zr(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Z(903,!1);h=s.\u0275dir}if(h){if(a){u.push(h);const y=i;y.inputs=B_(i.inputs),y.inputTransforms=B_(i.inputTransforms),y.declaredInputs=B_(i.declaredInputs),y.outputs=B_(i.outputs);const E=h.hostBindings;E&&od(i,E);const D=h.viewQuery,T=h.contentQueries;if(D&&vS(i,D),T&&Xe(i,T),B(i.inputs,h.inputs),B(i.declaredInputs,h.declaredInputs),B(i.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),B(y.inputTransforms,h.inputTransforms)),Zr(h)&&h.data.animation){const N=i.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(i),E===ty&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Aa(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const h=i[u];h.hostVars=s+=h.hostVars,h.hostAttrs=vn(h.hostAttrs,a=vn(a,h.hostAttrs))}}(u)}function B_(i){return i===Nn?{}:i===Wt?[]:i}function vS(i,s){const a=i.viewQuery;i.viewQuery=a?(u,h)=>{s(u,h),a(u,h)}:s}function Xe(i,s){const a=i.contentQueries;i.contentQueries=a?(u,h,p)=>{s(u,h,p),a(u,h,p)}:s}function od(i,s){const a=i.hostBindings;i.hostBindings=a?(u,h)=>{s(u,h),a(u,h)}:s}function Fh(i){const s=i.inputConfig,a={};for(const u in s)if(s.hasOwnProperty(u)){const h=s[u];Array.isArray(h)&&h[2]&&(a[u]=h[2])}i.inputTransforms=a}function Lh(i){return!!V_(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function V_(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Lr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function ry(i,s,a,u){const h=tt();return Lr(h,dr(),s)&&(Tn(),Gs(gr(),h,i,s,a,u)),ry}function gw(i,s,a,u,h,p,y,E){const D=tt(),T=Tn(),N=i+Dn,U=T.firstCreatePass?function TS(i,s,a,u,h,p,y,E,D){const T=s.consts,N=kh(s,i,4,y||null,Wo(T,E));qm(s,a,N,Wo(T,D)),Au(s,N);const U=N.tView=Wm(2,N,u,h,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T,null);return null!==s.queries&&(s.queries.template(s,N),U.queries=s.queries.embeddedTView(N)),N}(N,T,D,s,a,u,h,p,y):T.data[N];Do(U,!1);const ge=Y_(T,D,U,i);$l()&&Tc(T,D,ge,U),di(ge,D),Lp(D,D[N]=Km(ge,D,ge,U)),us(U)&&S_(T,D,U),null!=y&&nd(D,U,E)}let Y_=function mw(i,s,a,u){return da(!0),s[gn].createComment("")};function Gp(i,s,a){const u=tt();return Lr(u,dr(),s)&&function ns(i,s,a,u,h,p,y,E){const D=ai(s,a);let N,T=s.inputs;!E&&null!=T&&(N=T[u])?(tw(i,a,N,u,h),cs(s)&&function zE(i,s){const a=ho(s,i);16&a[pn]||(a[pn]|=64)}(a,s.index)):3&s.type&&(u=function rS(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),h=null!=y?y(h,s.value||"",u):h,p.setProperty(D,u,h))}(Tn(),gr(),u,i,s,u[gn],a,!1),Gp}function yy(i,s,a,u,h){const y=h?"class":"style";tw(i,a,s.inputs[y],y,u)}function ld(i,s,a,u){const h=tt(),p=Tn(),y=Dn+i,E=h[gn],D=p.firstCreatePass?function xS(i,s,a,u,h,p){const y=s.consts,D=kh(s,i,2,u,Wo(y,h));return qm(s,a,D,Wo(y,p)),null!==D.attrs&&Xm(D,D.attrs,!1),null!==D.mergedAttrs&&Xm(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(y,p,h,s,a,u):p.data[y],T=K_(p,h,D,E,s,i);h[y]=T;const N=us(D);return Do(D,!0),JI(E,T,D),32!=(32&D.flags)&&$l()&&Tc(p,h,T,D),0===function jf(){return Zt.lFrame.elementDepthCount}()&&di(T,h),function oh(){Zt.lFrame.elementDepthCount++}(),N&&(S_(p,h,D),BE(p,D,h)),null!==u&&nd(h,D),ld}function Wh(){let i=li();Rl()?bu():(i=i.parent,Do(i,!1));const s=i;(function qa(i){return Zt.skipHydrationRootTNode===i})(s)&&function zf(){Zt.skipHydrationRootTNode=null}(),function Hf(){Zt.lFrame.elementDepthCount--}();const a=Tn();return a.firstCreatePass&&(Au(a,i),Fa(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function xu(i){return 0!=(8&i.flags)}(s)&&yy(a,s,tt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function fc(i){return 0!=(16&i.flags)}(s)&&yy(a,s,tt(),s.stylesWithoutHost,!1),Wh}function Wp(i,s,a,u){return ld(i,s,a,u),Wh(),Wp}let K_=(i,s,a,u,h,p)=>(da(!0),Gu(u,h,function uc(){return Zt.lFrame.currentNamespace}()));function vy(i,s,a){const u=tt(),h=Tn(),p=i+Dn,y=h.firstCreatePass?function yw(i,s,a,u,h){const p=s.consts,y=Wo(p,u),E=kh(s,i,8,"ng-container",y);return null!==y&&Xm(E,y,!0),qm(s,a,E,Wo(p,h)),null!==s.queries&&s.queries.elementStart(s,E),E}(p,h,u,s,a):h.data[p];Do(y,!0);const E=vw(h,u,y,i);return u[p]=E,$l()&&Tc(h,u,E,y),di(E,u),us(y)&&(S_(h,u,y),BE(h,y,u)),null!=a&&nd(u,y),vy}function _y(){let i=li();const s=Tn();return Rl()?bu():(i=i.parent,Do(i,!1)),s.firstCreatePass&&(Au(s,i),Fa(i)&&s.queries.elementEnd(i)),_y}function qh(i,s,a){return vy(i,s,a),_y(),qh}let vw=(i,s,a,u)=>(da(!0),rl(s[gn],""));function Z_(i){return!!i&&"function"==typeof i.then}function Pc(i){return!!i&&"function"==typeof i.subscribe}function Iy(i,s,a,u){const h=tt(),p=Tn(),y=li();return function Kh(i,s,a,u,h,p,y){const E=us(u),T=i.firstCreatePass&&JE(i),N=s[ur],U=QE(s);let ge=!0;if(3&u.type||y){const ct=ai(u,s),Et=y?y(ct):ct,Lt=U.length,et=y?Rn=>y(Fn(Rn[u.index])):u.index;let dn=null;if(!y&&E&&(dn=function _w(i,s,a,u){const h=i.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===a&&h[p+1]===u){const E=s[ia],D=h[p+2];return E.length>D?E[D]:null}"string"==typeof y&&(p+=2)}return null}(i,s,h,u.index)),null!==dn)(dn.__ngLastListenerFn__||dn).__ngNextListenerFn__=p,dn.__ngLastListenerFn__=p,ge=!1;else{p=yo(u,s,N,p,!1);const Rn=a.listen(Et,h,p);U.push(p,Rn),T&&T.push(h,et,Lt,Lt+1)}}else p=yo(u,s,N,p,!1);const Ce=u.outputs;let Qe;if(ge&&null!==Ce&&(Qe=Ce[h])){const ct=Qe.length;if(ct)for(let Et=0;Et<ct;Et+=2){const Pn=s[Qe[Et]][Qe[Et+1]].subscribe(p),so=U.length;U.push(p,Pn),T&&T.push(h,u.index,so,-(so+1))}}}(p,h,h[gn],y,i,s,u),Iy}function X_(i,s,a,u){try{return Go(6,s,a),!1!==a(u)}catch(h){return ew(i,h),!1}finally{Go(7,s,a)}}function yo(i,s,a,u,h){return function p(y){if(y===Function)return u;Tp(i.componentOffset>-1?ho(i.index,s):s);let D=X_(s,a,u,y),T=p.__ngNextListenerFn__;for(;T;)D=X_(s,a,T,y)&&D,T=T.__ngNextListenerFn__;return h&&!1===D&&y.preventDefault(),D}}function Q_(i=1){return function lh(i){return(Zt.lFrame.contextLView=function nm(i,s){for(;i>0;)s=s[Uo],i--;return s}(i,Zt.lFrame.contextLView))[ur]}(i)}function Kp(i,s){let a=null;const u=function Eo(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(i);for(let h=0;h<s.length;h++){const p=s[h];if("*"!==p){if(null===u?ni(i,p,!0):rr(u,p))return h}else a=h}return a}function Zp(i){const s=tt()[fr][_i];if(!s.projection){const u=s.projection=ma(i?i.length:1,null),h=u.slice();let p=s.child;for(;null!==p;){const y=i?Kp(p,i):0;null!==y&&(h[y]?h[y].projectionNext=p:u[y]=p,h[y]=p),p=p.next}}}function J_(i,s=0,a){const u=tt(),h=Tn(),p=kh(h,Dn+i,16,null,a||null);null===p.projection&&(p.projection=s),bu(),(!u[Dr]||wo())&&32!=(32&p.flags)&&function ym(i,s,a){Zu(s[gn],0,s,a,R(i,a,s),Wu(a.parent||s[_i],a,s))}(h,u,p)}function Sy(i,s){return i<<17|s<<2}function cl(i){return i>>17&32767}function Ay(i){return 2|i}function kc(i){return(131068&i)>>2}function My(i,s){return-131069&i|s<<2}function cd(i){return 1|i}function xy(i,s,a,u,h){const p=i[a+1],y=null===s;let E=u?cl(p):kc(p),D=!1;for(;0!==E&&(!1===D||y);){const N=i[E+1];FS(i[E],s)&&(D=!0,i[E+1]=u?cd(N):Ay(N)),E=u?cl(N):kc(N)}D&&(i[a+1]=u?Ay(p):cd(p))}function FS(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&L(i,s)>=0}function s0(i,s){return function qs(i,s,a,u){const h=tt(),p=Tn(),y=function bo(i){const s=Zt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);p.firstUpdatePass&&function hd(i,s,a,u){const h=i.data;if(null===h[a+1]){const p=h[ki()],y=function a0(i,s){return s>=i.expandoStartIndex}(i,a);(function rg(i,s){return 0!=(i.flags&(s?8:16))})(p,u)&&null===s&&!y&&(s=!1),s=function VS(i,s,a,u){const h=function Cu(i){const s=Zt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(a=Jh(a=Oy(null,i,s,a,u),s.attrs,u),p=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==h)if(a=Oy(h,i,s,a,u),null===p){let D=function US(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==kc(u))return i[cl(u)]}(i,s,u);void 0!==D&&Array.isArray(D)&&(D=Oy(null,i,s,D[1],u),D=Jh(D,s.attrs,u),function Dw(i,s,a,u){i[cl(a?s.classBindings:s.styleBindings)]=u}(i,s,u,D))}else p=function jS(i,s,a){let u;const h=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<h;p++)u=Jh(u,i[p].hostAttrs,a);return Jh(u,s.attrs,a)}(i,s,u)}return void 0!==p&&(u?s.residualClasses=p:s.residualStyles=p),a}(h,p,s,u),function Qp(i,s,a,u,h,p){let y=p?s.classBindings:s.styleBindings,E=cl(y),D=kc(y);i[u]=a;let N,T=!1;if(Array.isArray(a)?(N=a[1],(null===N||L(a,N)>0)&&(T=!0)):N=a,h)if(0!==D){const ge=cl(i[E+1]);i[u+1]=Sy(ge,E),0!==ge&&(i[ge+1]=My(i[ge+1],u)),i[E+1]=function n0(i,s){return 131071&i|s<<17}(i[E+1],u)}else i[u+1]=Sy(E,0),0!==E&&(i[E+1]=My(i[E+1],u)),E=u;else i[u+1]=Sy(D,0),0===E?E=u:i[D+1]=My(i[D+1],u),D=u;T&&(i[u+1]=Ay(i[u+1])),xy(i,N,u,!0),xy(i,N,u,!1),function ud(i,s,a,u,h){const p=h?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&L(p,s)>=0&&(a[u+1]=cd(a[u+1]))}(s,N,i,u,p),y=Sy(E,D),p?s.classBindings=y:s.styleBindings=y}(h,p,s,a,y,u)}}(p,i,y,u),s!==un&&Lr(h,y,s)&&function Sw(i,s,a,u,h,p,y,E){if(!(3&s.type))return;const D=i.data,T=D[E+1],N=function PS(i){return 1==(1&i)}(T)?Tw(D,s,a,h,kc(T),y):void 0;Py(N)||(Py(p)||function Ty(i){return 2==(2&i)}(T)&&(p=Tw(D,null,a,h,E,y)),function oC(i,s,a,u,h){if(s)h?i.addClass(a,u):i.removeClass(a,u);else{let p=-1===u.indexOf("-")?void 0:zs.DashCase;null==h?i.removeStyle(a,u,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=zs.Important),i.setStyle(a,u,h,p))}}(u,y,function Ga(i,s){return Fn(s[i])}(ki(),a),h,p))}(p,p.data[ki()],h,h[gn],i,h[y+1]=function HS(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=z(ba(i)))),i}(s,a),u,y)}(i,s,null,!0),s0}function Oy(i,s,a,u,h){let p=null;const y=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<y&&(p=s[E],u=Jh(u,p.hostAttrs,h),p!==i);)E++;return null!==i&&(a.directiveStylingLast=E),u}function Jh(i,s,a){const u=a?1:2;let h=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?h=y:h===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),b(i,y,!!a||s[++p]))}return void 0===i?null:i}function Tw(i,s,a,u,h,p){const y=null===s;let E;for(;h>0;){const D=i[h],T=Array.isArray(D),N=T?D[1]:D,U=null===N;let ge=a[h+1];ge===un&&(ge=U?Wt:void 0);let Ce=U?M(ge,u):N===u?ge:void 0;if(T&&!Py(Ce)&&(Ce=M(D,u)),Py(Ce)&&(E=Ce,y))return E;const Qe=i[h+1];h=y?cl(Qe):kc(Qe)}if(null!==s){let D=p?s.residualClasses:s.residualStyles;null!=D&&(E=M(D,u))}return E}function Py(i){return void 0!==i}function ef(i,s=""){const a=tt(),u=Tn(),h=i+Dn,p=u.firstCreatePass?kh(u,h,1,s,null):u.data[h],y=ig(u,a,p,s,i);a[h]=y,$l()&&Tc(u,a,y,p),Do(p,!1)}let ig=(i,s,a,u,h)=>(da(!0),function zu(i,s){return i.createText(s)}(s[gn],u));const Bc=void 0;var Cs=["en",[["a","p"],["AM","PM"],Bc],[["AM","PM"],Bc,Bc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bc,"{1} 'at' {0}",Bc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Vy(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let pd={};function $c(i){const s=function w0(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Uy(s);if(a)return a;const u=s.split("-")[0];if(a=Uy(u),a)return a;if("en"===u)return Cs;throw new Z(701,!1)}function Ks(i){return $c(i)[on.PluralCase]}function Uy(i){return i in pd||(pd[i]=yn.ng&&yn.ng.common&&yn.ng.common.locales&&yn.ng.common.locales[i]),pd[i]}var on=(()=>((on=on||{})[on.LocaleId=0]="LocaleId",on[on.DayPeriodsFormat=1]="DayPeriodsFormat",on[on.DayPeriodsStandalone=2]="DayPeriodsStandalone",on[on.DaysFormat=3]="DaysFormat",on[on.DaysStandalone=4]="DaysStandalone",on[on.MonthsFormat=5]="MonthsFormat",on[on.MonthsStandalone=6]="MonthsStandalone",on[on.Eras=7]="Eras",on[on.FirstDayOfWeek=8]="FirstDayOfWeek",on[on.WeekendRange=9]="WeekendRange",on[on.DateFormat=10]="DateFormat",on[on.TimeFormat=11]="TimeFormat",on[on.DateTimeFormat=12]="DateTimeFormat",on[on.NumberSymbols=13]="NumberSymbols",on[on.NumberFormats=14]="NumberFormats",on[on.CurrencyCode=15]="CurrencyCode",on[on.CurrencySymbol=16]="CurrencySymbol",on[on.CurrencyName=17]="CurrencyName",on[on.Currencies=18]="Currencies",on[on.Directionality=19]="Directionality",on[on.PluralCase=20]="PluralCase",on[on.ExtraData=21]="ExtraData",on))();const Vc="en-US";let Ui=Vc;function Id(i,s,a,u,h){if(i=_e(i),Array.isArray(i))for(let p=0;p<i.length;p++)Id(i[p],s,a,u,h);else{const p=Tn(),y=tt();let E=Rh(i)?i:_e(i.provide),D=yE(i);const T=li(),N=1048575&T.providerIndexes,U=T.directiveStart,ge=T.providerIndexes>>20;if(Rh(i)||!i.multi){const Ce=new qt(D,h,Rc),Qe=Hi(E,s,h?N:N+ge,U);-1===Qe?(gs(Xa(T,y),p,E),Ed(p,i,s.length),s.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(Ce),y.push(Ce)):(a[Qe]=Ce,y[Qe]=Ce)}else{const Ce=Hi(E,s,N+ge,U),Qe=Hi(E,s,N,N+ge),Et=Qe>=0&&a[Qe];if(h&&!Et||!h&&!(Ce>=0&&a[Ce])){gs(Xa(T,y),p,E);const Lt=function nD(i,s,a,u,h){const p=new qt(i,a,Rc);return p.multi=[],p.index=s,p.componentProviders=0,O0(p,h,u&&!a),p}(h?tD:cT,a.length,h,u,D);!h&&Et&&(a[Qe].providerFactory=Lt),Ed(p,i,s.length,0),s.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(Lt),y.push(Lt)}else Ed(p,i,Ce>-1?Ce:Qe,O0(a[h?Qe:Ce],D,!h&&u));!h&&u&&Et&&a[Qe].componentProviders++}}}function Ed(i,s,a,u){const h=Rh(s),p=function Cx(i){return!!i.useClass}(s);if(h||p){const D=(p?_e(s.useClass):s).prototype.ngOnDestroy;if(D){const T=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const N=T.indexOf(a);-1===N?T.push(a,[u,D]):T[N+1].push(u,D)}else T.push(a,D)}}}function O0(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Hi(i,s,a,u){for(let h=a;h<u;h++)if(s[h]===i)return h;return-1}function cT(i,s,a,u){return Zs(this.multi,[])}function tD(i,s,a,u){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Bs(a,a[_t],this.providerFactory.index,u);p=E.slice(0,y),Zs(h,p);for(let D=y;D<E.length;D++)p.push(E[D])}else p=[],Zs(h,p);return p}function Zs(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function vg(i,s=[]){return a=>{a.providersResolver=(u,h)=>function Ts(i,s,a){const u=Tn();if(u.firstCreatePass){const h=Zr(i);Id(a,u.data,u.blueprint,h,!0),Id(s,u.data,u.blueprint,h,!1)}}(u,h?h(i):i,s)}}class wd{}class rD{}function uT(i,s){return new N0(i,s??null,[])}class N0 extends wd{constructor(s,a,u){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pS(this);const h=Cn(s);this._bootstrapComponents=Ds(h.bootstrap),this._r3Injector=eS(s,a,[{provide:wd,useValue:this},{provide:bp,useValue:this.componentFactoryResolver},...u],z(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class P0 extends rD{constructor(s){super(),this.moduleType=s}create(s){return new N0(this.moduleType,s,[])}}class iD extends wd{constructor(s){super(),this.componentFactoryResolver=new pS(this),this.instance=null;const a=new Pm([...s.providers,{provide:wd,useValue:this},{provide:bp,useValue:this.componentFactoryResolver}],s.parent||Nm(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function oD(i,s,a=null){return new iD({providers:i,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let hT=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const u=MC(0,a.type),h=u.length>0?oD([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Le({token:i,providedIn:"environment",factory:()=>new i(Sn(Qu))}),i})();function sD(i){i.getStandaloneInjector=s=>s.get(hT).getOrCreateStandaloneInjector(i)}function cf(i){return s=>{setTimeout(i,void 0,s)}}const vo=class L0 extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){let h=s,p=a||(()=>null),y=u;if(s&&"object"==typeof s){const D=s;h=D.next?.bind(D),p=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(p=cf(p),h&&(h=cf(h)),y&&(y=cf(y)));const E=super.subscribe({next:h,error:p,complete:y});return s instanceof K.w0&&s.add(E),E}};function B0(){return this._results[Symbol.iterator]()}class Dd{get changes(){return this._changes||(this._changes=new vo)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Dd.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=B0)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const h=function ui(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function js(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let h=i[u],p=s[u];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let uf=(()=>{class i{}return i.__NG_ELEMENT_ID__=wg,i})();const ED=uf,qy=class extends ED{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a,null)}createEmbeddedViewImpl(s,a,u){const y=this._declarationTContainer.tView,E=Ph(this._declarationLView,y,s,4096&this._declarationLView[pn]?4096:16,null,y.declTNode,null,null,null,a||null,u||null);E[Pa]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[Yi];return null!==T&&(E[Yi]=T.createEmbeddedView(y)),Zm(y,E,s),new Qm(E)}};function wg(){return Dg(li(),tt())}function Dg(i,s){return 4&i.type?new qy(s,i,ts(i,s)):null}let Kl=(()=>{class i{}return i.__NG_ELEMENT_ID__=vT,i})();function vT(){return Ky(li(),tt())}const SD=Kl,On=class extends SD{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return ts(this._hostTNode,this._hostLView)}get injector(){return new Mo(this._hostTNode,this._hostLView)}get parentInjector(){const s=fa(this._hostTNode,this._hostLView);if(sn(s)){const a=ha(s,this._hostLView),u=Ei(s);return new Mo(a[_t].data[u+8],a)}return new Mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=nr(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Kr}createEmbeddedView(s,a,u){let h,p;"number"==typeof u?h=u:null!=u&&(h=u.index,p=u.injector);const E=s.createEmbeddedViewImpl(a||{},p,null);return this.insertImpl(E,h,false),E}createComponent(s,a,u,h,p){const y=s&&!function el(i){return"function"==typeof i}(s);let E;if(y)E=a;else{const ct=a||{};E=ct.index,u=ct.injector,h=ct.projectableNodes,p=ct.environmentInjector||ct.ngModuleRef}const D=y?s:new Jm($e(s)),T=u||this.parentInjector;if(!p&&null==D.ngModule){const Et=(y?T:this.parentInjector).get(Qu,null);Et&&(p=Et)}$e(D.componentType??{});const Ce=D.create(T,h,null,p);return this.insertImpl(Ce.hostView,E,false),Ce}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,u){const h=s._lView,p=h[_t];if(function yu(i){return Zi(i[ir])}(h)){const D=this.indexOf(s);if(-1!==D)this.detach(D);else{const T=h[ir],N=new On(T,T[_i],T[ir]);N.detach(N.indexOf(s))}}const y=this._adjustIndex(a),E=this._lContainer;if(function Jv(i,s,a,u){const h=Kr+u,p=a.length;u>0&&(a[h-1][qi]=s),u<p-Kr?(s[qi]=a[h],yh(a,Kr+u,s)):(a.push(s),s[qi]=null),s[ir]=a;const y=s[Pa];null!==y&&a!==y&&function XI(i,s){const a=i[sa];s[fr]!==s[ir][ir][fr]&&(i[jo]=!0),null===a?i[sa]=[s]:a.push(s)}(y,s);const E=s[Yi];null!==E&&E.insertView(i),s[pn]|=128}(p,h,E,y),!u){const D=qu(y,E),T=h[gn],N=Wn(T,E[Ni]);null!==N&&function KI(i,s,a,u,h,p){u[cr]=h,u[_i]=s,Mc(i,u,a,1,h,p)}(p,E[_i],T,h,N,D)}return s.attachToViewContainerRef(),yh(Zc(E),y,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=nr(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=v(this._lContainer,a);u&&(Ou(Zc(this._lContainer),a),f(u[_t],u))}detach(s){const a=this._adjustIndex(s,-1),u=v(this._lContainer,a);return u&&null!=Ou(Zc(this._lContainer),a)?new Qm(u):null}_adjustIndex(s,a=0){return s??this.length+a}};function nr(i){return i[8]}function Zc(i){return i[8]||(i[8]=[])}function Ky(i,s){let a;const u=s[i.index];return Zi(u)?a=u:(a=Km(u,s,null,i),s[i.index]=a,Lp(s,a)),U0(a,s,i,u),new On(a,i,s)}let U0=function Zy(i,s,a,u){if(i[Ni])return;let h;h=8&a.type?Fn(u):function V0(i,s){const a=i[gn],u=a.createComment(""),h=ai(s,i);return be(a,Wn(a,h),u,function Ji(i,s){return i.nextSibling(s)}(a,h),!1),u}(s,a),i[Ni]=h};class Xy{constructor(s){this.queryList=s,this.matches=null}clone(){return new Xy(this.queryList)}setDirty(){this.queryList.setDirty()}}class j0{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let p=0;p<u;p++){const y=a.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new j0(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==bd(s,a).matches&&this.queries[a].setDirty()}}class MD{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class H0{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(s,h);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new H0(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Qy{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Qy(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(s,a,_T(a,p)),this.matchTNodeWithReadOption(s,a,Ls(a,s,p,!1,!1))}else u===uf?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Ls(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Nh||h===Kl||h===uf&&4&a.type)this.addMatch(a.index,-2);else{const p=Ls(a,s,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function _T(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function IT(i,s,a,u){return-1===a?function xD(i,s){return 11&i.type?ts(i,s):4&i.type?Dg(i,s):null}(s,i):-2===a?function ET(i,s,a){return a===Nh?ts(s,i):a===uf?Dg(s,i):a===Kl?Ky(s,i):void 0}(i,s,u):Bs(i,i[_t],a,s)}function RD(i,s,a,u){const h=s[Yi].queries[u];if(null===h.matches){const p=i.data,y=a.matches,E=[];for(let D=0;D<y.length;D+=2){const T=y[D];E.push(T<0?null:IT(s,p[T],y[D+1],a.metadata.read))}h.matches=E}return h.matches}function bg(i,s,a,u){const h=i.queries.getByIndex(a),p=h.matches;if(null!==p){const y=RD(i,s,h,a);for(let E=0;E<p.length;E+=2){const D=p[E];if(D>0)u.push(y[E/2]);else{const T=p[E+1],N=s[-D];for(let U=Kr;U<N.length;U++){const ge=N[U];ge[Pa]===ge[ir]&&bg(ge[_t],ge,T,u)}if(null!==N[sa]){const U=N[sa];for(let ge=0;ge<U.length;ge++){const Ce=U[ge];bg(Ce[_t],Ce,T,u)}}}}}return u}function Xc(i){const s=tt(),a=Tn(),u=kl();ca(u+1);const h=bd(a,u);if(i.dirty&&function Qg(i){return 4==(4&i[pn])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const p=h.crossesNgTemplate?bg(a,s,u,[]):RD(a,s,h,u);i.reset(p,Ox),i.notifyOnChanges()}return!0}return!1}function df(i,s,a){const u=Tn();u.firstCreatePass&&(yl(u,new MD(i,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),z0(u,tt(),s)}function Cg(i,s,a,u){const h=Tn();if(h.firstCreatePass){const p=li();yl(h,new MD(s,a,u),p.index),function ND(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}z0(h,tt(),a)}function Sg(){return function OD(i,s){return i[Yi].queries[s].queryList}(tt(),kl())}function z0(i,s,a){const u=new Dd(4==(4&a));(function Ux(i,s,a,u){const h=QE(s);h.push(a),i.firstCreatePass&&JE(i).push(u,h.length-1)})(i,s,u,u.destroy),null===s[Yi]&&(s[Yi]=new j0),s[Yi].queries.push(new Xy(u))}function yl(i,s,a){null===i.queries&&(i.queries=new H0),i.queries.track(new Qy(s,a))}function bd(i,s){return i.queries.getByIndex(s)}function Sd(i){return!!Cn(i)}const nv=new Xn("Application Initializer");let Pg=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u}),this.appInits=Kt(nv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const p=h();if(Z_(p))a.push(p);else if(Pc(p)){const y=new Promise((E,D)=>{p.subscribe({complete:E,error:D})});a.push(y)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),rv=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const iv=new Xn("LocaleId",{providedIn:"root",factory:()=>Kt(iv,yt.Optional|yt.SkipSelf)||function PT(){return typeof $localize<"u"&&$localize.locale||Vc}()}),pi=new Xn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let ov=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new P.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class sv{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let WD=(()=>{class i{compileModuleSync(a){return new P0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=Ds(Cn(a).declarations).reduce((y,E)=>{const D=$e(E);return D&&y.push(new Jm(D)),y},[]);return new sv(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function kg(...i){}class Io{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vo(!1),this.onMicrotaskEmpty=new vo(!1),this.onStable=new vo(!1),this.onError=new vo(!1),typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function YD(){const i="function"==typeof yn.requestAnimationFrame;let s=yn[i?"requestAnimationFrame":"setTimeout"],a=yn[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function UT(i){const s=()=>{!function KD(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(yn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Q0(i),i.isCheckStableRunning=!0,cv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Q0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,p,y,E)=>{try{return ZD(i),a.invokeTask(h,p,y,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),XD(i)}},onInvoke:(a,u,h,p,y,E,D)=>{try{return ZD(i),a.invoke(h,p,y,E,D)}finally{i.shouldCoalesceRunChangeDetection&&s(),XD(i)}},onHasTask:(a,u,h,p)=>{a.hasTask(h,p),u===h&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Q0(i),cv(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,h,p)=>(a.handleError(h,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Io.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(Io.isInAngularZone())throw new Z(909,!1)}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,s,VT,kg,kg);try{return p.runTask(y,a,u)}finally{p.cancelTask(y)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const VT={};function cv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Q0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function ZD(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function XD(i){i._nesting--,cv(i)}class J0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vo,this.onMicrotaskEmpty=new vo,this.onStable=new vo,this.onError=new vo}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,h){return s.apply(a,u)}}const Md=new Xn("",{providedIn:"root",factory:eI});function eI(){const i=Kt(Io);let s=!0;const a=new ce.y(h=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{h.next(s),h.complete()})}),u=new ce.y(h=>{let p;i.runOutsideAngular(()=>{p=i.onStable.subscribe(()=>{Io.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,h.next(!0))})})});const y=i.onUnstable.subscribe(()=>{Io.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}});return(0,oe.T)(a,u.pipe((0,Y.B)()))}const QD=new Xn(""),Wr=new Xn("");let Qs,tI=(()=>{class i{constructor(a,u,h){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Qs||(function Fg(i){Qs=i}(h),h.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Io.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(Sn(Io),Sn(nI),Sn(Wr))},i.\u0275prov=Le({token:i,factory:i.\u0275fac}),i})(),nI=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Qs?.findTestabilityInTree(this,a,u)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),vl=null;const rI=new Xn("AllowMultipleToken"),xd=new Xn("PlatformDestroyListeners"),uv=new Xn("appBootstrapListener");class Lg{constructor(s,a){this.name=s,this.token=a}}function sI(i,s,a=[]){const u=`Platform: ${s}`,h=new Xn(u);return(p=[])=>{let y=lI();if(!y||y.injector.get(rI,!1)){const E=[...a,...p,{provide:h,useValue:!0}];i?i(E):function iI(i){if(vl&&!vl.get(rI,!1))throw new Z(400,!1);(function eb(){!function nc(i){Xd=i}(()=>{throw new Z(600,!1)})})(),vl=i;const s=i.get(nb);(function oI(i){i.get(kC,null)?.forEach(a=>a())})(i)}(function aI(i=[],s){return xc.create({name:s,providers:[{provide:mE,useValue:"platform"},{provide:xd,useValue:new Set([()=>vl=null])},...i]})}(E,u))}return function GT(i){const s=lI();if(!s)throw new Z(401,!1);return s}()}}function lI(){return vl?.get(nb)??null}let nb=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const h=function yf(i="zone.js",s){return"noop"===i?new J0:"zone.js"===i?new Io(s):i}(u?.ngZone,function Ql(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return h.run(()=>{const p=function dT(i,s,a){return new N0(i,s,a)}(a.moduleType,this.injector,function tu(i){return[{provide:Io,useFactory:i},{provide:Mm,multi:!0,useFactory:()=>{const s=Kt(dv,{optional:!0});return()=>s.initialize()}},{provide:ib,useFactory:ob},{provide:Md,useFactory:eI}]}(()=>h)),y=p.injector.get(Ap,null);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:D=>{y.handleError(D)}});p.onDestroy(()=>{Js(this._modules,p),E.unsubscribe()})}),function cI(i,s,a){try{const u=a();return Z_(u)?u.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(y,h,()=>{const E=p.injector.get(Pg);return E.runInitializers(),E.donePromise.then(()=>(function cg(i){at(i,"Expected localeId to be defined"),"string"==typeof i&&(Ui=i.toLowerCase().replace(/_/g,"-"))}(p.injector.get(iv,Vc)||Vc),this._moduleDoBootstrap(p),p))})})}bootstrapModule(a,u=[]){const h=rb({},u);return function JD(i,s,a){const u=new P0(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const u=a.injector.get(Rd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Z(-403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Z(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(xd,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Sn(xc))},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function rb(i,s){return Array.isArray(s)?s.reduce(rb,i):{...i,...s}}let Rd=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Kt(ib),this.zoneIsStable=Kt(Md),this.componentTypes=[],this.components=[],this.isStable=Kt(ov).hasPendingTasks.pipe((0,Se.w)(a=>a?(0,ve.of)(!1):this.zoneIsStable),(0,le.x)(),(0,Y.B)()),this._injector=Kt(Qu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const h=a instanceof m_;if(!this._injector.get(Pg).done)throw!h&&Qt(a),new Z(405,!1);let y;y=h?a:this._injector.get(bp).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const E=function HT(i){return i.isBoundToModule}(y)?void 0:this._injector.get(wd),T=y.create(xc.NULL,[],u||y.selector,E),N=T.location.nativeElement,U=T.injector.get(QD,null);return U?.registerApplication(N),T.onDestroy(()=>{this.detachView(T.hostView),Js(this.components,T),U?.unregisterApplication(N)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Z(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Js(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(uv,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Js(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Z(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Js(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}const ib=new Xn("",{providedIn:"root",factory:()=>Kt(Ap).handleError.bind(void 0)});function ob(){const i=Kt(Io),s=Kt(Ap);return a=>i.runOutsideAngular(()=>s.handleError(a))}let dv=(()=>{class i{constructor(){this.zone=Kt(Io),this.applicationRef=Kt(Rd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Bg(){return!1}let lb=(()=>{class i{}return i.__NG_ELEMENT_ID__=qT,i})();function qT(i){return function cb(i,s,a){if(cs(i)&&!a){const u=ho(i.index,s);return new Qm(u,u)}return 47&i.type?new Qm(s[fr],s):null}(li(),tt(),16==(16&i))}class gI{constructor(){}supports(s){return Lh(s)}create(s){return new QT(s)}}const gv=(i,s)=>s;class QT{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||gv}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,h=0,p=null;for(;a||u;){const y=!u||a&&a.currentIndex<yI(u,h,p)?a:u,E=yI(y,h,p),D=y.currentIndex;if(y===u)h--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{p||(p=[]);const T=E-h,N=D-h;if(T!=N){for(let ge=0;ge<T;ge++){const Ce=ge<p.length?p[ge]:p[ge]=0,Qe=Ce+ge;N<=Qe&&Qe<T&&(p[ge]=Ce+1)}p[y.previousIndex]=N-T}}E!==D&&s(y,E,D)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Lh(s))throw new Z(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,p,y,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)p=s[E],y=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,p,y,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,E),u=!0),a=a._next}else h=0,function ES(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,E=>{y=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,E,y,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,y,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,h){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,h)):s=this._addAfter(new mI(a,u),p,h),s}_verifyReinsertion(s,a,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?s=this._reinsertAfter(p,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,p=s._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new pb),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pb),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class mI{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mv{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class pb{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new mv,this.map.set(a,u)),u.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yI(i,s,a){const u=i.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+s+h}class wf{constructor(){}supports(s){return s instanceof Map||V_(s)}create(){return new yv}}class yv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||V_(s)))throw new Z(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const u=new Vg(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class Vg{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vI(){return new vv([new gI])}let vv=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||vI()),deps:[[i,new Li,new ya]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Z(901,!1)}}return i.\u0275prov=Le({token:i,providedIn:"root",factory:vI}),i})();function _I(){return new Df([new wf])}let Df=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||_I()),deps:[[i,new Li,new ya]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(u)return u;throw new Z(901,!1)}}return i.\u0275prov=Le({token:i,providedIn:"root",factory:_I}),i})();const mb=sI(null,"core",[]);let Pd=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Sn(Rd))},i.\u0275mod=he({type:i}),i.\u0275inj=ft({}),i})();function aA(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function Ev(i,s){const a=$e(i),u=s.elementInjector||Nm();return new Jm(a).create(u,s.projectableNodes,s.hostElement,s.environmentInjector)}function cA(i){const s=$e(i);if(!s)return null;const a=new Jm(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3106:(wt,Pe,x)=>{"use strict";x.d(Pe,{Z:()=>De});var c=x(9058),K=x(4537),P=x(534),ce=x(7879);class oe{constructor(ue,G){this._delegate=ue,this.firebase=G,(0,P._addComponent)(ue,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this._delegate.automaticDataCollectionEnabled=ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ue=>{this._delegate.checkDestroyed(),ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(ue,G=P._DEFAULT_ENTRY_NAME){var Ae;this._delegate.checkDestroyed();const je=this._delegate.container.getProvider(ue);return!je.isInitialized()&&"EXPLICIT"===(null===(Ae=je.getComponent())||void 0===Ae?void 0:Ae.instantiationMode)&&je.initialize(),je.getImmediate({identifier:G})}_removeServiceInstance(ue,G=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ue).clearInstance(G)}_addComponent(ue){(0,P._addComponent)(this._delegate,ue)}_addOrOverwriteComponent(ue){(0,P._addOrOverwriteComponent)(this._delegate,ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Y=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function le(){const _e=function Se(_e){const ue={},G={__esModule:!0,initializeApp:function Z(te,me={}){const Q=P.initializeApp(te,me);if((0,c.r3)(ue,Q.name))return ue[Q.name];const ye=new _e(Q,G);return ue[Q.name]=ye,ye},app:je,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function X(te){const me=te.name,Q=me.replace("-compat","");if(P._registerComponent(te)&&"PUBLIC"===te.type){const ye=(ke=je())=>{if("function"!=typeof ke[Q])throw Y.create("invalid-app-argument",{appName:me});return ke[Q]()};void 0!==te.serviceProps&&(0,c.ZB)(ye,te.serviceProps),G[Q]=ye,_e.prototype[Q]=function(...ke){return this._getService.bind(this,me).apply(this,te.multipleInstances?ke:[])}}return"PUBLIC"===te.type?G[Q]:null},removeApp:function Ae(te){delete ue[te]},useAsService:function pe(te,me){return"serverAuth"===me?null:me},modularAPIs:P}};function je(te){if(!(0,c.r3)(ue,te=te||P._DEFAULT_ENTRY_NAME))throw Y.create("no-app",{appName:te});return ue[te]}return G.default=G,Object.defineProperty(G,"apps",{get:function fe(){return Object.keys(ue).map(te=>ue[te])}}),je.App=_e,G}(oe);return _e.INTERNAL=Object.assign(Object.assign({},_e.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function ue(G){(0,c.ZB)(_e,G)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),_e}(),B=new ce.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _e=self.firebase.SDK_VERSION;_e&&_e.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=j;!function re(_e){(0,P.registerVersion)("@firebase/app-compat","0.2.13",_e)}()},534:(wt,Pe,x)=>{"use strict";x.r(Pe),x.d(Pe,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>ao,_DEFAULT_ENTRY_NAME:()=>yt,_addComponent:()=>zn,_addOrOverwriteComponent:()=>Pr,_apps:()=>Ut,_clearComponents:()=>Mn,_components:()=>xn,_getProvider:()=>hr,_registerComponent:()=>yn,_removeServiceInstance:()=>Rr,deleteApp:()=>Er,getApp:()=>qr,getApps:()=>yi,initializeApp:()=>lo,onLog:()=>Ri,registerVersion:()=>Vn,setLogLevel:()=>Sn});var c=x(5861),K=x(4537),P=x(7879),ce=x(9058);const oe=(Be,xe)=>xe.some(nt=>Be instanceof nt);let ve,Y;const j=new WeakMap,B=new WeakMap,z=new WeakMap,ee=new WeakMap,re=new WeakMap;let ue={get(Be,xe,nt){if(Be instanceof IDBTransaction){if("done"===xe)return B.get(Be);if("objectStoreNames"===xe)return Be.objectStoreNames||z.get(Be);if("store"===xe)return nt.objectStoreNames[1]?void 0:nt.objectStore(nt.objectStoreNames[0])}return Z(Be[xe])},set:(Be,xe,nt)=>(Be[xe]=nt,!0),has:(Be,xe)=>Be instanceof IDBTransaction&&("done"===xe||"store"===xe)||xe in Be};function je(Be){return"function"==typeof Be?function Ae(Be){return Be!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function le(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Be)?function(...xe){return Be.apply(fe(this),xe),Z(j.get(this))}:function(...xe){return Z(Be.apply(fe(this),xe))}:function(xe,...nt){const Ot=Be.call(fe(this),xe,...nt);return z.set(Ot,xe.sort?xe.sort():[xe]),Z(Ot)}}(Be):(Be instanceof IDBTransaction&&function _e(Be){if(B.has(Be))return;const xe=new Promise((nt,Ot)=>{const jt=()=>{Be.removeEventListener("complete",nn),Be.removeEventListener("error",vn),Be.removeEventListener("abort",vn)},nn=()=>{nt(),jt()},vn=()=>{Ot(Be.error||new DOMException("AbortError","AbortError")),jt()};Be.addEventListener("complete",nn),Be.addEventListener("error",vn),Be.addEventListener("abort",vn)});B.set(Be,xe)}(Be),oe(Be,function Se(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Be,ue):Be)}function Z(Be){if(Be instanceof IDBRequest)return function De(Be){const xe=new Promise((nt,Ot)=>{const jt=()=>{Be.removeEventListener("success",nn),Be.removeEventListener("error",vn)},nn=()=>{nt(Z(Be.result)),jt()},vn=()=>{Ot(Be.error),jt()};Be.addEventListener("success",nn),Be.addEventListener("error",vn)});return xe.then(nt=>{nt instanceof IDBCursor&&j.set(nt,Be)}).catch(()=>{}),re.set(xe,Be),xe}(Be);if(ee.has(Be))return ee.get(Be);const xe=je(Be);return xe!==Be&&(ee.set(Be,xe),re.set(xe,Be)),xe}const fe=Be=>re.get(Be),te=["get","getKey","getAll","getAllKeys","count"],me=["put","add","delete","clear"],Q=new Map;function ye(Be,xe){if(!(Be instanceof IDBDatabase)||xe in Be||"string"!=typeof xe)return;if(Q.get(xe))return Q.get(xe);const nt=xe.replace(/FromIndex$/,""),Ot=xe!==nt,jt=me.includes(nt);if(!(nt in(Ot?IDBIndex:IDBObjectStore).prototype)||!jt&&!te.includes(nt))return;const nn=function(){var vn=(0,c.Z)(function*(Jn,...er){const Gn=this.transaction(Jn,jt?"readwrite":"readonly");let Zn=Gn.store;return Ot&&(Zn=Zn.index(er.shift())),(yield Promise.all([Zn[nt](...er),jt&&Gn.done]))[0]});return function(er){return vn.apply(this,arguments)}}();return Q.set(xe,nn),nn}!function G(Be){ue=Be(ue)}(Be=>({...Be,get:(xe,nt,Ot)=>ye(xe,nt)||Be.get(xe,nt,Ot),has:(xe,nt)=>!!ye(xe,nt)||Be.has(xe,nt)}));class ke{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function ze(Be){const xe=Be.getComponent();return"VERSION"===xe?.type}(nt)){const Ot=nt.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(nt=>nt).join(" ")}}const qe="@firebase/app",Bt=new P.Yd("@firebase/app"),yt="[DEFAULT]",Ft={[qe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ut=new Map,xn=new Map;function zn(Be,xe){try{Be.container.addComponent(xe)}catch(nt){Bt.debug(`Component ${xe.name} failed to register with FirebaseApp ${Be.name}`,nt)}}function Pr(Be,xe){Be.container.addOrOverwriteComponent(xe)}function yn(Be){const xe=Be.name;if(xn.has(xe))return Bt.debug(`There were multiple attempts to register component ${xe}.`),!1;xn.set(xe,Be);for(const nt of Ut.values())zn(nt,Be);return!0}function hr(Be,xe){const nt=Be.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),Be.container.getProvider(xe)}function Rr(Be,xe,nt=yt){hr(Be,xe).clearInstance(nt)}function Mn(){xn.clear()}const ln=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xi{constructor(xe,nt,Ot){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}}const ao="9.23.0";function lo(Be,xe={}){let nt=Be;"object"!=typeof xe&&(xe={name:xe});const Ot=Object.assign({name:yt,automaticDataCollectionEnabled:!1},xe),jt=Ot.name;if("string"!=typeof jt||!jt)throw ln.create("bad-app-name",{appName:String(jt)});if(nt||(nt=(0,ce.aH)()),!nt)throw ln.create("no-options");const nn=Ut.get(jt);if(nn){if((0,ce.vZ)(nt,nn.options)&&(0,ce.vZ)(Ot,nn.config))return nn;throw ln.create("duplicate-app",{appName:jt})}const vn=new K.H0(jt);for(const er of xn.values())vn.addComponent(er);const Jn=new xi(nt,Ot,vn);return Ut.set(jt,Jn),Jn}function qr(Be=yt){const xe=Ut.get(Be);if(!xe&&Be===yt&&(0,ce.aH)())return lo();if(!xe)throw ln.create("no-app",{appName:Be});return xe}function yi(){return Array.from(Ut.values())}function Er(Be){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(Be){const xe=Be.name;Ut.has(xe)&&(Ut.delete(xe),yield Promise.all(Be.container.getProviders().map(nt=>nt.delete())),Be.isDeleted=!0)})).apply(this,arguments)}function Vn(Be,xe,nt){var Ot;let jt=null!==(Ot=Ft[Be])&&void 0!==Ot?Ot:Be;nt&&(jt+=`-${nt}`);const nn=jt.match(/\s|\//),vn=xe.match(/\s|\//);if(nn||vn){const Jn=[`Unable to register library "${jt}" with version "${xe}":`];return nn&&Jn.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),nn&&vn&&Jn.push("and"),vn&&Jn.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void Bt.warn(Jn.join(" "))}yn(new K.wA(`${jt}-version`,()=>({library:jt,version:xe}),"VERSION"))}function Ri(Be,xe){if(null!==Be&&"function"!=typeof Be)throw ln.create("invalid-log-argument");(0,P.Am)(Be,xe)}function Sn(Be){(0,P.Ub)(Be)}const kr="firebase-heartbeat-database",Kt=1,J="firebase-heartbeat-store";let q=null;function de(){return q||(q=function X(Be,xe,{blocked:nt,upgrade:Ot,blocking:jt,terminated:nn}={}){const vn=indexedDB.open(Be,xe),Jn=Z(vn);return Ot&&vn.addEventListener("upgradeneeded",er=>{Ot(Z(vn.result),er.oldVersion,er.newVersion,Z(vn.transaction),er)}),nt&&vn.addEventListener("blocked",er=>nt(er.oldVersion,er.newVersion,er)),Jn.then(er=>{nn&&er.addEventListener("close",()=>nn()),jt&&er.addEventListener("versionchange",Gn=>jt(Gn.oldVersion,Gn.newVersion,Gn))}).catch(()=>{}),Jn}(kr,Kt,{upgrade:(Be,xe)=>{0===xe&&Be.createObjectStore(J)}}).catch(Be=>{throw ln.create("idb-open",{originalErrorMessage:Be.message})})),q}function Oe(){return(Oe=(0,c.Z)(function*(Be){try{return yield(yield de()).transaction(J).objectStore(J).get(tn(Be))}catch(xe){if(xe instanceof ce.ZR)Bt.warn(xe.message);else{const nt=ln.create("idb-get",{originalErrorMessage:xe?.message});Bt.warn(nt.message)}}})).apply(this,arguments)}function At(Be,xe){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(Be,xe){try{const Ot=(yield de()).transaction(J,"readwrite");yield Ot.objectStore(J).put(xe,tn(Be)),yield Ot.done}catch(nt){if(nt instanceof ce.ZR)Bt.warn(nt.message);else{const Ot=ln.create("idb-set",{originalErrorMessage:nt?.message});Bt.warn(Ot.message)}}})).apply(this,arguments)}function tn(Be){return`${Be.name}!${Be.options.appId}`}class Wt{constructor(xe){this.container=xe,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new ti(nt),this._heartbeatsCachePromise=this._storage.read().then(Ot=>(this._heartbeatsCache=Ot,Ot))}triggerHeartbeat(){var xe=this;return(0,c.Z)(function*(){const Ot=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=En();if(null===xe._heartbeatsCache&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise),xe._heartbeatsCache.lastSentHeartbeatDate!==jt&&!xe._heartbeatsCache.heartbeats.some(nn=>nn.date===jt))return xe._heartbeatsCache.heartbeats.push({date:jt,agent:Ot}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter(nn=>{const vn=new Date(nn.date).valueOf();return Date.now()-vn<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,c.Z)(function*(){if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null===xe._heartbeatsCache||0===xe._heartbeatsCache.heartbeats.length)return"";const nt=En(),{heartbeatsToSend:Ot,unsentEntries:jt}=function wr(Be,xe=1024){const nt=[];let Ot=Be.slice();for(const jt of Be){const nn=nt.find(vn=>vn.agent===jt.agent);if(nn){if(nn.dates.push(jt.date),zi(nt)>xe){nn.dates.pop();break}}else if(nt.push({agent:jt.agent,dates:[jt.date]}),zi(nt)>xe){nt.pop();break}Ot=Ot.slice(1)}return{heartbeatsToSend:nt,unsentEntries:Ot}}(xe._heartbeatsCache.heartbeats),nn=(0,ce.L)(JSON.stringify({version:2,heartbeats:Ot}));return xe._heartbeatsCache.lastSentHeartbeatDate=nt,jt.length>0?(xe._heartbeatsCache.heartbeats=jt,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),nn})()}}function En(){return(new Date).toISOString().substring(0,10)}class ti{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,c.Z)(function*(){return(yield xe._canUseIndexedDBPromise)&&(yield function Ye(Be){return Oe.apply(this,arguments)}(xe.app))||{heartbeats:[]}})()}overwrite(xe){var nt=this;return(0,c.Z)(function*(){var Ot;if(yield nt._canUseIndexedDBPromise){const nn=yield nt.read();return At(nt.app,{lastSentHeartbeatDate:null!==(Ot=xe.lastSentHeartbeatDate)&&void 0!==Ot?Ot:nn.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var nt=this;return(0,c.Z)(function*(){var Ot;if(yield nt._canUseIndexedDBPromise){const nn=yield nt.read();return At(nt.app,{lastSentHeartbeatDate:null!==(Ot=xe.lastSentHeartbeatDate)&&void 0!==Ot?Ot:nn.lastSentHeartbeatDate,heartbeats:[...nn.heartbeats,...xe.heartbeats]})}})()}}function zi(Be){return(0,ce.L)(JSON.stringify({version:2,heartbeats:Be})).length}!function Fr(Be){yn(new K.wA("platform-logger",xe=>new ke(xe),"PRIVATE")),yn(new K.wA("heartbeat",xe=>new Wt(xe),"PRIVATE")),Vn(qe,"0.9.13",Be),Vn(qe,"0.9.13","esm2017"),Vn("fire-js","")}("")},4537:(wt,Pe,x)=>{"use strict";x.d(Pe,{H0:()=>Se,wA:()=>P});var c=x(5861),K=x(9058);class P{constructor(j,B,z){this.name=j,this.instanceFactory=B,this.type=z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ce="[DEFAULT]";class oe{constructor(j,B){this.name=j,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const B=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(B)){const z=new K.BH;if(this.instancesDeferred.set(B,z),this.isInitialized(B)||this.shouldAutoInitialize())try{const ee=this.getOrInitializeService({instanceIdentifier:B});ee&&z.resolve(ee)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate(j){var B;const z=this.normalizeInstanceIdentifier(j?.identifier),ee=null!==(B=j?.optional)&&void 0!==B&&B;if(!this.isInitialized(z)&&!this.shouldAutoInitialize()){if(ee)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:z})}catch(re){if(ee)return null;throw re}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function Y(le){return"EAGER"===le.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[B,z]of this.instancesDeferred.entries()){const ee=this.normalizeInstanceIdentifier(B);try{const re=this.getOrInitializeService({instanceIdentifier:ee});z.resolve(re)}catch{}}}}clearInstance(j=ce){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,c.Z)(function*(){const B=Array.from(j.instances.values());yield Promise.all([...B.filter(z=>"INTERNAL"in z).map(z=>z.INTERNAL.delete()),...B.filter(z=>"_delete"in z).map(z=>z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ce){return this.instances.has(j)}getOptions(j=ce){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:B={}}=j,z=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(z))throw Error(`${this.name}(${z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ee=this.getOrInitializeService({instanceIdentifier:z,options:B});for(const[re,De]of this.instancesDeferred.entries())z===this.normalizeInstanceIdentifier(re)&&De.resolve(ee);return ee}onInit(j,B){var z;const ee=this.normalizeInstanceIdentifier(B),re=null!==(z=this.onInitCallbacks.get(ee))&&void 0!==z?z:new Set;re.add(j),this.onInitCallbacks.set(ee,re);const De=this.instances.get(ee);return De&&j(De,ee),()=>{re.delete(j)}}invokeOnInitCallbacks(j,B){const z=this.onInitCallbacks.get(B);if(z)for(const ee of z)try{ee(j,B)}catch{}}getOrInitializeService({instanceIdentifier:j,options:B={}}){let z=this.instances.get(j);if(!z&&this.component&&(z=this.component.instanceFactory(this.container,{instanceIdentifier:(le=j,le===ce?void 0:le),options:B}),this.instances.set(j,z),this.instancesOptions.set(j,B),this.invokeOnInitCallbacks(z,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,z)}catch{}var le;return z||null}normalizeInstanceIdentifier(j=ce){return this.component?this.component.multipleInstances?j:ce:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const B=this.getProvider(j.name);if(B.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);B.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const B=new oe(j,this);return this.providers.set(j,B),B}getProviders(){return Array.from(this.providers.values())}}},7879:(wt,Pe,x)=>{"use strict";x.d(Pe,{Am:()=>le,Ub:()=>Se,Yd:()=>Y,in:()=>K});const c=[];var K=(()=>((K=K||{})[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",K))();const P={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},ce=K.INFO,oe={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},ve=(j,B,...z)=>{if(B<j.logLevel)return;const ee=(new Date).toISOString(),re=oe[B];if(!re)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[re](`[${ee}]  ${j.name}:`,...z)};class Y{constructor(B){this.name=B,this._logLevel=ce,this._logHandler=ve,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in K))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?P[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...B),this._logHandler(this,K.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...B),this._logHandler(this,K.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,K.INFO,...B),this._logHandler(this,K.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,K.WARN,...B),this._logHandler(this,K.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...B),this._logHandler(this,K.ERROR,...B)}}function Se(j){c.forEach(B=>{B.setLogLevel(j)})}function le(j,B){for(const z of c){let ee=null;B&&B.level&&(ee=P[B.level]),z.userLogHandler=null===j?null:(re,De,..._e)=>{const ue=_e.map(G=>{if(null==G)return null;if("string"==typeof G)return G;if("number"==typeof G||"boolean"==typeof G)return G.toString();if(G instanceof Error)return G.message;try{return JSON.stringify(G)}catch{return null}}).filter(G=>G).join(" ");De>=(ee??re.logLevel)&&j({level:K[De].toLowerCase(),message:ue,args:_e,type:re.name})}}}},3182:(wt,Pe,x)=>{"use strict";x.d(Pe,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=x(534);(0,c.registerVersion)("firebase","9.23.0","app")},7142:(wt,Pe,x)=>{"use strict";x.d(Pe,{Z:()=>c.Z});var c=x(3106);c.Z.registerVersion("firebase","9.23.0","app-compat")},5967:(wt,Pe,x)=>{"use strict";x.r(Pe);var c=x(5861),K=x(3106),P=x(9058),ce=x(534),oe=x(7582),ve=x(7879),Y=x(4537);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const De=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},_e=function re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ue=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new ve.Yd("@firebase/auth");function Z(v,...f){Ae.logLevel<=ve.in.ERROR&&Ae.error(`Auth (${ce.SDK_VERSION}): ${v}`,...f)}function fe(v,...f){throw me(v,...f)}function X(v,...f){return me(v,...f)}function pe(v,f,g){const _=Object.assign(Object.assign({},_e()),{[f]:g});return new P.LL("auth","Firebase",_).create(f,{appName:v.name})}function te(v,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&fe(v,"argument-error"),pe(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function me(v,...f){if("string"!=typeof v){const g=f[0],_=[...f.slice(1)];return _[0]&&(_[0].appName=v.name),v._errorFactory.create(g,..._)}return ue.create(v,...f)}function Q(v,f,...g){if(!v)throw me(f,...g)}function ye(v){const f="INTERNAL ASSERTION FAILED: "+v;throw Z(f),new Error(f)}function ke(v,f){v||ye(f)}function ze(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function qe(){return"http:"===St()||"https:"===St()}function St(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class We{constructor(f,g){this.shortDelay=f,this.longDelay=g,ke(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Bt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qe()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $(v,f){ke(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class H{static initialize(f,g,_){this.fetchImpl=f,g&&(this.headersImpl=g),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},we=new We(3e4,6e4);function Me(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function Re(v,f,g,_){return at.apply(this,arguments)}function at(){return(at=(0,c.Z)(function*(v,f,g,_,S={}){return st(v,S,(0,c.Z)(function*(){let R={},ne={};_&&("GET"===f?ne=_:R={body:JSON.stringify(_)});const be=(0,P.xO)(Object.assign({key:v.config.apiKey},ne)).slice(1),it=yield v._getAdditionalHeaders();return it["Content-Type"]="application/json",v.languageCode&&(it["X-Firebase-Locale"]=v.languageCode),H.fetch()(Le(v,v.config.apiHost,g,be),Object.assign({method:f,headers:it,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function st(v,f,g){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(v,f,g){v._canInitEmulator=!1;const _=Object.assign(Object.assign({},ie),f);try{const S=new ot(v),R=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const ne=yield R.json();if("needConfirmation"in ne)throw ft(v,"account-exists-with-different-credential",ne);if(R.ok&&!("errorMessage"in ne))return ne;{const be=R.ok?ne.errorMessage:ne.error.message,[it,ht]=be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===it)throw ft(v,"credential-already-in-use",ne);if("EMAIL_EXISTS"===it)throw ft(v,"email-already-in-use",ne);if("USER_DISABLED"===it)throw ft(v,"user-disabled",ne);const Rt=_[it]||it.toLowerCase().replace(/[_\s]+/g,"-");if(ht)throw pe(v,Rt,ht);fe(v,Rt)}}catch(S){if(S instanceof P.ZR)throw S;fe(v,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function Fe(v,f,g,_){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,c.Z)(function*(v,f,g,_,S={}){const R=yield Re(v,f,g,_,S);return"mfaPendingCredential"in R&&fe(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Le(v,f,g,_){const S=`${f}${g}?${_}`;return v.config.emulator?$(v.config,S):`${v.config.apiScheme}://${S}`}class ot{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,_)=>{this.timer=setTimeout(()=>_(X(this.auth,"network-request-failed")),we.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ft(v,f,g){const _={appName:v.name};g.email&&(_.email=g.email),g.phoneNumber&&(_.phoneNumber=g.phoneNumber);const S=X(v,f,_);return S.customData._tokenResponse=g,S}function $t(){return($t=(0,c.Z)(function*(v,f){return Re(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(v,f){return Re(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(v,f){return Re(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function $n(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function yt(){return(yt=(0,c.Z)(function*(v,f=!1){const g=(0,P.m9)(v),_=yield g.getIdToken(f),S=Ut(_);Q(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,ne=R?.sign_in_provider;return{claims:S,token:_,authTime:$n(Ft(S.auth_time)),issuedAtTime:$n(Ft(S.iat)),expirationTime:$n(Ft(S.exp)),signInProvider:ne||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function Ft(v){return 1e3*Number(v)}function Ut(v){const[f,g,_]=v.split(".");if(void 0===f||void 0===g||void 0===_)return Z("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,P.tV)(g);return S?JSON.parse(S):(Z("Failed to decode base64 JWT payload"),null)}catch(S){return Z("Caught error parsing JWT payload as JSON",S?.toString()),null}}function zn(v,f){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(v,f,g=!1){if(g)return f;try{return yield f}catch(_){throw _ instanceof P.ZR&&function yn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(_)&&v.auth.currentUser===v&&(yield v.auth.signOut()),_}})).apply(this,arguments)}class hr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const _=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),_)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class Rr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=$n(this.lastLoginAt),this.creationTime=$n(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mn(v){return Ir.apply(this,arguments)}function Ir(){return Ir=(0,c.Z)(function*(v){var f;const g=v.auth,_=yield v.getIdToken(),S=yield zn(v,function kn(v,f){return Hn.apply(this,arguments)}(g,{idToken:_}));Q(S?.users.length,g,"internal-error");const R=S.users[0];v._notifyReloadListener(R);const ne=null!==(f=R.providerUserInfo)&&void 0!==f&&f.length?function lo(v){return v.map(f=>{var{providerId:g}=f,_=(0,oe._T)(f,["providerId"]);return{providerId:g,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(R.providerUserInfo):[],be=function ao(v,f){return[...v.filter(_=>!f.some(S=>S.providerId===_.providerId)),...f]}(v.providerData,ne),Rt=!!v.isAnonymous&&!(v.email&&R.passwordHash||be?.length),kt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:be,metadata:new Rr(R.createdAt,R.lastLoginAt),isAnonymous:Rt};Object.assign(v,kt)}),Ir.apply(this,arguments)}function xi(){return(xi=(0,c.Z)(function*(v){const f=(0,P.m9)(v);yield Mn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function yi(){return(yi=(0,c.Z)(function*(v,f){const g=yield st(v,{},(0,c.Z)(function*(){const _=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:R}=v.config,ne=Le(v,S,"/v1/token",`key=${R}`),be=yield v._getAdditionalHeaders();return be["Content-Type"]="application/x-www-form-urlencoded",H.fetch()(ne,{method:"POST",headers:be,body:_})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Er{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Q(f.idToken,"internal-error"),Q(typeof f.idToken<"u","internal-error"),Q(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function xn(v){const f=Ut(v);return Q(f,"internal-error"),Q(typeof f.exp<"u","internal-error"),Q(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var _=this;return(0,c.Z)(function*(){return Q(!_.accessToken||_.refreshToken,f,"user-token-expired"),g||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(f,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var _=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:ne}=yield function qr(v,f){return yi.apply(this,arguments)}(f,g);_.updateTokensAndExpiration(S,R,Number(ne))})()}updateTokensAndExpiration(f,g,_){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(f,g){const{refreshToken:_,accessToken:S,expirationTime:R}=g,ne=new Er;return _&&(Q("string"==typeof _,"internal-error",{appName:f}),ne.refreshToken=_),S&&(Q("string"==typeof S,"internal-error",{appName:f}),ne.accessToken=S),R&&(Q("number"==typeof R,"internal-error",{appName:f}),ne.expirationTime=R),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Er,this.toJSON())}_performRefresh(){return ye("not implemented")}}function lr(v,f){Q("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class Vn{constructor(f){var{uid:g,auth:_,stsTokenManager:S}=f,R=(0,oe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=_,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Rr(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const _=yield zn(g,g.stsTokenManager.getToken(g.auth,f));return Q(_,g.auth,"internal-error"),g.accessToken!==_&&(g.accessToken=_,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),_})()}getIdTokenResult(f){return function ar(v){return yt.apply(this,arguments)}(this,f)}reload(){return function ln(v){return xi.apply(this,arguments)}(this)}_assign(f){this!==f&&(Q(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new Vn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var _=this;return(0,c.Z)(function*(){let S=!1;f.idToken&&f.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(f),S=!0),g&&(yield Mn(_)),yield _.auth._persistUserIfCurrent(_),S&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield zn(f,function zt(v,f){return $t.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var _,S,R,ne,be,it,ht,Rt;const kt=null!==(_=g.displayName)&&void 0!==_?_:void 0,Wn=null!==(S=g.email)&&void 0!==S?S:void 0,Ji=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,Wu=null!==(ne=g.photoURL)&&void 0!==ne?ne:void 0,up=null!==(be=g.tenantId)&&void 0!==be?be:void 0,il=null!==(it=g._redirectEventId)&&void 0!==it?it:void 0,ol=null!==(ht=g.createdAt)&&void 0!==ht?ht:void 0,dp=null!==(Rt=g.lastLoginAt)&&void 0!==Rt?Rt:void 0,{uid:Tc,emailVerified:Ac,isAnonymous:hp,providerData:qu,stsTokenManager:Yu}=g;Q(Tc&&Yu,f,"internal-error");const e_=Er.fromJSON(this.name,Yu);Q("string"==typeof Tc,f,"internal-error"),lr(kt,f.name),lr(Wn,f.name),Q("boolean"==typeof Ac,f,"internal-error"),Q("boolean"==typeof hp,f,"internal-error"),lr(Ji,f.name),lr(Wu,f.name),lr(up,f.name),lr(il,f.name),lr(ol,f.name),lr(dp,f.name);const Ku=new Vn({uid:Tc,auth:f,email:Wn,emailVerified:Ac,displayName:kt,isAnonymous:hp,photoURL:Wu,phoneNumber:Ji,tenantId:up,stsTokenManager:e_,createdAt:ol,lastLoginAt:dp});return qu&&Array.isArray(qu)&&(Ku.providerData=qu.map(Mc=>Object.assign({},Mc))),il&&(Ku._redirectEventId=il),Ku}static _fromIdTokenResponse(f,g,_=!1){return(0,c.Z)(function*(){const S=new Er;S.updateFromServerResponse(g);const R=new Vn({uid:g.localId,auth:f,stsTokenManager:S,isAnonymous:_});return yield Mn(R),R})()}}const Ri=new Map;function Sn(v){ke(v instanceof Function,"Expected a class definition");let f=Ri.get(v);return f?(ke(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,Ri.set(v,f),f)}const Kt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,_){var S=this;return(0,c.Z)(function*(){S.storage[g]=_})()}_get(g){var _=this;return(0,c.Z)(function*(){const S=_.storage[g];return void 0===S?null:S})()}_remove(g){var _=this;return(0,c.Z)(function*(){delete _.storage[g]})()}_addListener(g,_){}_removeListener(g,_){}}return v.type="NONE",v})();function J(v,f,g){return`firebase:${v}:${f}:${g}`}class q{constructor(f,g,_){this.persistence=f,this.auth=g,this.userKey=_;const{config:S,name:R}=this.auth;this.fullUserKey=J(this.userKey,S.apiKey,R),this.fullPersistenceKey=J("persistence",S.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Vn._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const _=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,_?g.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,_="authUser"){return(0,c.Z)(function*(){if(!g.length)return new q(Sn(Kt),f,_);const S=(yield Promise.all(g.map(function(){var ht=(0,c.Z)(function*(Rt){if(yield Rt._isAvailable())return Rt});return function(Rt){return ht.apply(this,arguments)}}()))).filter(ht=>ht);let R=S[0]||Sn(Kt);const ne=J(_,f.config.apiKey,f.name);let be=null;for(const ht of g)try{const Rt=yield ht._get(ne);if(Rt){const kt=Vn._fromJSON(f,Rt);ht!==R&&(be=kt),R=ht;break}}catch{}const it=S.filter(ht=>ht._shouldAllowMigration);return R._shouldAllowMigration&&it.length?(R=it[0],be&&(yield R._set(ne,be.toJSON())),yield Promise.all(g.map(function(){var ht=(0,c.Z)(function*(Rt){if(Rt!==R)try{yield Rt._remove(ne)}catch{}});return function(Rt){return ht.apply(this,arguments)}}())),new q(R,f,_)):new q(R,f,_)})()}}function de(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Vt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ye(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Un(f))return"Blackberry";if(Nn(f))return"Webos";if(Oe(f))return"Safari";if((f.includes("chrome/")||At(f))&&!f.includes("edge/"))return"Chrome";if(tn(f))return"Android";{const _=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Ye(v=(0,P.z$)()){return/firefox\//i.test(v)}function Oe(v=(0,P.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function At(v=(0,P.z$)()){return/crios\//i.test(v)}function Vt(v=(0,P.z$)()){return/iemobile/i.test(v)}function tn(v=(0,P.z$)()){return/android/i.test(v)}function Un(v=(0,P.z$)()){return/blackberry/i.test(v)}function Nn(v=(0,P.z$)()){return/webos/i.test(v)}function Wt(v=(0,P.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function zi(v=(0,P.z$)()){return Wt(v)||tn(v)||Nn(v)||Un(v)||/windows phone/i.test(v)||Vt(v)}function Be(v,f=[]){let g;switch(v){case"Browser":g=de((0,P.z$)());break;case"Worker":g=`${de((0,P.z$)())}-${v}`;break;default:g=v}const _=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ce.SDK_VERSION}/${_}`}function nt(){return(nt=(0,c.Z)(function*(v){return(yield Re(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ot(v,f){return jt.apply(this,arguments)}function jt(){return(jt=(0,c.Z)(function*(v,f){return Re(v,"GET","/v2/recaptchaConfig",Me(v,f))})).apply(this,arguments)}function nn(v){return void 0!==v&&void 0!==v.getResponse}function vn(v){return void 0!==v&&void 0!==v.enterprise}class Jn{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Gn(v){return new Promise((f,g)=>{const _=document.createElement("script");_.setAttribute("src",v),_.onload=f,_.onerror=S=>{const R=X("internal-error");R.customData=S,g(R)},_.type="text/javascript",_.charset="UTF-8",function er(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(_)})}function Zn(v){return`__${v}${Math.floor(1e6*Math.random())}`}class ea{constructor(f){this.type="recaptcha-enterprise",this.auth=rr(f)}verify(f="verify",g=!1){var _=this;return(0,c.Z)(function*(){function R(){return R=(0,c.Z)(function*(be){if(!g){if(null==be.tenantId&&null!=be._agentRecaptchaConfig)return be._agentRecaptchaConfig.siteKey;if(null!=be.tenantId&&void 0!==be._tenantRecaptchaConfigs[be.tenantId])return be._tenantRecaptchaConfigs[be.tenantId].siteKey}return new Promise(function(){var it=(0,c.Z)(function*(ht,Rt){Ot(be,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(kt=>{if(void 0!==kt.recaptchaKey){const Wn=new Jn(kt);return null==be.tenantId?be._agentRecaptchaConfig=Wn:be._tenantRecaptchaConfigs[be.tenantId]=Wn,ht(Wn.siteKey)}Rt(new Error("recaptcha Enterprise site key undefined"))}).catch(kt=>{Rt(kt)})});return function(ht,Rt){return it.apply(this,arguments)}}())}),R.apply(this,arguments)}function ne(be,it,ht){const Rt=window.grecaptcha;vn(Rt)?Rt.enterprise.ready(()=>{Rt.enterprise.execute(be,{action:f}).then(kt=>{it(kt)}).catch(()=>{it("NO_RECAPTCHA")})}):ht(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((be,it)=>{(function S(be){return R.apply(this,arguments)})(_.auth).then(ht=>{if(!g&&vn(window.grecaptcha))ne(ht,be,it);else{if(typeof window>"u")return void it(new Error("RecaptchaVerifier is only supported in browser"));Gn("https://www.google.com/recaptcha/enterprise.js?render="+ht).then(()=>{ne(ht,be,it)}).catch(Rt=>{it(Rt)})}}).catch(ht=>{it(ht)})})})()}}function ni(v,f,g){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,c.Z)(function*(v,f,g,_=!1){const S=new ea(v);let R;try{R=yield S.verify(g)}catch{R=yield S.verify(g,!0)}const ne=Object.assign({},f);return Object.assign(ne,_?{captchaResp:R}:{captchaResponse:R}),Object.assign(ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ne})).apply(this,arguments)}class Rs{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const _=R=>new Promise((ne,be)=>{try{ne(f(R))}catch(it){be(it)}});_.onAbort=g,this.queue.push(_);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,c.Z)(function*(){if(g.auth.currentUser===f)return;const _=[];try{for(const S of g.queue)yield S(f),S.onAbort&&_.push(S.onAbort)}catch(S){_.reverse();for(const R of _)try{R()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class ta{constructor(f,g,_,S){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=_,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gi(this),this.idTokenSubscription=new Gi(this),this.beforeStateQueue=new Rs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ue,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(f,g){var _=this;return g&&(this._popupRedirectResolver=Sn(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,R;if(!_._deleted&&(_.persistenceManager=yield q.create(_,f),!_._deleted)){if(null!==(S=_._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(g),_.lastNotifiedUid=(null===(R=_.currentUser)||void 0===R?void 0:R.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var _;const S=yield g.assertedPersistence.getCurrentUser();let R=S,ne=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const be=null===(_=g.redirectUser)||void 0===_?void 0:_._redirectEventId,it=R?._redirectEventId,ht=yield g.tryRedirectSignIn(f);(!be||be===it)&&ht?.user&&(R=ht.user,ne=!0)}if(!R)return g.directlySetCurrentUser(null);if(!R._redirectEventId){if(ne)try{yield g.beforeStateQueue.runMiddleware(R)}catch(be){R=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(be))}return R?g.reloadAndSetCurrentUserOrClear(R):g.directlySetCurrentUser(null)}return Q(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===R._redirectEventId?g.directlySetCurrentUser(R):g.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let _=null;try{_=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield Mn(f)}catch(_){if("auth/network-request-failed"!==_?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Xt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const _=f?(0,P.m9)(f):null;return _&&Q(_.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(_&&_._clone(g))})()}_updateCurrentUser(f,g=!1){var _=this;return(0,c.Z)(function*(){if(!_._deleted)return f&&Q(_.tenantId===f.tenantId,_,"tenant-id-mismatch"),g||(yield _.beforeStateQueue.runMiddleware(f)),_.queue((0,c.Z)(function*(){yield _.directlySetCurrentUser(f),_.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(Sn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,c.Z)(function*(){const g=yield Ot(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),_=new Jn(g);null==f.tenantId?f._agentRecaptchaConfig=_:f._tenantRecaptchaConfigs[f.tenantId]=_,_.emailPasswordEnabled&&new ea(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,g,_){return this.registerStateListener(this.authStateSubscription,f,g,_)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,_){return this.registerStateListener(this.idTokenSubscription,f,g,_)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var _=this;return(0,c.Z)(function*(){const S=yield _.getOrInitRedirectPersistenceManager(g);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const _=f&&Sn(f)||g._popupRedirectResolver;Q(_,g,"argument-error"),g.redirectPersistenceManager=yield q.create(g,[Sn(_._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var _,S;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(_=g._currentUser)||void 0===_?void 0:_._redirectEventId)===f?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,_,S){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),ne=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(ne,this,"internal-error"),ne.then(()=>R(this.currentUser)),"function"==typeof g?f.addObserver(g,_,S):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Be(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var g;const _={"X-Client-Version":f.clientVersion};f.app.options.appId&&(_["X-Firebase-gmpid"]=f.app.options.appId);const S=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();S&&(_["X-Firebase-Client"]=S);const R=yield f._getAppCheckToken();return R&&(_["X-Firebase-AppCheck"]=R),_})()}_getAppCheckToken(){var f=this;return(0,c.Z)(function*(){var g;const _=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return _?.error&&function je(v,...f){Ae.logLevel<=ve.in.WARN&&Ae.warn(`Auth (${ce.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function rr(v){return(0,P.m9)(v)}class Gi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function O(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function F(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class he{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ye("not implemented")}_getIdTokenResponse(f){return ye("not implemented")}_linkToIdToken(f,g){return ye("not implemented")}_getReauthenticationResolver(f){return ye("not implemented")}}function Ie(v,f){return He.apply(this,arguments)}function He(){return(He=(0,c.Z)(function*(v,f){return Re(v,"POST","/v1/accounts:resetPassword",Me(v,f))})).apply(this,arguments)}function Ke(v,f){return Je.apply(this,arguments)}function Je(){return(Je=(0,c.Z)(function*(v,f){return Re(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(v,f){return Re(v,"POST","/v1/accounts:update",Me(v,f))})).apply(this,arguments)}function vt(v,f){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,c.Z)(function*(v,f){return Fe(v,"POST","/v1/accounts:signInWithPassword",Me(v,f))})).apply(this,arguments)}function Cn(v,f){return vi.apply(this,arguments)}function vi(){return(vi=(0,c.Z)(function*(v,f){return Re(v,"POST","/v1/accounts:sendOobCode",Me(v,f))})).apply(this,arguments)}function Wi(){return(Wi=(0,c.Z)(function*(v,f){return Cn(v,f)})).apply(this,arguments)}function ii(v,f){return ra.apply(this,arguments)}function ra(){return(ra=(0,c.Z)(function*(v,f){return Cn(v,f)})).apply(this,arguments)}function cr(v,f){return _t.apply(this,arguments)}function _t(){return(_t=(0,c.Z)(function*(v,f){return Cn(v,f)})).apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(v,f){return Cn(v,f)})).apply(this,arguments)}function Na(){return(Na=(0,c.Z)(function*(v,f){return Fe(v,"POST","/v1/accounts:signInWithEmailLink",Me(v,f))})).apply(this,arguments)}function ia(){return(ia=(0,c.Z)(function*(v,f){return Fe(v,"POST","/v1/accounts:signInWithEmailLink",Me(v,f))})).apply(this,arguments)}class ur extends he{constructor(f,g,_,S=null){super("password",_),this._email=f,this._password=g,this._tenantId=S}static _fromEmailAndPassword(f,g){return new ur(f,g,"password")}static _fromEmailAndCode(f,g,_=null){return new ur(f,g,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){var _;switch(g.signInMethod){case"password":const S={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const R=yield ni(f,S,"signInWithPassword");return vt(f,R)}return vt(f,S).catch(function(){var R=(0,c.Z)(function*(ne){if("auth/missing-recaptcha-token"===ne.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const be=yield ni(f,S,"signInWithPassword");return vt(f,be)}return Promise.reject(ne)});return function(ne){return R.apply(this,arguments)}}());case"emailLink":return function qi(v,f){return Na.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:fe(f,"internal-error")}})()}_linkToIdToken(f,g){var _=this;return(0,c.Z)(function*(){switch(_.signInMethod){case"password":return Ke(f,{idToken:g,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function _i(v,f){return ia.apply(this,arguments)}(f,{idToken:g,email:_._email,oobCode:_._password});default:fe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Yr(v,f){return ls.apply(this,arguments)}function ls(){return(ls=(0,c.Z)(function*(v,f){return Fe(v,"POST","/v1/accounts:signInWithIdp",Me(v,f))})).apply(this,arguments)}class Oi extends he{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Oi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):fe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:_,signInMethod:S}=g,R=(0,oe._T)(g,["providerId","signInMethod"]);if(!_||!S)return null;const ne=new Oi(_,S);return ne.idToken=R.idToken||void 0,ne.accessToken=R.accessToken||void 0,ne.secret=R.secret,ne.nonce=R.nonce,ne.pendingToken=R.pendingToken||null,ne}_getIdTokenResponse(f){return Yr(f,this.buildRequest())}_linkToIdToken(f,g){const _=this.buildRequest();return _.idToken=g,Yr(f,_)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Yr(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,P.xO)(g)}return f}}function Uo(){return(Uo=(0,c.Z)(function*(v,f){return Re(v,"POST","/v1/accounts:sendVerificationCode",Me(v,f))})).apply(this,arguments)}function Pa(){return(Pa=(0,c.Z)(function*(v,f){return Fe(v,"POST","/v1/accounts:signInWithPhoneNumber",Me(v,f))})).apply(this,arguments)}function Yi(){return(Yi=(0,c.Z)(function*(v,f){const g=yield Fe(v,"POST","/v1/accounts:signInWithPhoneNumber",Me(v,f));if(g.temporaryProof)throw ft(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ka={USER_NOT_FOUND:"user-not-found"};function Ki(){return(Ki=(0,c.Z)(function*(v,f){return Fe(v,"POST","/v1/accounts:signInWithPhoneNumber",Me(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ka)})).apply(this,arguments)}class Dr extends he{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Dr({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Dr({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function fr(v,f){return Pa.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function El(v,f){return Yi.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Vd(v,f){return Ki.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:_,verificationCode:S}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:_,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:_,phoneNumber:S,temporaryProof:R}=f;return _||g||S||R?new Dr({verificationId:g,verificationCode:_,phoneNumber:S,temporaryProof:R}):null}}class Dn{constructor(f){var g,_,S,R,ne,be;const it=(0,P.zd)((0,P.pd)(f)),ht=null!==(g=it.apiKey)&&void 0!==g?g:null,Rt=null!==(_=it.oobCode)&&void 0!==_?_:null,kt=function ou(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=it.mode)&&void 0!==S?S:null);Q(ht&&Rt&&kt,"argument-error"),this.apiKey=ht,this.operation=kt,this.code=Rt,this.continueUrl=null!==(R=it.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(ne=it.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(be=it.tenantId)&&void 0!==be?be:null}static parseLink(f){const g=function oa(v){const f=(0,P.zd)((0,P.pd)(v)).link,g=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,_=(0,P.zd)((0,P.pd)(v)).deep_link_id;return(_?(0,P.zd)((0,P.pd)(_)).link:null)||_||g||f||v}(f);try{return new Dn(g)}catch{return null}}}let tc=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,_){return ur._fromEmailAndPassword(g,_)}static credentialWithLink(g,_){const S=Dn.parseLink(_);return Q(S,"argument-error"),ur._fromEmailAndCode(g,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class jo{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ni extends jo{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class co extends Ni{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return Q("providerId"in g&&"signInMethod"in g,"argument-error"),Oi._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Q(f.idToken||f.accessToken,"argument-error"),Oi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return co.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return co.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:_,oauthTokenSecret:S,pendingToken:R,nonce:ne,providerId:be}=f;if(!_&&!S&&!g&&!R||!be)return null;try{return new co(be)._credential({idToken:g,accessToken:_,nonce:ne,pendingToken:R})}catch{return null}}}let sa=(()=>{class v extends Ni{constructor(){super("facebook.com")}static credential(g){return Oi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),aa=(()=>{class v extends Ni{constructor(){super("google.com"),this.addScope("profile")}static credential(g,_){return Oi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:_})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:S}=g;if(!_&&!S)return null;try{return v.credential(_,S)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Kr=(()=>{class v extends Ni{constructor(){super("github.com")}static credential(g){return Oi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class br extends he{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Yr(f,this.buildRequest())}_linkToIdToken(f,g){const _=this.buildRequest();return _.idToken=g,Yr(f,_)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Yr(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:_,signInMethod:S,pendingToken:R}=g;return _&&S&&R&&_===S?new br(_,R):null}static _create(f,g){return new br(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Fa extends jo{constructor(f){Q(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Fa.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Fa.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=br.fromJSON(f);return Q(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:_}=f;if(!g||!_)return null;try{return br._create(_,g)}catch{return null}}}let cs=(()=>{class v extends Ni{constructor(){super("twitter.com")}static credential(g,_){return Oi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:_})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:_,oauthTokenSecret:S}=g;if(!_||!S)return null;try{return v.credential(_,S)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function us(v,f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(v,f){return Fe(v,"POST","/v1/accounts:signUp",Me(v,f))})).apply(this,arguments)}class oi{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,_,S=!1){return(0,c.Z)(function*(){const R=yield Vn._fromIdTokenResponse(f,_,S),ne=su(_);return new oi({user:R,providerId:ne,_tokenResponse:_,operationType:g})})()}static _forOperation(f,g,_){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(_,!0);const S=su(_);return new oi({user:f,providerId:S,_tokenResponse:_,operationType:g})})()}}function su(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Ud(){return(Ud=(0,c.Z)(function*(v){var f;const g=rr(v);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new oi({user:g.currentUser,providerId:null,operationType:"signIn"});const _=yield us(g,{returnSecureToken:!0}),S=yield oi._fromIdTokenResponse(g,"signIn",_,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class wl extends P.ZR{constructor(f,g,_,S){var R;super(g.code,g.message),this.operationType=_,this.user=S,Object.setPrototypeOf(this,wl.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(f,g,_,S){return new wl(f,g,_,S)}}function Nf(v,f,g,_){return("reauthenticate"===f?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?wl._fromErrorAndOperation(v,R,f,_):R})}function Pf(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function Ho(){return Ho=(0,c.Z)(function*(v,f){const g=(0,P.m9)(v);yield Dl(!0,g,f);const{providerUserInfo:_}=yield function en(v,f){return fn.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),S=Pf(_||[]);return g.providerData=g.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Ho.apply(this,arguments)}function au(v,f){return jd.apply(this,arguments)}function jd(){return(jd=(0,c.Z)(function*(v,f,g=!1){const _=yield zn(v,f._linkToIdToken(v.auth,yield v.getIdToken()),g);return oi._forOperation(v,"link",_)})).apply(this,arguments)}function Dl(v,f,g){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,c.Z)(function*(v,f,g){yield Mn(f);const S=!1===v?"provider-already-linked":"no-such-provider";Q(Pf(f.providerData).has(g)===v,f.auth,S)})).apply(this,arguments)}function kf(v,f){return lu.apply(this,arguments)}function lu(){return(lu=(0,c.Z)(function*(v,f,g=!1){const{auth:_}=v,S="reauthenticate";try{const R=yield zn(v,Nf(_,S,f,v),g);Q(R.idToken,_,"internal-error");const ne=Ut(R.idToken);Q(ne,_,"internal-error");const{sub:be}=ne;return Q(v.uid===be,_,"user-mismatch"),oi._forOperation(v,S,R)}catch(R){throw"auth/user-not-found"===R?.code&&fe(_,"user-mismatch"),R}})).apply(this,arguments)}function Ff(v,f){return zd.apply(this,arguments)}function zd(){return(zd=(0,c.Z)(function*(v,f,g=!1){const _="signIn",S=yield Nf(v,_,f),R=yield oi._fromIdTokenResponse(v,_,S);return g||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function cu(v,f){return bl.apply(this,arguments)}function bl(){return(bl=(0,c.Z)(function*(v,f){return Ff(rr(v),f)})).apply(this,arguments)}function Gd(v,f){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,c.Z)(function*(v,f){const g=(0,P.m9)(v);return yield Dl(!1,g,f.providerId),au(g,f)})).apply(this,arguments)}function Cr(v,f){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,c.Z)(function*(v,f){return kf((0,P.m9)(v),f)})).apply(this,arguments)}function qd(){return(qd=(0,c.Z)(function*(v,f){return Fe(v,"POST","/v1/accounts:signInWithCustomToken",Me(v,f))})).apply(this,arguments)}function uo(){return uo=(0,c.Z)(function*(v,f){const g=rr(v),_=yield function La(v,f){return qd.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),S=yield oi._fromIdTokenResponse(g,"signIn",_);return yield g._updateCurrentUser(S.user),S}),uo.apply(this,arguments)}class Cl{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Sl._fromServerResponse(f,g):"totpInfo"in g?Yd._fromServerResponse(f,g):fe(f,"internal-error")}}class Sl extends Cl{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Sl(g)}}class Yd extends Cl{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new Yd(g)}}function $a(v,f,g){var _;Q((null===(_=g.url)||void 0===_?void 0:_.length)>0,v,"invalid-continue-uri"),Q(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Q(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(Q(g.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Va(){return Va=(0,c.Z)(function*(v,f,g){var _;const S=rr(v),R={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(_=S._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const ne=yield ni(S,R,"getOobCode",!0);g&&$a(S,ne,g),yield ii(S,ne)}else g&&$a(S,R,g),yield ii(S,R).catch(function(){var ne=(0,c.Z)(function*(be){if("auth/missing-recaptcha-token"!==be.code)return Promise.reject(be);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const it=yield ni(S,R,"getOobCode",!0);g&&$a(S,it,g),yield ii(S,it)}});return function(be){return ne.apply(this,arguments)}}())}),Va.apply(this,arguments)}function Ua(){return(Ua=(0,c.Z)(function*(v,f,g){yield Ie((0,P.m9)(v),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Pi(){return Pi=(0,c.Z)(function*(v,f){yield function $e(v,f){return gt.apply(this,arguments)}((0,P.m9)(v),{oobCode:f})}),Pi.apply(this,arguments)}function Kd(v,f){return ja.apply(this,arguments)}function ja(){return(ja=(0,c.Z)(function*(v,f){const g=(0,P.m9)(v),_=yield Ie(g,{oobCode:f}),S=_.requestType;switch(Q(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(_.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(_.mfaInfo,g,"internal-error");default:Q(_.email,g,"internal-error")}let R=null;return _.mfaInfo&&(R=Cl._fromServerResponse(rr(g),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function ds(){return(ds=(0,c.Z)(function*(v,f){const{data:g}=yield Kd((0,P.m9)(v),f);return g.email})).apply(this,arguments)}function uu(){return uu=(0,c.Z)(function*(v,f,g){var _;const S=rr(v),R={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let ne;if(null!==(_=S._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const ht=yield ni(S,R,"signUpPassword");ne=us(S,ht)}else ne=us(S,R).catch(function(){var ht=(0,c.Z)(function*(Rt){if("auth/missing-recaptcha-token"===Rt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const kt=yield ni(S,R,"signUpPassword");return us(S,kt)}return Promise.reject(Rt)});return function(Rt){return ht.apply(this,arguments)}}());const be=yield ne.catch(ht=>Promise.reject(ht)),it=yield oi._fromIdTokenResponse(S,"signIn",be);return yield S._updateCurrentUser(it.user),it}),uu.apply(this,arguments)}function nc(){return nc=(0,c.Z)(function*(v,f,g){var _;const S=rr(v),R={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function ne(be,it){Q(it.handleCodeInApp,S,"argument-error"),it&&$a(S,be,it)}if(null!==(_=S._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const be=yield ni(S,R,"getOobCode",!0);ne(be,g),yield cr(S,be)}else ne(R,g),yield cr(S,R).catch(function(){var be=(0,c.Z)(function*(it){if("auth/missing-recaptcha-token"!==it.code)return Promise.reject(it);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ht=yield ni(S,R,"getOobCode",!0);ne(ht,g),yield cr(S,ht)}});return function(it){return be.apply(this,arguments)}}())}),nc.apply(this,arguments)}function Bf(){return(Bf=(0,c.Z)(function*(v,f,g){const _=(0,P.m9)(v),S=tc.credentialWithLink(f,g||ze());return Q(S._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),cu(_,S)})).apply(this,arguments)}function Qd(){return(Qd=(0,c.Z)(function*(v,f){return Re(v,"POST","/v1/accounts:createAuthUri",Me(v,f))})).apply(this,arguments)}function fu(){return fu=(0,c.Z)(function*(v,f){const _={identifier:f,continueUri:qe()?ze():"http://localhost"},{signinMethods:S}=yield function $f(v,f){return Qd.apply(this,arguments)}((0,P.m9)(v),_);return S||[]}),fu.apply(this,arguments)}function za(){return za=(0,c.Z)(function*(v,f){const g=(0,P.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&$a(g.auth,S,f);const{email:R}=yield function ri(v,f){return Wi.apply(this,arguments)}(g.auth,S);R!==v.email&&(yield v.reload())}),za.apply(this,arguments)}function Al(){return Al=(0,c.Z)(function*(v,f,g){const _=(0,P.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};g&&$a(_.auth,R,g);const{email:ne}=yield function pn(v,f){return ir.apply(this,arguments)}(_.auth,R);ne!==v.email&&(yield v.reload())}),Al.apply(this,arguments)}function gu(){return(gu=(0,c.Z)(function*(v,f){return Re(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ic(){return ic=(0,c.Z)(function*(v,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const _=(0,P.m9)(v),R={idToken:yield _.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},ne=yield zn(_,function Vf(v,f){return gu.apply(this,arguments)}(_.auth,R));_.displayName=ne.displayName||null,_.photoURL=ne.photoUrl||null;const be=_.providerData.find(({providerId:it})=>"password"===it);be&&(be.displayName=_.displayName,be.photoURL=_.photoURL),yield _._updateTokensIfNecessary(ne)}),ic.apply(this,arguments)}function Go(v,f,g){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,c.Z)(function*(v,f,g){const{auth:_}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(R.email=f),g&&(R.password=g);const ne=yield zn(v,Ke(_,R));yield v._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class Fn{constructor(f,g,_={}){this.isNewUser=f,this.providerId=g,this.profile=_}}class xl extends Fn{constructor(f,g,_,S){super(f,g,_),this.username=S}}class Ga extends Fn{constructor(f,g){super(f,"facebook.com",g)}}class ai extends xl{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Wa extends Fn{constructor(f,g){super(f,"google.com",g)}}class th extends xl{constructor(f,g,_){super(f,"twitter.com",g,_)}}function hs(v){const{user:f,_tokenResponse:g}=v;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function eh(v){var f,g;if(!v)return null;const{providerId:_}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!_&&v?.idToken){const ne=null===(g=null===(f=Ut(v.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(ne)return new Fn(R,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!_)return null;switch(_){case"facebook.com":return new Ga(R,S);case"github.com":return new ai(R,S);case"google.com":return new Wa(R,S);case"twitter.com":return new th(R,S,v.screenName||null);case"custom":case"anonymous":return new Fn(R,null);default:return new Fn(R,_,S)}}(g)}class Ns{constructor(f,g,_){this.type=f,this.credential=g,this.auth=_}static _fromIdtoken(f,g){return new Ns("enroll",f,g)}static _fromMfaPendingCredential(f){return new Ns("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,_;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ns._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(_=f.multiFactorSession)&&void 0!==_&&_.idToken)return Ns._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Zt{constructor(f,g,_){this.session=f,this.hints=g,this.signInResolver=_}static _fromError(f,g){const _=rr(f),S=g.customData._serverResponse,R=(S.mfaInfo||[]).map(be=>Cl._fromServerResponse(_,be));Q(S.mfaPendingCredential,_,"internal-error");const ne=Ns._fromMfaPendingCredential(S.mfaPendingCredential);return new Zt(ne,R,function(){var be=(0,c.Z)(function*(it){const ht=yield it._process(_,ne);delete S.mfaInfo,delete S.mfaPendingCredential;const Rt=Object.assign(Object.assign({},S),{idToken:ht.idToken,refreshToken:ht.refreshToken});switch(g.operationType){case"signIn":const kt=yield oi._fromIdTokenResponse(_,g.operationType,Rt);return yield _._updateCurrentUser(kt.user),kt;case"reauthenticate":return Q(g.user,_,"internal-error"),oi._forOperation(g.user,g.operationType,Rt);default:fe(_,"internal-error")}});return function(it){return be.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}class wo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(_=>Cl._fromServerResponse(f.auth,_)))})}static _fromUser(f){return new wo(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Ns._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var _=this;return(0,c.Z)(function*(){const S=f,R=yield _.getSession(),ne=yield zn(_.user,S._process(_.user.auth,R,g));return yield _.user._updateTokensIfNecessary(ne),_.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const _="string"==typeof f?f:f.uid,S=yield g.user.getIdToken();try{const R=yield zn(g.user,function Eu(v,f){return Re(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Me(v,f))}(g.user.auth,{idToken:S,mfaEnrollmentId:_}));g.enrolledFactors=g.enrolledFactors.filter(({uid:ne})=>ne!==_),yield g.user._updateTokensIfNecessary(R),yield g.user.reload()}catch(R){throw R}})()}}const qa=new WeakMap,wu="__sak";class Du{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(wu,"1"),this.storage.removeItem(wu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const la=(()=>{class v extends Du{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,_)=>this.onStorageEvent(g,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zf(){const v=(0,P.z$)();return Oe(v)||Wt(v)}()&&function Fr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zi(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const _ of Object.keys(this.listeners)){const S=this.storage.getItem(_),R=this.localCache[_];S!==R&&g(_,R,S)}}onStorageEvent(g,_=!1){if(!g.key)return void this.forAllChangedKeys((be,it,ht)=>{this.notifyListeners(be,ht)});const S=g.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const be=this.storage.getItem(S);if(g.newValue!==be)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!_)return}const R=()=>{const be=this.storage.getItem(S);!_&&this.localCache[S]===be||this.notifyListeners(S,be)},ne=this.storage.getItem(S);!function ti(){return(0,P.w1)()&&10===document.documentMode}()||ne===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,_){this.localCache[g]=_;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,_,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:_,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(_)}_removeListener(g,_){this.listeners[g]&&(this.listeners[g].delete(_),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,_){var S=()=>super._set,R=this;return(0,c.Z)(function*(){yield S().call(R,g,_),R.localCache[g]=JSON.stringify(_)})()}_get(g){var _=()=>super._get,S=this;return(0,c.Z)(function*(){const R=yield _().call(S,g);return S.localCache[g]=JSON.stringify(R),R})()}_remove(g){var _=()=>super._remove,S=this;return(0,c.Z)(function*(){yield _().call(S,g),delete S.localCache[g]})()}}return v.type="LOCAL",v})(),Ps=(()=>{class v extends Du{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,_){}_removeListener(g,_){}}return v.type="SESSION",v})();let Do=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const _=this.receivers.find(R=>R.isListeningto(g));if(_)return _;const S=new v(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var _=this;return(0,c.Z)(function*(){const S=g,{eventId:R,eventType:ne,data:be}=S.data,it=_.handlersMap[ne];if(!it?.size)return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:ne});const ht=Array.from(it).map(function(){var kt=(0,c.Z)(function*(Wn){return Wn(S.origin,be)});return function(Wn){return kt.apply(this,arguments)}}()),Rt=yield function sc(v){return Promise.all(v.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(_){return{fulfilled:!1,reason:_}}});return function(g){return f.apply(this,arguments)}}()))}(ht);S.ports[0].postMessage({status:"done",eventId:R,eventType:ne,response:Rt})})()}_subscribe(g,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(_)}_unsubscribe(g,_){this.handlersMap[g]&&_&&this.handlersMap[g].delete(_),(!_||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Rl(v="",f=10){let g="";for(let _=0;_<f;_++)g+=Math.floor(10*Math.random());return v+g}class bu{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,_=50){var S=this;return(0,c.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let ne,be;return new Promise((it,ht)=>{const Rt=Rl("",20);R.port1.start();const kt=setTimeout(()=>{ht(new Error("unsupported_event"))},_);be={messageChannel:R,onMessage(Wn){const Ji=Wn;if(Ji.data.eventId===Rt)switch(Ji.data.status){case"ack":clearTimeout(kt),ne=setTimeout(()=>{ht(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),it(Ji.data.response);break;default:clearTimeout(kt),clearTimeout(ne),ht(new Error("invalid_response"))}}},S.handlers.add(be),R.port1.addEventListener("message",be.onMessage),S.target.postMessage({eventType:f,eventId:Rt,data:g},[R.port2])}).finally(()=>{be&&S.removeMessageHandler(be)})})()}}function pr(){return window}function ac(){return typeof pr().WorkerGlobalScope<"u"&&"function"==typeof pr().importScripts}function fo(){return(fo=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const bo="firebaseLocalStorageDb",Ol="firebaseLocalStorage",ah="fbase_key";class Nl{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Pl(v,f){return v.transaction([Ol],f?"readwrite":"readonly").objectStore(Ol)}function kl(){const v=indexedDB.open(bo,1);return new Promise((f,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const _=v.result;try{_.createObjectStore(Ol,{keyPath:ah})}catch(S){g(S)}}),v.addEventListener("success",(0,c.Z)(function*(){const _=v.result;_.objectStoreNames.contains(Ol)?f(_):(_.close(),yield function Cu(){const v=indexedDB.deleteDatabase(bo);return new Nl(v).toPromise()}(),f(yield kl()))}))})}function ca(v,f,g){return qo.apply(this,arguments)}function qo(){return(qo=(0,c.Z)(function*(v,f,g){const _=Pl(v,!0).put({[ah]:f,value:g});return new Nl(_).toPromise()})).apply(this,arguments)}function Fl(){return(Fl=(0,c.Z)(function*(v,f){const g=Pl(v,!1).get(f),_=yield new Nl(g).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function Ll(v,f){const g=Pl(v,!0).delete(f);return new Nl(g).toPromise()}const ua=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield kl()),g.db})()}_withRetries(g){var _=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const R=yield _._openDb();return yield g(R)}catch(R){if(S++>3)throw R;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return ac()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=Do._getInstance(function dr(){return ac()?self:null}()),g.receiver._subscribe("keyChanged",function(){var _=(0,c.Z)(function*(S,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(S,R){return _.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var _=(0,c.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return _.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var _,S;if(g.activeServiceWorker=yield function Ii(){return fo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new bu(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);R&&null!==(_=R[0])&&void 0!==_&&_.fulfilled&&null!==(S=R[0])&&void 0!==S&&S.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var _=this;return(0,c.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function lc(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:g},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield kl();return yield ca(g,wu,"1"),yield Ll(g,wu),!0}catch{}return!1})()}_withPendingWrite(g){var _=this;return(0,c.Z)(function*(){_.pendingWrites++;try{yield g()}finally{_.pendingWrites--}})()}_set(g,_){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(R=>ca(R,g,_)),S.localCache[g]=_,S.notifyServiceWorker(g)}))})()}_get(g){var _=this;return(0,c.Z)(function*(){const S=yield _._withRetries(R=>function cc(v,f){return Fl.apply(this,arguments)}(R,g));return _.localCache[g]=S,S})()}_remove(g){var _=this;return(0,c.Z)(function*(){return _._withPendingWrite((0,c.Z)(function*(){return yield _._withRetries(S=>Ll(S,g)),delete _.localCache[g],_.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const _=yield g._withRetries(ne=>{const be=Pl(ne,!1).getAll();return new Nl(be).toPromise()});if(!_)return[];if(0!==g.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:ne,value:be}of _)R.add(ne),JSON.stringify(g.localCache[ne])!==JSON.stringify(be)&&(g.notifyListeners(ne,be),S.push(ne));for(const ne of Object.keys(g.localCache))g.localCache[ne]&&!R.has(ne)&&(g.notifyListeners(ne,null),S.push(ne));return S})()}notifyListeners(g,_){this.localCache[g]=_;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(_)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(_)}_removeListener(g,_){this.listeners[g]&&(this.listeners[g].delete(_),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),Bl=1e12;class Wf{constructor(f){this.auth=f,this.counter=Bl,this._widgets=new Map}render(f,g){const _=this.counter;return this._widgets.set(_,new ch(f,this.auth.name,g||{})),this.counter++,_}reset(f){var g;const _=f||Bl;null===(g=this._widgets.get(_))||void 0===g||g.delete(),this._widgets.delete(_)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Bl))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var _;return null===(_=g._widgets.get(f||Bl))||void 0===_||_.execute(),""})()}}class ch{constructor(f,g,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;Q(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function rm(v){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<v;_++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const uc=Zn("rcb"),Tu=new We(3e4,6e4);class da{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=pr().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return Q(function uh(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&nn(pr().grecaptcha)?Promise.resolve(pr().grecaptcha):new Promise((_,S)=>{const R=pr().setTimeout(()=>{S(X(f,"network-request-failed"))},Tu.get());pr()[uc]=()=>{pr().clearTimeout(R),delete pr()[uc];const be=pr().grecaptcha;if(!be||!nn(be))return void S(X(f,"internal-error"));const it=be.render;be.render=(ht,Rt)=>{const kt=it(ht,Rt);return this.counter++,kt},this.hostLanguage=g,_(be)},Gn(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:uc,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),S(X(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=pr().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Au{load(f){return(0,c.Z)(function*(){return new Wf(f)})()}clearedOneInstance(){}}const Ya="recaptcha",Mu={theme:"light",type:"image"};class dc{constructor(f,g=Object.assign({},Mu),_){this.parameters=g,this.type=Ya,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rr(_),this.isInvisible="invisible"===this.parameters.size,Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;Q(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Au:new da,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),_=f.getAssertedRecaptcha();return _.getResponse(g)||new Promise(R=>{const ne=be=>{be&&(f.tokenChangeListeners.delete(ne),R(be))};f.tokenChangeListeners.add(ne),f.isInvisible&&_.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(_=>_(g)),"function"==typeof f)f(g);else if("string"==typeof f){const _=pr()[f];"function"==typeof _&&_(g)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const _=document.createElement("div");g.appendChild(_),g=_}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){Q(qe()&&!ac(),f.auth,"internal-error"),yield function Co(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function xe(v){return nt.apply(this,arguments)}(f.auth);Q(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xr{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Dr._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Ln(){return(Ln=(0,c.Z)(function*(v,f,g){const _=rr(v),S=yield hc(_,f,(0,P.m9)(g));return new Xr(S,R=>cu(_,R))})).apply(this,arguments)}function Qr(){return(Qr=(0,c.Z)(function*(v,f,g){const _=(0,P.m9)(v);yield Dl(!1,_,"phone");const S=yield hc(_.auth,f,(0,P.m9)(g));return new Xr(S,R=>Gd(_,R))})).apply(this,arguments)}function Ka(){return(Ka=(0,c.Z)(function*(v,f,g){const _=(0,P.m9)(v),S=yield hc(_.auth,f,(0,P.m9)(g));return new Xr(S,R=>Cr(_,R))})).apply(this,arguments)}function hc(v,f,g){return xu.apply(this,arguments)}function xu(){return xu=(0,c.Z)(function*(v,f,g){var _;const S=yield g.verify();try{let R;if(Q("string"==typeof S,v,"argument-error"),Q(g.type===Ya,v,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const ne=R.session;if("phoneNumber"in R)return Q("enroll"===ne.type,v,"internal-error"),(yield function ih(v,f){return Re(v,"POST","/v2/accounts/mfaEnrollment:start",Me(v,f))}(v,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Q("signin"===ne.type,v,"internal-error");const be=(null===(_=R.multiFactorHint)||void 0===_?void 0:_.uid)||R.multiFactorUid;return Q(be,v,"missing-multi-factor-info"),(yield function lh(v,f){return Re(v,"POST","/v2/accounts/mfaSignIn:start",Me(v,f))}(v,{mfaPendingCredential:ne.credential,mfaEnrollmentId:be,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield function $d(v,f){return Uo.apply(this,arguments)}(v,{phoneNumber:R.phoneNumber,recaptchaToken:S});return ne}}finally{g._reset()}}),xu.apply(this,arguments)}function hh(){return(hh=(0,c.Z)(function*(v,f){yield au((0,P.m9)(v),f)})).apply(this,arguments)}let fs=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=rr(g)}verifyPhoneNumber(g,_){return hc(this.auth,g,(0,P.m9)(_))}static credential(g,_){return Dr._fromVerification(g,_)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:_,temporaryProof:S}=g;return _&&S?Dr._fromTokenResponse(_,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function sn(v,f){return f?Sn(f):(Q(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ei extends he{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Yr(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Yr(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Yr(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function fh(v){return Ff(v.auth,new Ei(v),v.bypassAuthState)}function ha(v){const{auth:f,user:g}=v;return Q(g,f,"internal-error"),kf(g,new Ei(v),v.bypassAuthState)}function Yo(v){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(v){const{auth:f,user:g}=v;return Q(g,f,"internal-error"),au(g,new Ei(v),v.bypassAuthState)})).apply(this,arguments)}class Xi{constructor(f,g,_,S,R=!1){this.auth=f,this.resolver=_,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(_,S){f.pendingPromise={resolve:_,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(_,S){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:_,sessionId:S,postBody:R,tenantId:ne,error:be,type:it}=f;if(be)return void g.reject(be);const ht={auth:g.auth,requestUri:_,sessionId:S,tenantId:ne||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(it)(ht))}catch(Rt){g.reject(Rt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return fh;case"linkViaPopup":case"linkViaRedirect":return Yo;case"reauthViaPopup":case"reauthViaRedirect":return ha;default:fe(this.auth,"internal-error")}}resolve(f){ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const So=new We(2e3,1e4);function ph(){return(ph=(0,c.Z)(function*(v,f,g){const _=rr(v);te(v,f,jo);const S=sn(_,g);return new pc(_,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function Ru(){return(Ru=(0,c.Z)(function*(v,f,g){const _=(0,P.m9)(v);te(_.auth,f,jo);const S=sn(_.auth,g);return new pc(_.auth,"reauthViaPopup",f,S,_).executeNotNull()})).apply(this,arguments)}function ps(){return(ps=(0,c.Z)(function*(v,f,g){const _=(0,P.m9)(v);te(_.auth,f,jo);const S=sn(_.auth,g);return new pc(_.auth,"linkViaPopup",f,S,_).executeNotNull()})).apply(this,arguments)}let pc=(()=>{class v extends Xi{constructor(g,_,S,R,ne){super(g,_,R,ne),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const _=yield g.execute();return Q(_,g.auth,"internal-error"),_})()}onExecution(){var g=this;return(0,c.Z)(function*(){ke(1===g.filter.length,"Popup operations only handle one event");const _=Rl();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],_),g.authWindow.associatedEvent=_,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(X(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(X(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var _,S;this.pollId=null!==(S=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(X(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,So.get())};g()}}return v.currentPopupAction=null,v})();const fa="pendingRedirect",gs=new Map;class Yf extends Xi{constructor(f,g,_=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,_),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let _=gs.get(g.auth._key());if(!_){try{const R=(yield function gc(v,f){return pa.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;_=()=>Promise.resolve(R)}catch(S){_=()=>Promise.reject(S)}gs.set(g.auth._key(),_)}return g.bypassAuthState||gs.set(g.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,_=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(_,f);if("unknown"!==f.type){if(f.eventId){const S=yield _.auth._redirectUserForId(f.eventId);if(S)return _.user=S,g().call(_,f);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function pa(){return(pa=(0,c.Z)(function*(v,f){const g=wi(f),_=Bs(v);if(!(yield _._isAvailable()))return!1;const S="true"===(yield _._get(g));return yield _._remove(g),S})).apply(this,arguments)}function Ko(v,f){return mc.apply(this,arguments)}function mc(){return(mc=(0,c.Z)(function*(v,f){return Bs(v)._set(wi(f),"true")})).apply(this,arguments)}function Ls(v,f){gs.set(v._key(),f)}function Bs(v){return Sn(v._redirectPersistence)}function wi(v){return J(fa,v.config.apiKey,v.name)}function Sr(v,f,g){return function ga(v,f,g){return Mo.apply(this,arguments)}(v,f,g)}function Mo(){return(Mo=(0,c.Z)(function*(v,f,g){const _=rr(v);te(v,f,jo),yield _._initializationPromise;const S=sn(_,g);return yield Ko(S,_),S._openRedirect(_,f,"signInViaRedirect")})).apply(this,arguments)}function Qi(v,f,g){return function Jr(v,f,g){return $s.apply(this,arguments)}(v,f,g)}function $s(){return($s=(0,c.Z)(function*(v,f,g){const _=(0,P.m9)(v);te(_.auth,f,jo),yield _.auth._initializationPromise;const S=sn(_.auth,g);yield Ko(S,_.auth);const R=yield ms(_);return S._openRedirect(_.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function gh(v,f,g){return function Kf(v,f,g){return po.apply(this,arguments)}(v,f,g)}function po(){return(po=(0,c.Z)(function*(v,f,g){const _=(0,P.m9)(v);te(_.auth,f,jo),yield _.auth._initializationPromise;const S=sn(_.auth,g);yield Dl(!1,_,f.providerId),yield Ko(S,_.auth);const R=yield ms(_);return S._openRedirect(_.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function mr(){return(mr=(0,c.Z)(function*(v,f){return yield rr(v)._initializationPromise,Di(v,f,!1)})).apply(this,arguments)}function Di(v,f){return yc.apply(this,arguments)}function yc(){return(yc=(0,c.Z)(function*(v,f,g=!1){const _=rr(v),S=sn(_,f),ne=yield new Yf(_,S,g).execute();return ne&&!g&&(delete ne.user._redirectEventId,yield _._persistUserIfCurrent(ne.user),yield _._setRedirectUser(null,f)),ne})).apply(this,arguments)}function ms(v){return go.apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(v){const f=Rl(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class vc{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(f,_)&&(g=!0,this.sendToConsumer(f,_),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Qa(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cn(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var _;if(f.error&&!cn(f)){const S=(null===(_=f.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";g.onError(X(this.auth,S))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const _=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&_}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vl(f))}saveEventToCache(f){this.cachedEventUids.add(Vl(f)),this.lastProcessedEventTime=Date.now()}}function Vl(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function cn({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function im(v){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,c.Z)(function*(v,f={}){return Re(v,"GET","/v1/projects",f)})).apply(this,arguments)}const $v=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ul=/^https?/;function Vs(){return(Vs=(0,c.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield im(v);for(const g of f)try{if(Tr(g))return}catch{}fe(v,"unauthorized-domain")})).apply(this,arguments)}function Tr(v){const f=ze(),{protocol:g,hostname:_}=new URL(f);if(v.startsWith("chrome-extension://")){const ne=new URL(v);return""===ne.hostname&&""===_?"chrome-extension:"===g&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&ne.hostname===_}if(!Ul.test(g))return!1;if($v.test(v))return _===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(_)}const Us=new We(3e4,6e4);function el(){const v=pr().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let ui=null;const yh=new We(5e3,15e3),Ou="__/auth/iframe",ma="emulator/auth/iframe",vh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jl(v){const f=v.config;Q(f.authDomain,v,"auth-domain-config-required");const g=f.emulator?$(f,ma):`https://${v.config.authDomain}/${Ou}`,_={apiKey:f.apiKey,appName:v.name,v:ce.SDK_VERSION},S=Nu.get(v.config.apiHost);S&&(_.eid=S);const R=v._getFrameworks();return R.length&&(_.fw=R.join(",")),`${g}?${(0,P.xO)(_).slice(1)}`}function b(){return b=(0,c.Z)(function*(v){const f=yield function xo(v){return ui=ui||function js(v){return new Promise((f,g)=>{var _,S,R;function ne(){el(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{el(),g(X(v,"network-request-failed"))},timeout:Us.get()})}if(null!==(S=null===(_=pr().gapi)||void 0===_?void 0:_.iframes)&&void 0!==S&&S.Iframe)f(gapi.iframes.getContext());else{if(null===(R=pr().gapi)||void 0===R||!R.load){const be=Zn("iframefcb");return pr()[be]=()=>{gapi.load?ne():g(X(v,"network-request-failed"))},Gn(`https://apis.google.com/js/api.js?onload=${be}`).catch(it=>g(it))}ne()}}).catch(f=>{throw ui=null,f})}(v),ui}(v),g=pr().gapi;return Q(g,v,"internal-error"),f.open({where:document.body,url:jl(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vh,dontclear:!0},_=>new Promise(function(){var S=(0,c.Z)(function*(R,ne){yield _.restyle({setHideOnLeave:!1});const be=X(v,"network-request-failed"),it=pr().setTimeout(()=>{ne(be)},yh.get());function ht(){pr().clearTimeout(it),R(_)}_.ping(ht).then(ht,()=>{ne(be)})});return function(R,ne){return S.apply(this,arguments)}}()))}),b.apply(this,arguments)}const M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class It{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const an="__/auth/handler",rn="emulator/auth/handler",Fi=encodeURIComponent("fac");function or(v,f,g,_,S,R){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(v,f,g,_,S,R){Q(v.config.authDomain,v,"auth-domain-config-required"),Q(v.config.apiKey,v,"invalid-api-key");const ne={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:_,v:ce.SDK_VERSION,eventId:S};if(f instanceof jo){f.setDefaultLanguage(v.languageCode),ne.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(ne.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Rt,kt]of Object.entries(R||{}))ne[Rt]=kt}if(f instanceof Ni){const Rt=f.getScopes().filter(kt=>""!==kt);Rt.length>0&&(ne.scopes=Rt.join(","))}v.tenantId&&(ne.tid=v.tenantId);const be=ne;for(const Rt of Object.keys(be))void 0===be[Rt]&&delete be[Rt];const it=yield v._getAppCheckToken(),ht=it?`#${Fi}=${encodeURIComponent(it)}`:"";return`${function ya({config:v}){return v.emulator?$(v,rn):`https://${v.authDomain}/${an}`}(v)}?${(0,P.xO)(be).slice(1)}${ht}`})).apply(this,arguments)}const Hs="webStorageSupport",_s=class Li{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ps,this._completeRedirectFn=Di,this._overrideRedirectResult=Ls}_openPopup(f,g,_,S){var R=this;return(0,c.Z)(function*(){var ne;ke(null===(ne=R.eventManagers[f._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const be=yield or(f,g,_,ze(),S);return function pt(v,f,g,_=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),ne=Math.max((window.screen.availWidth-_)/2,0).toString();let be="";const it=Object.assign(Object.assign({},M),{width:_.toString(),height:S.toString(),top:R,left:ne}),ht=(0,P.z$)().toLowerCase();g&&(be=At(ht)?"_blank":g),Ye(ht)&&(f=f||"http://localhost",it.scrollbars="yes");const Rt=Object.entries(it).reduce((Wn,[Ji,Wu])=>`${Wn}${Ji}=${Wu},`,"");if(function wr(v=(0,P.z$)()){var f;return Wt(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ht)&&"_self"!==be)return function Nt(v,f){const g=document.createElement("a");g.href=v,g.target=f;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(_)}(f||"",be),new It(null);const kt=window.open(f||"",be,Rt);Q(kt,v,"popup-blocked");try{kt.focus()}catch{}return new It(kt)}(f,be,Rl())})()}_openRedirect(f,g,_,S){var R=this;return(0,c.Z)(function*(){return yield R._originValidation(f),function em(v){pr().location.href=v}(yield or(f,g,_,ze(),S)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:S,promise:R}=this.eventManagers[g];return S?Promise.resolve(S):(ke(R,"If manager is not set, promise should be"),R)}const _=this.initAndGetManager(f);return this.eventManagers[g]={promise:_},_.catch(()=>{delete this.eventManagers[g]}),_}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const _=yield function w(v){return b.apply(this,arguments)}(f),S=new vc(f);return _.register("authEvent",R=>(Q(R?.authEvent,f,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:S},g.iframes[f._key()]=_,S})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Hs,{type:Hs},S=>{var R;const ne=null===(R=S?.[0])||void 0===R?void 0:R[Hs];void 0!==ne&&g(!!ne),fe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ys(v){return Vs.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return zi()||Oe()||Wt()}};class Pu{constructor(f){this.factorId=f}_process(f,g,_){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,_);case"signin":return this._finalizeSignIn(f,g.credential);default:return ye("unexpected MultiFactorSessionType")}}}class Hl extends Pu{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Hl(f)}_finalizeEnroll(f,g,_){return function jf(v,f){return Re(v,"POST","/v2/accounts/mfaEnrollment:finalize",Me(v,f))}(f,{idToken:g,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function nm(v,f){return Re(v,"POST","/v2/accounts/mfaSignIn:finalize",Me(v,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _h=(()=>{class v{constructor(){}static assertion(g){return Hl._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var _c="@firebase/auth";class Uv{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(_=>{f(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Xo(){return window}(0,P.Pz)("authIdTokenMaxAge"),function jv(v){(0,ce._registerComponent)(new Y.wA("auth",(f,{options:g})=>{const _=f.getProvider("app").getImmediate(),S=f.getProvider("heartbeat"),R=f.getProvider("app-check-internal"),{apiKey:ne,authDomain:be}=_.options;Q(ne&&!ne.includes(":"),"invalid-api-key",{appName:_.name});const it={apiKey:ne,authDomain:be,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Be(v)},ht=new ta(_,S,R,it);return function Il(v,f){const g=f?.persistence||[],_=(Array.isArray(g)?g:[g]).map(Sn);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(_,f?.popupRedirectResolver)}(ht,g),ht},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,_)=>{f.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new Y.wA("auth-internal",f=>{const g=rr(f.getProvider("auth").getImmediate());return new Uv(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(_c,"0.23.2",function Xf(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,ce.registerVersion)(_c,"0.23.2","esm2017")}("Browser");function tp(){return tp=(0,c.Z)(function*(v,f,g){var _;const{BuildInfo:S}=Xo();ke(f.sessionId,"AuthEvent did not contain a session ID");const R=yield function Ih(v){return Lu.apply(this,arguments)}(f.sessionId),ne={};return Wt()?ne.ibi=S.packageName:tn()?ne.apn=S.packageName:fe(v,"operation-not-supported-in-this-environment"),S.displayName&&(ne.appDisplayName=S.displayName),ne.sessionId=R,or(v,g,f.type,void 0,null!==(_=f.eventId)&&void 0!==_?_:void 0,ne)}),tp.apply(this,arguments)}function ku(){return(ku=(0,c.Z)(function*(v){const{BuildInfo:f}=Xo(),g={};Wt()?g.iosBundleId=f.packageName:tn()?g.androidPackageName=f.packageName:fe(v,"operation-not-supported-in-this-environment"),yield im(v,g)})).apply(this,arguments)}function Fu(){return(Fu=(0,c.Z)(function*(v,f,g){const{cordova:_}=Xo();let S=()=>{};try{yield new Promise((R,ne)=>{let be=null;function it(){var kt;R();const Wn=null===(kt=_.plugins.browsertab)||void 0===kt?void 0:kt.close;"function"==typeof Wn&&Wn(),"function"==typeof g?.close&&g.close()}function ht(){be||(be=window.setTimeout(()=>{ne(X(v,"redirect-cancelled-by-user"))},2e3))}function Rt(){"visible"===document?.visibilityState&&ht()}f.addPassiveListener(it),document.addEventListener("resume",ht,!1),tn()&&document.addEventListener("visibilitychange",Rt,!1),S=()=>{f.removePassiveListener(it),document.removeEventListener("resume",ht,!1),document.removeEventListener("visibilitychange",Rt,!1),be&&window.clearTimeout(be)}})}finally{S()}})).apply(this,arguments)}function Lu(){return(Lu=(0,c.Z)(function*(v){const f=function cm(v){if(ke(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),g=new Uint8Array(f);for(let _=0;_<v.length;_++)g[_]=v.charCodeAt(_);return g}(v),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class qv extends vc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Is(v){return _a.apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(v){const f=yield tl()._get(wc(v));return f&&(yield tl()._remove(wc(v))),f})).apply(this,arguments)}function Bu(){const v=[];for(let g=0;g<20;g++){const _=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(_))}return v.join("")}function tl(){return Sn(la)}function wc(v){return J("authEvent",v.config.apiKey,v.name)}function $u(v){if(!v?.includes("?"))return{};const[f,...g]=v.split("?");return(0,P.zd)(g.join("?"))}const zs=class Dh{constructor(){this._redirectPersistence=Ps,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Di,this._overrideRedirectResult=Ls}_initialize(f){var g=this;return(0,c.Z)(function*(){const _=f._key();let S=g.eventManagers.get(_);return S||(S=new qv(f),g.eventManagers.set(_,S),g.attachCallbackListeners(f,S)),S})()}_openPopup(f){fe(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,_,S){var R=this;return(0,c.Z)(function*(){!function Wv(v){var f,g,_,S,R,ne,be,it,ht,Rt;const kt=Xo();Q("function"==typeof(null===(f=kt?.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof(null===(g=kt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q("function"==typeof(null===(R=null===(S=null===(_=kt?.cordova)||void 0===_?void 0:_.plugins)||void 0===S?void 0:S.browsertab)||void 0===R?void 0:R.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(it=null===(be=null===(ne=kt?.cordova)||void 0===ne?void 0:ne.plugins)||void 0===be?void 0:be.browsertab)||void 0===it?void 0:it.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(Rt=null===(ht=kt?.cordova)||void 0===ht?void 0:ht.InAppBrowser)||void 0===Rt?void 0:Rt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const ne=yield R._initialize(f);yield ne.initialized(),ne.resetRedirect(),function Ao(){gs.clear()}(),yield R._originValidation(f);const be=function Yv(v,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Bu(),postBody:null,tenantId:v.tenantId,error:X(v,"no-auth-event")}}(f,_,S);yield function Eh(v,f){return tl()._set(wc(v),f)}(f,be);const it=yield function ep(v,f,g){return tp.apply(this,arguments)}(f,be,g),ht=yield function zv(v){const{cordova:f}=Xo();return new Promise(g=>{f.plugins.browsertab.isAvailable(_=>{let S=null;_?f.plugins.browsertab.openUrl(v):S=f.InAppBrowser.open(v,function En(v=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(S)})})}(it);return function Gv(v,f,g){return Fu.apply(this,arguments)}(f,ne,ht)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function lm(v){return ku.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:_,handleOpenURL:S,BuildInfo:R}=Xo(),ne=setTimeout((0,c.Z)(function*(){yield Is(f),g.onEvent(dm())}),500),be=function(){var Rt=(0,c.Z)(function*(kt){clearTimeout(ne);const Wn=yield Is(f);let Ji=null;Wn&&kt?.url&&(Ji=function Ia(v,f){var g,_;const S=function um(v){const f=$u(v),g=f.link?decodeURIComponent(f.link):void 0,_=$u(g).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return $u(S).link||S||_||g||v}(f);if(S.includes("/__/auth/callback")){const R=$u(S),ne=R.firebaseError?function Dc(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,be=null===(_=null===(g=ne?.code)||void 0===g?void 0:g.split("auth/"))||void 0===_?void 0:_[1],it=be?X(be):null;return it?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:it,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:S,postBody:null}}return null}(Wn,kt.url)),g.onEvent(Ji||dm())});return function(Wn){return Rt.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,be);const it=S,ht=`${R.packageName.toLowerCase()}://`;Xo().handleOpenURL=function(){var Rt=(0,c.Z)(function*(kt){if(kt.toLowerCase().startsWith(ht)&&be({url:kt}),"function"==typeof it)try{it(kt)}catch(Wn){console.error(Wn)}});return function(kt){return Rt.apply(this,arguments)}}()}};function dm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:X("no-auth-event")}}function bc(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function fm(v=(0,P.z$)()){return!("file:"!==bc()&&"ionic:"!==bc()&&"capacitor:"!==bc()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qo(){try{const v=self.localStorage,f=Rl();if(v)return v.setItem(f,"1"),v.removeItem(f),!function Bi(v=(0,P.z$)()){return function pm(){return(0,P.w1)()&&11===document?.documentMode}()||function rp(v=(0,P.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,P.hl)()}catch{return Ea()&&(0,P.hl)()}return!1}function Ea(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Cc(){return(function YI(){return"http:"===bc()||"https:"===bc()}()||(0,P.ru)()||fm())&&!function nl(){return(0,P.b$)()||(0,P.UG)()}()&&Qo()&&!Ea()}function di(){return fm()&&typeof document<"u"}function Jo(){return(Jo=(0,c.Z)(function*(){return!!di()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const Ro={LOCAL:"local",NONE:"none",SESSION:"session"},wa=Q,op="persistence";function Ch(v){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,c.Z)(function*(v){yield v._initializationPromise;const f=Sh(),g=J(op,v.config.apiKey,v.name);f&&f.setItem(g,v._getPersistence())})).apply(this,arguments)}function Sh(){var v;try{return(null===(v=function ip(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const ap=Q;class Oo{constructor(){this.browserResolver=Sn(_s),this.cordovaResolver=Sn(zs),this.underlyingResolver=null,this._redirectPersistence=Ps,this._completeRedirectFn=Di,this._overrideRedirectResult=Ls}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,_,S){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(f,g,_,S)})()}_openRedirect(f,g,_,S){var R=this;return(0,c.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(f,g,_,S)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return di()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ap(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Vu(){return Jo.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function lp(v){return v.unwrap()}function ju(v){return cp(v)}function cp(v){const{_tokenResponse:f}=v instanceof P.ZR?v.customData:v;if(!f)return null;if(!(v instanceof P.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return fs.credentialFromResult(v);const g=f.providerId;if(!g||g===le.PASSWORD)return null;let _;switch(g){case le.GOOGLE:_=aa;break;case le.FACEBOOK:_=sa;break;case le.GITHUB:_=Kr;break;case le.TWITTER:_=cs;break;default:const{oauthIdToken:S,oauthAccessToken:R,oauthTokenSecret:ne,pendingToken:be,nonce:it}=f;return R||ne||S||be?be?g.startsWith("saml.")?br._create(g,be):Oi._fromParams({providerId:g,signInMethod:g,pendingToken:be,idToken:S,accessToken:R}):new co(g).credential({idToken:S,accessToken:R,rawNonce:it}):null}return v instanceof P.ZR?_.credentialFromError(v):_.credentialFromResult(v)}function bi(v,f){return f.catch(g=>{throw g instanceof P.ZR&&function Xv(v,f){var g;const _=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new zu(v,function Iu(v,f){var g;const _=(0,P.m9)(v),S=f;return Q(f.customData.operationType,_,"argument-error"),Q(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,_,"argument-error"),Zt._fromError(_,S)}(v,f));else if(_){const S=cp(f),R=f;S&&(R.credential=S,R.tenantId=_.tenantId||void 0,R.email=_.email||void 0,R.phoneNumber=_.phoneNumber||void 0)}}(v,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:ju(g),additionalUserInfo:hs(g),user:Es.getOrCreate(S)}})}function Hu(v,f){return Da.apply(this,arguments)}function Da(){return(Da=(0,c.Z)(function*(v,f){const g=yield f;return{verificationId:g.verificationId,confirm:_=>bi(v,g.confirm(_))}})).apply(this,arguments)}class zu{constructor(f,g){this.resolver=g,this.auth=function Uu(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return bi(lp(this.auth),this.resolver.resolveSignIn(f))}}class Es{constructor(f){this._delegate=f,this.multiFactor=function sh(v){const f=(0,P.m9)(v);return qa.has(f)||qa.set(f,wo._fromUser(f)),qa.get(f)}(f)}static getOrCreate(f){return Es.USER_MAP.has(f)||Es.USER_MAP.set(f,new Es(f)),Es.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return bi(g.auth,Gd(g._delegate,f))})()}linkWithPhoneNumber(f,g){var _=this;return(0,c.Z)(function*(){return Hu(_.auth,function qt(v,f,g){return Qr.apply(this,arguments)}(_._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return bi(g.auth,function Xa(v,f,g){return ps.apply(this,arguments)}(g._delegate,f,Oo))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield Ch(rr(g.auth)),gh(g._delegate,f,Oo)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return bi(g.auth,Cr(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Hu(this.auth,function dh(v,f,g){return Ka.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return bi(this.auth,function To(v,f,g){return Ru.apply(this,arguments)}(this._delegate,f,Oo))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield Ch(rr(g.auth)),Qi(g._delegate,f,Oo)})()}sendEmailVerification(f){return function pu(v,f){return za.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function Xg(v,f){return Ho.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function mu(v,f){return Go((0,P.m9)(v),f,null)}(this._delegate,f)}updatePassword(f){return function Jd(v,f){return Go((0,P.m9)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function fc(v,f){return hh.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Uf(v,f){return ic.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function rc(v,f,g){return Al.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Es.USER_MAP=new WeakMap;const rl=Q;let Gu=(()=>{class v{constructor(g,_){if(this.app=g,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;rl(S,"invalid-api-key",{appName:g.name}),rl(S,"invalid-api-key",{appName:g.name});const R=typeof window<"u"?Oo:void 0;this._delegate=_.initialize({options:{persistence:KI(S,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(De),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Es.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,_){!function Vo(v,f,g){const _=rr(v);Q(_._canInitEmulator,_,"emulator-config-failed"),Q(/^https?:\/\//.test(f),_,"invalid-emulator-scheme");const S=!!g?.disableWarnings,R=O(f),{host:ne,port:be}=function V(v){const f=O(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!g)return{host:"",port:null};const _=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(_);if(S){const R=S[1];return{host:R,port:F(_.substr(R.length+1))}}{const[R,ne]=_.split(":");return{host:R,port:F(ne)}}}(f);_.config.emulator={url:`${R}//${ne}${null===be?"":`:${be}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:ne,port:be,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function W(){function v(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,_)}applyActionCode(g){return function Or(v,f){return Pi.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Kd(this._delegate,g)}confirmPasswordReset(g,_){return function zo(v,f,g){return Ua.apply(this,arguments)}(this._delegate,g,_)}createUserWithEmailAndPassword(g,_){var S=this;return(0,c.Z)(function*(){return bi(S._delegate,function Zd(v,f,g){return uu.apply(this,arguments)}(S._delegate,g,_))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function hu(v,f){return fu.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function du(v,f){const g=Dn.parseLink(f);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){rl(Cc(),g._delegate,"operation-not-supported-in-this-environment");const _=yield function Zo(v,f){return mr.apply(this,arguments)}(g._delegate,Oo);return _?bi(g._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Kv(v,f){rr(v)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,_,S){const{next:R,error:ne,complete:be}=Qv(g,_,S);return this._delegate.onAuthStateChanged(R,ne,be)}onIdTokenChanged(g,_,S){const{next:R,error:ne,complete:be}=Qv(g,_,S);return this._delegate.onIdTokenChanged(R,ne,be)}sendSignInLinkToEmail(g,_){return function Ha(v,f,g){return nc.apply(this,arguments)}(this._delegate,g,_)}sendPasswordResetEmail(g,_){return function Bv(v,f,g){return Va.apply(this,arguments)}(this._delegate,g,_||void 0)}setPersistence(g){var _=this;return(0,c.Z)(function*(){let S;switch(function bh(v,f){wa(Object.values(Ro).includes(f),v,"invalid-persistence-type"),(0,P.b$)()?wa(f!==Ro.SESSION,v,"unsupported-persistence-type"):(0,P.UG)()?wa(f===Ro.NONE,v,"unsupported-persistence-type"):Ea()?wa(f===Ro.NONE||f===Ro.LOCAL&&(0,P.hl)(),v,"unsupported-persistence-type"):wa(f===Ro.NONE||Qo(),v,"unsupported-persistence-type")}(_._delegate,g),g){case Ro.SESSION:S=Ps;break;case Ro.LOCAL:S=(yield Sn(ua)._isAvailable())?ua:la;break;case Ro.NONE:S=Kt;break;default:return fe("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return bi(this._delegate,function Of(v){return Ud.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return bi(this._delegate,cu(this._delegate,g))}signInWithCustomToken(g){return bi(this._delegate,function Ba(v,f){return uo.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,_){return bi(this._delegate,function Xd(v,f,g){return cu((0,P.m9)(v),tc.credential(f,g))}(this._delegate,g,_))}signInWithEmailLink(g,_){return bi(this._delegate,function si(v,f,g){return Bf.apply(this,arguments)}(this._delegate,g,_))}signInWithPhoneNumber(g,_){return Hu(this._delegate,function qf(v,f,g){return Ln.apply(this,arguments)}(this._delegate,g,_))}signInWithPopup(g){var _=this;return(0,c.Z)(function*(){return rl(Cc(),_._delegate,"operation-not-supported-in-this-environment"),bi(_._delegate,function Za(v,f,g){return ph.apply(this,arguments)}(_._delegate,g,Oo))})()}signInWithRedirect(g){var _=this;return(0,c.Z)(function*(){return rl(Cc(),_._delegate,"operation-not-supported-in-this-environment"),yield Ch(_._delegate),Sr(_._delegate,g,Oo)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Tl(v,f){return ds.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Ro,v})();function Qv(v,f,g){let _=v;"function"!=typeof v&&({next:_,error:f,complete:g}=v);const S=_;return{next:ne=>S(ne&&Es.getOrCreate(ne)),error:f,complete:g}}function KI(v,f){const g=function sp(v,f){const g=Sh();if(!g)return[];const _=J(op,v,f);switch(g.getItem(_)){case Ro.NONE:return[Kt];case Ro.LOCAL:return[ua,Ps];case Ro.SESSION:return[Ps];default:return[]}}(v,f);if(typeof self<"u"&&!g.includes(ua)&&g.push(ua),typeof window<"u")for(const _ of[la,Ps])g.includes(_)||g.push(_);return g.includes(Kt)||g.push(Kt),g}class gm{constructor(){this.providerId="phone",this._delegate=new fs(lp(K.Z.auth()))}static credential(f,g){return fs.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}gm.PHONE_SIGN_IN_METHOD=fs.PHONE_SIGN_IN_METHOD,gm.PROVIDER_ID=fs.PROVIDER_ID;const ZI=Q;class Jv{constructor(f,g,_=K.Z.app()){var S;ZI(null===(S=_.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new dc(f,g,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function mm(v){v.INTERNAL.registerComponent(new Y.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),_=f.getProvider("auth");return new Gu(g,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:tc,FacebookAuthProvider:sa,GithubAuthProvider:Kr,GoogleAuthProvider:aa,OAuthProvider:co,SAMLAuthProvider:Fa,PhoneAuthProvider:gm,PhoneMultiFactorGenerator:_h,RecaptchaVerifier:Jv,TwitterAuthProvider:cs,Auth:Gu,AuthCredential:he,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.4.2")}(K.Z)},5861:(wt,Pe,x)=>{"use strict";function c(P,ce,oe,ve,Y,Se,le){try{var j=P[Se](le),B=j.value}catch(z){return void oe(z)}j.done?ce(B):Promise.resolve(B).then(ve,Y)}function K(P){return function(){var ce=this,oe=arguments;return new Promise(function(ve,Y){var Se=P.apply(ce,oe);function le(B){c(Se,ve,Y,le,j,"next",B)}function j(B){c(Se,ve,Y,le,j,"throw",B)}le(void 0)})}}x.d(Pe,{Z:()=>K})},7582:(wt,Pe,x)=>{"use strict";function ce($,H){var ie={};for(var we in $)Object.prototype.hasOwnProperty.call($,we)&&H.indexOf(we)<0&&(ie[we]=$[we]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(we=Object.getOwnPropertySymbols($);Me<we.length;Me++)H.indexOf(we[Me])<0&&Object.prototype.propertyIsEnumerable.call($,we[Me])&&(ie[we[Me]]=$[we[Me]])}return ie}function oe($,H,ie,we){var at,Me=arguments.length,Re=Me<3?H:null===we?we=Object.getOwnPropertyDescriptor(H,ie):we;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Re=Reflect.decorate($,H,ie,we);else for(var st=$.length-1;st>=0;st--)(at=$[st])&&(Re=(Me<3?at(Re):Me>3?at(H,ie,Re):at(H,ie))||Re);return Me>3&&Re&&Object.defineProperty(H,ie,Re),Re}function z($,H,ie,we){return new(ie||(ie=Promise))(function(Re,at){function st(Ve){try{Fe(we.next(Ve))}catch(Le){at(Le)}}function mt(Ve){try{Fe(we.throw(Ve))}catch(Le){at(Le)}}function Fe(Ve){Ve.done?Re(Ve.value):function Me(Re){return Re instanceof ie?Re:new ie(function(at){at(Re)})}(Ve.value).then(st,mt)}Fe((we=we.apply($,H||[])).next())})}function Z($){return this instanceof Z?(this.v=$,this):new Z($)}function fe($,H,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,we=ie.apply($,H||[]),Re=[];return Me={},at("next"),at("throw"),at("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function at(ot){we[ot]&&(Me[ot]=function(ft){return new Promise(function(zt,$t){Re.push([ot,ft,zt,$t])>1||st(ot,ft)})})}function st(ot,ft){try{!function mt(ot){ot.value instanceof Z?Promise.resolve(ot.value.v).then(Fe,Ve):Le(Re[0][2],ot)}(we[ot](ft))}catch(zt){Le(Re[0][3],zt)}}function Fe(ot){st("next",ot)}function Ve(ot){st("throw",ot)}function Le(ot,ft){ot(ft),Re.shift(),Re.length&&st(Re[0][0],Re[0][1])}}function pe($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,H=$[Symbol.asyncIterator];return H?H.call($):($=function _e($){var H="function"==typeof Symbol&&Symbol.iterator,ie=H&&$[H],we=0;if(ie)return ie.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&we>=$.length&&($=void 0),{value:$&&$[we++],done:!$}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}($),ie={},we("next"),we("throw"),we("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function we(Re){ie[Re]=$[Re]&&function(at){return new Promise(function(st,mt){!function Me(Re,at,st,mt){Promise.resolve(mt).then(function(Fe){Re({value:Fe,done:st})},at)}(st,mt,(at=$[Re](at)).done,at.value)})}}}x.d(Pe,{FC:()=>fe,KL:()=>pe,_T:()=>ce,gn:()=>oe,mG:()=>z,qq:()=>Z}),"function"==typeof SuppressedError&&SuppressedError}},wt=>{wt(wt.s=6379)}]);