"use strict";(self.webpackChunkmileageCalculator=self.webpackChunkmileageCalculator||[]).push([[179],{6304:(pt,De,L)=>{L.d(De,{Dh:()=>Me,GT:()=>ue,cc:()=>Re,hO:()=>Ve,on:()=>q,pX:()=>le,xv:()=>be});var d=L(5879),$=L(7142),O=L(8186);pt=L.hmd(pt);const ee=["ngOnDestroy"],le=(Fe,Ct,ft,re={})=>new Proxy(Fe,{get:(Te,ce)=>ft.runOutsideAngular(()=>{var ye;if(Fe[ce])return!(null===(ye=re?.spy)||void 0===ye)&&ye.get&&re.spy.get(ce,Fe[ce]),Fe[ce];if(ee.indexOf(ce)>-1)return()=>{};const Pe=Ct.toPromise().then(ie=>{const st=ie&&ie[ce];return"function"==typeof st?st.bind(ie):st&&st.then?st.then(qe=>ft.run(()=>qe)):ft.run(()=>st)});return new Proxy(()=>{},{get:(ie,st)=>Pe[st],apply:(ie,st,qe)=>Pe.then(on=>{var Ci;const fr=on&&on(...qe);return!(null===(Ci=re?.spy)||void 0===Ci)&&Ci.apply&&re.spy.apply(ce,qe,fr),fr})})})}),ue=(Fe,Ct)=>{Ct.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(re=>{Object.defineProperty(Fe.prototype,re,Object.getOwnPropertyDescriptor(ft.prototype||ft,re))})})};class Ee{constructor(Ct){return Ct}}const Me=new d.OlP("angularfire2.app.options"),be=new d.OlP("angularfire2.app.name");function q(Fe,Ct,ft){const Te="object"==typeof ft&&ft||{};Te.name=Te.name||"string"==typeof ft&&ft||"[DEFAULT]";const ye=$.Z.apps.filter(Pe=>Pe&&Pe.name===Te.name)[0]||Ct.runOutsideAngular(()=>$.Z.initializeApp(Fe,Te));try{JSON.stringify(Fe)!==JSON.stringify(ye.options)&&Z("error",`${ye.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ee(ye)}const Z=(Fe,...Ct)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Fe](...Ct)},se={provide:Ee,useFactory:q,deps:[Me,d.R0b,[new d.FiY,be]]};let Ve=(()=>{class Fe{constructor(ft){$.Z.registerVersion("angularfire",O.q4.full,"core"),$.Z.registerVersion("angularfire",O.q4.full,"app-compat"),$.Z.registerVersion("angular",d.q4F.full,ft.toString())}static initializeApp(ft,re){return{ngModule:Fe,providers:[{provide:Me,useValue:ft},{provide:be,useValue:re}]}}}return Fe.\u0275fac=function(ft){return new(ft||Fe)(d.LFG(d.Lbi))},Fe.\u0275mod=d.oAB({type:Fe}),Fe.\u0275inj=d.cJS({providers:[se]}),Fe})();function Re(Fe,Ct,ft,re,Te){const[,ce,ye]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===Fe)||[];if(ce)return function Qe(Fe,Ct){try{return Fe.toString()===Ct.toString()}catch{return Fe===Ct}}(Te,ye)||(Xe("error",`${Ct} was already initialized on the ${ft} Firebase App with different settings.${Oe?" You may need to reload as Firebase is not HMR aware.":""}`),Xe("warn",{is:Te,was:ye})),ce;{const Pe=re();return globalThis.\u0275AngularfireInstanceCache.push([Fe,Pe,Te]),Pe}}const Oe=!!pt.hot,Xe=(Fe,...Ct)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Fe](...Ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(pt,De,L)=>{L.d(De,{q4:()=>mu,iC:()=>Ca,fc:()=>gu,HU:()=>Gl,vb:()=>Os,JM:()=>$l});var d=L(5879),$=L(3182),O=L(5861),ee=L(534),le=L(9058),ue=L(4537),Ee=L(7879);const Me=(x,T)=>T.some(A=>x instanceof A);let be,q;const Ve=new WeakMap,Re=new WeakMap,Qe=new WeakMap,Oe=new WeakMap,Xe=new WeakMap;let ft={get(x,T,A){if(x instanceof IDBTransaction){if("done"===T)return Re.get(x);if("objectStoreNames"===T)return x.objectStoreNames||Qe.get(x);if("store"===T)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return ye(x[T])},set:(x,T,A)=>(x[T]=A,!0),has:(x,T)=>x instanceof IDBTransaction&&("done"===T||"store"===T)||T in x};function ce(x){return"function"==typeof x?function Te(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...T){return x.apply(Pe(this),T),ye(Ve.get(this))}:function(...T){return ye(x.apply(Pe(this),T))}:function(T,...A){const H=x.call(Pe(this),T,...A);return Qe.set(H,T.sort?T.sort():[T]),ye(H)}}(x):(x instanceof IDBTransaction&&function Ct(x){if(Re.has(x))return;const T=new Promise((A,H)=>{const Y=()=>{x.removeEventListener("complete",J),x.removeEventListener("error",ge),x.removeEventListener("abort",ge)},J=()=>{A(),Y()},ge=()=>{H(x.error||new DOMException("AbortError","AbortError")),Y()};x.addEventListener("complete",J),x.addEventListener("error",ge),x.addEventListener("abort",ge)});Re.set(x,T)}(x),Me(x,function Z(){return be||(be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,ft):x)}function ye(x){if(x instanceof IDBRequest)return function Fe(x){const T=new Promise((A,H)=>{const Y=()=>{x.removeEventListener("success",J),x.removeEventListener("error",ge)},J=()=>{A(ye(x.result)),Y()},ge=()=>{H(x.error),Y()};x.addEventListener("success",J),x.addEventListener("error",ge)});return T.then(A=>{A instanceof IDBCursor&&Ve.set(A,x)}).catch(()=>{}),Xe.set(T,x),T}(x);if(Oe.has(x))return Oe.get(x);const T=ce(x);return T!==x&&(Oe.set(x,T),Xe.set(T,x)),T}const Pe=x=>Xe.get(x),qe=["get","getKey","getAll","getAllKeys","count"],on=["put","add","delete","clear"],Ci=new Map;function fr(x,T){if(!(x instanceof IDBDatabase)||T in x||"string"!=typeof T)return;if(Ci.get(T))return Ci.get(T);const A=T.replace(/FromIndex$/,""),H=T!==A,Y=on.includes(A);if(!(A in(H?IDBIndex:IDBObjectStore).prototype)||!Y&&!qe.includes(A))return;const J=function(){var ge=(0,O.Z)(function*(tt,...We){const ht=this.transaction(tt,Y?"readwrite":"readonly");let Lt=ht.store;return H&&(Lt=Lt.index(We.shift())),(yield Promise.all([Lt[A](...We),Y&&ht.done]))[0]});return function(We){return ge.apply(this,arguments)}}();return Ci.set(T,J),J}!function re(x){ft=x(ft)}(x=>({...x,get:(T,A,H)=>fr(T,A)||x.get(T,A,H),has:(T,A)=>!!fr(T,A)||x.has(T,A)}));const qs="@firebase/installations",On="0.6.4",Gr=1e4,fo=`w:${On}`,fe="FIS_v2",_e="https://firebaseinstallations.googleapis.com/v1",Ce=36e5,it=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ut(x){return x instanceof le.ZR&&x.code.includes("request-failed")}function yn({projectId:x}){return`${_e}/projects/${x}/installations`}function Mt(x){return{token:x.token,requestStatus:2,expiresIn:di(x.expiresIn),creationTime:Date.now()}}function dn(x,T){return jt.apply(this,arguments)}function jt(){return(jt=(0,O.Z)(function*(x,T){const H=(yield T.json()).error;return it.create("request-failed",{requestName:x,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function xn({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function jn(x){return bn.apply(this,arguments)}function bn(){return(bn=(0,O.Z)(function*(x){const T=yield x();return T.status>=500&&T.status<600?x():T})).apply(this,arguments)}function di(x){return Number(x.replace("s","000"))}function Gi(){return(Gi=(0,O.Z)(function*({appConfig:x,heartbeatServiceProvider:T},{fid:A}){const H=yn(x),Y=xn(x),J=T.getImmediate({optional:!0});if(J){const ht=yield J.getHeartbeatsHeader();ht&&Y.append("x-firebase-client",ht)}const tt={method:"POST",headers:Y,body:JSON.stringify({fid:A,authVersion:fe,appId:x.appId,sdkVersion:fo})},We=yield jn(()=>fetch(H,tt));if(We.ok){const ht=yield We.json();return{fid:ht.fid||A,registrationStatus:2,refreshToken:ht.refreshToken,authToken:Mt(ht.authToken)}}throw yield dn("Create Installation",We)})).apply(this,arguments)}function Jn(x){return new Promise(T=>{setTimeout(T,x)})}const Ws=/^[cdef][\w-]{21}$/,Je="";function gt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const A=function wt(x){return function mr(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Ws.test(A)?A:Je}catch{return Je}}function nn(x){return`${x.appName}!${x.appId}`}const bi=new Map;function kr(x,T){const A=nn(x);Ds(A,T),function En(x,T){const A=function Bt(){return!sr&&"BroadcastChannel"in self&&(sr=new BroadcastChannel("[Firebase] FID Change"),sr.onmessage=x=>{Ds(x.data.key,x.data.fid)}),sr}();A&&A.postMessage({key:x,fid:T}),function zn(){0===bi.size&&sr&&(sr.close(),sr=null)}()}(A,T)}function Ds(x,T){const A=bi.get(x);if(A)for(const H of A)H(T)}let sr=null;const as="firebase-installations-database",Zs=1,qi="firebase-installations-store";let ei=null;function Pn(){return ei||(ei=function ie(x,T,{blocked:A,upgrade:H,blocking:Y,terminated:J}={}){const ge=indexedDB.open(x,T),tt=ye(ge);return H&&ge.addEventListener("upgradeneeded",We=>{H(ye(ge.result),We.oldVersion,We.newVersion,ye(ge.transaction))}),A&&ge.addEventListener("blocked",()=>A()),tt.then(We=>{J&&We.addEventListener("close",()=>J()),Y&&We.addEventListener("versionchange",()=>Y())}).catch(()=>{}),tt}(as,Zs,{upgrade:(x,T)=>{0===T&&x.createObjectStore(qi)}})),ei}function hi(x,T){return $n.apply(this,arguments)}function $n(){return($n=(0,O.Z)(function*(x,T){const A=nn(x),Y=(yield Pn()).transaction(qi,"readwrite"),J=Y.objectStore(qi),ge=yield J.get(A);return yield J.put(T,A),yield Y.done,(!ge||ge.fid!==T.fid)&&kr(x,T.fid),T})).apply(this,arguments)}function wi(x){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,O.Z)(function*(x){const T=nn(x),H=(yield Pn()).transaction(qi,"readwrite");yield H.objectStore(qi).delete(T),yield H.done})).apply(this,arguments)}function pr(x,T){return rn.apply(this,arguments)}function rn(){return(rn=(0,O.Z)(function*(x,T){const A=nn(x),Y=(yield Pn()).transaction(qi,"readwrite"),J=Y.objectStore(qi),ge=yield J.get(A),tt=T(ge);return void 0===tt?yield J.delete(A):yield J.put(tt,A),yield Y.done,tt&&(!ge||ge.fid!==tt.fid)&&kr(x,tt.fid),tt})).apply(this,arguments)}function W(x){return G.apply(this,arguments)}function G(){return G=(0,O.Z)(function*(x){let T;const A=yield pr(x.appConfig,H=>{const Y=function F(x){return bt(x||{fid:gt(),registrationStatus:0})}(H),J=function V(x,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(it.create("app-offline"))};const A={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},H=function N(x,T){return te.apply(this,arguments)}(x,A);return{installationEntry:A,registrationPromise:H}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:we(x)}:{installationEntry:T}}(x,Y);return T=J.registrationPromise,J.installationEntry});return A.fid===Je?{installationEntry:yield T}:{installationEntry:A,registrationPromise:T}}),G.apply(this,arguments)}function te(){return te=(0,O.Z)(function*(x,T){try{const A=yield function os(x,T){return Gi.apply(this,arguments)}(x,T);return hi(x.appConfig,A)}catch(A){throw ut(A)&&409===A.customData.serverCode?yield wi(x.appConfig):yield hi(x.appConfig,{fid:T.fid,registrationStatus:0}),A}}),te.apply(this,arguments)}function we(x){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,O.Z)(function*(x){let T=yield xt(x.appConfig);for(;1===T.registrationStatus;)yield Jn(100),T=yield xt(x.appConfig);if(0===T.registrationStatus){const{installationEntry:A,registrationPromise:H}=yield W(x);return H||A}return T})).apply(this,arguments)}function xt(x){return pr(x,T=>{if(!T)throw it.create("installation-not-found");return bt(T)})}function bt(x){return function _t(x){return 1===x.registrationStatus&&x.registrationTime+Gr<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Sn(){return(Sn=(0,O.Z)(function*({appConfig:x,heartbeatServiceProvider:T},A){const H=function zt(x,{fid:T}){return`${yn(x)}/${T}/authTokens:generate`}(x,A),Y=function Yn(x,{refreshToken:T}){const A=xn(x);return A.append("Authorization",function qr(x){return`${fe} ${x}`}(T)),A}(x,A),J=T.getImmediate({optional:!0});if(J){const ht=yield J.getHeartbeatsHeader();ht&&Y.append("x-firebase-client",ht)}const tt={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:fo,appId:x.appId}})},We=yield jn(()=>fetch(H,tt));if(We.ok)return Mt(yield We.json());throw yield dn("Generate Auth Token",We)})).apply(this,arguments)}function Pi(x){return Wi.apply(this,arguments)}function Wi(){return Wi=(0,O.Z)(function*(x,T=!1){let A;const H=yield pr(x.appConfig,J=>{if(!Kt(J))throw it.create("not-registered");const ge=J.authToken;if(!T&&function ln(x){return 2===x.requestStatus&&!function Fi(x){const T=Date.now();return T<x.creationTime||x.creationTime+x.expiresIn<T+Ce}(x)}(ge))return J;if(1===ge.requestStatus)return A=function ve(x,T){return ae.apply(this,arguments)}(x,T),J;{if(!navigator.onLine)throw it.create("app-offline");const tt=function ti(x){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:T})}(J);return A=function vt(x,T){return Pt.apply(this,arguments)}(x,tt),tt}});return A?yield A:H.authToken}),Wi.apply(this,arguments)}function ae(){return(ae=(0,O.Z)(function*(x,T){let A=yield Be(x.appConfig);for(;1===A.authToken.requestStatus;)yield Jn(100),A=yield Be(x.appConfig);const H=A.authToken;return 0===H.requestStatus?Pi(x,T):H})).apply(this,arguments)}function Be(x){return pr(x,T=>{if(!Kt(T))throw it.create("not-registered");return function Oo(x){return 1===x.requestStatus&&x.requestTime+Gr<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Pt(){return Pt=(0,O.Z)(function*(x,T){try{const A=yield function Rt(x,T){return Sn.apply(this,arguments)}(x,T),H=Object.assign(Object.assign({},T),{authToken:A});return yield hi(x.appConfig,H),A}catch(A){if(!ut(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const H=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield hi(x.appConfig,H)}else yield wi(x.appConfig);throw A}}),Pt.apply(this,arguments)}function Kt(x){return void 0!==x&&2===x.registrationStatus}function Tl(){return(Tl=(0,O.Z)(function*(x){const T=x,{installationEntry:A,registrationPromise:H}=yield W(T);return H?H.catch(console.error):Pi(T).catch(console.error),A.fid})).apply(this,arguments)}function Rr(){return Rr=(0,O.Z)(function*(x,T=!1){const A=x;return yield function Po(x){return aa.apply(this,arguments)}(A),(yield Pi(A,T)).token}),Rr.apply(this,arguments)}function aa(){return(aa=(0,O.Z)(function*(x){const{registrationPromise:T}=yield W(x);T&&(yield T)})).apply(this,arguments)}function la(x){return it.create("missing-app-config-values",{valueName:x})}const Cc="installations",Dl=x=>{const T=x.getProvider("app").getImmediate(),A=function Ec(x){if(!x||!x.options)throw la("App Configuration");if(!x.name)throw la("App Name");const T=["projectId","apiKey","appId"];for(const A of T)if(!x.options[A])throw la(A);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(T);return{app:T,appConfig:A,heartbeatServiceProvider:(0,ee._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Sl=x=>{const T=x.getProvider("app").getImmediate(),A=(0,ee._getProvider)(T,Cc).getImmediate();return{getId:()=>function Ha(x){return Tl.apply(this,arguments)}(A),getToken:Y=>function Sh(x){return Rr.apply(this,arguments)}(A,Y)}};(function Od(){(0,ee._registerComponent)(new ue.wA(Cc,Dl,"PUBLIC")),(0,ee._registerComponent)(new ue.wA("installations-internal",Sl,"PRIVATE"))})(),(0,ee.registerVersion)(qs,On),(0,ee.registerVersion)(qs,On,"esm2017");const Al="@firebase/remote-config",Dn=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Rl{constructor(T,A,H,Y){this.client=T,this.storage=A,this.storageCache=H,this.logger=Y}isCachedDataFresh(T,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-A,Y=H<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${Y}.`),Y}fetch(T){var A=this;return(0,O.Z)(function*(){const[H,Y]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(Y&&A.isCachedDataFresh(T.cacheMaxAgeMillis,H))return Y;T.eTag=Y&&Y.eTag;const J=yield A.client.fetch(T),ge=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===J.status&&ge.push(A.storage.setLastSuccessfulFetchResponse(J)),yield Promise.all(ge),J})()}}function Tc(x=navigator){return x.languages&&x.languages[0]||x.language}class Lo{constructor(T,A,H,Y,J,ge){this.firebaseInstallations=T,this.sdkVersion=A,this.namespace=H,this.projectId=Y,this.apiKey=J,this.appId=ge}fetch(T){var A=this;return(0,O.Z)(function*(){const[H,Y]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,tt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},We={sdk_version:A.sdkVersion,app_instance_id:H,app_instance_id_token:Y,app_id:A.appId,language_code:Tc()},ht={method:"POST",headers:tt,body:JSON.stringify(We)},Lt=fetch(ge,ht),Ft=new Promise((Er,Yo)=>{T.signal.addEventListener(()=>{const Wl=new Error("The operation was aborted.");Wl.name="AbortError",Yo(Wl)})});let ur;try{yield Promise.race([Lt,Ft]),ur=yield Lt}catch(Er){let Yo="fetch-client-network";throw"AbortError"===Er?.name&&(Yo="fetch-timeout"),Dn.create(Yo,{originalErrorMessage:Er?.message})}let Zn=ur.status;const Ia=ur.headers.get("ETag")||void 0;let yo,rl;if(200===ur.status){let Er;try{Er=yield ur.json()}catch(Yo){throw Dn.create("fetch-client-parse",{originalErrorMessage:Yo?.message})}yo=Er.entries,rl=Er.state}if("INSTANCE_STATE_UNSPECIFIED"===rl?Zn=500:"NO_CHANGE"===rl?Zn=304:("NO_TEMPLATE"===rl||"EMPTY_CONFIG"===rl)&&(yo={}),304!==Zn&&200!==Zn)throw Dn.create("fetch-status",{httpStatus:Zn});return{status:Zn,eTag:Ia,config:yo}})()}}class da{constructor(T,A){this.client=T,this.storage=A}fetch(T){var A=this;return(0,O.Z)(function*(){const H=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(T,H)})()}attemptFetch(T,{throttleEndTimeMillis:A,backoffCount:H}){var Y=this;return(0,O.Z)(function*(){yield function qn(x,T){return new Promise((A,H)=>{const Y=Math.max(T-Date.now(),0),J=setTimeout(A,Y);x.addEventListener(()=>{clearTimeout(J),H(Dn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,A);try{const J=yield Y.client.fetch(T);return yield Y.storage.deleteThrottleMetadata(),J}catch(J){if(!function Dc(x){if(!(x instanceof le.ZR&&x.customData))return!1;const T=Number(x.customData.httpStatus);return 429===T||500===T||503===T||504===T}(J))throw J;const ge={throttleEndTimeMillis:Date.now()+(0,le.$s)(H),backoffCount:H+1};return yield Y.storage.setThrottleMetadata(ge),Y.attemptFetch(T,ge)}})()}}class Sc{constructor(T,A,H,Y,J){this.app=T,this._client=A,this._storageCache=H,this._storage=Y,this._logger=J,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ki(x,T){const A=x.target.error||void 0;return Dn.create(T,{originalErrorMessage:A&&A?.message})}const yr="app_namespace_store";class Jm{constructor(T,A,H,Y=function un(){return new Promise((x,T)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=H=>{T(Ki(H,"storage-open"))},A.onsuccess=H=>{x(H.target.result)},A.onupgradeneeded=H=>{0===H.oldVersion&&H.target.result.createObjectStore(yr,{keyPath:"compositeKey"})}}catch(A){T(Dn.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=T,this.appName=A,this.namespace=H,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var A=this;return(0,O.Z)(function*(){const H=yield A.openDbPromise;return new Promise((Y,J)=>{const tt=H.transaction([yr],"readonly").objectStore(yr),We=A.createCompositeKey(T);try{const ht=tt.get(We);ht.onerror=Lt=>{J(Ki(Lt,"storage-get"))},ht.onsuccess=Lt=>{const Ft=Lt.target.result;Y(Ft?Ft.value:void 0)}}catch(ht){J(Dn.create("storage-get",{originalErrorMessage:ht?.message}))}})})()}set(T,A){var H=this;return(0,O.Z)(function*(){const Y=yield H.openDbPromise;return new Promise((J,ge)=>{const We=Y.transaction([yr],"readwrite").objectStore(yr),ht=H.createCompositeKey(T);try{const Lt=We.put({compositeKey:ht,value:A});Lt.onerror=Ft=>{ge(Ki(Ft,"storage-set"))},Lt.onsuccess=()=>{J()}}catch(Lt){ge(Dn.create("storage-set",{originalErrorMessage:Lt?.message}))}})})()}delete(T){var A=this;return(0,O.Z)(function*(){const H=yield A.openDbPromise;return new Promise((Y,J)=>{const tt=H.transaction([yr],"readwrite").objectStore(yr),We=A.createCompositeKey(T);try{const ht=tt.delete(We);ht.onerror=Lt=>{J(Ki(Lt,"storage-delete"))},ht.onsuccess=()=>{Y()}}catch(ht){J(Dn.create("storage-delete",{originalErrorMessage:ht?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Ks{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,O.Z)(function*(){const A=T.storage.getLastFetchStatus(),H=T.storage.getLastSuccessfulFetchTimestampMillis(),Y=T.storage.getActiveConfig(),J=yield A;J&&(T.lastFetchStatus=J);const ge=yield H;ge&&(T.lastSuccessfulFetchTimestampMillis=ge);const tt=yield Y;tt&&(T.activeConfig=tt)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function $a(){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,O.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}!function ua(){(0,ee._registerComponent)(new ue.wA("remote-config",function x(T,{instanceIdentifier:A}){const H=T.getProvider("app").getImmediate(),Y=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Dn.create("registration-window");if(!(0,le.hl)())throw Dn.create("indexed-db-unavailable");const{projectId:J,apiKey:ge,appId:tt}=H.options;if(!J)throw Dn.create("registration-project-id");if(!ge)throw Dn.create("registration-api-key");if(!tt)throw Dn.create("registration-app-id");const We=new Jm(tt,H.name,A=A||"firebase"),ht=new Ks(We),Lt=new Ee.Yd(Al);Lt.logLevel=Ee.in.ERROR;const Ft=new Lo(Y,ee.SDK_VERSION,A,J,ge,tt),ur=new da(Ft,We),Zn=new Rl(ur,We,ht,Lt),Ia=new Sc(H,Zn,ht,We,Lt);return function Ut(x){const T=(0,le.m9)(x);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Ia),Ia},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(Al,"0.4.4"),(0,ee.registerVersion)(Al,"0.4.4","esm2017")}();const or=(x,T)=>T.some(A=>x instanceof A);let Nl,ar;const Ms=new WeakMap,Vo=new WeakMap,Fn=new WeakMap,qa=new WeakMap,kh=new WeakMap;let Bd={get(x,T,A){if(x instanceof IDBTransaction){if("done"===T)return Vo.get(x);if("objectStoreNames"===T)return x.objectStoreNames||Fn.get(x);if("store"===T)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Ys(x[T])},set:(x,T,A)=>(x[T]=A,!0),has:(x,T)=>x instanceof IDBTransaction&&("done"===T||"store"===T)||T in x};function Rh(x){return"function"==typeof x?function A_(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fd(){return ar||(ar=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...T){return x.apply(Ud(this),T),Ys(Ms.get(this))}:function(...T){return Ys(x.apply(Ud(this),T))}:function(T,...A){const H=x.call(Ud(this),T,...A);return Fn.set(H,T.sort?T.sort():[T]),Ys(H)}}(x):(x instanceof IDBTransaction&&function Vd(x){if(Vo.has(x))return;const T=new Promise((A,H)=>{const Y=()=>{x.removeEventListener("complete",J),x.removeEventListener("error",ge),x.removeEventListener("abort",ge)},J=()=>{A(),Y()},ge=()=>{H(x.error||new DOMException("AbortError","AbortError")),Y()};x.addEventListener("complete",J),x.addEventListener("error",ge),x.addEventListener("abort",ge)});Vo.set(x,T)}(x),or(x,function lr(){return Nl||(Nl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,Bd):x)}function Ys(x){if(x instanceof IDBRequest)return function Ld(x){const T=new Promise((A,H)=>{const Y=()=>{x.removeEventListener("success",J),x.removeEventListener("error",ge)},J=()=>{A(Ys(x.result)),Y()},ge=()=>{H(x.error),Y()};x.addEventListener("success",J),x.addEventListener("error",ge)});return T.then(A=>{A instanceof IDBCursor&&Ms.set(A,x)}).catch(()=>{}),kh.set(T,x),T}(x);if(qa.has(x))return qa.get(x);const T=Rh(x);return T!==x&&(qa.set(x,T),kh.set(T,x)),T}const Ud=x=>kh.get(x);function Hd(x,T,{blocked:A,upgrade:H,blocking:Y,terminated:J}={}){const ge=indexedDB.open(x,T),tt=Ys(ge);return H&&ge.addEventListener("upgradeneeded",We=>{H(Ys(ge.result),We.oldVersion,We.newVersion,Ys(ge.transaction))}),A&&ge.addEventListener("blocked",()=>A()),tt.then(We=>{J&&We.addEventListener("close",()=>J()),Y&&We.addEventListener("versionchange",()=>Y())}).catch(()=>{}),tt}function Mc(x,{blocked:T}={}){const A=indexedDB.deleteDatabase(x);return T&&A.addEventListener("blocked",()=>T()),Ys(A).then(()=>{})}const tp=["get","getKey","getAll","getAllKeys","count"],Nh=["put","add","delete","clear"],Oh=new Map;function Ph(x,T){if(!(x instanceof IDBDatabase)||T in x||"string"!=typeof T)return;if(Oh.get(T))return Oh.get(T);const A=T.replace(/FromIndex$/,""),H=T!==A,Y=Nh.includes(A);if(!(A in(H?IDBIndex:IDBObjectStore).prototype)||!Y&&!tp.includes(A))return;const J=function(){var ge=(0,O.Z)(function*(tt,...We){const ht=this.transaction(tt,Y?"readwrite":"readonly");let Lt=ht.store;return H&&(Lt=Lt.index(We.shift())),(yield Promise.all([Lt[A](...We),Y&&ht.done]))[0]});return function(We){return ge.apply(this,arguments)}}();return Oh.set(T,J),J}!function ep(x){Bd=x(Bd)}(x=>({...x,get:(T,A,H)=>Ph(T,A)||x.get(T,A,H),has:(T,A)=>!!Ph(T,A)||x.has(T,A)}));const jd="/firebase-messaging-sw.js",Fh="/firebase-cloud-messaging-push-scope",kc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zd="https://fcmregistrations.googleapis.com/v1",np="google.c.a.c_id",ni="google.c.a.c_l",Jb="google.c.a.ts";var Uo=(()=>((Uo=Uo||{}).PUSH_RECEIVED="push-received",Uo.NOTIFICATION_CLICKED="notification-clicked",Uo))();function Or(x){const T=new Uint8Array(x);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $d(x){const A=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(A),Y=new Uint8Array(H.length);for(let J=0;J<H.length;++J)Y[J]=H.charCodeAt(J);return Y}const Ol="fcm_token_details_db",Pl=5,ip="fcm_token_object_Store";function Rc(){return Rc=(0,O.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(J=>J.name).includes(Ol))return null;let T=null;return(yield Hd(Ol,Pl,{upgrade:(H=(0,O.Z)(function*(Y,J,ge,tt){var We;if(J<2||!Y.objectStoreNames.contains(ip))return;const ht=tt.objectStore(ip),Lt=yield ht.index("fcmSenderId").get(x);if(yield ht.clear(),Lt)if(2===J){const Ft=Lt;if(!Ft.auth||!Ft.p256dh||!Ft.endpoint)return;T={token:Ft.fcmToken,createTime:null!==(We=Ft.createTime)&&void 0!==We?We:Date.now(),subscriptionOptions:{auth:Ft.auth,p256dh:Ft.p256dh,endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:"string"==typeof Ft.vapidKey?Ft.vapidKey:Or(Ft.vapidKey)}}}else if(3===J){const Ft=Lt;T={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:Or(Ft.auth),p256dh:Or(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:Or(Ft.vapidKey)}}}else if(4===J){const Ft=Lt;T={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:Or(Ft.auth),p256dh:Or(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:Or(Ft.vapidKey)}}}}),function(J,ge,tt,We){return H.apply(this,arguments)})})).close(),yield Mc(Ol),yield Mc("fcm_vapid_details_db"),yield Mc("undefined"),function ls(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:T}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var H}),Rc.apply(this,arguments)}const Nc="firebase-messaging-database",ii=1,Zr="firebase-messaging-store";let Gd=null;function Oc(){return Gd||(Gd=Hd(Nc,ii,{upgrade:(x,T)=>{0===T&&x.createObjectStore(Zr)}})),Gd}function fa(x){return ma.apply(this,arguments)}function ma(){return ma=(0,O.Z)(function*(x){const T=Vh(x),H=yield(yield Oc()).transaction(Zr).objectStore(Zr).get(T);if(H)return H;{const Y=yield function rp(x){return Rc.apply(this,arguments)}(x.appConfig.senderId);if(Y)return yield Pc(x,Y),Y}}),ma.apply(this,arguments)}function Pc(x,T){return sp.apply(this,arguments)}function sp(){return(sp=(0,O.Z)(function*(x,T){const A=Vh(x),Y=(yield Oc()).transaction(Zr,"readwrite");return yield Y.objectStore(Zr).put(T,A),yield Y.done,T})).apply(this,arguments)}function Ho(){return(Ho=(0,O.Z)(function*(x){const T=Vh(x),H=(yield Oc()).transaction(Zr,"readwrite");yield H.objectStore(Zr).delete(T),yield H.done})).apply(this,arguments)}function Vh({appConfig:x}){return x.appId}const Vi=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function e0(x,T){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,O.Z)(function*(x,T){const A=yield Wa(x),H=Kd(T),Y={method:"POST",headers:A,body:JSON.stringify(H)};let J;try{J=yield(yield fetch(Fc(x.appConfig),Y)).json()}catch(ge){throw Vi.create("token-subscribe-failed",{errorInfo:ge?.toString()})}if(J.error)throw Vi.create("token-subscribe-failed",{errorInfo:J.error.message});if(!J.token)throw Vi.create("token-subscribe-no-token");return J.token})).apply(this,arguments)}function Fl(){return(Fl=(0,O.Z)(function*(x,T){const A=yield Wa(x),H=Kd(T.subscriptionOptions),Y={method:"PATCH",headers:A,body:JSON.stringify(H)};let J;try{J=yield(yield fetch(`${Fc(x.appConfig)}/${T.token}`,Y)).json()}catch(ge){throw Vi.create("token-update-failed",{errorInfo:ge?.toString()})}if(J.error)throw Vi.create("token-update-failed",{errorInfo:J.error.message});if(!J.token)throw Vi.create("token-update-no-token");return J.token})).apply(this,arguments)}function op(x,T){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,O.Z)(function*(x,T){const H={method:"DELETE",headers:yield Wa(x)};try{const J=yield(yield fetch(`${Fc(x.appConfig)}/${T}`,H)).json();if(J.error)throw Vi.create("token-unsubscribe-failed",{errorInfo:J.error.message})}catch(Y){throw Vi.create("token-unsubscribe-failed",{errorInfo:Y?.toString()})}})).apply(this,arguments)}function Fc({projectId:x}){return`${zd}/projects/${x}/registrations`}function Wa(x){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,O.Z)(function*({appConfig:x,installations:T}){const A=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function Kd({p256dh:x,auth:T,endpoint:A,vapidKey:H}){const Y={web:{endpoint:A,auth:T,p256dh:x}};return H!==kc&&(Y.web.applicationPubKey=H),Y}const ap=6048e5;function Bh(){return Bh=(0,O.Z)(function*(x){const T=yield function Lc(x,T){return Za.apply(this,arguments)}(x.swRegistration,x.vapidKey),A={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:T.endpoint,auth:Or(T.getKey("auth")),p256dh:Or(T.getKey("p256dh"))},H=yield fa(x.firebaseDependencies);if(H){if(function cr(x,T){return T.vapidKey===x.vapidKey&&T.endpoint===x.endpoint&&T.auth===x.auth&&T.p256dh===x.p256dh}(H.subscriptionOptions,A))return Date.now()>=H.createTime+ap?function ks(x,T){return Jd.apply(this,arguments)}(x,{token:H.token,createTime:Date.now(),subscriptionOptions:A}):H.token;try{yield op(x.firebaseDependencies,H.token)}catch(Y){console.warn(Y)}return pa(x.firebaseDependencies,A)}return pa(x.firebaseDependencies,A)}),Bh.apply(this,arguments)}function Xd(){return Xd=(0,O.Z)(function*(x){const T=yield fa(x.firebaseDependencies);T&&(yield op(x.firebaseDependencies,T.token),yield function Lh(x){return Ho.apply(this,arguments)}(x.firebaseDependencies));const A=yield x.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),Xd.apply(this,arguments)}function Jd(){return Jd=(0,O.Z)(function*(x,T){try{const A=yield function k_(x,T){return Fl.apply(this,arguments)}(x.firebaseDependencies,T),H=Object.assign(Object.assign({},T),{token:A,createTime:Date.now()});return yield Pc(x.firebaseDependencies,H),A}catch(A){throw yield function Qd(x){return Xd.apply(this,arguments)}(x),A}}),Jd.apply(this,arguments)}function pa(x,T){return kn.apply(this,arguments)}function kn(){return(kn=(0,O.Z)(function*(x,T){const H={token:yield e0(x,T),createTime:Date.now(),subscriptionOptions:T};return yield Pc(x,H),H.token})).apply(this,arguments)}function Za(){return(Za=(0,O.Z)(function*(x,T){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$d(T)})})).apply(this,arguments)}function Ka(x){const T={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Uh(x,T){if(!T.notification)return;x.notification={};const A=T.notification.title;A&&(x.notification.title=A);const H=T.notification.body;H&&(x.notification.body=H);const Y=T.notification.image;Y&&(x.notification.image=Y);const J=T.notification.icon;J&&(x.notification.icon=J)}(T,x),function jo(x,T){T.data&&(x.data=T.data)}(T,x),function cs(x,T){var A,H,Y,J,ge;if(!(T.fcmOptions||null!==(A=T.notification)&&void 0!==A&&A.click_action))return;x.fcmOptions={};const tt=null!==(Y=null===(H=T.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==Y?Y:null===(J=T.notification)||void 0===J?void 0:J.click_action;tt&&(x.fcmOptions.link=tt);const We=null===(ge=T.fcmOptions)||void 0===ge?void 0:ge.analytics_label;We&&(x.fcmOptions.analyticsLabel=We)}(T,x),T}function Hh(x,T){const A=[];for(let H=0;H<x.length;H++)A.push(x.charAt(H)),H<T.length&&A.push(T.charAt(H));return A.join("")}function Qs(x){return Vi.create("missing-app-config-values",{valueName:x})}Hh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zh{constructor(T,A,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function jh(x){if(!x||!x.options)throw Qs("App Configuration Object");if(!x.name)throw Qs("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:A}=x;for(const H of T)if(!A[H])throw Qs(H);return{appName:x.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:Y,installations:A,analyticsProvider:H}}_delete(){return Promise.resolve()}}function Vc(){return(Vc=(0,O.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(jd,{scope:Fh}),x.swRegistration.update().catch(()=>{})}catch(T){throw Vi.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function ds(){return(ds=(0,O.Z)(function*(x,T){if(!T&&!x.swRegistration&&(yield function eu(x){return Vc.apply(this,arguments)}(x)),T||!x.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Vi.create("invalid-sw-registration");x.swRegistration=T}})).apply(this,arguments)}function kt(){return(kt=(0,O.Z)(function*(x,T){T?x.vapidKey=T:x.vapidKey||(x.vapidKey=kc)})).apply(this,arguments)}function $h(){return $h=(0,O.Z)(function*(x,T){if(!navigator)throw Vi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vi.create("permission-blocked");return yield function Bc(x,T){return kt.apply(this,arguments)}(x,T?.vapidKey),yield function Ya(x,T){return ds.apply(this,arguments)}(x,T?.serviceWorkerRegistration),function Yd(x){return Bh.apply(this,arguments)}(x)}),$h.apply(this,arguments)}function nu(){return(nu=(0,O.Z)(function*(x,T,A){const H=function cp(x){switch(x){case Uo.NOTIFICATION_CLICKED:return"notification_open";case Uo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:A[np],message_name:A[ni],message_time:A[Jb],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function us(){return us=(0,O.Z)(function*(x,T){const A=T.data;if(!A.isFirebaseMessaging)return;x.onMessageHandler&&A.messageType===Uo.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Ka(A)):x.onMessageHandler.next(Ka(A)));const H=A.data;(function lp(x){return"object"==typeof x&&!!x&&np in x})(H)&&"1"===H["google.c.a.e"]&&(yield function R_(x,T,A){return nu.apply(this,arguments)}(x,A.messageType,H))}),us.apply(this,arguments)}const Uc="@firebase/messaging",dp=x=>{const T=new zh(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Vl(x,T){return us.apply(this,arguments)}(T,A)),T},Gh=x=>{const T=x.getProvider("messaging").getImmediate();return{getToken:H=>function tu(x,T){return $h.apply(this,arguments)}(T,H)}};function ke(){return an.apply(this,arguments)}function an(){return(an=(0,O.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function up(){(0,ee._registerComponent)(new ue.wA("messaging",dp,"PUBLIC")),(0,ee._registerComponent)(new ue.wA("messaging-internal",Gh,"PRIVATE")),(0,ee.registerVersion)(Uc,"0.12.4"),(0,ee.registerVersion)(Uc,"0.12.4","esm2017")}();const ru="analytics",qh="firebase_id",Wh="origin",Yi=6e4,Xs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zc="https://www.googletagmanager.com/gtag/js",Wn=new Ee.Yd("@firebase/analytics"),Ti=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function $c(x){if(!x.startsWith(zc)){const T=Ti.create("invalid-gtag-resource",{gtagURL:x});return Wn.warn(T.message),""}return x}function Ul(x){return Promise.all(x.map(T=>T.catch(A=>A)))}function zo(){return(zo=(0,O.Z)(function*(x,T,A,H,Y,J){const ge=H[Y];try{if(ge)yield T[ge];else{const We=(yield Ul(A)).find(ht=>ht.measurementId===Y);We&&(yield T[We.appId])}}catch(tt){Wn.error(tt)}x("config",Y,J)})).apply(this,arguments)}function Qa(){return(Qa=(0,O.Z)(function*(x,T,A,H,Y){try{let J=[];if(Y&&Y.send_to){let ge=Y.send_to;Array.isArray(ge)||(ge=[ge]);const tt=yield Ul(A);for(const We of ge){const ht=tt.find(Ft=>Ft.measurementId===We),Lt=ht&&T[ht.appId];if(!Lt){J=[];break}J.push(Lt)}}0===J.length&&(J=Object.values(T)),yield Promise.all(J),x("event",H,Y||{})}catch(J){Wn.error(J)}})).apply(this,arguments)}const N_=30,Qh=new class Yh{constructor(T={},A=1e3){this.throttleMetadata=T,this.intervalMillis=A}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,A){this.throttleMetadata[T]=A}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function O_(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Go(){return(Go=(0,O.Z)(function*(x){var T;const{appId:A,apiKey:H}=x,Y={method:"GET",headers:O_(H)},J=Xs.replace("{app-id}",A),ge=yield fetch(J,Y);if(200!==ge.status&&304!==ge.status){let tt="";try{const We=yield ge.json();null!==(T=We.error)&&void 0!==T&&T.message&&(tt=We.error.message)}catch{}throw Ti.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:tt})}return ge.json()})).apply(this,arguments)}function ou(){return(ou=(0,O.Z)(function*(x,T=Qh,A){const{appId:H,apiKey:Y,measurementId:J}=x.options;if(!H)throw Ti.create("no-app-id");if(!Y){if(J)return{measurementId:J,appId:H};throw Ti.create("no-api-key")}const ge=T.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},tt=new cu;return setTimeout((0,O.Z)(function*(){tt.abort()}),void 0!==A?A:Yi),mp({appId:H,apiKey:Y,measurementId:J},ge,tt,T)})).apply(this,arguments)}function mp(x,T,A){return ga.apply(this,arguments)}function ga(){return ga=(0,O.Z)(function*(x,{throttleEndTimeMillis:T,backoffCount:A},H,Y=Qh){var J;const{appId:ge,measurementId:tt}=x;try{yield function au(x,T){return new Promise((A,H)=>{const Y=Math.max(T-Date.now(),0),J=setTimeout(A,Y);x.addEventListener(()=>{clearTimeout(J),H(Ti.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(H,T)}catch(We){if(tt)return Wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${We?.message}]`),{appId:ge,measurementId:tt};throw We}try{const We=yield function Pr(x){return Go.apply(this,arguments)}(x);return Y.deleteThrottleMetadata(ge),We}catch(We){const ht=We;if(!function lu(x){if(!(x instanceof le.ZR&&x.customData))return!1;const T=Number(x.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ht)){if(Y.deleteThrottleMetadata(ge),tt)return Wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${ht?.message}]`),{appId:ge,measurementId:tt};throw We}const Lt=503===Number(null===(J=ht?.customData)||void 0===J?void 0:J.httpStatus)?(0,le.$s)(A,Y.intervalMillis,N_):(0,le.$s)(A,Y.intervalMillis),Ft={throttleEndTimeMillis:Date.now()+Lt,backoffCount:A+1};return Y.setThrottleMetadata(ge,Ft),Wn.debug(`Calling attemptFetch again in ${Lt} millis`),mp(x,Ft,H,Y)}}),ga.apply(this,arguments)}class cu{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let jl,Qc;function Xh(){return(Xh=(0,O.Z)(function*(x,T,A,H,Y){if(Y&&Y.global)x("event",A,H);else{const J=yield T;x("event",A,Object.assign(Object.assign({},H),{send_to:J}))}})).apply(this,arguments)}function Xa(){return(Xa=(0,O.Z)(function*(){if(!(0,le.hl)())return Wn.warn(Ti.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(x){return Wn.warn(Ti.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function hs(){return hs=(0,O.Z)(function*(x,T,A,H,Y,J,ge){var tt;const We=function Bn(x){return ou.apply(this,arguments)}(x);We.then(Zn=>{A[Zn.measurementId]=Zn.appId,x.options.measurementId&&Zn.measurementId!==x.options.measurementId&&Wn.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zn=>Wn.error(Zn)),T.push(We);const ht=function pp(){return Xa.apply(this,arguments)}().then(Zn=>{if(Zn)return H.getId()}),[Lt,Ft]=yield Promise.all([We,ht]);(function su(x){const T=window.document.getElementsByTagName("script");for(const A of Object.values(T))if(A.src&&A.src.includes(zc)&&A.src.includes(x))return A;return null})(J)||function Zh(x,T){const A=function Gc(x,T){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(x,T)),A}("firebase-js-sdk-policy",{createScriptURL:$c}),H=document.createElement("script"),Y=`${zc}?l=${x}&id=${T}`;H.src=A?A?.createScriptURL(Y):Y,H.async=!0,document.head.appendChild(H)}(J,Lt.measurementId),Qc&&(Y("consent","default",Qc),function va(x){Qc=x}(void 0)),Y("js",new Date);const ur=null!==(tt=ge?.config)&&void 0!==tt?tt:{};return ur[Wh]="firebase",ur.update=!0,null!=Ft&&(ur[qh]=Ft),Y("config",Lt.measurementId,ur),jl&&(Y("set",jl),function hu(x){jl=x}(void 0)),Lt.measurementId}),hs.apply(this,arguments)}class mt{constructor(T){this.app=T}_delete(){return delete Kr[this.app.options.appId],Promise.resolve()}}let Kr={},Jh=[];const ya={};let Di,Rs,Yr="dataLayer",go=!1;function gp(x,T,A){!function Qr(){const x=[];if((0,le.ru)()&&x.push("This is a browser extension environment."),(0,le.zI)()||x.push("Cookies are not available."),x.length>0){const T=x.map((H,Y)=>`(${Y+1}) ${H}`).join(" "),A=Ti.create("invalid-analytics-context",{errorInfo:T});Wn.warn(A.message)}}();const H=x.options.appId;if(!H)throw Ti.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Ti.create("no-api-key");Wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Kr[H])throw Ti.create("already-exists",{id:H});if(!go){!function Hl(x){let T=[];Array.isArray(window[x])?T=window[x]:window[x]=T}(Yr);const{wrappedGtag:J,gtagCore:ge}=function Zc(x,T,A,H,Y){let J=function(...ge){window[H].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(J=window[Y]),window[Y]=function Wc(x,T,A,H){function J(){return J=(0,O.Z)(function*(ge,...tt){try{if("event"===ge){const[We,ht]=tt;yield function $o(x,T,A,H,Y){return Qa.apply(this,arguments)}(x,T,A,We,ht)}else if("config"===ge){const[We,ht]=tt;yield function qc(x,T,A,H,Y,J){return zo.apply(this,arguments)}(x,T,A,H,We,ht)}else if("consent"===ge){const[We]=tt;x("consent","update",We)}else if("get"===ge){const[We,ht,Lt]=tt;x("get",We,ht,Lt)}else if("set"===ge){const[We]=tt;x("set",We)}else x(ge,...tt)}catch(We){Wn.error(We)}}),J.apply(this,arguments)}return function Y(ge){return J.apply(this,arguments)}}(J,x,T,A),{gtagCore:J,wrappedGtag:window[Y]}}(Kr,Jh,ya,Yr,"gtag");Rs=J,Di=ge,go=!0}return Kr[H]=function P_(x,T,A,H,Y,J,ge){return hs.apply(this,arguments)}(x,Jh,ya,T,Di,Yr,A),new mt(x)}function ef(){return fs.apply(this,arguments)}function fs(){return(fs=(0,O.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const Xt="@firebase/analytics";!function Fr(){(0,ee._registerComponent)(new ue.wA(ru,(T,{options:A})=>gp(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,ee._registerComponent)(new ue.wA("analytics-internal",function x(T){try{const A=T.getProvider(ru).getImmediate();return{logEvent:(H,Y,J)=>function xa(x,T,A,H){x=(0,le.m9)(x),function _a(x,T,A,H,Y){return Xh.apply(this,arguments)}(Rs,Kr[x.app.options.appId],T,A,H).catch(Y=>Wn.error(Y))}(A,H,Y,J)}}catch(A){throw Ti.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,ee.registerVersion)(Xt,"0.10.0"),(0,ee.registerVersion)(Xt,"0.10.0","esm2017")}();var ms=L(1954),Si=L(2631);const tf=new class el extends Si.v{}(class oi extends ms.o{constructor(T,A){super(T,A),this.scheduler=T,this.work=A}schedule(T,A=0){return A>0?super.schedule(T,A):(this.delay=A,this.state=T,this.scheduler.flush(this),this)}execute(T,A){return A>0||this.closed?super.execute(T,A):this._execute(T,A)}requestAsyncId(T,A,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(T,A,H):(T.flush(this),0)}});var eo=L(6321),Xr=L(9397),Rn=L(3093),xr=L(5137);const mu=new d.GfV("7.6.1"),ps="__angularfire_symbol__analyticsIsSupportedValue",to="__angularfire_symbol__analyticsIsSupported",pu="__angularfire_symbol__remoteConfigIsSupportedValue",tl="__angularfire_symbol__remoteConfigIsSupported",nl="__angularfire_symbol__messagingIsSupportedValue",Gt="__angularfire_symbol__messagingIsSupported";function $l(x,T,A){if(T){if(1===T.length)return T[0];const J=T.filter(ge=>ge.app===A);if(1===J.length)return J[0]}return A.container.getProvider(x).getImmediate({optional:!0})}globalThis[to]||(globalThis[to]=ef().then(x=>globalThis[ps]=x).catch(()=>globalThis[ps]=!1)),globalThis[Gt]||(globalThis[Gt]=ke().then(x=>globalThis[nl]=x).catch(()=>globalThis[nl]=!1)),globalThis[tl]||(globalThis[tl]=$a().then(x=>globalThis[pu]=x).catch(()=>globalThis[pu]=!1));const Os=(x,T)=>{const A=T?[T]:(0,$.C6)(),H=[];return A.forEach(Y=>{Y.container.getProvider(x).instances.forEach(ge=>{H.includes(ge)||H.push(ge)})}),H};function il(){}class gi{constructor(T,A=tf){this.zone=T,this.delegate=A}now(){return this.delegate.now()}schedule(T,A,H){const Y=this.zone;return this.delegate.schedule(function(ge){Y.runGuarded(()=>{T.apply(this,[ge])})},A,H)}}class vo{constructor(T){this.zone=T,this.task=null}call(T,A){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",il,{},il,il)),A.pipe((0,Xr.b)({next:H,complete:H,error:H})).subscribe(T).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Gl=(()=>{class x{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new gi(Zone.current)),this.insideAngular=A.run(()=>new gi(Zone.current,eo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(A){return new(A||x)(d.LFG(d.R0b))},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Ps(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function gu(x){return x.pipe((0,Rn.Q)(Ps().outsideAngular))}function Ca(x){return Ps(),function nf(x){return function(A){return(A=A.lift(new vo(x.ngZone))).pipe((0,xr.R)(x.outsideAngular),(0,Rn.Q)(x.insideAngular))}}(Ps())(x)}},6878:(pt,De,L)=>{L.d(De,{$:()=>jd,A:()=>Z,D:()=>Re,I:()=>Ah,J:()=>Dl,L:()=>At,N:()=>pr,P:()=>P_,Q:()=>Jm,R:()=>du,U:()=>ha,V:()=>$a,W:()=>Ga,X:()=>Wr,Y:()=>lr,Z:()=>Fd,_:()=>kh,a:()=>Ii,a0:()=>kc,a1:()=>np,a2:()=>M_,a3:()=>ip,a4:()=>Rc,a5:()=>Nc,a6:()=>Zr,a7:()=>Oc,a8:()=>ma,a9:()=>sp,aA:()=>ie,aB:()=>pu,aC:()=>wi,aD:()=>rn,aE:()=>Rn,aF:()=>Qi,aG:()=>wa,aH:()=>fi,aL:()=>br,aO:()=>Nl,aa:()=>Lh,ab:()=>Vh,ac:()=>qd,ad:()=>k_,ae:()=>op,af:()=>Fc,ai:()=>ap,aj:()=>Bh,ak:()=>Qd,an:()=>A_,ao:()=>Uh,aq:()=>kt,ar:()=>Uc,as:()=>qe,at:()=>bt,au:()=>we,av:()=>re,aw:()=>ur,ax:()=>Ea,ay:()=>_t,az:()=>Te,b:()=>iu,c:()=>Rs,d:()=>gp,e:()=>F_,f:()=>Xt,g:()=>el,h:()=>ms,i:()=>Kh,j:()=>eo,k:()=>Er,l:()=>hn,m:()=>yu,p:()=>Me,r:()=>dr,s:()=>wr,u:()=>pp});var d=L(5861),$=L(9058),O=L(534),ee=L(7582),le=L(7879),ue=L(4537);const Me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Re=function se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Qe=function Ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Oe=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new le.Yd("@firebase/auth");function ft(b,...g){Fe.logLevel<=le.in.ERROR&&Fe.error(`Auth (${O.SDK_VERSION}): ${b}`,...g)}function re(b,...g){throw Pe(b,...g)}function Te(b,...g){return Pe(b,...g)}function ce(b,g,_){const C=Object.assign(Object.assign({},Qe()),{[g]:_});return new $.LL("auth","Firebase",C).create(g,{appName:b.name})}function ye(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&re(b,"argument-error"),ce(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pe(b,...g){if("string"!=typeof b){const _=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return Oe.create(b,...g)}function ie(b,g,..._){if(!b)throw Pe(g,..._)}function st(b){const g="INTERNAL ASSERTION FAILED: "+b;throw ft(g),new Error(g)}function qe(b,g){b||st(g)}function on(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ci(){return"http:"===fr()||"https:"===fr()}function fr(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Gr{constructor(g,_){this.shortDelay=g,this.longDelay=_,qe(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function qs(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ci()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fo(b,g){qe(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class fe{static initialize(g,_,C){this.fetchImpl=g,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void st("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void st("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void st("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ce=new Gr(3e4,6e4);function he(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function Se(b,g,_,C){return je.apply(this,arguments)}function je(){return(je=(0,d.Z)(function*(b,g,_,C,M={}){return it(b,M,(0,d.Z)(function*(){let P={},X={};C&&("GET"===g?X=C:P={body:JSON.stringify(C)});const pe=(0,$.xO)(Object.assign({key:b.config.apiKey},X)).slice(1),Ge=yield b._getAdditionalHeaders();return Ge["Content-Type"]="application/json",b.languageCode&&(Ge["X-Firebase-Locale"]=b.languageCode),fe.fetch()(dn(b,b.config.apiHost,_,pe),Object.assign({method:g,headers:Ge,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function it(b,g,_){return ut.apply(this,arguments)}function ut(){return(ut=(0,d.Z)(function*(b,g,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},_e),g);try{const M=new jt(b),P=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const X=yield P.json();if("needConfirmation"in X)throw xn(b,"account-exists-with-different-credential",X);if(P.ok&&!("errorMessage"in X))return X;{const pe=P.ok?X.errorMessage:X.error.message,[Ge,rt]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ge)throw xn(b,"credential-already-in-use",X);if("EMAIL_EXISTS"===Ge)throw xn(b,"email-already-in-use",X);if("USER_DISABLED"===Ge)throw xn(b,"user-disabled",X);const Et=C[Ge]||Ge.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw ce(b,Et,rt);re(b,Et)}}catch(M){if(M instanceof $.ZR)throw M;re(b,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function yn(b,g,_,C){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,d.Z)(function*(b,g,_,C,M={}){const P=yield Se(b,g,_,C,M);return"mfaPendingCredential"in P&&re(b,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function dn(b,g,_,C){const M=`${g}${_}?${C}`;return b.config.emulator?fo(b.config,M):`${b.config.apiScheme}://${M}`}class jt{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Te(this.auth,"network-request-failed")),Ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xn(b,g,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const M=Te(b,g,C);return M.customData._tokenResponse=_,M}function jn(){return(jn=(0,d.Z)(function*(b,g){return Se(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function di(){return(di=(0,d.Z)(function*(b,g){return Se(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function os(){return(os=(0,d.Z)(function*(b,g){return Se(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Gi(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Ws(){return(Ws=(0,d.Z)(function*(b,g=!1){const _=(0,$.m9)(b),C=yield _.getIdToken(g),M=gt(C);ie(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const P="object"==typeof M.firebase?M.firebase:void 0,X=P?.sign_in_provider;return{claims:M,token:C,authTime:Gi(Je(M.auth_time)),issuedAtTime:Gi(Je(M.iat)),expirationTime:Gi(Je(M.exp)),signInProvider:X||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function Je(b){return 1e3*Number(b)}function gt(b){const[g,_,C]=b.split(".");if(void 0===g||void 0===_||void 0===C)return ft("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,$.tV)(_);return M?JSON.parse(M):(ft("Failed to decode base64 JWT payload"),null)}catch(M){return ft("Caught error parsing JWT payload as JSON",M?.toString()),null}}function nn(b,g){return bi.apply(this,arguments)}function bi(){return(bi=(0,d.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(C){throw C instanceof $.ZR&&function kr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}class Qt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,d.Z)(function*(){yield _.iteration()}),C)}iteration(){var g=this;return(0,d.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class ui{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gi(this.lastLoginAt),this.creationTime=Gi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ds(b){return En.apply(this,arguments)}function En(){return En=(0,d.Z)(function*(b){var g;const _=b.auth,C=yield b.getIdToken(),M=yield nn(b,function qr(b,g){return os.apply(this,arguments)}(_,{idToken:C}));ie(M?.users.length,_,"internal-error");const P=M.users[0];b._notifyReloadListener(P);const X=null!==(g=P.providerUserInfo)&&void 0!==g&&g.length?function as(b){return b.map(g=>{var{providerId:_}=g,C=(0,ee._T)(g,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(P.providerUserInfo):[],pe=function zn(b,g){return[...b.filter(C=>!g.some(M=>M.providerId===C.providerId)),...g]}(b.providerData,X),Et=!!b.isAnonymous&&!(b.email&&P.passwordHash||pe?.length),tn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:pe,metadata:new ui(P.createdAt,P.lastLoginAt),isAnonymous:Et};Object.assign(b,tn)}),En.apply(this,arguments)}function Bt(){return(Bt=(0,d.Z)(function*(b){const g=(0,$.m9)(b);yield Ds(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function qi(){return(qi=(0,d.Z)(function*(b,g){const _=yield it(b,{},(0,d.Z)(function*(){const C=(0,$.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:P}=b.config,X=dn(b,M,"/v1/token",`key=${P}`),pe=yield b._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",fe.fetch()(X,{method:"POST",headers:pe,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class ei{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ie(g.idToken,"internal-error"),ie(typeof g.idToken<"u","internal-error"),ie(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function wt(b){const g=gt(b);return ie(g,"internal-error"),ie(typeof g.exp<"u","internal-error"),ie(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var C=this;return(0,d.Z)(function*(){return ie(!C.accessToken||C.refreshToken,g,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var C=this;return(0,d.Z)(function*(){const{accessToken:M,refreshToken:P,expiresIn:X}=yield function Zs(b,g){return qi.apply(this,arguments)}(g,_);C.updateTokensAndExpiration(M,P,Number(X))})()}updateTokensAndExpiration(g,_,C){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,_){const{refreshToken:C,accessToken:M,expirationTime:P}=_,X=new ei;return C&&(ie("string"==typeof C,"internal-error",{appName:g}),X.refreshToken=C),M&&(ie("string"==typeof M,"internal-error",{appName:g}),X.accessToken=M),P&&(ie("number"==typeof P,"internal-error",{appName:g}),X.expirationTime=P),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ei,this.toJSON())}_performRefresh(){return st("not implemented")}}function Pn(b,g){ie("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class hi{constructor(g){var{uid:_,auth:C,stsTokenManager:M}=g,P=(0,ee._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new ui(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,d.Z)(function*(){const C=yield nn(_,_.stsTokenManager.getToken(_.auth,g));return ie(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(g){return function mr(b){return Ws.apply(this,arguments)}(this,g)}reload(){return function sr(b){return Bt.apply(this,arguments)}(this)}_assign(g){this!==g&&(ie(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new hi(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var C=this;return(0,d.Z)(function*(){let M=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),M=!0),_&&(yield Ds(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,d.Z)(function*(){const _=yield g.getIdToken();return yield nn(g,function Yn(b,g){return jn.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var C,M,P,X,pe,Ge,rt,Et;const tn=null!==(C=_.displayName)&&void 0!==C?C:void 0,Lr=null!==(M=_.email)&&void 0!==M?M:void 0,Ta=null!==(P=_.phoneNumber)&&void 0!==P?P:void 0,wp=null!==(X=_.photoURL)&&void 0!==X?X:void 0,U_=null!==(pe=_.tenantId)&&void 0!==pe?pe:void 0,xp=null!==(Ge=_._redirectEventId)&&void 0!==Ge?Ge:void 0,bu=null!==(rt=_.createdAt)&&void 0!==rt?rt:void 0,bo=null!==(Et=_.lastLoginAt)&&void 0!==Et?Et:void 0,{uid:sl,emailVerified:Qo,isAnonymous:td,providerData:ol,stsTokenManager:wu}=_;ie(sl&&wu,g,"internal-error");const nd=ei.fromJSON(this.name,wu);ie("string"==typeof sl,g,"internal-error"),Pn(tn,g.name),Pn(Lr,g.name),ie("boolean"==typeof Qo,g,"internal-error"),ie("boolean"==typeof td,g,"internal-error"),Pn(Ta,g.name),Pn(wp,g.name),Pn(U_,g.name),Pn(xp,g.name),Pn(bu,g.name),Pn(bo,g.name);const af=new hi({uid:sl,auth:g,email:Lr,emailVerified:Qo,displayName:tn,isAnonymous:td,photoURL:wp,phoneNumber:Ta,tenantId:U_,stsTokenManager:nd,createdAt:bu,lastLoginAt:bo});return ol&&Array.isArray(ol)&&(af.providerData=ol.map(H_=>Object.assign({},H_))),xp&&(af._redirectEventId=xp),af}static _fromIdTokenResponse(g,_,C=!1){return(0,d.Z)(function*(){const M=new ei;M.updateFromServerResponse(_);const P=new hi({uid:_.localId,auth:g,stsTokenManager:M,isAnonymous:C});return yield Ds(P),P})()}}const $n=new Map;function wi(b){qe(b instanceof Function,"Expected a class definition");let g=$n.get(b);return g?(qe(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,$n.set(b,g),g)}const pr=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(_,C){var M=this;return(0,d.Z)(function*(){M.storage[_]=C})()}_get(_){var C=this;return(0,d.Z)(function*(){const M=C.storage[_];return void 0===M?null:M})()}_remove(_){var C=this;return(0,d.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function rn(b,g,_){return`firebase:${b}:${g}:${_}`}class W{constructor(g,_,C){this.persistence=g,this.auth=_,this.userKey=C;const{config:M,name:P}=this.auth;this.fullUserKey=rn(this.userKey,M.apiKey,P),this.fullPersistenceKey=rn("persistence",M.apiKey,P),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,d.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?hi._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,d.Z)(function*(){if(_.persistence===g)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,C="authUser"){return(0,d.Z)(function*(){if(!_.length)return new W(wi(pr),g,C);const M=(yield Promise.all(_.map(function(){var rt=(0,d.Z)(function*(Et){if(yield Et._isAvailable())return Et});return function(Et){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let P=M[0]||wi(pr);const X=rn(C,g.config.apiKey,g.name);let pe=null;for(const rt of _)try{const Et=yield rt._get(X);if(Et){const tn=hi._fromJSON(g,Et);rt!==P&&(pe=tn),P=rt;break}}catch{}const Ge=M.filter(rt=>rt._shouldAllowMigration);return P._shouldAllowMigration&&Ge.length?(P=Ge[0],pe&&(yield P._set(X,pe.toJSON())),yield Promise.all(_.map(function(){var rt=(0,d.Z)(function*(Et){if(Et!==P)try{yield Et._remove(X)}catch{}});return function(Et){return rt.apply(this,arguments)}}())),new W(P,g,C)):new W(P,g,C)})()}}function G(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(te(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(F(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ye(g))return"Blackberry";if(xt(g))return"Webos";if(V(g))return"Safari";if((g.includes("chrome/")||N(g))&&!g.includes("edge/"))return"Chrome";if(we(g))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function F(b=(0,$.z$)()){return/firefox\//i.test(b)}function V(b=(0,$.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function N(b=(0,$.z$)()){return/crios\//i.test(b)}function te(b=(0,$.z$)()){return/iemobile/i.test(b)}function we(b=(0,$.z$)()){return/android/i.test(b)}function Ye(b=(0,$.z$)()){return/blackberry/i.test(b)}function xt(b=(0,$.z$)()){return/webos/i.test(b)}function bt(b=(0,$.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function _t(b=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function zt(b=(0,$.z$)()){return bt(b)||we(b)||xt(b)||Ye(b)||/windows phone/i.test(b)||te(b)}function Wi(b,g=[]){let _;switch(b){case"Browser":_=G((0,$.z$)());break;case"Worker":_=`${G((0,$.z$)())}-${b}`;break;default:_=b}const C=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${O.SDK_VERSION}/${C}`}function ae(){return(ae=(0,d.Z)(function*(b){return(yield Se(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Be(b,g){return vt.apply(this,arguments)}function vt(){return(vt=(0,d.Z)(function*(b,g){return Se(b,"GET","/v2/recaptchaConfig",he(b,g))})).apply(this,arguments)}function Pt(b){return void 0!==b&&void 0!==b.getResponse}function Kt(b){return void 0!==b&&void 0!==b.enterprise}class ln{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function ti(b){return new Promise((g,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=g,C.onerror=M=>{const P=Te("internal-error");P.customData=M,_(P)},C.type="text/javascript",C.charset="UTF-8",function Fi(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(C)})}function Oo(b){return`__${b}${Math.floor(1e6*Math.random())}`}class Rr{constructor(g){this.type="recaptcha-enterprise",this.auth=fi(g)}verify(g="verify",_=!1){var C=this;return(0,d.Z)(function*(){function P(){return P=(0,d.Z)(function*(pe){if(!_){if(null==pe.tenantId&&null!=pe._agentRecaptchaConfig)return pe._agentRecaptchaConfig.siteKey;if(null!=pe.tenantId&&void 0!==pe._tenantRecaptchaConfigs[pe.tenantId])return pe._tenantRecaptchaConfigs[pe.tenantId].siteKey}return new Promise(function(){var Ge=(0,d.Z)(function*(rt,Et){Be(pe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(tn=>{if(void 0!==tn.recaptchaKey){const Lr=new ln(tn);return null==pe.tenantId?pe._agentRecaptchaConfig=Lr:pe._tenantRecaptchaConfigs[pe.tenantId]=Lr,rt(Lr.siteKey)}Et(new Error("recaptcha Enterprise site key undefined"))}).catch(tn=>{Et(tn)})});return function(rt,Et){return Ge.apply(this,arguments)}}())}),P.apply(this,arguments)}function X(pe,Ge,rt){const Et=window.grecaptcha;Kt(Et)?Et.enterprise.ready(()=>{Et.enterprise.execute(pe,{action:g}).then(tn=>{Ge(tn)}).catch(()=>{Ge("NO_RECAPTCHA")})}):rt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((pe,Ge)=>{(function M(pe){return P.apply(this,arguments)})(C.auth).then(rt=>{if(!_&&Kt(window.grecaptcha))X(rt,pe,Ge);else{if(typeof window>"u")return void Ge(new Error("RecaptchaVerifier is only supported in browser"));ti("https://www.google.com/recaptcha/enterprise.js?render="+rt).then(()=>{X(rt,pe,Ge)}).catch(Et=>{Ge(Et)})}}).catch(rt=>{Ge(rt)})})})()}}function Po(b,g,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,d.Z)(function*(b,g,_,C=!1){const M=new Rr(b);let P;try{P=yield M.verify(_)}catch{P=yield M.verify(_,!0)}const X=Object.assign({},g);return Object.assign(X,C?{captchaResp:P}:{captchaResponse:P}),Object.assign(X,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(X,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),X})).apply(this,arguments)}class Ym{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const C=P=>new Promise((X,pe)=>{try{X(g(P))}catch(Ge){pe(Ge)}});C.onAbort=_,this.queue.push(C);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,d.Z)(function*(){if(_.auth.currentUser===g)return;const C=[];try{for(const M of _.queue)yield M(g),M.onAbort&&C.push(M.onAbort)}catch(M){C.reverse();for(const P of C)try{P()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class Nd{constructor(g,_,C,M){this.app=g,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=C,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D_(this),this.idTokenSubscription=new D_(this),this.beforeStateQueue=new Ym(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(g,_){var C=this;return _&&(this._popupRedirectResolver=wi(_)),this._initializationPromise=this.queue((0,d.Z)(function*(){var M,P;if(!C._deleted&&(C.persistenceManager=yield W.create(C,g),!C._deleted)){if(null!==(M=C._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(P=C.currentUser)||void 0===P?void 0:P.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,d.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,d.Z)(function*(){var C;const M=yield _.assertedPersistence.getCurrentUser();let P=M,X=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const pe=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,Ge=P?._redirectEventId,rt=yield _.tryRedirectSignIn(g);(!pe||pe===Ge)&&rt?.user&&(P=rt.user,X=!0)}if(!P)return _.directlySetCurrentUser(null);if(!P._redirectEventId){if(X)try{yield _.beforeStateQueue.runMiddleware(P)}catch(pe){P=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(pe))}return P?_.reloadAndSetCurrentUserOrClear(P):_.directlySetCurrentUser(null)}return ie(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===P._redirectEventId?_.directlySetCurrentUser(P):_.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(g){var _=this;return(0,d.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,d.Z)(function*(){try{yield Ds(g)}catch(C){if("auth/network-request-failed"!==C?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function On(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,d.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,d.Z)(function*(){const C=g?(0,$.m9)(g):null;return C&&ie(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(g,_=!1){var C=this;return(0,d.Z)(function*(){if(!C._deleted)return g&&ie(C.tenantId===g.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(g)),C.queue((0,d.Z)(function*(){yield C.directlySetCurrentUser(g),C.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,d.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,d.Z)(function*(){yield _.assertedPersistence.setPersistence(wi(g))}))}initializeRecaptchaConfig(){var g=this;return(0,d.Z)(function*(){const _=yield Be(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new ln(_);null==g.tenantId?g._agentRecaptchaConfig=C:g._tenantRecaptchaConfigs[g.tenantId]=C,C.emailPasswordEnabled&&new Rr(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new $.LL("auth","Firebase",g())}onAuthStateChanged(g,_,C){return this.registerStateListener(this.authStateSubscription,g,_,C)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,C){return this.registerStateListener(this.idTokenSubscription,g,_,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var C=this;return(0,d.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(_);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,d.Z)(function*(){if(!_.redirectPersistenceManager){const C=g&&wi(g)||_._popupRedirectResolver;ie(C,_,"argument-error"),_.redirectPersistenceManager=yield W.create(_,[wi(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,d.Z)(function*(){var C,M;return _._isInitialized&&(yield _.queue((0,d.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===g?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,d.Z)(function*(){if(g===_.currentUser)return _.queue((0,d.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,C,M){if(this._deleted)return()=>{};const P="function"==typeof _?_:_.next.bind(_),X=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(X,this,"internal-error"),X.then(()=>P(this.currentUser)),"function"==typeof _?g.addObserver(_,C,M):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,d.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Wi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,d.Z)(function*(){var _;const C={"X-Client-Version":g.clientVersion};g.app.options.appId&&(C["X-Firebase-gmpid"]=g.app.options.appId);const M=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();M&&(C["X-Firebase-Client"]=M);const P=yield g._getAppCheckToken();return P&&(C["X-Firebase-AppCheck"]=P),C})()}_getAppCheckToken(){var g=this;return(0,d.Z)(function*(){var _;const C=yield null===(_=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return C?.error&&function Ct(b,...g){Fe.logLevel<=le.in.WARN&&Fe.warn(`Auth (${O.SDK_VERSION}): ${b}`,...g)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function fi(b){return(0,$.m9)(b)}class D_{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,$.ne)(_=>this.observer=_)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ah(b,g,_){const C=fi(b);ie(C._canInitEmulator,C,"emulator-config-failed"),ie(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const M=!!_?.disableWarnings,P=Ec(g),{host:X,port:pe}=function la(b){const g=Ec(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const P=M[1];return{host:P,port:Cc(C.substr(P.length+1))}}{const[P,X]=C.split(":");return{host:P,port:Cc(X)}}}(g);C.config.emulator={url:`${P}//${X}${null===pe?"":`:${pe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:X,port:pe,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Qm(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Ec(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Cc(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class Dl{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return st("not implemented")}_getIdTokenResponse(g){return st("not implemented")}_linkToIdToken(g,_){return st("not implemented")}_getReauthenticationResolver(g){return st("not implemented")}}function Sl(b,g){return Od.apply(this,arguments)}function Od(){return(Od=(0,d.Z)(function*(b,g){return Se(b,"POST","/v1/accounts:resetPassword",he(b,g))})).apply(this,arguments)}function Al(b,g){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,d.Z)(function*(b,g){return Se(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function $t(){return($t=(0,d.Z)(function*(b,g){return Se(b,"POST","/v1/accounts:update",he(b,g))})).apply(this,arguments)}function Li(b,g){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,d.Z)(function*(b,g){return yn(b,"POST","/v1/accounts:signInWithPassword",he(b,g))})).apply(this,arguments)}function mo(b,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,d.Z)(function*(b,g){return Se(b,"POST","/v1/accounts:sendOobCode",he(b,g))})).apply(this,arguments)}function Ml(){return(Ml=(0,d.Z)(function*(b,g){return mo(b,g)})).apply(this,arguments)}function ja(b,g){return kl.apply(this,arguments)}function kl(){return(kl=(0,d.Z)(function*(b,g){return mo(b,g)})).apply(this,arguments)}function Mh(b,g){return mi.apply(this,arguments)}function mi(){return(mi=(0,d.Z)(function*(b,g){return mo(b,g)})).apply(this,arguments)}function Ut(){return(Ut=(0,d.Z)(function*(b,g){return mo(b,g)})).apply(this,arguments)}function _r(){return(_r=(0,d.Z)(function*(b,g){return yn(b,"POST","/v1/accounts:signInWithEmailLink",he(b,g))})).apply(this,arguments)}function Zi(){return(Zi=(0,d.Z)(function*(b,g){return yn(b,"POST","/v1/accounts:signInWithEmailLink",he(b,g))})).apply(this,arguments)}class po extends Dl{constructor(g,_,C,M=null){super("password",C),this._email=g,this._password=_,this._tenantId=M}static _fromEmailAndPassword(g,_){return new po(g,_,"password")}static _fromEmailAndCode(g,_,C=null){return new po(g,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,d.Z)(function*(){var C;switch(_.signInMethod){case"password":const M={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=g._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const P=yield Po(g,M,"signInWithPassword");return Li(g,P)}return Li(g,M).catch(function(){var P=(0,d.Z)(function*(X){if("auth/missing-recaptcha-token"===X.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const pe=yield Po(g,M,"signInWithPassword");return Li(g,pe)}return Promise.reject(X)});return function(X){return P.apply(this,arguments)}}());case"emailLink":return function Qn(b,g){return _r.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:re(g,"internal-error")}})()}_linkToIdToken(g,_){var C=this;return(0,d.Z)(function*(){switch(C.signInMethod){case"password":return Al(g,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Ic(b,g){return Zi.apply(this,arguments)}(g,{idToken:_,email:C._email,oobCode:C._password});default:re(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Mn(b,g){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,d.Z)(function*(b,g){return yn(b,"POST","/v1/accounts:signInWithIdp",he(b,g))})).apply(this,arguments)}class At extends Dl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new At(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):re("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:M}=_,P=(0,ee._T)(_,["providerId","signInMethod"]);if(!C||!M)return null;const X=new At(C,M);return X.idToken=P.idToken||void 0,X.accessToken=P.accessToken||void 0,X.secret=P.secret,X.nonce=P.nonce,X.pendingToken=P.pendingToken||null,X}_getIdTokenResponse(g){return Mn(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,Mn(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Mn(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,$.xO)(_)}return g}}function Tc(){return(Tc=(0,d.Z)(function*(b,g){return Se(b,"POST","/v1/accounts:sendVerificationCode",he(b,g))})).apply(this,arguments)}function qn(){return(qn=(0,d.Z)(function*(b,g){return yn(b,"POST","/v1/accounts:signInWithPhoneNumber",he(b,g))})).apply(this,arguments)}function da(){return(da=(0,d.Z)(function*(b,g){const _=yield yn(b,"POST","/v1/accounts:signInWithPhoneNumber",he(b,g));if(_.temporaryProof)throw xn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const vr={USER_NOT_FOUND:"user-not-found"};function Sc(){return(Sc=(0,d.Z)(function*(b,g){return yn(b,"POST","/v1/accounts:signInWithPhoneNumber",he(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),vr)})).apply(this,arguments)}class Ki extends Dl{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Ki({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Ki({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Lo(b,g){return qn.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Dc(b,g){return da.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function za(b,g){return Sc.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:C,verificationCode:M}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:C,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:P}=g;return C||_||M||P?new Ki({verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:P}):null}}class As{constructor(g){var _,C,M,P,X,pe;const Ge=(0,$.zd)((0,$.pd)(g)),rt=null!==(_=Ge.apiKey)&&void 0!==_?_:null,Et=null!==(C=Ge.oobCode)&&void 0!==C?C:null,tn=function yr(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ge.mode)&&void 0!==M?M:null);ie(rt&&Et&&tn,"argument-error"),this.apiKey=rt,this.operation=tn,this.code=Et,this.continueUrl=null!==(P=Ge.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(X=Ge.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(pe=Ge.tenantId)&&void 0!==pe?pe:null}static parseLink(g){const _=function Ac(b){const g=(0,$.zd)((0,$.pd)(b)).link,_=g?(0,$.zd)((0,$.pd)(g)).deep_link_id:null,C=(0,$.zd)((0,$.pd)(b)).deep_link_id;return(C?(0,$.zd)((0,$.pd)(C)).link:null)||C||_||g||b}(g);try{return new As(_)}catch{return null}}}let Jm=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return po._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const M=As.parseLink(C);return ie(M,"argument-error"),po._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ks{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ua extends Ks{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Wr extends ua{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return ie("providerId"in _&&"signInMethod"in _,"argument-error"),At._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ie(g.idToken||g.accessToken,"argument-error"),At._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Wr.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Wr.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:P,nonce:X,providerId:pe}=g;if(!C&&!M&&!_&&!P||!pe)return null;try{return new Wr(pe)._credential({idToken:_,accessToken:C,nonce:X,pendingToken:P})}catch{return null}}}let ha=(()=>{class b extends ua{constructor(){super("facebook.com")}static credential(_){return At._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),$a=(()=>{class b extends ua{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return At._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:M}=_;if(!C&&!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Ga=(()=>{class b extends ua{constructor(){super("github.com")}static credential(_){return At._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Nl extends Dl{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Mn(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,Mn(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Mn(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:M,pendingToken:P}=_;return C&&M&&P&&C===M?new Nl(C,P):null}static _create(g,_){return new Nl(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class lr extends Ks{constructor(g){ie(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return lr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return lr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Nl.fromJSON(g);return ie(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:C}=g;if(!_||!C)return null;try{return Nl._create(C,_)}catch{return null}}}let Fd=(()=>{class b extends ua{constructor(){super("twitter.com")}static credential(_,C){return At._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=_;if(!C||!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Ms(b,g){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,d.Z)(function*(b,g){return yn(b,"POST","/v1/accounts:signUp",he(b,g))})).apply(this,arguments)}class Fn{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,C,M=!1){return(0,d.Z)(function*(){const P=yield hi._fromIdTokenResponse(g,C,M),X=qa(C);return new Fn({user:P,providerId:X,_tokenResponse:C,operationType:_})})()}static _forOperation(g,_,C){return(0,d.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const M=qa(C);return new Fn({user:g,providerId:M,_tokenResponse:C,operationType:_})})()}}function qa(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function kh(b){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,d.Z)(function*(b){var g;const _=fi(b);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new Fn({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield Ms(_,{returnSecureToken:!0}),M=yield Fn._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Vd extends $.ZR{constructor(g,_,C,M){var P;super(_.code,_.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,Vd.prototype),this.customData={appName:g.name,tenantId:null!==(P=g.tenantId)&&void 0!==P?P:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,_,C,M){return new Vd(g,_,C,M)}}function Bd(b,g,_,C){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Vd._fromErrorAndOperation(b,P,g,C):P})}function ep(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function A_(b,g){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,d.Z)(function*(b,g){const _=(0,$.m9)(b);yield Hd(!0,_,g);const{providerUserInfo:C}=yield function bn(b,g){return di.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),M=ep(C||[]);return _.providerData=_.providerData.filter(P=>M.has(P.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Rh.apply(this,arguments)}function Ys(b,g){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,d.Z)(function*(b,g,_=!1){const C=yield nn(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return Fn._forOperation(b,"link",C)})).apply(this,arguments)}function Hd(b,g,_){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,d.Z)(function*(b,g,_){yield Ds(g);const M=!1===b?"provider-already-linked":"no-such-provider";ie(ep(g.providerData).has(_)===b,g.auth,M)})).apply(this,arguments)}function tp(b,g){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,d.Z)(function*(b,g,_=!1){const{auth:C}=b,M="reauthenticate";try{const P=yield nn(b,Bd(C,M,g,b),_);ie(P.idToken,C,"internal-error");const X=gt(P.idToken);ie(X,C,"internal-error");const{sub:pe}=X;return ie(b.uid===pe,C,"user-mismatch"),Fn._forOperation(b,M,P)}catch(P){throw"auth/user-not-found"===P?.code&&re(C,"user-mismatch"),P}})).apply(this,arguments)}function Oh(b,g){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,d.Z)(function*(b,g,_=!1){const C="signIn",M=yield Bd(b,C,g),P=yield Fn._fromIdTokenResponse(b,C,M);return _||(yield b._updateCurrentUser(P.user)),P})).apply(this,arguments)}function jd(b,g){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,d.Z)(function*(b,g){return Oh(fi(b),g)})).apply(this,arguments)}function kc(b,g){return zd.apply(this,arguments)}function zd(){return(zd=(0,d.Z)(function*(b,g){const _=(0,$.m9)(b);return yield Hd(!1,_,g.providerId),Ys(_,g)})).apply(this,arguments)}function np(b,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,d.Z)(function*(b,g){return tp((0,$.m9)(b),g)})).apply(this,arguments)}function Bo(){return(Bo=(0,d.Z)(function*(b,g){return yn(b,"POST","/v1/accounts:signInWithCustomToken",he(b,g))})).apply(this,arguments)}function M_(b,g){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,d.Z)(function*(b,g){const _=fi(b),C=yield function Jb(b,g){return Bo.apply(this,arguments)}(_,{token:g,returnSecureToken:!0}),M=yield Fn._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(M.user),M}),Uo.apply(this,arguments)}class Or{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?$d._fromServerResponse(g,_):"totpInfo"in _?Ol._fromServerResponse(g,_):re(g,"internal-error")}}class $d extends Or{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new $d(_)}}class Ol extends Or{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new Ol(_)}}function Pl(b,g,_){var C;ie((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),ie(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ie(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(ie(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function ip(b,g,_){return rp.apply(this,arguments)}function rp(){return rp=(0,d.Z)(function*(b,g,_){var C;const M=fi(b),P={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=M._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const X=yield Po(M,P,"getOobCode",!0);_&&Pl(M,X,_),yield ja(M,X)}else _&&Pl(M,P,_),yield ja(M,P).catch(function(){var X=(0,d.Z)(function*(pe){if("auth/missing-recaptcha-token"!==pe.code)return Promise.reject(pe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ge=yield Po(M,P,"getOobCode",!0);_&&Pl(M,Ge,_),yield ja(M,Ge)}});return function(pe){return X.apply(this,arguments)}}())}),rp.apply(this,arguments)}function Rc(b,g,_){return ls.apply(this,arguments)}function ls(){return(ls=(0,d.Z)(function*(b,g,_){yield Sl((0,$.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Nc(b,g){return ii.apply(this,arguments)}function ii(){return ii=(0,d.Z)(function*(b,g){yield function Xm(b,g){return $t.apply(this,arguments)}((0,$.m9)(b),{oobCode:g})}),ii.apply(this,arguments)}function Zr(b,g){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,d.Z)(function*(b,g){const _=(0,$.m9)(b),C=yield Sl(_,{oobCode:g}),M=C.requestType;switch(ie(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(C.mfaInfo,_,"internal-error");default:ie(C.email,_,"internal-error")}let P=null;return C.mfaInfo&&(P=Or._fromServerResponse(fi(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:P},operation:M}})).apply(this,arguments)}function Oc(b,g){return fa.apply(this,arguments)}function fa(){return(fa=(0,d.Z)(function*(b,g){const{data:_}=yield Zr((0,$.m9)(b),g);return _.email})).apply(this,arguments)}function ma(b,g,_){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,d.Z)(function*(b,g,_){var C;const M=fi(b),P={returnSecureToken:!0,email:g,password:_,clientType:"CLIENT_TYPE_WEB"};let X;if(null!==(C=M._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const rt=yield Po(M,P,"signUpPassword");X=Ms(M,rt)}else X=Ms(M,P).catch(function(){var rt=(0,d.Z)(function*(Et){if("auth/missing-recaptcha-token"===Et.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const tn=yield Po(M,P,"signUpPassword");return Ms(M,tn)}return Promise.reject(Et)});return function(Et){return rt.apply(this,arguments)}}());const pe=yield X.catch(rt=>Promise.reject(rt)),Ge=yield Fn._fromIdTokenResponse(M,"signIn",pe);return yield M._updateCurrentUser(Ge.user),Ge}),Pc.apply(this,arguments)}function sp(b,g,_){return jd((0,$.m9)(b),Jm.credential(g,_))}function Lh(b,g,_){return Ho.apply(this,arguments)}function Ho(){return Ho=(0,d.Z)(function*(b,g,_){var C;const M=fi(b),P={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function X(pe,Ge){ie(Ge.handleCodeInApp,M,"argument-error"),Ge&&Pl(M,pe,Ge)}if(null!==(C=M._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const pe=yield Po(M,P,"getOobCode",!0);X(pe,_),yield Mh(M,pe)}else X(P,_),yield Mh(M,P).catch(function(){var pe=(0,d.Z)(function*(Ge){if("auth/missing-recaptcha-token"!==Ge.code)return Promise.reject(Ge);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const rt=yield Po(M,P,"getOobCode",!0);X(rt,_),yield Mh(M,rt)}});return function(Ge){return pe.apply(this,arguments)}}())}),Ho.apply(this,arguments)}function Vh(b,g){const _=As.parseLink(g);return"EMAIL_SIGNIN"===_?.operation}function qd(b,g,_){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,d.Z)(function*(b,g,_){const C=(0,$.m9)(b),M=Jm.credentialWithLink(g,_||on());return ie(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),jd(C,M)})).apply(this,arguments)}function Wd(){return(Wd=(0,d.Z)(function*(b,g){return Se(b,"POST","/v1/accounts:createAuthUri",he(b,g))})).apply(this,arguments)}function k_(b,g){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,d.Z)(function*(b,g){const C={identifier:g,continueUri:Ci()?on():"http://localhost"},{signinMethods:M}=yield function e0(b,g){return Wd.apply(this,arguments)}((0,$.m9)(b),C);return M||[]}),Fl.apply(this,arguments)}function op(b,g){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,d.Z)(function*(b,g){const _=(0,$.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&Pl(_.auth,M,g);const{email:P}=yield function Pd(b,g){return Ml.apply(this,arguments)}(_.auth,M);P!==b.email&&(yield b.reload())}),Ll.apply(this,arguments)}function Fc(b,g,_){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,d.Z)(function*(b,g,_){const C=(0,$.m9)(b),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&Pl(C.auth,P,_);const{email:X}=yield function ot(b,g){return Ut.apply(this,arguments)}(C.auth,P);X!==b.email&&(yield b.reload())}),Wa.apply(this,arguments)}function Kd(){return(Kd=(0,d.Z)(function*(b,g){return Se(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ap(b,g){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,d.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const C=(0,$.m9)(b),P={idToken:yield C.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},X=yield nn(C,function Zd(b,g){return Kd.apply(this,arguments)}(C.auth,P));C.displayName=X.displayName||null,C.photoURL=X.photoUrl||null;const pe=C.providerData.find(({providerId:Ge})=>"password"===Ge);pe&&(pe.displayName=C.displayName,pe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(X)}),Yd.apply(this,arguments)}function Bh(b,g){return Xd((0,$.m9)(b),g,null)}function Qd(b,g){return Xd((0,$.m9)(b),null,g)}function Xd(b,g,_){return ks.apply(this,arguments)}function ks(){return(ks=(0,d.Z)(function*(b,g,_){const{auth:C}=b,P={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(P.email=g),_&&(P.password=_);const X=yield nn(b,Al(C,P));yield b._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class pa{constructor(g,_,C={}){this.isNewUser=g,this.providerId=_,this.profile=C}}class kn extends pa{constructor(g,_,C,M){super(g,_,C),this.username=M}}class Lc extends pa{constructor(g,_){super(g,"facebook.com",_)}}class Za extends kn{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class cr extends pa{constructor(g,_){super(g,"google.com",_)}}class Ka extends kn{constructor(g,_,C){super(g,"twitter.com",_,C)}}function Uh(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Jd(b){var g,_;if(!b)return null;const{providerId:C}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},P=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const X=null===(_=null===(g=gt(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(X)return new pa(P,"anonymous"!==X&&"custom"!==X?X:null)}if(!C)return null;switch(C){case"facebook.com":return new Lc(P,M);case"github.com":return new Za(P,M);case"google.com":return new cr(P,M);case"twitter.com":return new Ka(P,M,b.screenName||null);case"custom":case"anonymous":return new pa(P,null);default:return new pa(P,C,M)}}(_)}class ds{constructor(g,_,C){this.type=g,this.credential=_,this.auth=C}static _fromIdtoken(g,_){return new ds("enroll",g,_)}static _fromMfaPendingCredential(g){return new ds("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,C;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return ds._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(C=g.multiFactorSession)&&void 0!==C&&C.idToken)return ds._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Bc{constructor(g,_,C){this.session=g,this.hints=_,this.signInResolver=C}static _fromError(g,_){const C=fi(g),M=_.customData._serverResponse,P=(M.mfaInfo||[]).map(pe=>Or._fromServerResponse(C,pe));ie(M.mfaPendingCredential,C,"internal-error");const X=ds._fromMfaPendingCredential(M.mfaPendingCredential);return new Bc(X,P,function(){var pe=(0,d.Z)(function*(Ge){const rt=yield Ge._process(C,X);delete M.mfaInfo,delete M.mfaPendingCredential;const Et=Object.assign(Object.assign({},M),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(_.operationType){case"signIn":const tn=yield Fn._fromIdTokenResponse(C,_.operationType,Et);return yield C._updateCurrentUser(tn.user),tn;case"reauthenticate":return ie(_.user,C,"internal-error"),Fn._forOperation(_.user,_.operationType,Et);default:re(C,"internal-error")}});return function(Ge){return pe.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,d.Z)(function*(){return _.signInResolver(g)})()}}function kt(b,g){var _;const C=(0,$.m9)(b),M=g;return ie(g.customData.operationType,C,"argument-error"),ie(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),Bc._fromError(C,M)}class Vl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>Or._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new Vl(g)}getSession(){var g=this;return(0,d.Z)(function*(){return ds._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var C=this;return(0,d.Z)(function*(){const M=g,P=yield C.getSession(),X=yield nn(C.user,M._process(C.user.auth,P,_));return yield C.user._updateTokensIfNecessary(X),C.user.reload()})()}unenroll(g){var _=this;return(0,d.Z)(function*(){const C="string"==typeof g?g:g.uid,M=yield _.user.getIdToken();try{const P=yield nn(_.user,function cp(b,g){return Se(b,"POST","/v2/accounts/mfaEnrollment:withdraw",he(b,g))}(_.user.auth,{idToken:M,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:X})=>X!==C),yield _.user._updateTokensIfNecessary(P),yield _.user.reload()}catch(P){throw P}})()}}const us=new WeakMap;function Uc(b){const g=(0,$.m9)(b);return us.has(g)||us.set(g,Vl._fromUser(g)),us.get(g)}const Bl="__sak";class dp{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Bl,"1"),this.storage.removeItem(Bl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const iu=(()=>{class b extends dp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Gh(){const b=(0,$.z$)();return V(b)||bt(b)}()&&function Pi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),P=this.localCache[C];M!==P&&_(C,P,M)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((pe,Ge,rt)=>{this.notifyListeners(pe,rt)});const M=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(M);if(_.newValue!==pe)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!C)return}const P=()=>{const pe=this.storage.getItem(M);!C&&this.localCache[M]===pe||this.notifyListeners(M,pe)},X=this.storage.getItem(M);!function Sn(){return(0,$.w1)()&&10===document.documentMode}()||X===_.newValue||_.newValue===_.oldValue?P():setTimeout(P,10)}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const P of Array.from(M))P(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var M=()=>super._set,P=this;return(0,d.Z)(function*(){yield M().call(P,_,C),P.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,M=this;return(0,d.Z)(function*(){const P=yield C().call(M,_);return M.localCache[_]=JSON.stringify(P),P})()}_remove(_){var C=()=>super._remove,M=this;return(0,d.Z)(function*(){yield C().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),Ii=(()=>{class b extends dp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let jc=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(P=>P.isListeningto(_));if(C)return C;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,d.Z)(function*(){const M=_,{eventId:P,eventType:X,data:pe}=M.data,Ge=C.handlersMap[X];if(!Ge?.size)return;M.ports[0].postMessage({status:"ack",eventId:P,eventType:X});const rt=Array.from(Ge).map(function(){var tn=(0,d.Z)(function*(Lr){return Lr(M.origin,pe)});return function(Lr){return tn.apply(this,arguments)}}()),Et=yield function hp(b){return Promise.all(b.map(function(){var g=(0,d.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return g.apply(this,arguments)}}()))}(rt);M.ports[0].postMessage({status:"done",eventId:P,eventType:X,response:Et})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function br(b="",g=10){let _="";for(let C=0;C<g;C++)_+=Math.floor(10*Math.random());return b+_}class fp{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,C=50){var M=this;return(0,d.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let X,pe;return new Promise((Ge,rt)=>{const Et=br("",20);P.port1.start();const tn=setTimeout(()=>{rt(new Error("unsupported_event"))},C);pe={messageChannel:P,onMessage(Lr){const Ta=Lr;if(Ta.data.eventId===Et)switch(Ta.data.status){case"ack":clearTimeout(tn),X=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),Ge(Ta.data.response);break;default:clearTimeout(tn),clearTimeout(X),rt(new Error("invalid_response"))}}},M.handlers.add(pe),P.port1.addEventListener("message",pe.onMessage),M.target.postMessage({eventType:g,eventId:Et,data:_},[P.port2])}).finally(()=>{pe&&M.removeMessageHandler(pe)})})()}}function ri(){return window}function qh(){return typeof ri().WorkerGlobalScope<"u"&&"function"==typeof ri().importScripts}function Yi(){return(Yi=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Wn="firebaseLocalStorageDb",Ti="firebaseLocalStorage",$c="fbase_key";class Ul{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Gc(b,g){return b.transaction([Ti],g?"readwrite":"readonly").objectStore(Ti)}function Hl(){const b=indexedDB.open(Wn,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(Ti,{keyPath:$c})}catch(M){_(M)}}),b.addEventListener("success",(0,d.Z)(function*(){const C=b.result;C.objectStoreNames.contains(Ti)?g(C):(C.close(),yield function Zh(){const b=indexedDB.deleteDatabase(Wn);return new Ul(b).toPromise()}(),g(yield Hl()))}))})}function qc(b,g,_){return zo.apply(this,arguments)}function zo(){return(zo=(0,d.Z)(function*(b,g,_){const C=Gc(b,!0).put({[$c]:g,value:_});return new Ul(C).toPromise()})).apply(this,arguments)}function Qa(){return(Qa=(0,d.Z)(function*(b,g){const _=Gc(b,!1).get(g),C=yield new Ul(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Wc(b,g){const _=Gc(b,!0).delete(g);return new Ul(_).toPromise()}const Kh=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.Z)(function*(){return _.db||(_.db=yield Hl()),_.db})()}_withRetries(_){var C=this;return(0,d.Z)(function*(){let M=0;for(;;)try{const P=yield C._openDb();return yield _(P)}catch(P){if(M++>3)throw P;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.Z)(function*(){return qh()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.Z)(function*(){_.receiver=jc._getInstance(function zc(){return qh()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,d.Z)(function*(M,P){return{keyProcessed:(yield _._poll()).includes(P.key)}});return function(M,P){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,d.Z)(function*(M,P){return["keyChanged"]});return function(M,P){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,d.Z)(function*(){var C,M;if(_.activeServiceWorker=yield function Wh(){return Yi.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new fp(_.activeServiceWorker);const P=yield _.sender._send("ping",{},800);P&&null!==(C=P[0])&&void 0!==C&&C.fulfilled&&null!==(M=P[0])&&void 0!==M&&M.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,d.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Xs(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Hl();return yield qc(_,Bl,"1"),yield Wc(_,Bl),!0}catch{}return!1})()}_withPendingWrite(_){var C=this;return(0,d.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var M=this;return(0,d.Z)(function*(){return M._withPendingWrite((0,d.Z)(function*(){return yield M._withRetries(P=>qc(P,_,C)),M.localCache[_]=C,M.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,d.Z)(function*(){const M=yield C._withRetries(P=>function $o(b,g){return Qa.apply(this,arguments)}(P,_));return C.localCache[_]=M,M})()}_remove(_){var C=this;return(0,d.Z)(function*(){return C._withPendingWrite((0,d.Z)(function*(){return yield C._withRetries(M=>Wc(M,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.Z)(function*(){const C=yield _._withRetries(X=>{const pe=Gc(X,!1).getAll();return new Ul(pe).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const M=[],P=new Set;for(const{fbase_key:X,value:pe}of C)P.add(X),JSON.stringify(_.localCache[X])!==JSON.stringify(pe)&&(_.notifyListeners(X,pe),M.push(X));for(const X of Object.keys(_.localCache))_.localCache[X]&&!P.has(X)&&(_.notifyListeners(X,null),M.push(X));return M})()}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const P of Array.from(M))P(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Bn=1e12;class ou{constructor(g){this.auth=g,this.counter=Bn,this._widgets=new Map}render(g,_){const C=this.counter;return this._widgets.set(C,new mp(g,this.auth.name,_||{})),this.counter++,C}reset(g){var _;const C=g||Bn;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Bn))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,d.Z)(function*(){var C;return null===(C=_._widgets.get(g||Bn))||void 0===C||C.execute(),""})()}}class mp{constructor(g,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;ie(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ga(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)g.push(_.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const au=Oo("rcb"),lu=new Gr(3e4,6e4);class jl{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=ri().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return ie(function _a(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)&&Pt(ri().grecaptcha)?Promise.resolve(ri().grecaptcha):new Promise((C,M)=>{const P=ri().setTimeout(()=>{M(Te(g,"network-request-failed"))},lu.get());ri()[au]=()=>{ri().clearTimeout(P),delete ri()[au];const pe=ri().grecaptcha;if(!pe||!Pt(pe))return void M(Te(g,"internal-error"));const Ge=pe.render;pe.render=(rt,Et)=>{const tn=Ge(rt,Et);return this.counter++,tn},this.hostLanguage=_,C(pe)},ti(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:au,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(P),M(Te(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=ri().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xh{load(g){return(0,d.Z)(function*(){return new ou(g)})()}clearedOneInstance(){}}const Kc="recaptcha",zl={theme:"light",type:"image"};class du{constructor(g,_=Object.assign({},zl),C){this.parameters=_,this.type=Kc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fi(C),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;ie(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xh:new jl,this.validateStartingState()}verify(){var g=this;return(0,d.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(_)||new Promise(P=>{const X=pe=>{pe&&(g.tokenChangeListeners.delete(X),P(pe))};g.tokenChangeListeners.add(X),g.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof g)g(_);else if("string"==typeof g){const C=ri()[g];"function"==typeof C&&C(_)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,d.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,d.Z)(function*(){ie(Ci()&&!qh(),g.auth,"internal-error"),yield function Yc(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function ve(b){return ae.apply(this,arguments)}(g.auth);ie(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pi{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Ki._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function wr(b,g,_){return uu.apply(this,arguments)}function uu(){return(uu=(0,d.Z)(function*(b,g,_){const C=fi(b),M=yield va(C,g,(0,$.m9)(_));return new pi(M,P=>jd(C,P))})).apply(this,arguments)}function hn(b,g,_){return dt.apply(this,arguments)}function dt(){return(dt=(0,d.Z)(function*(b,g,_){const C=(0,$.m9)(b);yield Hd(!1,C,"phone");const M=yield va(C.auth,g,(0,$.m9)(_));return new pi(M,P=>kc(C,P))})).apply(this,arguments)}function dr(b,g,_){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,d.Z)(function*(b,g,_){const C=(0,$.m9)(b),M=yield va(C.auth,g,(0,$.m9)(_));return new pi(M,P=>np(C,P))})).apply(this,arguments)}function va(b,g,_){return hu.apply(this,arguments)}function hu(){return hu=(0,d.Z)(function*(b,g,_){var C;const M=yield _.verify();try{let P;if(ie("string"==typeof M,b,"argument-error"),ie(_.type===Kc,b,"argument-error"),P="string"==typeof g?{phoneNumber:g}:g,"session"in P){const X=P.session;if("phoneNumber"in P)return ie("enroll"===X.type,b,"internal-error"),(yield function tu(b,g){return Se(b,"POST","/v2/accounts/mfaEnrollment:start",he(b,g))}(b,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ie("signin"===X.type,b,"internal-error");const pe=(null===(C=P.multiFactorHint)||void 0===C?void 0:C.uid)||P.multiFactorUid;return ie(pe,b,"missing-multi-factor-info"),(yield function Yh(b,g){return Se(b,"POST","/v2/accounts/mfaSignIn:start",he(b,g))}(b,{mfaPendingCredential:X.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield function Rl(b,g){return Tc.apply(this,arguments)}(b,{phoneNumber:P.phoneNumber,recaptchaToken:M});return X}}finally{_._reset()}}),hu.apply(this,arguments)}function pp(b,g){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,d.Z)(function*(b,g){yield Ys((0,$.m9)(b),g)})).apply(this,arguments)}let P_=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=fi(_)}verifyPhoneNumber(_,C){return va(this.auth,_,(0,$.m9)(C))}static credential(_,C){return Ki._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:M}=_;return C&&M?Ki._fromTokenResponse(C,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function hs(b,g){return g?wi(g):(ie(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class mt extends Dl{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Mn(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Mn(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Mn(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Kr(b){return Oh(b.auth,new mt(b),b.bypassAuthState)}function Jh(b){const{auth:g,user:_}=b;return ie(_,g,"internal-error"),tp(_,new mt(b),b.bypassAuthState)}function ya(b){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,d.Z)(function*(b){const{auth:g,user:_}=b;return ie(_,g,"internal-error"),Ys(_,new mt(b),b.bypassAuthState)})).apply(this,arguments)}class ba{constructor(g,_,C,M,P=!1){this.auth=g,this.resolver=C,this.user=M,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,d.Z)(function*(C,M){g.pendingPromise={resolve:C,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(P){g.reject(P)}});return function(C,M){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,d.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:P,tenantId:X,error:pe,type:Ge}=g;if(pe)return void _.reject(pe);const rt={auth:_.auth,requestUri:C,sessionId:M,tenantId:X||void 0,postBody:P||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Ge)(rt))}catch(Et){_.reject(Et)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Kr;case"linkViaPopup":case"linkViaRedirect":return ya;case"reauthViaPopup":case"reauthViaRedirect":return Jh;default:re(this.auth,"internal-error")}}resolve(g){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Di=new Gr(2e3,1e4);function Rs(b,g,_){return go.apply(this,arguments)}function go(){return(go=(0,d.Z)(function*(b,g,_){const C=fi(b);ye(b,g,Ks);const M=hs(C,_);return new _o(C,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function F_(b,g,_){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,d.Z)(function*(b,g,_){const C=(0,$.m9)(b);ye(C.auth,g,Ks);const M=hs(C.auth,_);return new _o(C.auth,"reauthViaPopup",g,M,C).executeNotNull()})).apply(this,arguments)}function gp(b,g,_){return qo.apply(this,arguments)}function qo(){return(qo=(0,d.Z)(function*(b,g,_){const C=(0,$.m9)(b);ye(C.auth,g,Ks);const M=hs(C.auth,_);return new _o(C.auth,"linkViaPopup",g,M,C).executeNotNull()})).apply(this,arguments)}let _o=(()=>{class b extends ba{constructor(_,C,M,P,X){super(_,C,P,X),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.Z)(function*(){const C=yield _.execute();return ie(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,d.Z)(function*(){qe(1===_.filter.length,"Popup operations only handle one event");const C=br();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Te(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,M;this.pollId=null!==(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Di.get())};_()}}return b.currentPopupAction=null,b})();const ef="pendingRedirect",fs=new Map;class Wo extends ba{constructor(g,_,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,d.Z)(function*(){let C=fs.get(_.auth._key());if(!C){try{const P=(yield function _p(b,g){return Ja.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;C=()=>Promise.resolve(P)}catch(M){C=()=>Promise.reject(M)}fs.set(_.auth._key(),C)}return _.bypassAuthState||fs.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,C=this;return(0,d.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(C,g);if("unknown"!==g.type){if(g.eventId){const M=yield C.auth._redirectUserForId(g.eventId);if(M)return C.user=M,_().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Ja(){return(Ja=(0,d.Z)(function*(b,g){const _=Ko(g),C=xa(b);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(_));return yield C._remove(_),M})).apply(this,arguments)}function Zo(b,g){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,d.Z)(function*(b,g){return xa(b)._set(Ko(g),"true")})).apply(this,arguments)}function wa(){fs.clear()}function Qi(b,g){fs.set(b._key(),g)}function xa(b){return wi(b._redirectPersistence)}function Ko(b){return rn(ef,b.config.apiKey,b.name)}function Xt(b,g,_){return function si(b,g,_){return Fr.apply(this,arguments)}(b,g,_)}function Fr(){return(Fr=(0,d.Z)(function*(b,g,_){const C=fi(b);ye(b,g,Ks),yield C._initializationPromise;const M=hs(C,_);return yield Zo(M,C),M._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function ms(b,g,_){return function oi(b,g,_){return Si.apply(this,arguments)}(b,g,_)}function Si(){return(Si=(0,d.Z)(function*(b,g,_){const C=(0,$.m9)(b);ye(C.auth,g,Ks),yield C.auth._initializationPromise;const M=hs(C.auth,_);yield Zo(M,C.auth);const P=yield mu(C);return M._openRedirect(C.auth,g,"reauthViaRedirect",P)})).apply(this,arguments)}function el(b,g,_){return function tf(b,g,_){return fu.apply(this,arguments)}(b,g,_)}function fu(){return(fu=(0,d.Z)(function*(b,g,_){const C=(0,$.m9)(b);ye(C.auth,g,Ks),yield C.auth._initializationPromise;const M=hs(C.auth,_);yield Hd(!1,C,g.providerId),yield Zo(M,C.auth);const P=yield mu(C);return M._openRedirect(C.auth,g,"linkViaRedirect",P)})).apply(this,arguments)}function eo(b,g){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,d.Z)(function*(b,g){return yield fi(b)._initializationPromise,Rn(b,g,!1)})).apply(this,arguments)}function Rn(b,g){return xr.apply(this,arguments)}function xr(){return(xr=(0,d.Z)(function*(b,g,_=!1){const C=fi(b),M=hs(C,g),X=yield new Wo(C,M,_).execute();return X&&!_&&(delete X.user._redirectEventId,yield C._persistUserIfCurrent(X.user),yield C._setRedirectUser(null,g)),X})).apply(this,arguments)}function mu(b){return ps.apply(this,arguments)}function ps(){return(ps=(0,d.Z)(function*(b){const g=br(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class pu{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(_=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Gt(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nl(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var C;if(g.error&&!nl(g)){const M=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Te(this.auth,M))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const C=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tl(g))}saveEventToCache(g){this.cachedEventUids.add(tl(g)),this.lastProcessedEventTime=Date.now()}}function tl(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function nl({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function Ea(b){return vp.apply(this,arguments)}function vp(){return(vp=(0,d.Z)(function*(b,g={}){return Se(b,"GET","/v1/projects",g)})).apply(this,arguments)}const Xc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t0=/^https?/;function Os(){return(Os=(0,d.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield Ea(b);for(const _ of g)try{if(il(_))return}catch{}re(b,"unauthorized-domain")})).apply(this,arguments)}function il(b){const g=on(),{protocol:_,hostname:C}=new URL(g);if(b.startsWith("chrome-extension://")){const X=new URL(b);return""===X.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&X.hostname===C}if(!t0.test(_))return!1;if(Xc.test(b))return C===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const gi=new Gr(3e4,6e4);function vo(){const b=ri().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Ps=null;const Fs=new Gr(5e3,15e3),gu="__/auth/iframe",_u="emulator/auth/iframe",Ca={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vu(b){const g=b.config;ie(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?fo(g,_u):`https://${b.config.authDomain}/${gu}`,C={apiKey:g.apiKey,appName:b.name,v:O.SDK_VERSION},M=nf.get(b.config.apiHost);M&&(C.eid=M);const P=b._getFrameworks();return P.length&&(C.fw=P.join(",")),`${_}?${(0,$.xO)(C).slice(1)}`}function x(){return x=(0,d.Z)(function*(b){const g=yield function Jr(b){return Ps=Ps||function Gl(b){return new Promise((g,_)=>{var C,M,P;function X(){vo(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{vo(),_(Te(b,"network-request-failed"))},timeout:gi.get()})}if(null!==(M=null===(C=ri().gapi)||void 0===C?void 0:C.iframes)&&void 0!==M&&M.Iframe)g(gapi.iframes.getContext());else{if(null===(P=ri().gapi)||void 0===P||!P.load){const pe=Oo("iframefcb");return ri()[pe]=()=>{gapi.load?X():_(Te(b,"network-request-failed"))},ti(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Ge=>_(Ge))}X()}}).catch(g=>{throw Ps=null,g})}(b),Ps}(b),_=ri().gapi;return ie(_,b,"internal-error"),g.open({where:document.body,url:vu(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ca,dontclear:!0},C=>new Promise(function(){var M=(0,d.Z)(function*(P,X){yield C.restyle({setHideOnLeave:!1});const pe=Te(b,"network-request-failed"),Ge=ri().setTimeout(()=>{X(pe)},Fs.get());function rt(){ri().clearTimeout(Ge),P(C)}C.ping(rt).then(rt,()=>{X(pe)})});return function(P,X){return M.apply(this,arguments)}}()))}),x.apply(this,arguments)}const T={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ge{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ht="__/auth/handler",Lt="emulator/auth/handler",Ft=encodeURIComponent("fac");function ur(b,g,_,C,M,P){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(b,g,_,C,M,P){ie(b.config.authDomain,b,"auth-domain-config-required"),ie(b.config.apiKey,b,"invalid-api-key");const X={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:O.SDK_VERSION,eventId:M};if(g instanceof Ks){g.setDefaultLanguage(b.languageCode),X.providerId=g.providerId||"",(0,$.xb)(g.getCustomParameters())||(X.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Et,tn]of Object.entries(P||{}))X[Et]=tn}if(g instanceof ua){const Et=g.getScopes().filter(tn=>""!==tn);Et.length>0&&(X.scopes=Et.join(","))}b.tenantId&&(X.tid=b.tenantId);const pe=X;for(const Et of Object.keys(pe))void 0===pe[Et]&&delete pe[Et];const Ge=yield b._getAppCheckToken(),rt=Ge?`#${Ft}=${encodeURIComponent(Ge)}`:"";return`${function Ia({config:b}){return b.emulator?fo(b,Lt):`https://${b.authDomain}/${ht}`}(b)}?${(0,$.xO)(pe).slice(1)}${rt}`})).apply(this,arguments)}const yo="webStorageSupport",Er=class rl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ii,this._completeRedirectFn=Rn,this._overrideRedirectResult=Qi}_openPopup(g,_,C,M){var P=this;return(0,d.Z)(function*(){var X;qe(null===(X=P.eventManagers[g._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const pe=yield ur(g,_,C,on(),M);return function tt(b,g,_,C=500,M=600){const P=Math.max((window.screen.availHeight-M)/2,0).toString(),X=Math.max((window.screen.availWidth-C)/2,0).toString();let pe="";const Ge=Object.assign(Object.assign({},T),{width:C.toString(),height:M.toString(),top:P,left:X}),rt=(0,$.z$)().toLowerCase();_&&(pe=N(rt)?"_blank":_),F(rt)&&(g=g||"http://localhost",Ge.scrollbars="yes");const Et=Object.entries(Ge).reduce((Lr,[Ta,wp])=>`${Lr}${Ta}=${wp},`,"");if(function Rt(b=(0,$.z$)()){var g;return bt(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(rt)&&"_self"!==pe)return function We(b,g){const _=document.createElement("a");_.href=b,_.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(g||"",pe),new ge(null);const tn=window.open(g||"",pe,Et);ie(tn,b,"popup-blocked");try{tn.focus()}catch{}return new ge(tn)}(g,pe,br())})()}_openRedirect(g,_,C,M){var P=this;return(0,d.Z)(function*(){return yield P._originValidation(g),function ru(b){ri().location.href=b}(yield ur(g,_,C,on(),M)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:M,promise:P}=this.eventManagers[_];return M?Promise.resolve(M):(qe(P,"If manager is not set, promise should be"),P)}const C=this.initAndGetManager(g);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(g){var _=this;return(0,d.Z)(function*(){const C=yield function ql(b){return x.apply(this,arguments)}(g),M=new pu(g);return C.register("authEvent",P=>(ie(P?.authEvent,g,"invalid-auth-event"),{status:M.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:M},_.iframes[g._key()]=C,M})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(yo,{type:yo},M=>{var P;const X=null===(P=M?.[0])||void 0===P?void 0:P[yo];void 0!==X&&_(!!X),re(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function $l(b){return Os.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return zt()||V()||bt()}};class Yo{constructor(g){this.factorId=g}_process(g,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,C);case"signin":return this._finalizeSignIn(g,_.credential);default:return st("unexpected MultiFactorSessionType")}}}class Wl extends Yo{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Wl(g)}_finalizeEnroll(g,_,C){return function $h(b,g){return Se(b,"POST","/v2/accounts/mfaEnrollment:finalize",he(b,g))}(g,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Qh(b,g){return Se(b,"POST","/v2/accounts/mfaSignIn:finalize",he(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yu=(()=>{class b{constructor(){}static assertion(_){return Wl._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Zl="@firebase/auth";class n0{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,d.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(C=>{g(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,$.Pz)("authIdTokenMaxAge"),function bp(b){(0,O._registerComponent)(new ue.wA("auth",(g,{options:_})=>{const C=g.getProvider("app").getImmediate(),M=g.getProvider("heartbeat"),P=g.getProvider("app-check-internal"),{apiKey:X,authDomain:pe}=C.options;ie(X&&!X.includes(":"),"invalid-api-key",{appName:C.name});const Ge={apiKey:X,authDomain:pe,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wi(b)},rt=new Nd(C,M,P,Ge);return function S_(b,g){const _=g?.persistence||[],C=(Array.isArray(_)?_:[_]).map(wi);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(C,g?.popupRedirectResolver)}(rt,_),rt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,C)=>{g.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new ue.wA("auth-internal",g=>{const _=fi(g.getProvider("auth").getImmediate());return new n0(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Zl,"0.23.2",function r0(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,O.registerVersion)(Zl,"0.23.2","esm2017")}("Browser")},9058:(pt,De,L)=>{L.d(De,{$s:()=>wi,BH:()=>ce,DV:()=>di,Dv:()=>Ds,G6:()=>fo,GJ:()=>jn,L:()=>be,LL:()=>je,Pz:()=>Te,Sg:()=>ye,UG:()=>st,UI:()=>os,US:()=>ue,Wj:()=>Bt,Wl:()=>Mt,Yr:()=>Gr,ZB:()=>se,ZR:()=>Se,aH:()=>re,b$:()=>Ci,cI:()=>yn,dS:()=>as,eu:()=>_e,g5:()=>O,gK:()=>En,gQ:()=>wt,h$:()=>Me,hl:()=>fe,hu:()=>$,jU:()=>qe,lb:()=>zn,m9:()=>rn,ne:()=>nn,p$:()=>Z,pd:()=>gt,r3:()=>bn,ru:()=>on,tV:()=>q,uI:()=>ie,ug:()=>Zs,vZ:()=>Gi,w1:()=>qs,w9:()=>Yn,xO:()=>Ws,xb:()=>qr,z$:()=>Pe,zI:()=>Ce,zd:()=>Je});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},$=function(W,G){if(!W)throw O(G)},O=function(W){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+W)},ee=function(W){const G=[];let F=0;for(let V=0;V<W.length;V++){let N=W.charCodeAt(V);N<128?G[F++]=N:N<2048?(G[F++]=N>>6|192,G[F++]=63&N|128):55296==(64512&N)&&V+1<W.length&&56320==(64512&W.charCodeAt(V+1))?(N=65536+((1023&N)<<10)+(1023&W.charCodeAt(++V)),G[F++]=N>>18|240,G[F++]=N>>12&63|128,G[F++]=N>>6&63|128,G[F++]=63&N|128):(G[F++]=N>>12|224,G[F++]=N>>6&63|128,G[F++]=63&N|128)}return G},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,G){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let N=0;N<W.length;N+=3){const te=W[N],we=N+1<W.length,Ye=we?W[N+1]:0,xt=N+2<W.length,bt=xt?W[N+2]:0;let Sn=(15&Ye)<<2|bt>>6,zt=63&bt;xt||(zt=64,we||(Sn=64)),V.push(F[te>>2],F[(3&te)<<4|Ye>>4],F[Sn],F[zt])}return V.join("")},encodeString(W,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(W):this.encodeByteArray(ee(W),G)},decodeString(W,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(W):function(W){const G=[];let F=0,V=0;for(;F<W.length;){const N=W[F++];if(N<128)G[V++]=String.fromCharCode(N);else if(N>191&&N<224){const te=W[F++];G[V++]=String.fromCharCode((31&N)<<6|63&te)}else if(N>239&&N<365){const xt=((7&N)<<18|(63&W[F++])<<12|(63&W[F++])<<6|63&W[F++])-65536;G[V++]=String.fromCharCode(55296+(xt>>10)),G[V++]=String.fromCharCode(56320+(1023&xt))}else{const te=W[F++],we=W[F++];G[V++]=String.fromCharCode((15&N)<<12|(63&te)<<6|63&we)}}return G.join("")}(this.decodeStringToByteArray(W,G))},decodeStringToByteArray(W,G){this.init_();const F=G?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let N=0;N<W.length;){const te=F[W.charAt(N++)],Ye=N<W.length?F[W.charAt(N)]:0;++N;const bt=N<W.length?F[W.charAt(N)]:64;++N;const Rt=N<W.length?F[W.charAt(N)]:64;if(++N,null==te||null==Ye||null==bt||null==Rt)throw new Ee;V.push(te<<2|Ye>>4),64!==bt&&(V.push(Ye<<4&240|bt>>2),64!==Rt&&V.push(bt<<6&192|Rt))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(W){const G=ee(W);return ue.encodeByteArray(G,!0)},be=function(W){return Me(W).replace(/\./g,"")},q=function(W){try{return ue.decodeString(W,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function Z(W){return se(void 0,W)}function se(W,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return G}for(const F in G)!G.hasOwnProperty(F)||!Ve(F)||(W[F]=se(W[F],G[F]));return W}function Ve(W){return"__proto__"!==W}const Fe=()=>{try{return function Re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=W&&q(W[1]);return G&&JSON.parse(G)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},re=()=>{var W;return null===(W=Fe())||void 0===W?void 0:W.config},Te=W=>{var G;return null===(G=Fe())||void 0===G?void 0:G[`_${W}`]};class ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,F)=>{this.resolve=G,this.reject=F})}wrapCallback(G){return(F,V)=>{F?this.reject(F):this.resolve(V),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(F):G(F,V))}}}function ye(W,G){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=G||"demo-project",N=W.iat||0,te=W.sub||W.user_id;if(!te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const we=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:N,exp:N+3600,auth_time:N,sub:te,user_id:te,firebase:{sign_in_provider:"custom",identities:{}}},W);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(we)),""].join(".")}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function st(){var W;const G=null===(W=Fe())||void 0===W?void 0:W.forceEnvironment;if("node"===G)return!0;if("browser"===G)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function qe(){return"object"==typeof self&&self.self===self}function on(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Ci(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qs(){const W=Pe();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Gr(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function fo(){return!st()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fe(){try{return"object"==typeof indexedDB}catch{return!1}}function _e(){return new Promise((W,G)=>{try{let F=!0;const V="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(V);N.onsuccess=()=>{N.result.close(),F||self.indexedDB.deleteDatabase(V),W(!0)},N.onupgradeneeded=()=>{F=!1},N.onerror=()=>{var te;G((null===(te=N.error)||void 0===te?void 0:te.message)||"")}}catch(F){G(F)}})}function Ce(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Se extends Error{constructor(G,F,V){super(F),this.code=G,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,je.prototype.create)}}class je{constructor(G,F,V){this.service=G,this.serviceName=F,this.errors=V}create(G,...F){const V=F[0]||{},N=`${this.service}/${G}`,te=this.errors[G],we=te?function it(W,G){return W.replace(ut,(F,V)=>{const N=G[V];return null!=N?String(N):`<${V}?>`})}(te,V):"Error";return new Se(N,`${this.serviceName}: ${we} (${N}).`,V)}}const ut=/\{\$([^}]+)}/g;function yn(W){return JSON.parse(W)}function Mt(W){return JSON.stringify(W)}const dn=function(W){let G={},F={},V={},N="";try{const te=W.split(".");G=yn(q(te[0])||""),F=yn(q(te[1])||""),N=te[2],V=F.d||{},delete F.d}catch{}return{header:G,claims:F,data:V,signature:N}},Yn=function(W){const F=dn(W).claims;return!!F&&"object"==typeof F&&F.hasOwnProperty("iat")},jn=function(W){const G=dn(W).claims;return"object"==typeof G&&!0===G.admin};function bn(W,G){return Object.prototype.hasOwnProperty.call(W,G)}function di(W,G){if(Object.prototype.hasOwnProperty.call(W,G))return W[G]}function qr(W){for(const G in W)if(Object.prototype.hasOwnProperty.call(W,G))return!1;return!0}function os(W,G,F){const V={};for(const N in W)Object.prototype.hasOwnProperty.call(W,N)&&(V[N]=G.call(F,W[N],N,W));return V}function Gi(W,G){if(W===G)return!0;const F=Object.keys(W),V=Object.keys(G);for(const N of F){if(!V.includes(N))return!1;const te=W[N],we=G[N];if(Jn(te)&&Jn(we)){if(!Gi(te,we))return!1}else if(te!==we)return!1}for(const N of V)if(!F.includes(N))return!1;return!0}function Jn(W){return null!==W&&"object"==typeof W}function Ws(W){const G=[];for(const[F,V]of Object.entries(W))Array.isArray(V)?V.forEach(N=>{G.push(encodeURIComponent(F)+"="+encodeURIComponent(N))}):G.push(encodeURIComponent(F)+"="+encodeURIComponent(V));return G.length?"&"+G.join("&"):""}function Je(W){const G={};return W.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[N,te]=V.split("=");G[decodeURIComponent(N)]=decodeURIComponent(te)}}),G}function gt(W){const G=W.indexOf("?");if(!G)return"";const F=W.indexOf("#",G);return W.substring(G,F>0?F:void 0)}class wt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,F){F||(F=0);const V=this.W_;if("string"==typeof G)for(let Rt=0;Rt<16;Rt++)V[Rt]=G.charCodeAt(F)<<24|G.charCodeAt(F+1)<<16|G.charCodeAt(F+2)<<8|G.charCodeAt(F+3),F+=4;else for(let Rt=0;Rt<16;Rt++)V[Rt]=G[F]<<24|G[F+1]<<16|G[F+2]<<8|G[F+3],F+=4;for(let Rt=16;Rt<80;Rt++){const Sn=V[Rt-3]^V[Rt-8]^V[Rt-14]^V[Rt-16];V[Rt]=4294967295&(Sn<<1|Sn>>>31)}let bt,_t,N=this.chain_[0],te=this.chain_[1],we=this.chain_[2],Ye=this.chain_[3],xt=this.chain_[4];for(let Rt=0;Rt<80;Rt++){Rt<40?Rt<20?(bt=Ye^te&(we^Ye),_t=1518500249):(bt=te^we^Ye,_t=1859775393):Rt<60?(bt=te&we|Ye&(te|we),_t=2400959708):(bt=te^we^Ye,_t=3395469782);const Sn=(N<<5|N>>>27)+bt+xt+_t+V[Rt]&4294967295;xt=Ye,Ye=we,we=4294967295&(te<<30|te>>>2),te=N,N=Sn}this.chain_[0]=this.chain_[0]+N&4294967295,this.chain_[1]=this.chain_[1]+te&4294967295,this.chain_[2]=this.chain_[2]+we&4294967295,this.chain_[3]=this.chain_[3]+Ye&4294967295,this.chain_[4]=this.chain_[4]+xt&4294967295}update(G,F){if(null==G)return;void 0===F&&(F=G.length);const V=F-this.blockSize;let N=0;const te=this.buf_;let we=this.inbuf_;for(;N<F;){if(0===we)for(;N<=V;)this.compress_(G,N),N+=this.blockSize;if("string"==typeof G){for(;N<F;)if(te[we]=G.charCodeAt(N),++we,++N,we===this.blockSize){this.compress_(te),we=0;break}}else for(;N<F;)if(te[we]=G[N],++we,++N,we===this.blockSize){this.compress_(te),we=0;break}}this.inbuf_=we,this.total_+=F}digest(){const G=[];let F=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let N=this.blockSize-1;N>=56;N--)this.buf_[N]=255&F,F/=256;this.compress_(this.buf_);let V=0;for(let N=0;N<5;N++)for(let te=24;te>=0;te-=8)G[V]=this.chain_[N]>>te&255,++V;return G}}function nn(W,G){const F=new bi(W,G);return F.subscribe.bind(F)}class bi{constructor(G,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{G(this)}).catch(V=>{this.error(V)})}next(G){this.forEachObserver(F=>{F.next(G)})}error(G){this.forEachObserver(F=>{F.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,F,V){let N;if(void 0===G&&void 0===F&&void 0===V)throw new Error("Missing Observer.");N=function Qt(W,G){if("object"!=typeof W||null===W)return!1;for(const F of G)if(F in W&&"function"==typeof W[F])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:F,complete:V},void 0===N.next&&(N.next=ui),void 0===N.error&&(N.error=ui),void 0===N.complete&&(N.complete=ui);const te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),te}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,G)}sendOne(G,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{F(this.observers[G])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ui(){}const Ds=function(W,G,F,V){let N;if(V<G?N="at least "+G:V>F&&(N=0===F?"none":"no more than "+F),N)throw new Error(W+" failed: Was called with "+V+(1===V?" argument.":" arguments.")+" Expects "+N+".")};function En(W,G){return`${W} failed: ${G} argument `}function Bt(W,G,F,V){if((!V||F)&&"function"!=typeof F)throw new Error(En(W,G)+"must be a valid function.")}function zn(W,G,F,V){if((!V||F)&&("object"!=typeof F||null===F))throw new Error(En(W,G)+"must be a valid context object.")}const as=function(W){const G=[];let F=0;for(let V=0;V<W.length;V++){let N=W.charCodeAt(V);if(N>=55296&&N<=56319){const te=N-55296;V++,$(V<W.length,"Surrogate pair missing trail surrogate."),N=65536+(te<<10)+(W.charCodeAt(V)-56320)}N<128?G[F++]=N:N<2048?(G[F++]=N>>6|192,G[F++]=63&N|128):N<65536?(G[F++]=N>>12|224,G[F++]=N>>6&63|128,G[F++]=63&N|128):(G[F++]=N>>18|240,G[F++]=N>>12&63|128,G[F++]=N>>6&63|128,G[F++]=63&N|128)}return G},Zs=function(W){let G=0;for(let F=0;F<W.length;F++){const V=W.charCodeAt(F);V<128?G++:V<2048?G+=2:V>=55296&&V<=56319?(G+=4,F++):G+=3}return G},ei=1e3,Pn=2,hi=144e5,$n=.5;function wi(W,G=ei,F=Pn){const V=G*Math.pow(F,W),N=Math.round($n*V*(Math.random()-.5)*2);return Math.min(hi,V+N)}function rn(W){return W&&W._delegate?W._delegate:W}},2888:(pt,De,L)=>{var d=L(5879);let $=null;function O(){return $}class le{}const ue=new d.OlP("DocumentToken");let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(be)},providedIn:"platform"}),n})();const Me=new d.OlP("Location Initialized");let be=(()=>{class n extends Ee{constructor(){super(),this._doc=(0,d.f3M)(ue),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function q(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function se(n){return n&&"?"!==n[0]?"?"+n:n}let Ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Qe)},providedIn:"root"}),n})();const Re=new d.OlP("appBaseHref");let Qe=(()=>{class n extends Ve{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return q(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+se(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const l=this.prepareExternalUrl(r+se(s));this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){const l=this.prepareExternalUrl(r+se(s));this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ee),d.LFG(Re,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oe=(()=>{class n extends Ve{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=q(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let l=this.prepareExternalUrl(r+se(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){let l=this.prepareExternalUrl(r+se(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ee),d.LFG(Re,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Xe=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function re(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Z(ft(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+se(i))}normalize(t){return n.stripTrailingSlash(function Ct(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ft(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+se(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+se(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=se,n.joinWithSlash=q,n.stripTrailingSlash=Z,n.\u0275fac=function(t){return new(t||n)(d.LFG(Ve))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Fe(){return new Xe((0,d.LFG)(Ve))}()},providedIn:"root"}),n})();function ft(n){return n.replace(/\/index.html$/,"")}let Nr=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new S_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ah("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ah("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class S_{constructor(){this.$implicit=null,this.ngIf=null}}function Ah(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class Ec{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let la=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Cc=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ec(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(la,9))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Fo=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:l}=this;this._viewRef=i.createEmbeddedView(r,s,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),n})();class Li{createSubscription(e,t){return(0,d.rg0)(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){(0,d.rg0)(()=>e.unsubscribe())}}class Dn{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const mo=new Dn,gr=new Li;let Pd=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,d.QGY)(t))return mo;if((0,d.F4k)(t))return gr;throw function $t(n,e){return new d.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO,16))},n.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),vr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const za="browser";function As(n){return"server"===n}let ua=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Wr((0,d.LFG)(ue),window)}),n})();class Wr{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function $a(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ha(this.window.history)||ha(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ha(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Za extends le{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class cr extends Za{static makeCurrent(){!function ee(n){$||($=n)}(new cr)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Uh(){return Ka=Ka||document.querySelector("base"),Ka?Ka.getAttribute("href"):null}();return null==t?null:function cs(n){jo=jo||document.createElement("a"),jo.setAttribute("href",n);const e=jo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ka=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ha(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let jo,Ka=null,Hh=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const jh=new d.OlP("EventManagerPlugins");let Qs=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(t,i),i}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(jh),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class zh{constructor(e){this._doc=e}}const eu="ng-app-id";let Vc=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=As(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${eu}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(eu),s;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=i,this.platformIsServer&&l.setAttribute(eu,this.appId),l}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const s=this.styleRef,l=s.get(i)?.elements;l?l.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ya={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ds=/%COMP%/g,R_=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Vl(n,e){return e.map(t=>t.replace(ds,n))}let us=(()=>{class n{constructor(t,i,r,s,l,h,m,v=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=l,this.platformId=h,this.ngZone=m,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=As(h),this.defaultRenderer=new Uc(t,l,m,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===d.ifc.ShadowDom&&(i={...i,encapsulation:d.ifc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof an?r.applyToHost(t):r instanceof ke&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const l=this.doc,h=this.ngZone,m=this.eventManager,v=this.sharedStylesHost,w=this.removeStylesOnCompDestroy,D=this.platformIsServer;switch(i.encapsulation){case d.ifc.Emulated:s=new an(m,v,i,this.appId,w,l,h,D);break;case d.ifc.ShadowDom:return new up(m,v,t,i,l,h,this.nonce,D);default:s=new ke(m,v,i,w,l,h,D)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Qs),d.LFG(Vc),d.LFG(d.AFp),d.LFG(R_),d.LFG(ue),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Uc{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Ya[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Gh(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Gh(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new d.vHH(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Ya[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ya[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,i,r&d.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=O().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Gh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class up extends Uc{constructor(e,t,i,r,s,l,h,m){super(e,s,l,m),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=Vl(r.id,r.styles);for(const w of v){const D=document.createElement("style");h&&D.setAttribute("nonce",h),D.textContent=w,this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ke extends Uc{constructor(e,t,i,r,s,l,h,m){super(e,s,l,h),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.rendererUsageCount=0,this.styles=m?Vl(m,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class an extends ke{constructor(e,t,i,r,s,l,h,m){const v=r+"-"+i.id;super(e,t,i,s,l,h,m,v),this.contentAttr=function nu(n){return"_ngcontent-%COMP%".replace(ds,n)}(v),this.hostAttr=function cp(n){return"_nghost-%COMP%".replace(ds,n)}(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let iu=(()=>{class n extends zh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Hc=["alt","control","meta","shift"],Ii={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let jc=(()=>{class n extends zh{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),l="code."),Hc.forEach(v=>{const w=i.indexOf(v);w>-1&&(i.splice(w,1),l+=v+".")}),l+=s,0!=i.length||0===s.length)return null;const m={};return m.domEventName=r,m.fullKey=l,m}static matchEventFullKeyCode(t,i){let r=Ii[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Hc.forEach(l=>{l!==r&&(0,hp[l])(t)&&(s+=l+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const zc=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:za},{provide:d.g9A,useValue:function qh(){cr.makeCurrent()},multi:!0},{provide:ue,useFactory:function Yi(){return(0,d.RDi)(document),document},deps:[]}]),Wn=new d.OlP(""),Js=[{provide:d.rWj,useClass:class lp{addToWindow(e){d.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new d.vHH(5103,!1);return s},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(i=>{const r=d.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const h=function(m){l=l||m,s--,0==s&&i(l)};r.forEach(m=>{m.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Ti=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Wh(){return new d.qLn},deps:[]},{provide:jh,useClass:iu,multi:!0,deps:[ue,d.R0b,d.Lbi]},{provide:jh,useClass:jc,multi:!0,deps:[ue]},us,Vc,Qs,{provide:d.FYo,useExisting:us},{provide:class or{},useClass:Hh,deps:[]},[]];let $c=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Wn,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...Ti,...Js],imports:[vr,d.hGG]}),n})(),qc=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Hl(){return new qc((0,d.LFG)(ue))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ga=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):d.LFG(lu),i},providedIn:"root"}),n})(),lu=(()=>{class n extends ga{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case d.q3G.NONE:return i;case d.q3G.HTML:return(0,d.qzn)(i,"HTML")?(0,d.z3N)(i):(0,d.EiD)(this._doc,String(i)).toString();case d.q3G.STYLE:return(0,d.qzn)(i,"Style")?(0,d.z3N)(i):i;case d.q3G.SCRIPT:if((0,d.qzn)(i,"Script"))return(0,d.z3N)(i);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(i,"URL")?(0,d.z3N)(i):(0,d.mCW)(String(i));case d.q3G.RESOURCE_URL:if((0,d.qzn)(i,"ResourceURL"))return(0,d.z3N)(i);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function au(n){return new lu(n.get(ue))}(d.LFG(d.zs3)),i},providedIn:"root"}),n})();var pi=L(5592),wr=L(4674),hn=L(2459),dt=L(2096),dr=L(5619);const{isArray:Qc}=Array,{getPrototypeOf:va,prototype:hu,keys:pp}=Object;function Xa(n){if(1===n.length){const e=n[0];if(Qc(e))return{args:e,keys:null};if(function P_(n){return n&&"object"==typeof n&&va(n)===hu}(e)){const t=pp(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var hs=L(2737),mt=L(7398);const{isArray:Kr}=Array;function ya(n){return(0,mt.U)(e=>function Jh(n,e){return Kr(e)?n(...e):n(e)}(n,e))}var Yr=L(9940);function ba(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Di=L(8251),Rs=L(7103);function go(...n){const e=(0,Yr.yG)(n),t=(0,Yr.jO)(n),{args:i,keys:r}=Xa(n);if(0===i.length)return(0,hn.D)([],e);const s=new pi.y(function F_(n,e,t=hs.y){return i=>{Qr(e,()=>{const{length:r}=n,s=new Array(r);let l=r,h=r;for(let m=0;m<r;m++)Qr(e,()=>{const v=(0,hn.D)(n[m],e);let w=!1;v.subscribe((0,Di.x)(i,D=>{s[m]=D,w||(w=!0,h--),h||i.next(t(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,e,r?l=>ba(r,l):hs.y));return t?s.pipe(ya(t)):s}function Qr(n,e,t){n?(0,Rs.f)(t,n,e):e()}const qo=(0,L(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var _o=L(7537);function fs(...n){return function ef(){return(0,_o.J)(1)}()((0,hn.D)(n,(0,Yr.yG)(n)))}var Wo=L(4829);function _p(n){return new pi.y(e=>{(0,Wo.Xf)(n()).subscribe(e)})}var Ja=L(8407);function Zo(n,e){const t=(0,wr.m)(n)?n:()=>n,i=r=>r.error(t());return new pi.y(e?r=>e.schedule(i,0,r):i)}var Ns=L(6232),wa=L(7394),Qi=L(9360);function xa(){return(0,Qi.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Di.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Ko extends pi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Qi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wa.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Di.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wa.w0.EMPTY)}return e}refCount(){return xa()(this)}}var Xt=L(8645),si=L(4664);function Fr(n){return n<=0?()=>Ns.E:(0,Qi.e)((e,t)=>{let i=0;e.subscribe((0,Di.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function ms(...n){const e=(0,Yr.yG)(n);return(0,Qi.e)((t,i)=>{(e?fs(n,t,e):fs(n,t)).subscribe(i)})}function oi(n,e){return(0,Qi.e)((t,i)=>{let r=0;t.subscribe((0,Di.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var Si=L(1631);function el(n){return(0,Qi.e)((e,t)=>{let i=!1;e.subscribe((0,Di.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function tf(n=fu){return(0,Qi.e)((e,t)=>{let i=!1;e.subscribe((0,Di.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function fu(){return new qo}function eo(n,e){const t=arguments.length>=2;return i=>i.pipe(n?oi((r,s)=>n(r,s,i)):hs.y,Fr(1),t?el(e):tf(()=>new qo))}function Xr(n,e){return(0,wr.m)(e)?(0,Si.z)(n,e,1):(0,Si.z)(n,1)}var Rn=L(9397);function xr(n){return(0,Qi.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,Di.x)(t,void 0,void 0,l=>{s=(0,Wo.Xf)(n(l,xr(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function ps(n,e){return(0,Qi.e)(function mu(n,e,t,i,r){return(s,l)=>{let h=t,m=e,v=0;s.subscribe((0,Di.x)(l,w=>{const D=v++;m=h?n(m,w,D):(h=!0,w),i&&l.next(m)},r&&(()=>{h&&l.next(m),l.complete()})))}}(n,e,arguments.length>=2,!0))}function to(n){return n<=0?()=>Ns.E:(0,Qi.e)((e,t)=>{let i=[];e.subscribe((0,Di.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function tl(n){return(0,mt.U)(()=>n)}function nl(n){return(0,Qi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Gt="primary",Ea=Symbol("RouteTitle");class vp{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Xc(n){return new vp(n)}function t0(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],h=n[s];if(l.startsWith(":"))r[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Os(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!il(n[r],e[r]))return!1;return!0}function il(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function gi(n){return n.length>0?n[n.length-1]:null}function vo(n){return function uu(n){return!!n&&(n instanceof pi.y||(0,wr.m)(n.lift)&&(0,wr.m)(n.subscribe))}(n)?n:(0,d.QGY)(n)?(0,hn.D)(Promise.resolve(n)):(0,dt.of)(n)}const Gl={exact:function gu(n,e,t){if(!H(n.segments,e.segments)||!vu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!gu(n.children[i],e.children[i],t))return!1;return!0},subset:Ca},Ps={exact:function Fs(n,e){return Os(n,e)},subset:function _u(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>il(n[t],e[t]))},ignored:()=>!0};function Jr(n,e,t){return Gl[t.paths](n.root,e.root,t.matrixParams)&&Ps[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ca(n,e,t){return nf(n,e,e.segments,t)}function nf(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!H(r,t)||e.hasChildren()||!vu(r,t,i))}if(n.segments.length===t.length){if(!H(n.segments,t)||!vu(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Ca(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(H(n.segments,r)&&vu(n.segments,r,i)&&n.children[Gt])&&nf(n.children[Gt],e,s,i)}}function vu(n,e,t){return e.every((i,r)=>Ps[t](n[r].parameters,i.parameters))}class ql{constructor(e=new x([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xc(this.queryParams)),this._queryParamMap}toString(){return tt.serialize(this)}}class x{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return We(this)}}class T{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Xc(this.parameters)),this._parameterMap}toString(){return rl(this)}}function H(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new ge},providedIn:"root"}),n})();class ge{parse(e){const t=new n0(e);return new ql(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ht(e.root,!0)}`,i=function Yo(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Ft(t)}=${Ft(r)}`).join("&"):`${Ft(t)}=${Ft(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function ur(n){return encodeURI(n)}(e.fragment)}`:""}`}}const tt=new ge;function We(n){return n.segments.map(e=>rl(e)).join("/")}function ht(n,e){if(!n.hasChildren())return We(n);if(e){const t=n.children[Gt]?ht(n.children[Gt],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Gt&&i.push(`${r}:${ht(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Y(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Gt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Gt&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===Gt?[ht(n.children[Gt],!1)]:[`${r}:${ht(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${We(n)}/${t[0]}`:`${We(n)}/(${t.join("//")})`}}function Lt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ft(n){return Lt(n).replace(/%3B/gi,";")}function Zn(n){return Lt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ia(n){return decodeURIComponent(n)}function yo(n){return Ia(n.replace(/\+/g,"%20"))}function rl(n){return`${Zn(n.path)}${function Er(n){return Object.keys(n).map(e=>`;${Zn(e)}=${Zn(n[e])}`).join("")}(n.parameters)}`}const Wl=/^[^\/()?;#]+/;function yu(n){const e=n.match(Wl);return e?e[0]:""}const yp=/^[^\/()?;=#]+/,L_=/^[^=?&#]+/,Zl=/^[^&#]+/;class n0{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new x([],{}):new x([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Gt]=new x(e,t)),i}parseSegment(){const e=yu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new T(Ia(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function rf(n){const e=n.match(yp);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=yu(this.remaining);r&&(i=r,this.capture(i))}e[Ia(t)]=Ia(i)}parseQueryParam(e){const t=function sf(n){const e=n.match(L_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=function Jc(n){const e=n.match(Zl);return e?e[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=yo(t),s=yo(i);if(e.hasOwnProperty(r)){let l=e[r];Array.isArray(l)||(l=[l],e[r]=l),l.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=yu(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new d.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Gt);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[Gt]:new x([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function r0(n){return n.segments.length>0?new x([],{[Gt]:n}):n}function bp(n){const e={};for(const i of Object.keys(n.children)){const s=bp(n.children[i]);if(i===Gt&&0===s.segments.length&&s.hasChildren())for(const[l,h]of Object.entries(s.children))e[l]=h;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function s0(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new x(n.segments.concat(e.segments),e.children)}return n}(new x(n.segments,e))}function ed(n){return n instanceof ql}function B_(n){let e;const r=r0(function t(s){const l={};for(const m of s.children){const v=t(m);l[m.outlet]=v}const h=new x(s.url,l);return s===n&&(e=h),h}(n.root));return e??r}function o0(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return _(r,r,r,t,i);const s=function P(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new M(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Object.entries(s.outlets).forEach(([m,v])=>{h[m]="string"==typeof v?v.split("/"):v}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new M(t,e,i)}(e);if(s.toRoot())return _(r,r,new x([],{}),t,i);const l=function pe(n,e,t){if(n.isAbsolute)return new X(e,!0,0);if(!t)return new X(e,!1,NaN);if(null===t.parent)return new X(t,!0,0);const i=b(n.commands[0])?0:1;return function Ge(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new d.vHH(4005,!1);r=i.segments.length}return new X(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),h=l.processChildren?tn(l.segmentGroup,l.index,s.commands):Et(l.segmentGroup,l.index,s.commands);return _(r,l.segmentGroup,h,t,i)}function b(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function g(n){return"object"==typeof n&&null!=n&&n.outlets}function _(n,e,t,i,r){let l,s={};i&&Object.entries(i).forEach(([m,v])=>{s[m]=Array.isArray(v)?v.map(w=>`${w}`):`${v}`}),l=n===e?t:C(n,e,t);const h=r0(bp(l));return new ql(h,s,r)}function C(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:C(s,e,t)}),new x(n.segments,i)}class M{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&b(i[0]))throw new d.vHH(4003,!1);const r=i.find(g);if(r&&r!==gi(i))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class X{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Et(n,e,t){if(n||(n=new x([],{})),0===n.segments.length&&n.hasChildren())return tn(n,e,t);const i=function Lr(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const l=n.segments[r],h=t[i];if(g(h))break;const m=`${h}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!xp(m,v,l))return s;i+=2}else{if(!xp(m,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new x(n.segments.slice(0,i.pathIndex),{});return s.children[Gt]=new x(n.segments.slice(i.pathIndex),n.children),tn(s,0,r)}return i.match&&0===r.length?new x(n.segments,{}):i.match&&!n.hasChildren()?Ta(n,e,t):i.match?tn(n,0,r):Ta(n,e,t)}function tn(n,e,t){if(0===t.length)return new x(n.segments,{});{const i=function rt(n){return g(n[0])?n[0].outlets:{[Gt]:n}}(t),r={};if(!i[Gt]&&n.children[Gt]&&1===n.numberOfChildren&&0===n.children[Gt].segments.length){const s=tn(n.children[Gt],e,t);return new x(n.segments,s.children)}return Object.entries(i).forEach(([s,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(r[s]=Et(n.children[s],e,l))}),Object.entries(n.children).forEach(([s,l])=>{void 0===i[s]&&(r[s]=l)}),new x(n.segments,r)}}function Ta(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(g(s)){const m=wp(s.outlets);return new x(i,m)}if(0===r&&b(t[0])){i.push(new T(n.segments[e].path,U_(t[0]))),r++;continue}const l=g(s)?s.outlets[Gt]:`${s}`,h=r<t.length-1?t[r+1]:null;l&&h&&b(h)?(i.push(new T(l,U_(h))),r+=2):(i.push(new T(l,{})),r++)}return new x(i,{})}function wp(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=Ta(new x([],{}),0,i))}),e}function U_(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function xp(n,e,t){return n==t.path&&Os(e,t.parameters)}const bu="imperative";class bo{constructor(e,t){this.id=e,this.url=t}}class sl extends bo{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qo extends bo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class td extends bo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ol extends bo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class wu extends bo{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nd extends bo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class af extends bo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H_ extends bo{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class j_ extends bo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z_ extends bo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class al{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cM{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dM{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uM{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pC{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a0{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gC{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hM{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new lf,this.attachRef=null}}let lf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new hM,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _C{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=l0(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=l0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=gs(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return gs(e,this._root).map(t=>t.value)}}function l0(n,e){if(n===e.value)return e;for(const t of e.children){const i=l0(n,t);if(i)return i}return null}function gs(n,e){if(n===e.value)return[e];for(const t of e.children){const i=gs(n,t);if(i.length)return i.unshift(e),i}return[]}class Da{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function xu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class $_ extends _C{constructor(e,t){super(e),this.snapshot=t,G_(this,e)}toString(){return this.snapshot.toString()}}function es(n,e){const t=function Ep(n,e){const l=new Cp([],{},{},"",{},Gt,e,null,{});return new vC("",new Da(l,[]))}(0,e),i=new dr.X([new T("",{})]),r=new dr.X({}),s=new dr.X({}),l=new dr.X({}),h=new dr.X(""),m=new Eu(i,r,l,h,s,Gt,e,t.root);return m.snapshot=t.root,new $_(new Da(m,[]),t)}class Eu{constructor(e,t,i,r,s,l,h,m){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=l,this.component=h,this._futureSnapshot=m,this.title=this.dataSubject?.pipe((0,mt.U)(v=>v[Ea]))??(0,dt.of)(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(e=>Xc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(e=>Xc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function c0(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function fM(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Cp{get title(){return this.data?.[Ea]}constructor(e,t,i,r,s,l,h,m,v){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=h,this.routeConfig=m,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vC extends _C{constructor(e,t){super(t),this.url=e,G_(this,t)}toString(){return yC(this._root)}}function G_(n,e){e.value._routerState=n,e.children.forEach(t=>G_(n,t))}function yC(n){const e=n.children.length>0?` { ${n.children.map(yC).join(", ")} } `:"";return`${n.value}${e}`}function q_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Os(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Os(e.params,t.params)||n.paramsSubject.next(t.params),function $l(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Os(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Os(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function d0(n,e){const t=Os(n.params,e.params)&&function A(n,e){return H(n,e)&&n.every((t,i)=>Os(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||d0(n.parent,e.parent))}let u0=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Gt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(lf),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(cf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=t;const r=this.location,l=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new h0(t,h,r.injector);this.activated=r.createComponent(l,{index:r.length,injector:m,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),n})();class h0{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Eu?this.route:e===lf?this.childContexts:this.parent.get(e,t)}}const cf=new d.OlP("");let bC=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=go([i.queryParams,i.params,i.data]).pipe((0,si.w)(([s,l,h],m)=>(h={...s,...l,...h},0===m?(0,dt.of)(h):Promise.resolve(h)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const l=(0,d.qFp)(i.component);if(l)for(const{templateName:h}of l.inputs)t.activatedComponentRef.setInput(h,s[h]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Tp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function mM(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Tp(n,i,r);return Tp(n,i)})}(n,e,t);return new Da(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(h=>Tp(n,h)),l}}const i=function wC(n){return new Eu(new dr.X(n.url),new dr.X(n.params),new dr.X(n.queryParams),new dr.X(n.fragment),new dr.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Tp(n,s));return new Da(i,r)}}const W_="ngNavigationCancelingError";function f0(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=ed(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Cu(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Cu(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[W_]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Dp(n){return m0(n)&&ed(n.url)}function m0(n){return n&&n[W_]}let Z_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,i){1&t&&d._UZ(0,"router-outlet")},dependencies:[u0],encapsulation:2}),n})();function Y_(n){const e=n.children&&n.children.map(Y_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=Z_),t}function wo(n){return n.outlet||Gt}function Sp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Iu{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),q_(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=xu(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=xu(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(i&&i.outlet){const l=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=xu(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=xu(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new a0(s.value.snapshot))}),e.children.length&&this.forwardEvent(new uM(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(q_(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),q_(h.route.value),this.activateChildRoutes(e,null,l.children)}else{const h=Sp(r.snapshot);l.attachRef=null,l.route=r,l.injector=h,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,i)}}class g0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ap{constructor(e,t){this.component=e,this.route=t}}function _M(n,e,t){const i=n._root;return Mp(i,e?e._root:null,t,[i.value])}function Kl(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:i}function Mp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=xu(e);return n.children.forEach(l=>{(function IC(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const m=function TC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!H(n.url,e.url);case"pathParamsOrQueryParamsChange":return!H(n.url,e.url)||!Os(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!d0(n,e)||!Os(n.queryParams,e.queryParams);default:return!d0(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new g0(i)):(s.data=l.data,s._resolvedData=l._resolvedData),Mp(n,e,s.component?h?h.children:null:t,i,r),m&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Ap(h.outlet.component,l))}else l&&df(e,h,r),r.canActivateChecks.push(new g0(i)),Mp(n,null,s.component?h?h.children:null:t,i,r)})(l,s[l.value.outlet],t,i.concat([l.value]),r),delete s[l.value.outlet]}),Object.entries(s).forEach(([l,h])=>df(h,t.getContext(l),r)),r}function df(n,e,t){const i=xu(n),r=n.value;Object.entries(i).forEach(([s,l])=>{df(l,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Ap(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Tu(n){return"function"==typeof n}function uf(n){return n instanceof qo||"EmptyError"===n?.name}const J_=Symbol("INITIAL_VALUE");function Du(){return(0,si.w)(n=>go(n.map(e=>e.pipe(Fr(1),ms(J_)))).pipe((0,mt.U)(e=>{for(const t of e)if(!0!==t){if(t===J_)return J_;if(!1===t||t instanceof ql)return t}return!0}),oi(e=>e!==J_),Fr(1)))}function kC(n){return(0,Ja.z)((0,Rn.b)(e=>{if(ed(e))throw f0(0,e)}),(0,mt.U)(e=>!0===e))}class tv{constructor(e){this.segmentGroup=e||null}}class nv{constructor(e){this.urlTree=e}}function ff(n){return Zo(new tv(n))}function mf(n){return Zo(new nv(n))}class RC{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new d.vHH(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,dt.of)(i);if(r.numberOfChildren>1||!r.children[Gt])return Zo(new d.vHH(4e3,!1));r=r.children[Gt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new ql(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);i[r]=t[h]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let l={};return Object.entries(t.children).forEach(([h,m])=>{l[h]=this.createSegmentGroup(e,m,i,r)}),new x(s,l)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new d.vHH(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const rv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NC(n,e,t,i,r){const s=Yl(n,e,t);return s.matched?(i=function K_(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function iF(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,dt.of)(!0);const s=r.map(l=>{const h=Kl(l,n);return vo(function X_(n){return n&&Tu(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))});return(0,dt.of)(s).pipe(Du(),kC())}(i,e,t).pipe((0,mt.U)(l=>!0===l?s:{...rv}))):(0,dt.of)(s)}function Yl(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...rv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||t0)(t,n,e);if(!r)return{...rv};const s={};Object.entries(r.posParams??{}).forEach(([h,m])=>{s[h]=m.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function OC(n,e,t,i){return t.length>0&&function IM(n,e,t){return t.some(i=>Xo(n,e,i)&&wo(i)!==Gt)}(n,t,i)?{segmentGroup:new x(e,CM(i,new x(t,n.children))),slicedSegments:[]}:0===t.length&&function TM(n,e,t){return t.some(i=>Xo(n,e,i))}(n,t,i)?{segmentGroup:new x(n.segments,EM(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new x(n.segments,n.children),slicedSegments:t}}function EM(n,e,t,i,r){const s={};for(const l of i)if(Xo(n,t,l)&&!r[wo(l)]){const h=new x([],{});s[wo(l)]=h}return{...r,...s}}function CM(n,e){const t={};t[Gt]=e;for(const i of n)if(""===i.path&&wo(i)!==Gt){const r=new x([],{});t[wo(i)]=r}return t}function Xo(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class AM{constructor(e,t,i,r,s,l,h){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=l,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new RC(this.urlSerializer,this.urlTree)}noMatchError(e){return new d.vHH(4002,!1)}recognize(){const e=OC(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Gt).pipe(xr(t=>{if(t instanceof nv)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof tv?this.noMatchError(t):t}),(0,mt.U)(t=>{const i=new Cp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,{}),r=new Da(i,t),s=new vC("",r),l=function V_(n,e,t=null,i=null){return o0(B_(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(s._root),{state:s,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Gt).pipe(xr(i=>{throw i instanceof tv?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=c0(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,hn.D)(r).pipe(Xr(s=>{const l=i.children[s],h=function gM(n,e){const t=n.filter(i=>wo(i)===e);return t.push(...n.filter(i=>wo(i)!==e)),t}(t,s);return this.processSegmentGroup(e,h,l,s)}),ps((s,l)=>(s.push(...l),s)),el(null),function pu(n,e){const t=arguments.length>=2;return i=>i.pipe(n?oi((r,s)=>n(r,s,i)):hs.y,to(1),t?el(e):tf(()=>new qo))}(),(0,Si.z)(s=>{if(null===s)return ff(i);const l=PC(s);return function MM(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,dt.of)(l)}))}processSegment(e,t,i,r,s,l){return(0,hn.D)(t).pipe(Xr(h=>this.processSegmentAgainstRoute(h._injector??e,t,h,i,r,s,l).pipe(xr(m=>{if(m instanceof tv)return(0,dt.of)(null);throw m}))),eo(h=>!!h),xr(h=>{if(uf(h))return function DM(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?(0,dt.of)([]):ff(i);throw h}))}processSegmentAgainstRoute(e,t,i,r,s,l,h){return function pf(n,e,t,i){return!!(wo(n)===i||i!==Gt&&Xo(e,t,n))&&("**"===n.path||Yl(e,n,t).matched)}(i,r,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,l,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,l):ff(r):ff(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?mf(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,Si.z)(l=>{const h=new x(l,{});return this.processSegment(e,t,h,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){const{matched:h,consumedSegments:m,remainingSegments:v,positionalParamSegments:w}=Yl(t,r,s);if(!h)return ff(t);const D=this.applyRedirects.applyRedirectCommands(m,r.redirectTo,w);return r.redirectTo.startsWith("/")?mf(D):this.applyRedirects.lineralizeSegments(r,D).pipe((0,Si.z)(k=>this.processSegment(e,i,t,k.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,i,r,s,l){let h;if("**"===i.path){const m=r.length>0?gi(r).parameters:{},v=new Cp(r,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FC(i),wo(i),i.component??i._loadedComponent??null,i,LC(i));h=(0,dt.of)({snapshot:v,consumedSegments:[],remainingSegments:[]}),t.children={}}else h=NC(t,i,r,e).pipe((0,mt.U)(({matched:m,consumedSegments:v,remainingSegments:w,parameters:D})=>m?{snapshot:new Cp(v,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FC(i),wo(i),i.component??i._loadedComponent??null,i,LC(i)),consumedSegments:v,remainingSegments:w}:null));return h.pipe((0,si.w)(m=>null===m?ff(t):this.getChildConfig(e=i._injector??e,i,r).pipe((0,si.w)(({routes:v})=>{const w=i._loadedInjector??e,{snapshot:D,consumedSegments:k,remainingSegments:U}=m,{segmentGroup:z,slicedSegments:K}=OC(t,k,U,v);if(0===K.length&&z.hasChildren())return this.processChildren(w,v,z).pipe((0,mt.U)(Le=>null===Le?null:[new Da(D,Le)]));if(0===v.length&&0===K.length)return(0,dt.of)([new Da(D,[])]);const oe=wo(i)===s;return this.processSegment(w,v,z,K,oe?Gt:s,!0).pipe((0,mt.U)(Le=>[new Da(D,Le)]))}))))}getChildConfig(e,t,i){return t.children?(0,dt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,dt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function xM(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,dt.of)(!0);const s=r.map(l=>{const h=Kl(l,n);return vo(function Q_(n){return n&&Tu(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))});return(0,dt.of)(s).pipe(Du(),kC())}(e,t,i).pipe((0,Si.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Rn.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function b0(n){return Zo(Cu(!1,3))}())):(0,dt.of)({routes:[],injector:e})}}function kM(n){const e=n.value.routeConfig;return e&&""===e.path}function PC(n){const e=[],t=new Set;for(const i of n){if(!kM(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=PC(i.children);e.push(new Da(i.value,r))}return e.filter(i=>!t.has(i))}function FC(n){return n.data||{}}function LC(n){return n.resolve||{}}function w0(n){return"string"==typeof n.title||null===n.title}function ov(n){return(0,si.w)(e=>{const t=n(e);return t?(0,hn.D)(t).pipe((0,mt.U)(()=>e)):(0,dt.of)(e)})}const Np=new d.OlP("ROUTES");let BC=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,dt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=vo(t.loadComponent()).pipe((0,mt.U)(av),(0,Rn.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),nl(()=>{this.componentLoaders.delete(t)})),r=new Ko(i,()=>new Xt.x).pipe(xa());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,dt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,mt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let m,v;return Array.isArray(h)?v=h:(m=h.create(t).injector,v=m.get(Np,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:v.map(Y_),injector:m}}),nl(()=>{this.childrenLoaders.delete(i)})),l=new Ko(s,()=>new Xt.x).pipe(xa());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(t){return vo(t()).pipe((0,mt.U)(av),(0,Si.z)(i=>i instanceof d.YKP||Array.isArray(i)?(0,dt.of)(i):(0,hn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function av(n){return function rF(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let gf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Xt.x,this.configLoader=(0,d.f3M)(BC),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(J),this.rootContexts=(0,d.f3M)(lf),this.inputBindingEnabled=null!==(0,d.f3M)(cf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,dt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new cM(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new al(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new dr.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bu,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(oi(i=>0!==i.id),(0,mt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),(0,si.w)(i=>{let r=!1,s=!1;return(0,dt.of)(i).pipe((0,Rn.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,si.w)(l=>{const h=t.browserUrlTree.toString(),m=!t.navigated||l.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(!m&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const w="";return this.events.next(new ol(l.id,t.serializeUrl(i.rawUrl),w,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Ns.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return PM(l.source)&&(t.browserUrlTree=l.extractedUrl),(0,dt.of)(l).pipe((0,si.w)(w=>{const D=this.transitions?.getValue();return this.events.next(new sl(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),D!==this.transitions?.getValue()?Ns.E:Promise.resolve(w)}),function NM(n,e,t,i,r,s){return(0,Si.z)(l=>function SM(n,e,t,i,r,s,l="emptyOnly"){return new AM(n,e,t,i,r,l,s).recognize()}(n,e,t,i,l.extractedUrl,r,s).pipe((0,mt.U)(({state:h,tree:m})=>({...l,targetSnapshot:h,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Rn.b)(w=>{if(i.targetSnapshot=w.targetSnapshot,i.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!w.extras.skipLocationChange){const k=t.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);t.setBrowserUrl(k,w)}t.browserUrlTree=w.urlAfterRedirects}const D=new nd(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(D)}));if(m&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:w,extractedUrl:D,source:k,restoredState:U,extras:z}=l,K=new sl(w,this.urlSerializer.serialize(D),k,U);this.events.next(K);const oe=es(0,this.rootComponentType).snapshot;return i={...l,targetSnapshot:oe,urlAfterRedirects:D,extras:{...z,skipLocationChange:!1,replaceUrl:!1}},(0,dt.of)(i)}{const w="";return this.events.next(new ol(l.id,t.serializeUrl(i.extractedUrl),w,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Ns.E}}),(0,Rn.b)(l=>{const h=new af(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),(0,mt.U)(l=>i={...l,guards:_M(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function yM(n,e){return(0,Si.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?(0,dt.of)({...t,guardsResult:!0}):function bM(n,e,t,i){return(0,hn.D)(n).pipe((0,Si.z)(r=>function hf(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,dt.of)(!0);const l=s.map(h=>{const m=Sp(e)??r,v=Kl(h,m);return vo(function _0(n){return n&&Tu(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,i):m.runInContext(()=>v(n,e,t,i))).pipe(eo())});return(0,dt.of)(l).pipe(Du())}(r.component,r.route,t,e,i)),eo(r=>!0!==r,!0))}(l,i,r,n).pipe((0,Si.z)(h=>h&&function DC(n){return"boolean"==typeof n}(h)?function wM(n,e,t,i){return(0,hn.D)(e).pipe(Xr(r=>fs(function MC(n,e){return null!==n&&e&&e(new dM(n)),(0,dt.of)(!0)}(r.route.parent,i),function AC(n,e){return null!==n&&e&&e(new pC(n)),(0,dt.of)(!0)}(r.route,i),function y0(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function nF(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>_p(()=>{const h=l.guards.map(m=>{const v=Sp(l.node)??t,w=Kl(m,v);return vo(function SC(n){return n&&Tu(n.canActivateChild)}(w)?w.canActivateChild(i,n):v.runInContext(()=>w(i,n))).pipe(eo())});return(0,dt.of)(h).pipe(Du())}));return(0,dt.of)(s).pipe(Du())}(n,r.path,t),function ev(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,dt.of)(!0);const r=i.map(s=>_p(()=>{const l=Sp(e)??t,h=Kl(s,l);return vo(function kp(n){return n&&Tu(n.canActivate)}(h)?h.canActivate(e,n):l.runInContext(()=>h(e,n))).pipe(eo())}));return(0,dt.of)(r).pipe(Du())}(n,r.route,t))),eo(r=>!0!==r,!0))}(i,s,n,e):(0,dt.of)(h)),(0,mt.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Rn.b)(l=>{if(i.guardsResult=l.guardsResult,ed(l.guardsResult))throw f0(0,l.guardsResult);const h=new H_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),oi(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),ov(l=>{if(l.guards.canActivateChecks.length)return(0,dt.of)(l).pipe((0,Rn.b)(h=>{const m=new j_(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}),(0,si.w)(h=>{let m=!1;return(0,dt.of)(h).pipe(function OM(n,e){return(0,Si.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,dt.of)(t);let s=0;return(0,hn.D)(r).pipe(Xr(l=>function sv(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!w0(r)&&(s[Ea]=r.title),function Ql(n,e,t,i){const r=function Rp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,dt.of)({});const s={};return(0,hn.D)(r).pipe((0,Si.z)(l=>function VC(n,e,t,i){const r=Sp(e)??i,s=Kl(n,r);return vo(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[l],e,t,i).pipe(eo(),(0,Rn.b)(h=>{s[l]=h}))),to(1),tl(s),xr(l=>uf(l)?Ns.E:Zo(l)))}(s,n,e,i).pipe((0,mt.U)(l=>(n._resolvedData=l,n.data=c0(n,t).resolve,r&&w0(r)&&(n.data[Ea]=r.title),null)))}(l.route,i,n,e)),(0,Rn.b)(()=>s++),to(1),(0,Si.z)(l=>s===r.length?(0,dt.of)(t):Ns.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Rn.b)({next:()=>m=!0,complete:()=>{m||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,Rn.b)(h=>{const m=new z_(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}))}),ov(l=>{const h=m=>{const v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe((0,Rn.b)(w=>{m.component=w}),(0,mt.U)(()=>{})));for(const w of m.children)v.push(...h(w));return v};return go(h(l.targetSnapshot.root)).pipe(el(),Fr(1))}),ov(()=>this.afterPreactivation()),(0,mt.U)(l=>{const h=function Ip(n,e,t){const i=Tp(n,e._root,t?t._root:void 0);return new $_(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:h}}),(0,Rn.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t,i)=>(0,mt.U)(r=>(new Iu(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Fr(1),(0,Rn.b)({next:l=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Qo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{r=!0}}),nl(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),xr(l=>{if(s=!0,m0(l)){Dp(l)||(t.navigated=!0,t.restoreHistory(i,!0));const h=new td(i.id,this.urlSerializer.serialize(i.extractedUrl),l.message,l.cancellationCode);if(this.events.next(h),Dp(l)){const m=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),v={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||PM(i.source)};t.scheduleNavigation(m,bu,null,v,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const h=new wu(i.id,this.urlSerializer.serialize(i.extractedUrl),l,i.targetSnapshot??void 0);this.events.next(h);try{i.resolve(t.errorHandler(l))}catch(m){i.reject(m)}}return Ns.E}))}))}cancelNavigationTransition(t,i,r){const s=new td(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PM(n){return n!==bu}let FM=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Gt);return i}getResolvedTitleForRoute(t){return t.data[Ea]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(UC)},providedIn:"root"}),n})(),UC=(()=>{class n extends FM{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(qc))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(BM)},providedIn:"root"}),n})();class VM{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let BM=(()=>{class n extends VM{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lv=new d.OlP("",{providedIn:"root",factory:()=>({})});let HC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(cv)},providedIn:"root"}),n})(),cv=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var no=(()=>((no=no||{})[no.COMPLETE=0]="COMPLETE",no[no.FAILED=1]="FAILED",no[no.REDIRECTING=2]="REDIRECTING",no))();function dv(n,e){n.events.pipe(oi(t=>t instanceof Qo||t instanceof td||t instanceof wu||t instanceof ol),(0,mt.U)(t=>t instanceof Qo||t instanceof ol?no.COMPLETE:t instanceof td&&(0===t.code||1===t.code)?no.REDIRECTING:no.FAILED),oi(t=>t!==no.REDIRECTING),Fr(1)).subscribe(()=>{e()})}function UM(n){throw n}function Xi(n,e,t){return e.parse("/")}const jC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _s=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(lv,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||UM,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Xi,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(HC),this.routeReuseStrategy=(0,d.f3M)(LM),this.titleStrategy=(0,d.f3M)(FM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(Np,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(gf),this.urlSerializer=(0,d.f3M)(J),this.location=(0,d.f3M)(Xe),this.componentInputBindingEnabled=!!(0,d.f3M)(cf,{optional:!0}),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ql,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=es(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),bu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const m={...r};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(s.state=m)}const h=this.parseUrl(t);this.scheduleNavigation(h,i,l,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Y_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:h,preserveFragment:m}=i,v=m?this.currentUrlTree.fragment:l;let D,w=null;switch(h){case"merge":w={...this.currentUrlTree.queryParams,...s};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=s||null}null!==w&&(w=this.removeEmptyProps(w));try{D=B_(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),D=this.currentUrlTree.root}return o0(D,t,w,v??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=ed(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,bu,null,i)}navigate(t,i={skipLocationChange:!1}){return function zC(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new d.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...jC}:!1===i?{...HM}:i,ed(t))return Jr(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Jr(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,l){if(this.disposed)return Promise.resolve(!1);let h,m,v;l?(h=l.resolve,m=l.reject,v=l.promise):v=new Promise((D,k)=>{h=D,m=k});const w=this.pendingTasks.add();return dv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(w))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:h,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(D=>Promise.reject(D))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Su=(()=>{class n{constructor(t,i,r,s,l,h){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=l,this.locationStrategy=h,this.href=null,this.commands=null,this.onChanges=new Xt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof Qo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(_s),d.Y36(Eu),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Ve))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&d.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&d.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),n})();class $C{}let sF=(()=>{class n{constructor(t,i,r,s,l){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(oi(t=>t instanceof Qo),Xr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,d.MMx)(s.providers,t,`Route: ${s.path}`));const l=s._injector??t,h=s._loadedInjector??l;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(l,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,hn.D)(r).pipe((0,_o.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,dt.of)(null);const s=r.pipe((0,Si.z)(l=>null===l?(0,dt.of)(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,hn.D)([s,l]).pipe((0,_o.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_s),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG($C),d.LFG(BC))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Au=new d.OlP("");let An=(()=>{class n{constructor(t,i,r,s,l={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qo?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ol&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof gC&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gC(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function ll(n,e){return{\u0275kind:n,\u0275providers:e}}function E0(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const i=n.get(_s),r=n.get(hv);1===n.get(WC)&&i.initialNavigation(),n.get(I0,null,d.XFs.Optional)?.setUpPreloading(),n.get(Au,null,d.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const hv=new d.OlP("",{factory:()=>new Xt.x}),WC=new d.OlP("",{providedIn:"root",factory:()=>1}),I0=new d.OlP("");function KC(n){return ll(0,[{provide:I0,useExisting:sF},{provide:$C,useExisting:n}])}const mv=new d.OlP("ROUTER_FORROOT_GUARD"),pv=[Xe,{provide:J,useClass:ge},_s,lf,{provide:Eu,useFactory:function x0(n){return n.routerState.root},deps:[_s]},BC,[]];function Mu(){return new d.PXZ("Router",_s)}let gv=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[pv,[],{provide:Np,multi:!0,useValue:t},{provide:mv,useFactory:QC,deps:[[_s,new d.FiY,new d.tp0]]},{provide:lv,useValue:i||{}},i?.useHash?{provide:Ve,useClass:Oe}:{provide:Ve,useClass:Qe},{provide:Au,useFactory:()=>{const n=(0,d.f3M)(ua),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(lv),i=(0,d.f3M)(gf),r=(0,d.f3M)(J);return t.scrollOffset&&n.setOffset(t.scrollOffset),new An(r,i,n,e,t)}},i?.preloadingStrategy?KC(i.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Mu},i?.initialNavigation?vf(i):[],i?.bindToComponentInputs?ll(8,[bC,{provide:cf,useExisting:bC}]).\u0275providers:[],[{provide:XC,useFactory:E0},{provide:d.tb,multi:!0,useExisting:XC}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Np,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(mv,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function QC(n){return"guarded"}function vf(n){return["disabled"===n.initialNavigation?ll(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(_s);return()=>{e.setUpLocationChangeListener()}}},{provide:WC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ll(2,[{provide:WC,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(Me,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(_s),s=e.get(hv);dv(r,()=>{i(!0)}),e.get(gf).afterPreactivation=()=>(i(!0),s.closed?(0,dt.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const XC=new d.OlP("");var uF=L(6878),B=L(9058),Ls=L(534),Sa=L(7879),cl=L(4537),Op=L(3019),ku=L(3093),XM=L(4552);class D0 extends Xt.x{constructor(e=1/0,t=1/0,i=XM.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:l}=this;t||(i.push(e),!r&&i.push(s.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let l=0;l<s.length&&!e.closed;l+=i?1:2)e.next(s[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const l=t.now();let h=0;for(let m=1;m<i.length&&i[m]<=l;m+=2)h=m;h&&i.splice(0,h+1)}}}var Pp=L(3020);function Ru(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,Pp.B)({connector:()=>new D0(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function _v(n,e){return(0,wr.m)(e)?(0,si.w)(()=>n,e):(0,si.w)(()=>n)}var Fp=L(5137),gn=L(8186),Bi=L(6304);L(3182);var xe=L(5861);const vv=new Map,yv={activated:!1,tokenObservers:[]},bv={initialized:!1,enabled:!1};function Ui(n){return vv.get(n)||Object.assign({},yv)}function wv(){return bv}const xv="https://content-firebaseappcheck.googleapis.com/v1",Bp="exchangeDebugToken",sI={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Up{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,xe.Z)(function*(){t.stop();try{t.pending=new B.BH,yield function sk(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new B.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ts=new B.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function M0(n){if(!Ui(n).activated)throw ts.create("use-before-activation",{appName:n.name})}function wf(n,e){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,xe.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const D=yield r.getHeartbeatsHeader();D&&(i["X-Firebase-Client"]=D)}const s={method:"POST",body:JSON.stringify(e),headers:i};let l,h;try{l=yield fetch(n,s)}catch(D){throw ts.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==l.status)throw ts.create("fetch-status-error",{httpStatus:l.status});try{h=yield l.json()}catch(D){throw ts.create("fetch-parse-error",{originalErrorMessage:D?.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw ts.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(m[1]),w=Date.now();return{token:h.token,expireTimeMillis:w+v,issuedAtTimeMillis:w}})).apply(this,arguments)}function Iv(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${xv}/projects/${t}/apps/${i}:${Bp}?key=${r}`,body:{debug_token:e}}}const xf="firebase-app-check-database",Tv=1,Ef="firebase-app-check-store";let Dv=null;function id(){return(id=(0,xe.Z)(function*(n,e){const i=(yield function lI(){return Dv||(Dv=new Promise((n,e)=>{try{const t=indexedDB.open(xf,Tv);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(ts.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ef,{keyPath:"compositeKey"})}}catch(t){e(ts.create("storage-open",{originalErrorMessage:t?.message}))}}),Dv)}()).transaction(Ef,"readwrite"),s=i.objectStore(Ef).put({compositeKey:n,value:e});return new Promise((l,h)=>{s.onsuccess=m=>{l()},i.onerror=m=>{var v;h(ts.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const jp=new Sa.Yd("@firebase/app-check");function Av(n,e){return(0,B.hl)()?function ak(n,e){return function R0(n,e){return id.apply(this,arguments)}(function dk(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{jp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Mv(){return wv().enabled}function Cf(){return kv.apply(this,arguments)}function kv(){return(kv=(0,xe.Z)(function*(){const n=wv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fI={error:"UNKNOWN_ERROR"};function Jt(n){return B.US.encodeString(JSON.stringify(n),!1)}function zp(n){return Rv.apply(this,arguments)}function Rv(){return(Rv=(0,xe.Z)(function*(n,e=!1){const t=n.app;M0(t);const i=Ui(t);let s,r=i.token;if(r&&!Ou(r)&&(i.token=void 0,r=void 0),!r){const m=yield i.cachedTokenPromise;m&&(Ou(m)?r=m:yield Av(t,void 0))}if(!e&&r&&Ou(r))return{token:r.token};let h,l=!1;if(Mv()){i.exchangeTokenPromise||(i.exchangeTokenPromise=wf(Iv(t,yield Cf()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const m=yield i.exchangeTokenPromise;return yield Av(t,m),i.token=m,{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield Ui(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?jp.warn(m.message):jp.error(m),s=m}return r?s?h=Ou(r)?{token:r.token,internalError:s}:_I(s):(h={token:r.token},i.token=r,yield Av(t,r)):h=_I(s),l&&function gI(n,e){const t=Ui(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,h),h})).apply(this,arguments)}function uk(n){return N0.apply(this,arguments)}function N0(){return(N0=(0,xe.Z)(function*(n){const e=n.app;M0(e);const{provider:t}=Ui(e);if(Mv()){const i=yield Cf(),{token:r}=yield wf(Iv(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function O0(n,e){const t=Ui(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function mI(n){const{app:e}=n,t=Ui(e);let i=t.tokenRefresher;i||(i=function pI(n){const{app:e}=n;return new Up((0,xe.Z)(function*(){let i;if(i=Ui(e).token?yield zp(n,!0):yield zp(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Ui(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},sI.RETRIAL_MIN_WAIT,sI.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Ou(n){return n.expireTimeMillis-Date.now()>0}function _I(n){return{token:Jt(fI),error:n}}class hk{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ui(this.app);for(const t of e)O0(this.app,t.next);return Promise.resolve()}}const CI="app-check-internal";!function xo(){(0,Ls._registerComponent)(new cl.wA("app-check",n=>function yF(n,e){return new hk(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(CI).initialize()})),(0,Ls._registerComponent)(new cl.wA(CI,n=>function vI(n){return{getToken:e=>zp(n,e),getLimitedUseToken:()=>uk(n),addTokenListener:e=>function Nv(n,e,t,i){const{app:r}=n,s=Ui(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&Ou(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),mI(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>mI(n))}(n,"INTERNAL",e),removeTokenListener:e=>O0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ls.registerVersion)("@firebase/app-check","0.8.0")}();class Vv{constructor(){return(0,gn.vb)("app-check")}}typeof window<"u"&&window;var Df=L(7142);const Uv=new d.OlP("angularfire2.auth.use-emulator"),H0=new d.OlP("angularfire2.auth.settings"),Hv=new d.OlP("angularfire2.auth.tenant-id"),jv=new d.OlP("angularfire2.auth.langugage-code"),Sf=new d.OlP("angularfire2.auth.use-device-language"),$p=new d.OlP("angularfire.auth.persistence"),AI=(n,e,t,i,r,s,l,h)=>(0,Bi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),i&&(m.tenantId=i),m.languageCode=r,s&&m.useDeviceLanguage(),l)for(const[v,w]of Object.entries(l))m.settings[v]=w;return h&&m.setPersistence(h),m},[t,i,r,s,l,h]);let Af=(()=>{class n{constructor(t,i,r,s,l,h,m,v,w,D,k,U){const z=new Xt.x,K=(0,dt.of)(void 0).pipe((0,ku.Q)(l.outsideAngular),(0,si.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,6365)))),(0,mt.U)(()=>(0,Bi.on)(t,s,i)),(0,mt.U)(oe=>AI(oe,s,h,v,w,D,m,k)),Ru({bufferSize:1,refCount:!1}));if(As(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,dt.of)(null);else{K.pipe(eo()).subscribe();const Le=K.pipe((0,si.w)(Ke=>Ke.getRedirectResult().then(St=>St,()=>null)),gn.iC,Ru({bufferSize:1,refCount:!1})),$e=K.pipe((0,si.w)(Ke=>new pi.y(St=>({unsubscribe:s.runOutsideAngular(()=>Ke.onAuthStateChanged(Ot=>St.next(Ot),Ot=>St.error(Ot),()=>St.complete()))})))),ze=K.pipe((0,si.w)(Ke=>new pi.y(St=>({unsubscribe:s.runOutsideAngular(()=>Ke.onIdTokenChanged(Ot=>St.next(Ot),Ot=>St.error(Ot),()=>St.complete()))}))));this.authState=Le.pipe(_v($e),(0,Fp.R)(l.outsideAngular),(0,ku.Q)(l.insideAngular)),this.user=Le.pipe(_v(ze),(0,Fp.R)(l.outsideAngular),(0,ku.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,si.w)(Ke=>Ke?(0,hn.D)(Ke.getIdToken()):(0,dt.of)(null))),this.idTokenResult=this.user.pipe((0,si.w)(Ke=>Ke?(0,hn.D)(Ke.getIdTokenResult()):(0,dt.of)(null))),this.credential=(0,Op.T)(Le,z,this.authState.pipe(oi(Ke=>!Ke))).pipe((0,mt.U)(Ke=>Ke?.user?Ke:null),(0,Fp.R)(l.outsideAngular),(0,ku.Q)(l.insideAngular))}return(0,Bi.pX)(this,K,s,{spy:{apply:(oe,Le,$e)=>{(oe.startsWith("signIn")||oe.startsWith("createUser"))&&$e.then(ze=>z.next(ze))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Bi.Dh),d.LFG(Bi.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(gn.HU),d.LFG(Uv,8),d.LFG(H0,8),d.LFG(Hv,8),d.LFG(jv,8),d.LFG(Sf,8),d.LFG($p,8),d.LFG(Vv,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),MI=(()=>{class n{constructor(){Df.Z.registerVersion("angularfire",gn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Af]}),n})();var Mf=L(6321);function zv(){return(0,Qi.e)((n,e)=>{let t,i=!1;n.subscribe((0,Di.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}var lt,kf=L(3997),j0=(L(6365),L(3106)),Ek=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Eo={},z0=z0||{},Yt=Ek||self;function $0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Rf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Nf="closure_uid_"+(1e9*Math.random()>>>0),Gp=0;function $v(n,e,t){return n.call.apply(n.bind,arguments)}function AF(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function vs(n,e,t){return(vs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$v:AF).apply(null,arguments)}function qp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Cr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[r].apply(i,l)}}function od(){this.s=this.s,this.o=this.o}od.prototype.s=!1,od.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ck(n){Object.prototype.hasOwnProperty.call(n,Nf)&&n[Nf]||(n[Nf]=++Gp)}(this)},od.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const G0=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Gv(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Of(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if($0(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let l=0;l<s;l++)n[r+l]=i[l]}else n.push(i)}}function ys(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ys.prototype.h=function(){this.defaultPrevented=!0};var kI=function(){if(!Yt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Yt.addEventListener("test",()=>{},e),Yt.removeEventListener("test",()=>{},e)}catch{}return n}();function Pf(n){return/^[\s\xa0]*$/.test(n)}function qv(){var n=Yt.navigator;return n&&(n=n.userAgent)?n:""}function ul(n){return-1!=qv().indexOf(n)}function Pu(n){return Pu[" "](n),n}Pu[" "]=function(){};var W0,n,MF=ul("Opera"),Ff=ul("Trident")||ul("MSIE"),RI=ul("Edge"),q0=RI||Ff,NI=ul("Gecko")&&!(-1!=qv().toLowerCase().indexOf("webkit")&&!ul("Edge"))&&!(ul("Trident")||ul("MSIE"))&&!ul("Edge"),Dk=-1!=qv().toLowerCase().indexOf("webkit")&&!ul("Edge");function OI(){var n=Yt.document;return n?n.documentMode:void 0}e:{var Wv="",Wp=(n=qv(),NI?/rv:([^\);]+)(\)|;)/.exec(n):RI?/Edge\/([\d\.]+)/.exec(n):Ff?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Dk?/WebKit\/(\S+)/.exec(n):MF?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Wp&&(Wv=Wp?Wp[1]:""),Ff){var Z0=OI();if(null!=Z0&&Z0>parseFloat(Wv)){W0=String(Z0);break e}}W0=Wv}var Sk=Yt.document&&Ff&&(OI()||parseInt(W0,10))||void 0;function Zp(n,e){if(ys.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(NI){e:{try{Pu(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ak[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Zp.$.h.call(this)}}Cr(Zp,ys);var Ak={2:"touch",3:"pen",4:"mouse"};Zp.prototype.h=function(){Zp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Kp="closure_listenable_"+(1e6*Math.random()|0),Mk=0;function kk(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++Mk,this.fa=this.ia=!1}function Yp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Zv(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Nk(n){const e={};for(const t in n)e[t]=n[t];return e}const K0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y0(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<K0.length;s++)t=K0[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Q0(n){this.src=n,this.g={},this.h=0}function Vf(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=G0(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Yp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function X0(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}Q0.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=X0(n,e,i,r);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new kk(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var J0="closure_lm_"+(1e6*Math.random()|0),Qp={};function FI(n,e,t,i,r){if(i&&i.once)return ns(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)FI(n,e[s],t,i,r);return null}return t=dd(t),n&&n[Kp]?n.O(e,t,Rf(i)?!!i.capture:!!i,r):Aa(n,e,t,!1,i,r)}function Aa(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var l=Rf(r)?!!r.capture:!!r,h=ld(n);if(h||(n[J0]=h=new Q0(n)),(t=h.add(e,t,i,l,s)).proxy)return t;if(i=function Xp(){const e=ew;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)kI||(r=l),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Co(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function ns(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ns(n,e[s],t,i,r);return null}return t=dd(t),n&&n[Kp]?n.P(e,t,Rf(i)?!!i.capture:!!i,r):Aa(n,e,t,!0,i,r)}function ad(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)ad(n,e[s],t,i,r);else i=Rf(i)?!!i.capture:!!i,t=dd(t),n&&n[Kp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=X0(s=n.g[e],t,i,r))&&(Yp(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=ld(n))&&(e=n.g[e.toString()],n=-1,e&&(n=X0(e,t,i,r)),(t=-1<n?e[n]:null)&&Bf(t))}function Bf(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Kp])Vf(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Co(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=ld(e))?(Vf(t,n),0==t.h&&(t.src=null,e[J0]=null)):Yp(n)}}}function Co(n){return n in Qp?Qp[n]:Qp[n]="on"+n}function ew(n,e){if(n.fa)n=!0;else{e=new Zp(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Bf(n),n=t.call(i,e)}return n}function ld(n){return(n=n[J0])instanceof Q0?n:null}var cd="__closure_events_fn_"+(1e9*Math.random()>>>0);function dd(n){return"function"==typeof n?n:(n[cd]||(n[cd]=function(e){return n.handleEvent(e)}),n[cd])}function Ai(){od.call(this),this.i=new Q0(this),this.S=this,this.J=null}function Hi(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new ys(e,n);else if(e instanceof ys)e.target=e.target||n;else{var r=e;Y0(e=new ys(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];r=ec(l,i,!0,e)&&r}if(r=ec(l=e.g=n,i,!0,e)&&r,r=ec(l,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=ec(l=e.g=t[s],i,!1,e)&&r}function ec(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.fa&&l.capture==t){var h=l.listener,m=l.la||l.src;l.ia&&Vf(n.i,l),r=!1!==h.call(m,i)&&r}}return r&&!i.defaultPrevented}Cr(Ai,od),Ai.prototype[Kp]=!0,Ai.prototype.removeEventListener=function(n,e,t,i){ad(this,n,e,t,i)},Ai.prototype.N=function(){if(Ai.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Yp(t[i]);delete n.g[e],n.h--}}this.J=null},Ai.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ai.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var ud=Yt.JSON.stringify;function Hf(){var n=Kv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var tw=new class Uf{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new VI,n=>n.reset());class VI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function BI(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function UI(n){Yt.setTimeout(()=>{throw n},0)}let jf,zf=!1,Kv=new class LI{constructor(){this.h=this.g=null}add(e,t){const i=tw.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},nw=()=>{const n=Yt.Promise.resolve(void 0);jf=()=>{n.then(iw)}};var iw=()=>{for(var n;n=Hf();){try{n.h.call(n.g)}catch(t){UI(t)}var e=tw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}zf=!1};function Yv(n,e){Ai.call(this),this.h=n||1,this.g=e||Yt,this.j=vs(this.qb,this),this.l=Date.now()}function HI(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function jI(n,e,t){if("function"==typeof n)t&&(n=vs(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=vs(n.handleEvent,n)}return 2147483647<Number(e)?-1:Yt.setTimeout(n,e||0)}function zI(n){n.g=jI(()=>{n.g=null,n.i&&(n.i=!1,zI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Cr(Yv,Ai),(lt=Yv.prototype).ga=!1,lt.T=null,lt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hi(this,"tick"),this.ga&&(HI(this),this.start()))}},lt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.N=function(){Yv.$.N.call(this),HI(this),delete this.g};class Ok extends od{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zI(this)}N(){super.N(),this.g&&(Yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qv(n){od.call(this),this.h=n,this.g={}}Cr(Qv,od);var $I=[];function Pk(n,e,t,i){Array.isArray(t)||(t&&($I[0]=t.toString()),t=$I);for(var r=0;r<t.length;r++){var s=FI(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function GI(n){Zv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Bf(e)},n),n.g={}}function Xv(){this.g=!0}function hl(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Jv(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return ud(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Qv.prototype.N=function(){Qv.$.N.call(this),GI(this)},Qv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xv.prototype.Ea=function(){this.g=!1},Xv.prototype.info=function(){};var hd={},$f=null;function Jp(){return $f=$f||new Ai}function qI(n){ys.call(this,hd.Ta,n)}function tc(n){const e=Jp();Hi(e,new qI(e))}function WI(n,e){ys.call(this,hd.STAT_EVENT,n),this.stat=e}function Vs(n){const e=Jp();Hi(e,new WI(e,n))}function ZI(n,e){ys.call(this,hd.Ua,n),this.size=e}function eg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Yt.setTimeout(function(){n()},e)}hd.Ta="serverreachability",Cr(qI,ys),hd.STAT_EVENT="statevent",Cr(WI,ys),hd.Ua="timingevent",Cr(ZI,ys);var Gf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qf(){}function KI(){}qf.prototype.h=null;var ey,ng={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ig(){ys.call(this,"d")}function ow(){ys.call(this,"c")}function ty(){}function rg(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Qv(this),this.P=YI,this.V=new Yv(n=q0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new aw}function aw(){this.i=null,this.g="",this.h=!1}Cr(ig,ys),Cr(ow,ys),Cr(ty,qf),ty.prototype.g=function(){return new XMLHttpRequest},ty.prototype.i=function(){return{}},ey=new ty;var YI=45e3,ny={},iy={};function lw(n,e,t){n.L=1,n.v=Wf(nc(e)),n.s=t,n.S=!0,QI(n,null)}function QI(n,e){n.G=Date.now(),sg(n),n.A=nc(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),pw(t.i,"t",i),n.C=0,t=n.l.J,n.h=new aw,n.g=gg(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Ok(vs(n.Pa,n,n.g),n.O)),Pk(n.U,n.g,"readystatechange",n.nb),e=n.I?Nk(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),tc(),function Fk(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",h=s.split("&"),m=0;m<h.length;m++){var v=h[m].split("=");if(1<v.length){var w=v[0];v=v[1];var D=w.split("_");l=2<=D.length&&"type"==D[1]?l+(w+"=")+v+"&":l+(w+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function cw(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function ry(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=dw(n,t),r==iy){4==e&&(n.o=4,Vs(14),i=!1),hl(n.j,n.m,null,"[Incomplete Response]");break}if(r==ny){n.o=4,Vs(15),hl(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}hl(n.j,n.m,r,null),uw(n,r)}cw(n)&&r!=iy&&r!=ny&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Vs(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),pg(e),e.M=!0,Vs(11))):(hl(n.j,n.m,t,"[Invalid Chunked Response]"),fd(n),Lu(n))}function dw(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?iy:(t=Number(e.substring(t,i)),isNaN(t)?ny:(i+=1)+t>e.length?iy:(e=e.slice(i,i+t),n.C=i+t,e))}function sg(n){n.Y=Date.now()+n.P,og(n,n.P)}function og(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=eg(vs(n.lb,n),e)}function Fu(n){n.B&&(Yt.clearTimeout(n.B),n.B=null)}function Lu(n){0==n.l.H||n.J||Aw(n.l,n)}function fd(n){Fu(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,HI(n.V),GI(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function uw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||ml(t.i,n)))if(!n.K&&ml(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;my(t),Io(t)}Sw(t),Vs(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=eg(vs(t.ib,t),6e3));if(1>=ug(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ju(t,11)}else if((n.K||t.g==n)&&my(t),!Pf(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const w=v[3];null!=w&&(t.ra=w,t.l.info("VER="+t.ra));const D=v[4];null!=D&&(t.Ga=D,t.l.info("SVER="+t.Ga));const k=v[5];null!=k&&"number"==typeof k&&0<k&&(t.L=i=1.5*k,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const U=n.g;if(U){const z=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var s=i.i;s.g||-1==z.indexOf("spdy")&&-1==z.indexOf("quic")&&-1==z.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(vw(s,s.h),s.h=null))}if(i.F){const K=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(i.Da=K,ai(i.I,i.F,K))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((i=t).wa=kw(i,i.J?i.pa:null,i.Y),l.K){sT(i.i,l);var h=l,m=i.L;m&&h.setTimeout(m),h.B&&(Fu(h),sg(h)),i.g=l}else mT(i);0<t.j.length&&ro(t)}else"stop"!=v[0]&&"close"!=v[0]||ju(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?ju(t,7):fy(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}tc()}catch{}}function ag(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if($0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Bk(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if($0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Vk(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if($0(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(lt=rg.prototype).setTimeout=function(n){this.P=n},lt.nb=function(n){n=n.target;const e=this.M;e&&3==pl(n)?e.l():this.Pa(n)},lt.Pa=function(n){try{if(n==this.g)e:{const w=pl(this.g);var e=this.g.Ia();if(this.g.da(),!(3>w)&&(3!=w||q0||this.g&&(this.h.h||this.g.ja()||Tw(this.g)))){this.J||4!=w||7==e||tc(),Fu(this);var t=this.g.da();this.ca=t;t:if(cw(this)){var i=Tw(this.g);n="";var r=i.length,s=4==pl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){fd(this),Lu(this);var l="";break t}this.h.i=new Yt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function rw(n,e,t,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.W,w,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pf(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Vs(12),fd(this),Lu(this);break e}hl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uw(this,t)}this.S?(ry(this,w,l),q0&&this.i&&3==w&&(Pk(this.U,this.V,"tick",this.mb),this.V.start())):(hl(this.j,this.m,l,null),uw(this,l)),4==w&&fd(this),this.i&&!this.J&&(4==w?Aw(this.l,this):(this.i=!1,sg(this)))}else(function kF(n){const e={};n=(n.g&&2<=pl(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Pf(n[i]))continue;var t=BI(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function Rk(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Vs(12)):(this.o=0,Vs(13)),fd(this),Lu(this)}}}catch{}},lt.mb=function(){if(this.g){var n=pl(this.g),e=this.g.ja();this.C<e.length&&(Fu(this),ry(this,n,e),this.i&&4!=n&&sg(this))}},lt.cancel=function(){this.J=!0,fd(this)},lt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function sw(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(tc(),Vs(17)),fd(this),this.o=2,Lu(this)):og(this,this.Y-n)};var lg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function md(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof md){this.h=n.h,sy(this,n.j),this.s=n.s,this.g=n.g,cg(this,n.m),this.l=n.l;var e=n.i,t=new Zf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),oy(this,t),this.o=n.o}else n&&(e=String(n).match(lg))?(this.h=!1,sy(this,e[1]||"",!0),this.s=Vu(e[2]||""),this.g=Vu(e[3]||"",!0),cg(this,e[4]),this.l=Vu(e[5]||"",!0),oy(this,e[6]||"",!0),this.o=Vu(e[7]||"")):(this.h=!1,this.i=new Zf(null,this.h))}function nc(n){return new md(n)}function sy(n,e,t){n.j=t?Vu(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function cg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function oy(n,e,t){e instanceof Zf?(n.i=e,function nT(n,e){e&&!n.j&&(fl(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(ay(this,i),pw(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=dg(e,Uk)),n.i=new Zf(e,n.h))}function ai(n,e,t){n.i.set(e,t)}function Wf(n){return ai(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Vu(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function dg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,XI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function XI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}md.prototype.toString=function(){var n=[],e=this.j;e&&n.push(dg(e,fw,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(dg(e,fw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(dg(t,"/"==t.charAt(0)?eT:JI,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",dg(t,tT)),n.join("")};var fw=/[#\/\?@]/g,JI=/[#\?:]/g,eT=/[#\?]/g,Uk=/[#\?@]/g,tT=/#/g;function Zf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function fl(n){n.g||(n.g=new Map,n.h=0,n.i&&function hw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ay(n,e){fl(n),e=Bu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function mw(n,e){return fl(n),e=Bu(n,e),n.g.has(e)}function pw(n,e,t){ay(n,e),0<t.length&&(n.i=null,n.g.set(Bu(n,e),Gv(t)),n.h+=t.length)}function Bu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function gw(n){this.l=n||rT,n=Yt.PerformanceNavigationTiming?0<(n=Yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Yt.g&&Yt.g.Ka&&Yt.g.Ka()&&Yt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=Zf.prototype).add=function(n,e){fl(this),this.i=null,n=Bu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},lt.forEach=function(n,e){fl(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},lt.ta=function(){fl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},lt.Z=function(n){fl(this);let e=[];if("string"==typeof n)mw(this,n)&&(e=e.concat(this.g.get(Bu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},lt.set=function(n,e){return fl(this),this.i=null,mw(this,n=Bu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},lt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=s;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var rT=10;function _w(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ug(n){return n.h?1:n.g?n.g.size:0}function ml(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function vw(n,e){n.g?n.g.add(e):n.h=e}function sT(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ly(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Gv(n.i)}gw.prototype.cancel=function(){if(this.i=ly(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Uu=class{stringify(n){return Yt.JSON.stringify(n,void 0)}parse(n){return Yt.JSON.parse(n,void 0)}};function yw(){this.g=new Uu}function Hk(n,e,t){const i=t||"";try{ag(n,function(r,s){let l=r;Rf(r)&&(l=ud(r)),e.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function ww(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function cy(n){this.l=n.fc||null,this.j=n.ob||!1}function dy(n,e){Ai.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=xw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Cr(cy,qf),cy.prototype.g=function(){return new dy(this.l,this.j)},cy.prototype.i=function(n){return function(){return n}}({}),Cr(dy,Ai);var xw=0;function Ew(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function hg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Mi(n)}function Mi(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=dy.prototype).open=function(n,e){if(this.readyState!=xw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Mi(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Yt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hg(this)),this.readyState=xw},lt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Yt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ew(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},lt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?hg(this):Mi(this),3==this.readyState&&Ew(this)}},lt.Za=function(n){this.g&&(this.response=this.responseText=n,hg(this))},lt.Ya=function(n){this.g&&(this.response=n,hg(this))},lt.ka=function(){this.g&&hg(this)},lt.setRequestHeader=function(n,e){this.v.append(n,e)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(dy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var oT=Yt.JSON.parse;function ji(n){Ai.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=aT,this.L=this.M=!1}Cr(ji,Ai);var aT="",lT=/^https?$/i,jk=["POST","PUT"];function Cw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Hu(n),uy(n)}function Hu(n){n.F||(n.F=!0,Hi(n,"complete"),Hi(n,"error"))}function dT(n){if(n.h&&typeof z0<"u"&&(!n.C[1]||4!=pl(n)||2!=n.da()))if(n.v&&4==pl(n))jI(n.La,0,n);else if(Hi(n,"readystatechange"),4==pl(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===l){var r=String(n.I).match(lg)[1]||null;!r&&Yt.self&&Yt.self.location&&(r=Yt.self.location.protocol.slice(0,-1)),i=!lT.test(r?r.toLowerCase():"")}t=i}if(t)Hi(n,"complete"),Hi(n,"success");else{n.m=6;try{var s=2<pl(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",Hu(n)}}finally{uy(n)}}}function uy(n,e){if(n.g){Iw(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Hi(n,"ready");try{t.onreadystatechange=i}catch{}}}function Iw(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Yt.clearTimeout(n.A),n.A=null)}function pl(n){return n.g?n.g.readyState:0}function Tw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case aT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function hy(n){let e="";return Zv(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function fg(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=hy(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ai(n,e,t))}function io(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function uT(n){this.Ga=0,this.j=[],this.l=new Xv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=io("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=io("baseRetryDelayMs",5e3,n),this.hb=io("retryDelaySeedMs",1e4,n),this.eb=io("forwardChannelMaxRetries",2,n),this.xa=io("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new gw(n&&n.concurrentRequestLimit),this.Ja=new yw,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function fy(n){if(Jo(n),3==n.H){var e=n.W++,t=nc(n.I);if(ai(t,"SID",n.K),ai(t,"RID",e),ai(t,"TYPE","terminate"),mg(n,t),(e=new rg(n,n.l,e)).L=2,e.v=Wf(nc(t)),t=!1,Yt.navigator&&Yt.navigator.sendBeacon)try{t=Yt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Yt.Image&&((new Image).src=e.v,t=!0),t||(e.g=gg(e.l,null),e.g.ha(e.v)),e.G=Date.now(),sg(e)}Mw(n)}function Io(n){n.g&&(pg(n),n.g.cancel(),n.g=null)}function Jo(n){Io(n),n.u&&(Yt.clearTimeout(n.u),n.u=null),my(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Yt.clearTimeout(n.m),n.m=null)}function ro(n){if(!_w(n.i)&&!n.m){n.m=!0;var e=n.Na;jf||nw(),zf||(jf(),zf=!0),Kv.add(e,n),n.C=0}}function Dw(n,e){var t;t=e?e.m:n.W++;const i=nc(n.I);ai(i,"SID",n.K),ai(i,"RID",t),ai(i,"AID",n.V),mg(n,i),n.o&&n.s&&fg(i,n.o,n.s),t=new rg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=fT(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),vw(n.i,t),lw(t,i,e)}function mg(n,e){n.na&&Zv(n.na,function(t,i){ai(e,i,t)}),n.h&&ag({},function(t,i){ai(e,i,t)})}function fT(n,e,t){t=Math.min(n.j.length,t);var i=n.h?vs(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=r[0].g,l.push("ofs="+s)):s=0:l.push("ofs="+s);let h=!0;for(let m=0;m<t;m++){let v=r[m].g;const w=r[m].map;if(v-=s,0>v)s=Math.max(0,r[m].g-100),h=!1;else try{Hk(w,l,"req"+v+"_")}catch{i&&i(w)}}if(h){i=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function mT(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;jf||nw(),zf||(jf(),zf=!0),Kv.add(e,n),n.A=0}}function Sw(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=eg(vs(n.Ma,n),pT(n,n.A)),n.A++,0))}function pg(n){null!=n.B&&(Yt.clearTimeout(n.B),n.B=null)}function Kf(n){n.g=new rg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=nc(n.wa);ai(e,"RID","rpc"),ai(e,"SID",n.K),ai(e,"AID",n.V),ai(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ai(e,"TO",n.qa),ai(e,"TYPE","xmlhttp"),mg(n,e),n.o&&n.s&&fg(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Wf(nc(e)),t.s=null,t.S=!0,QI(t,n)}function my(n){null!=n.v&&(Yt.clearTimeout(n.v),n.v=null)}function Aw(n,e){var t=null;if(n.g==e){my(n),pg(n),n.g=null;var i=2}else{if(!ml(n.i,e))return;t=e.F,sT(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Hi(i=Jp(),new ZI(i,t)),ro(n)}else mT(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function hT(n,e){return!(ug(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=eg(vs(n.Na,n,e),pT(n,n.C)),n.C++,0)))}(n,e)||2==i&&Sw(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:ju(n,5);break;case 4:ju(n,10);break;case 3:ju(n,6);break;default:ju(n,2)}}function pT(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ju(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=vs(n.pb,n);t||(t=new md("//www.google.com/images/cleardot.gif"),Yt.location&&"http"==Yt.location.protocol||sy(t,"https"),Wf(t)),function bw(n,e){const t=new Xv;if(Yt.Image){const i=new Image;i.onload=qp(ww,t,i,"TestLoadImage: loaded",!0,e),i.onerror=qp(ww,t,i,"TestLoadImage: error",!1,e),i.onabort=qp(ww,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=qp(ww,t,i,"TestLoadImage: timeout",!1,e),Yt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Vs(2);n.H=0,n.h&&n.h.za(e),Mw(n),Jo(n)}function Mw(n){if(n.H=0,n.ma=[],n.h){const e=ly(n.i);(0!=e.length||0!=n.j.length)&&(Of(n.ma,e),Of(n.ma,n.j),n.i.i.length=0,Gv(n.j),n.j.length=0),n.h.ya()}}function kw(n,e,t){var i=t instanceof md?nc(t):new md(t);if(""!=i.g)e&&(i.g=e+"."+i.g),cg(i,i.m);else{var r=Yt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new md(null);i&&sy(s,i),e&&(s.g=e),r&&cg(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&ai(i,t,e),ai(i,"VER",n.ra),mg(n,i),i}function gg(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ji(t&&n.Ha&&!n.va?new cy({ob:!0}):n.va)).Oa(n.J),e}function gT(){}function _g(){if(Ff&&!(10<=Number(Sk)))throw Error("Environmental error: no available transport.")}function so(n,e){Ai.call(this),this.g=new uT(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Pf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Pf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Yf(this)}function Rw(n){ig.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function _T(){ow.call(this),this.status=1}function Yf(n){this.g=n}function oo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function py(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],l=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;l=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(l<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((s=(e=t+((l=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=s+((l=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Ln(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(lt=ji.prototype).Oa=function(n){this.M=n},lt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ey.g(),this.C=function Lk(n){return n.h||(n.h=n.i())}(this.u?this.u:ey),this.g.onreadystatechange=vs(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void Cw(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=Yt.FormData&&n instanceof Yt.FormData,!(0<=G0(jk,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of t)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Iw(this),0<this.B&&((this.L=function cT(n){return Ff&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vs(this.ua,this)):this.A=jI(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Cw(this,s)}},lt.ua=function(){typeof z0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hi(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Hi(this,"complete"),Hi(this,"abort"),uy(this))},lt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uy(this,!0)),ji.$.N.call(this)},lt.La=function(){this.s||(this.G||this.v||this.l?dT(this):this.kb())},lt.kb=function(){dT(this)},lt.isActive=function(){return!!this.g},lt.da=function(){try{return 2<pl(this)?this.g.status:-1}catch{return-1}},lt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},lt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),oT(e)}},lt.Ia=function(){return this.m},lt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=uT.prototype).ra=8,lt.H=1,lt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new rg(this,this.l,n);let s=this.s;if(this.U&&(s?(s=Nk(s),Y0(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=fT(this,r,e),ai(t=nc(this.I),"RID",n),ai(t,"CVER",22),this.F&&ai(t,"X-HTTP-Session-Id",this.F),mg(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(hy(s)))+"&"+e:this.o&&fg(t,this.o,s)),vw(this.i,r),this.bb&&ai(t,"TYPE","init"),this.P?(ai(t,"$req",e),ai(t,"SID","null"),r.aa=!0,lw(r,t,null)):lw(r,t,e),this.H=2}}else 3==this.H&&(n?Dw(this,n):0==this.j.length||_w(this.i)||Dw(this))},lt.Ma=function(){if(this.u=null,Kf(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=eg(vs(this.jb,this),n)}},lt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Vs(10),Io(this),Kf(this))},lt.ib=function(){null!=this.v&&(this.v=null,Io(this),Sw(this),Vs(19))},lt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Vs(2)):(this.l.info("Failed to ping google.com"),Vs(1))},lt.isActive=function(){return!!this.h&&this.h.isActive(this)},(lt=gT.prototype).Ba=function(){},lt.Aa=function(){},lt.za=function(){},lt.ya=function(){},lt.isActive=function(){return!0},lt.Va=function(){},_g.prototype.g=function(n,e){return new so(n,e)},Cr(so,Ai),so.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Vs(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=kw(n,null,n.Y),ro(n)},so.prototype.close=function(){fy(this.g)},so.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=ud(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&ro(e)},so.prototype.N=function(){this.g.h=null,delete this.j,fy(this.g),delete this.g,so.$.N.call(this)},Cr(Rw,ig),Cr(_T,ow),Cr(Yf,gT),Yf.prototype.Ba=function(){Hi(this.g,"a")},Yf.prototype.Aa=function(n){Hi(this.g,new Rw(n))},Yf.prototype.za=function(n){Hi(this.g,new _T)},Yf.prototype.ya=function(){Hi(this.g,"b")},Cr(oo,function Nw(){this.blockSize=-1}),oo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},oo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)py(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){py(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){py(this,i),r=0;break}}this.h=r,this.i+=e},oo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var vT={};function gy(n){return-128<=n&&128>n?function Tk(n,e){var t=vT;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ln([0|e],0>e?-1:0)}):new Ln([0|n],0>n?-1:0)}function Ma(n){if(isNaN(n)||!isFinite(n))return zu;if(0>n)return is(Ma(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=_y;return new Ln(e,0)}var _y=4294967296,zu=gy(0),Pw=gy(1),yT=gy(16777216);function ic(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ea(n){return-1==n.h}function is(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Ln(t,~n.h).add(Pw)}function vy(n,e){return n.add(is(e))}function yy(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function vg(n,e){this.g=n,this.h=e}function by(n,e){if(ic(e))throw Error("division by zero");if(ic(n))return new vg(zu,zu);if(ea(n))return e=by(is(n),e),new vg(is(e.g),is(e.h));if(ea(e))return e=by(n,is(e)),new vg(is(e.g),e.h);if(30<n.g.length){if(ea(n)||ea(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Pw,i=e;0>=i.X(n);)t=bT(t),i=bT(i);var r=Qf(t,1),s=Qf(i,1);for(i=Qf(i,2),t=Qf(t,2);!ic(i);){var l=s.add(i);0>=l.X(n)&&(r=r.add(t),s=l),i=Qf(i,1),t=Qf(t,1)}return e=vy(n,r.R(e)),new vg(r,e)}for(r=zu;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),l=(s=Ma(t)).R(e);ea(l)||0<l.X(n);)l=(s=Ma(t-=i)).R(e);ic(s)&&(s=Pw),r=r.add(s),n=vy(n,l)}return new vg(r,n)}function bT(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ln(t,n.h)}function Qf(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Ln(r,n.h)}(lt=Ln.prototype).ea=function(){if(ea(this))return-is(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:_y+i)*e,e*=_y}return n},lt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ic(this))return"0";if(ea(this))return"-"+is(this).toString(n);for(var e=Ma(Math.pow(n,6)),t=this,i="";;){var r=by(t,e).g,s=((0<(t=vy(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ic(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},lt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},lt.X=function(n){return ea(n=vy(this,n))?-1:ic(n)?0:1},lt.abs=function(){return ea(this)?is(this):this},lt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),l=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,t[r]=(l&=65535)<<16|(s&=65535)}return new Ln(t,-2147483648&t[t.length-1]?-1:0)},lt.R=function(n){if(ic(this)||ic(n))return zu;if(ea(this))return ea(n)?is(this).R(is(n)):is(is(this).R(n));if(ea(n))return is(this.R(is(n)));if(0>this.X(yT)&&0>n.X(yT))return Ma(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,l=65535&this.D(i),h=n.D(r)>>>16,m=65535&n.D(r);t[2*i+2*r]+=l*m,yy(t,2*i+2*r),t[2*i+2*r+1]+=s*m,yy(t,2*i+2*r+1),t[2*i+2*r+1]+=l*h,yy(t,2*i+2*r+1),t[2*i+2*r+2]+=s*h,yy(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Ln(t,0)},lt.gb=function(n){return by(this,n).h},lt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Ln(t,this.h&n.h)},lt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Ln(t,this.h|n.h)},lt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Ln(t,this.h^n.h)},_g.prototype.createWebChannel=_g.prototype.g,so.prototype.send=so.prototype.u,so.prototype.open=so.prototype.m,so.prototype.close=so.prototype.close,Gf.NO_ERROR=0,Gf.TIMEOUT=8,Gf.HTTP_ERROR=6,tg.COMPLETE="complete",KI.EventType=ng,ng.OPEN="a",ng.CLOSE="b",ng.ERROR="c",ng.MESSAGE="d",Ai.prototype.listen=Ai.prototype.O,ji.prototype.listenOnce=ji.prototype.P,ji.prototype.getLastError=ji.prototype.Sa,ji.prototype.getLastErrorCode=ji.prototype.Ia,ji.prototype.getStatus=ji.prototype.da,ji.prototype.getResponseJson=ji.prototype.Wa,ji.prototype.getResponseText=ji.prototype.ja,ji.prototype.send=ji.prototype.ha,ji.prototype.setWithCredentials=ji.prototype.Oa,oo.prototype.digest=oo.prototype.l,oo.prototype.reset=oo.prototype.reset,oo.prototype.update=oo.prototype.j,Ln.prototype.add=Ln.prototype.add,Ln.prototype.multiply=Ln.prototype.R,Ln.prototype.modulo=Ln.prototype.gb,Ln.prototype.compare=Ln.prototype.X,Ln.prototype.toNumber=Ln.prototype.ea,Ln.prototype.toString=Ln.prototype.toString,Ln.prototype.getBits=Ln.prototype.D,Ln.fromNumber=Ma,Ln.fromString=function Ow(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return is(Ow(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ma(Math.pow(e,8)),i=zu,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+s),e);8>s?(s=Ma(Math.pow(e,s)),i=i.R(s).add(Ma(l))):i=(i=i.R(t)).add(Ma(l))}return i};var zk=Eo.createWebChannelTransport=function(){return new _g},$k=Eo.getStatEventTarget=function(){return Jp()},Fw=Eo.ErrorCode=Gf,Gk=Eo.EventType=tg,qk=Eo.Event=hd,wT=Eo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Wk=Eo.FetchXmlHttpFactory=cy,yg=Eo.WebChannel=KI,xT=Eo.XhrIo=ji,ET=Eo.Md5=oo,$u=Eo.Integer=Ln;const Lw="@firebase/firestore";class Ir{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ir.UNAUTHENTICATED=new Ir(null),Ir.GOOGLE_CREDENTIALS=new Ir("google-credentials-uid"),Ir.FIRST_PARTY=new Ir("first-party-uid"),Ir.MOCK_USER=new Ir("mock-user");let Gu="9.23.0";const rc=new Sa.Yd("@firebase/firestore");function wy(){return rc.logLevel}function Ue(n,...e){if(rc.logLevel<=Sa.in.DEBUG){const t=e.map(Bw);rc.debug(`Firestore (${Gu}): ${n}`,...t)}}function Xn(n,...e){if(rc.logLevel<=Sa.in.ERROR){const t=e.map(Bw);rc.error(`Firestore (${Gu}): ${n}`,...t)}}function ta(n,...e){if(rc.logLevel<=Sa.in.WARN){const t=e.map(Bw);rc.warn(`Firestore (${Gu}): ${n}`,...t)}}function Bw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ct(n="Unexpected state"){const e=`FIRESTORE (${Gu}) INTERNAL ASSERTION FAILED: `+n;throw Xn(e),new Error(e)}function Dt(n,e){n||ct()}function at(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends B.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Nt{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ir.UNAUTHENTICATED))}shutdown(){}}class Kk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Yk{constructor(e){this.t=e,this.currentUser=Ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let l=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Vr,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const v=l;e.enqueueRetryable((0,xe.Z)(function*(){yield v.promise,yield s(i.currentUser)}))},m=v=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Vr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Dt("string"==typeof i.accessToken),new Nt(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Dt(null===e||"string"==typeof e),new Ir(e)}}class Xf{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Ir.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Qk{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new Xf(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xy{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.T;return this.T=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Dt("string"==typeof t.token),this.T=t.token,new bg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function RF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Hw{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=RF(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function qt(n,e){return n<e?-1:n>e?1:0}function Jf(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function jw(n){return n+"\0"}class _i{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _i.fromMillis(Date.now())}static fromDate(e){return _i.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new _i(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new _i(0,0))}static max(){return new It(new _i(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class em{constructor(e,t,i){void 0===t?t=0:t>e.length&&ct(),void 0===i?i=e.length-t:i>e.length-t&&ct(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===em.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof em?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),l=t.get(r);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Cn extends em{construct(e,t,i){return new Cn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ne(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Cn(t)}static emptyPath(){return new Cn([])}}const Xk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zi extends em{construct(e,t,i){return new zi(e,t,i)}static isValidIdentifier(e){return Xk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ne(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Ne(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Ne(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,r+=2}else"`"===h?(l=!l,r++):"."!==h||l?(i+=h,r++):(s(),r++)}if(s(),l)throw new Ne(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zi(t)}static emptyPath(){return new zi([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(Cn.fromString(e))}static fromName(e){return new et(Cn.fromString(e).popFirst(5))}static empty(){return new et(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new Cn(e.slice()))}}class Ey{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function zw(n){return n.fields.find(e=>2===e.kind)}function qu(n){return n.fields.filter(e=>2!==e.kind)}Ey.UNKNOWN_ID=-1;class wg{constructor(e,t){this.fieldPath=e,this.kind=t}}class tm{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new tm(0,rs.min())}}function IT(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=It.fromTimestamp(1e9===i?new _i(t+1,0):new _i(t,i));return new rs(r,et.empty(),e)}function nm(n){return new rs(n.readTime,n.key,-1)}class rs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new rs(It.min(),et.empty(),-1)}static max(){return new rs(It.max(),et.empty(),-1)}}function $w(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:qt(n.largestBatchId,e.largestBatchId))}const TT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function sc(n){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,xe.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==TT)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),Iy.apply(this,arguments)}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,i)=>{t(e)})}static reject(e){return new de((t,i)=>{i(e)})}static waitFor(e){return new de((t,i)=>{let r=0,s=0,l=!1;e.forEach(h=>{++r,h.next(()=>{++s,l&&s===r&&t()},m=>i(m))}),l=!0,s===r&&t()})}static or(e){let t=de.resolve(!1);for(const i of e)t=t.next(r=>r?de.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new de((i,r)=>{const s=e.length,l=new Array(s);let h=0;for(let m=0;m<s;m++){const v=m;t(e[v]).next(w=>{l[v]=w,++h,h===s&&i(l)},w=>r(w))}})}static doWhile(e,t){return new de((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class Ty{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Vr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new xg(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=Dy(i.target.error);this.v.reject(new xg(e,r))}}static open(e,t,i,r){try{return new Ty(t,e.transaction(r,i))}catch(s){throw new xg(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new NF(t)}}class na{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===na.S((0,B.z$)())&&Xn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),im(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,B.hl)())return!1;if(na.C())return!0;const e=(0,B.z$)(),t=na.S(e),i=0<t&&t<10,r=na.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,xe.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=l=>{i(l.target.result)},s.onblocked=()=>{r(new xg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const h=l.target.error;r("VersionError"===h.name?new Ne(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ne(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new xg(e,h))},s.onupgradeneeded=l=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,s.transaction,l.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,xe.Z)(function*(){const l="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.$(e);const m=Ty.open(s.db,e,l?"readonly":"readwrite",i),v=r(m).next(w=>(m.P(),w)).catch(w=>(m.abort(w),de.reject(w))).toPromise();return v.catch(()=>{}),yield m.R,v}catch(m){const v=m,w="FirebaseError"!==v.name&&h<3;if(Ue("SimpleDb","Transaction failed with error:",v.message,"Retrying:",w),s.close(),!w)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Jk{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return im(this.L.delete())}}class xg extends Ne{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Wu(n){return"IndexedDbTransactionError"===n.name}class NF{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),im(i)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),im(this.store.add(e))}get(e){return im(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),im(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),im(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(l,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new de((s,l)=>{r.onerror=h=>{l(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new de((r,s)=>{i.onerror=l=>{s(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}J(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,l,h)=>h.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new de((i,r)=>{t.onerror=s=>{const l=Dy(s.target.error);r(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(h=>{h?l.continue():i()}):i()}})}W(e,t){const i=[];return new de((r,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const h=l.target.result;if(!h)return void r();const m=new Jk(h),v=t(h.primaryKey,h.value,m);if(v instanceof de){const w=v.catch(D=>(m.done(),de.reject(D)));i.push(w)}m.isDone?r():null===m.K?h.continue():h.continue(m.K)}}).next(()=>de.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function im(n){return new de((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Dy(i.target.error);t(r)}})}let eR=!1;function Dy(n){const e=na.S((0,B.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return eR||(eR=!0,setTimeout(()=>{throw i},0)),i}}return n}class Sy{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ue("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,xe.Z)(function*(){t.task=null;try{Ue("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Wu(i)?Ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield sc(i)}yield t.et(6e4)}))}}class tR{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,xe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,s=!0;return de.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!i.has(l))return Ue("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,r).next(h=>{r-=h,i.add(l)});s=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(r,s)).next(h=>(Ue("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>l.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,s)=>{const l=nm(s);$w(l,i)>0&&(i=l)}),new rs(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let To=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function rm(n){return null==n}function oc(n){return 0===n&&1/n==-1/0}function ST(n){return"number"==typeof n&&Number.isInteger(n)&&!oc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function bs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AT(e)),e=nR(n.get(t),e);return AT(e)}function nR(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function AT(n){return n+"\x01\x01"}function ac(n){const e=n.length;if(Dt(e>=2),2===e)return Dt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Cn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const l=n.indexOf("\x01",s);switch((l<0||l>t)&&ct(),n.charAt(l+1)){case"\x01":const h=n.substring(s,l);let m;0===r.length?m=h:(r+=h,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(s,l),r+="\0";break;case"\x11":r+=n.substring(s,l+1);break;default:ct()}s=l+2}return new Cn(i)}const MT=["userId","batchId"];function Eg(n,e){return[n,bs(e)]}function kT(n,e,t){return[n,bs(e),t]}const iR={},Cg=["prefixPath","collectionGroup","readTime","documentId"],rR=["prefixPath","collectionGroup","documentId"],RT=["collectionGroup","readTime","prefixPath","documentId"],sR=["canonicalId","targetId"],NT=["targetId","path"],oR=["path","targetId"],OT=["collectionId","parent"],aR=["indexId","uid"],Gw=["uid","sequenceNumber"],lR=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],PT=["indexId","uid","orderedDocumentKey"],FT=["userId","collectionPath","documentId"],cR=["userId","collectionPath","largestBatchId"],dR=["userId","collectionGroup","largestBatchId"],LT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qw=[...LT,"documentOverlays"],VT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ww=VT,uR=[...Ww,"indexConfiguration","indexState","indexEntries"];class Zw extends DT{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Br(n,e){const t=at(n);return na.M(t.ht,e)}function BT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function pd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function UT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class li{constructor(e,t){this.comparator=e,this.root=t||Ur.EMPTY}insert(e,t){return new li(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ur.BLACK,null,null))}remove(e){return new li(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ur.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ay(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ay(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ay(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ay(this.root,e,this.comparator,!0)}}class Ay{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ur{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Ur.RED,this.left=r??Ur.EMPTY,this.right=s??Ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Ur(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ur.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const e=this.left.check();if(e!==this.right.check())throw ct();return e+(this.isRed()?0:1)}}Ur.EMPTY=null,Ur.RED=!0,Ur.BLACK=!1,Ur.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Ur(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ci{constructor(e){this.comparator=e,this.data=new li(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HT(this.data.getIterator())}getIteratorFrom(e){return new HT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ci)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ci(this.comparator);return t.data=e,t}}class HT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sm(n){return n.hasNext()?n.getNext():void 0}class Bs{constructor(e){this.fields=e,e.sort(zi.comparator)}static empty(){return new Bs([])}unionWith(e){let t=new ci(zi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Bs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jf(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class jT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new jT("Invalid base64 string: "+r):r}}(e);return new Tr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const Kw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gl(n){if(Dt(!!n),"string"==typeof n){let e=0;const t=Kw.exec(n);if(Dt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ki(n.seconds),nanos:ki(n.nanos)}}function ki(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ka(n){return"string"==typeof n?Tr.fromBase64String(n):Tr.fromUint8Array(n)}function My(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ky(n){const e=n.mapValue.fields.__previous_value__;return My(e)?ky(e):e}function Zu(n){const e=gl(n.mapValue.fields.__local_write_time__.timestampValue);return new _i(e.seconds,e.nanos)}class fR{constructor(e,t,i,r,s,l,h,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=v}}class lc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new lc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}const Do={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ig={nullValue:"NULL_VALUE"};function gd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?My(n)?4:$T(n)?9007199254740991:10:ct()}function cc(n,e){if(n===e)return!0;const t=gd(n);if(t!==gd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Zu(n).isEqual(Zu(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=gl(i.timestampValue),l=gl(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,ka(n.bytesValue).isEqual(ka(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return ki(i.geoPointValue.latitude)===ki(r.geoPointValue.latitude)&&ki(i.geoPointValue.longitude)===ki(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ki(i.integerValue)===ki(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=ki(i.doubleValue),l=ki(r.doubleValue);return s===l?oc(s)===oc(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return Jf(n.arrayValue.values||[],e.arrayValue.values||[],cc);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(BT(s)!==BT(l))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===l[h]||!cc(s[h],l[h])))return!1;return!0}(n,e);default:return ct()}var r}function Ku(n,e){return void 0!==(n.values||[]).find(t=>cc(t,e))}function _l(n,e){if(n===e)return 0;const t=gd(n),i=gd(e);if(t!==i)return qt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const l=ki(r.integerValue||r.doubleValue),h=ki(s.integerValue||s.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(n,e);case 3:return zT(n.timestampValue,e.timestampValue);case 4:return zT(Zu(n),Zu(e));case 5:return qt(n.stringValue,e.stringValue);case 6:return function(r,s){const l=ka(r),h=ka(s);return l.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const l=r.split("/"),h=s.split("/");for(let m=0;m<l.length&&m<h.length;m++){const v=qt(l[m],h[m]);if(0!==v)return v}return qt(l.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const l=qt(ki(r.latitude),ki(s.latitude));return 0!==l?l:qt(ki(r.longitude),ki(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const l=r.values||[],h=s.values||[];for(let m=0;m<l.length&&m<h.length;++m){const v=_l(l[m],h[m]);if(v)return v}return qt(l.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Do.mapValue&&s===Do.mapValue)return 0;if(r===Do.mapValue)return 1;if(s===Do.mapValue)return-1;const l=r.fields||{},h=Object.keys(l),m=s.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let w=0;w<h.length&&w<v.length;++w){const D=qt(h[w],v[w]);if(0!==D)return D;const k=_l(l[h[w]],m[v[w]]);if(0!==k)return k}return qt(h.length,v.length)}(n.mapValue,e.mapValue);default:throw ct()}}function zT(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return qt(n,e);const t=gl(n),i=gl(e),r=qt(t.seconds,i.seconds);return 0!==r?r:qt(t.nanos,i.nanos)}function Yu(n){return Ry(n)}function Ry(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=gl(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ka(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=Ry(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const h of r)l?l=!1:s+=",",s+=`${h}:${Ry(i.fields[h])}`;return s+"}"}(n.mapValue):ct();var e}function _d(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Tg(n){return!!n&&"integerValue"in n}function om(n){return!!n&&"arrayValue"in n}function Yw(n){return!!n&&"nullValue"in n}function Qw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dg(n){return!!n&&"mapValue"in n}function Sg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return pd(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Sg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $T(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function mR(n){return"nullValue"in n?Ig:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?_d(lc.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ct()}function pR(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?_d(lc.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Do:ct()}function Xw(n,e){const t=_l(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function gR(n,e){const t=_l(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Dg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sg(t)}setAll(e){let t=zi.emptyPath(),i={},r=[];e.forEach((l,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,i,r),i={},r=[],t=h.popLast()}l?i[h.lastSegment()]=Sg(l):r.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());Dg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Dg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){pd(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Hr(Sg(this.value))}}function GT(n){const e=[];return pd(n.fields,(t,i)=>{const r=new zi([t]);if(Dg(i)){const s=GT(i.mapValue).fields;if(0===s.length)e.push(r);else for(const l of s)e.push(r.child(l))}else e.push(r)}),new Bs(e)}class vi{constructor(e,t,i,r,s,l,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=l,this.documentState=h}static newInvalidDocument(e){return new vi(e,0,It.min(),It.min(),It.min(),Hr.empty(),0)}static newFoundDocument(e,t,i,r){return new vi(e,1,t,It.min(),i,r,0)}static newNoDocument(e,t){return new vi(e,2,t,It.min(),It.min(),Hr.empty(),0)}static newUnknownDocument(e,t){return new vi(e,3,t,It.min(),It.min(),Hr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qu{constructor(e,t){this.position=e,this.inclusive=t}}function qT(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],l=n.position[r];if(i=s.field.isKeyField()?et.comparator(et.fromName(l.referenceValue),t.key):_l(l,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function WT(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cc(n.position[t],e.position[t]))return!1;return!0}class am{constructor(e,t="asc"){this.field=e,this.dir=t}}function _R(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ZT{}class _n extends ZT{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new YT(e,t,i):"array-contains"===t?new vR(e,i):"in"===t?new yR(e,i):"not-in"===t?new JT(e,i):"array-contains-any"===t?new bR(e,i):new _n(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new QT(e,i):new XT(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_l(t,this.value)):null!==t&&gd(this.value)===gd(t)&&this.matchesComparison(_l(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Un extends ZT{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Un(e,t)}matches(e){return lm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function lm(n){return"and"===n.op}function Jw(n){return"or"===n.op}function ex(n){return KT(n)&&lm(n)}function KT(n){for(const e of n.filters)if(e instanceof Un)return!1;return!0}function tx(n){if(n instanceof _n)return n.field.canonicalString()+n.op.toString()+Yu(n.value);if(ex(n))return n.filters.map(e=>tx(e)).join(",");{const e=n.filters.map(t=>tx(t)).join(",");return`${n.op}(${e})`}}function cm(n,e){return n instanceof _n?(t=n,(i=e)instanceof _n&&t.op===i.op&&t.field.isEqual(i.field)&&cc(t.value,i.value)):n instanceof Un?function(t,i){return i instanceof Un&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,l)=>r&&cm(s,i.filters[l]),!0)}(n,e):void ct();var t,i}function nx(n,e){const t=n.filters.concat(e);return Un.create(t,n.op)}function ix(n){return n instanceof _n?`${(e=n).field.canonicalString()} ${e.op} ${Yu(e.value)}`:n instanceof Un?function(e){return e.op.toString()+" {"+e.getFilters().map(ix).join(" ,")+"}"}(n):"Filter";var e}class YT extends _n{constructor(e,t,i){super(e,t,i),this.key=et.fromName(i.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.matchesComparison(t)}}class QT extends _n{constructor(e,t){super(e,"in",t),this.keys=rx(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class XT extends _n{constructor(e,t){super(e,"not-in",t),this.keys=rx(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rx(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>et.fromName(i.referenceValue))}class vR extends _n{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return om(t)&&Ku(t.arrayValue,this.value)}}class yR extends _n{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ku(this.value.arrayValue,t)}}class JT extends _n{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ku(this.value.arrayValue,t)}}class bR extends _n{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!om(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ku(this.value.arrayValue,i))}}class wR{constructor(e,t=null,i=[],r=[],s=null,l=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=h,this.dt=null}}function sx(n,e=null,t=[],i=[],r=null,s=null,l=null){return new wR(n,e,t,i,r,s,l)}function Xu(n){const e=at(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>tx(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),rm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Yu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Yu(i)).join(",")),e.dt=t}return e.dt}function dc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_R(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cm(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!WT(n.startAt,e.startAt)&&WT(n.endAt,e.endAt)}function Oy(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function dm(n,e){return n.filters.filter(t=>t instanceof _n&&t.field.isEqual(e))}function Ra(n,e,t){let i=Ig,r=!0;for(const s of dm(n,e)){let l=Ig,h=!0;switch(s.op){case"<":case"<=":l=mR(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,h=!1;break;case"!=":case"not-in":l=Ig}Xw({value:i,inclusive:r},{value:l,inclusive:h})<0&&(i=l,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];Xw({value:i,inclusive:r},{value:l,inclusive:t.inclusive})<0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}function eD(n,e,t){let i=Do,r=!0;for(const s of dm(n,e)){let l=Do,h=!0;switch(s.op){case">=":case">":l=pR(s.value),h=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,h=!1;break;case"!=":case"not-in":l=Do}gR({value:i,inclusive:r},{value:l,inclusive:h})>0&&(i=l,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];gR({value:i,inclusive:r},{value:l,inclusive:t.inclusive})>0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}class ia{constructor(e,t=null,i=[],r=[],s=null,l="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=h,this.endAt=m,this.wt=null,this._t=null}}function um(n,e,t,i,r,s,l,h){return new ia(n,e,t,i,r,s,l,h)}function hm(n){return new ia(n)}function tD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ox(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ju(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Py(n){return null!==n.collectionGroup}function eh(n){const e=at(n);if(null===e.wt){e.wt=[];const t=Ju(e),i=ox(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new am(t)),e.wt.push(new am(zi.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new am(zi.keyField(),s))}}}return e.wt}function Us(n){const e=at(n);if(!e._t)if("F"===e.limitType)e._t=sx(e.path,e.collectionGroup,eh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of eh(e))t.push(new am(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Qu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Qu(e.startAt.position,e.startAt.inclusive):null;e._t=sx(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function Ag(n,e){e.getFirstInequalityField(),Ju(n);const t=n.filters.concat([e]);return new ia(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Fy(n,e,t){return new ia(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mg(n,e){return dc(Us(n),Us(e))&&n.limitType===e.limitType}function ax(n){return`${Xu(Us(n))}|lt:${n.limitType}`}function lx(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>ix(i)).join(", ")}]`),rm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Yu(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Yu(i)).join(",")),`Target(${t})`}(Us(n))}; limitType=${n.limitType})`}function kg(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):et.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of eh(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,l){const h=qT(r,s,l);return r.inclusive?h<=0:h<0}(t.startAt,eh(t),i)||t.endAt&&!function(r,s,l){const h=qT(r,s,l);return r.inclusive?h>=0:h>0}(t.endAt,eh(t),i)));var t,i}function cx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Rg(n){return(e,t)=>{let i=!1;for(const r of eh(n)){const s=xR(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function xR(n,e,t){const i=n.field.isKeyField()?et.comparator(e.key,t.key):function(r,s,l){const h=s.data.field(r),m=l.data.field(r);return null!==h&&null!==m?_l(h,m):ct()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ct()}}class uc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){pd(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return UT(this.inner)}size(){return this.innerSize}}const nD=new li(et.comparator);function Hs(){return nD}const Ly=new li(et.comparator);function fm(...n){let e=Ly;for(const t of n)e=e.insert(t.key,t);return e}function iD(n){let e=Ly;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Na(){return Ng()}function dx(){return Ng()}function Ng(){return new uc(n=>n.toString(),(n,e)=>n.isEqual(e))}const ER=new li(et.comparator),ux=new ci(et.comparator);function en(...n){let e=ux;for(const t of n)e=e.add(t);return e}const rD=new ci(qt);function Og(){return rD}function Vy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function sD(n){return{integerValue:""+n}}function oD(n,e){return ST(e)?sD(e):Vy(n,e)}class By{constructor(){this._=void 0}}function CR(n,e,t){return n instanceof th?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&My(r)&&(r=ky(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof vd?hx(n,e):n instanceof yd?lD(n,e):function(i,r){const s=Uy(i,r),l=fx(s)+fx(i.gt);return Tg(s)&&Tg(i.gt)?sD(l):Vy(i.serializer,l)}(n,e)}function aD(n,e,t){return n instanceof vd?hx(n,e):n instanceof yd?lD(n,e):t}function Uy(n,e){return n instanceof nh?Tg(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class th extends By{}class vd extends By{constructor(e){super(),this.elements=e}}function hx(n,e){const t=cD(e);for(const i of n.elements)t.some(r=>cc(r,i))||t.push(i);return{arrayValue:{values:t}}}class yd extends By{constructor(e){super(),this.elements=e}}function lD(n,e){let t=cD(e);for(const i of n.elements)t=t.filter(r=>!cc(r,i));return{arrayValue:{values:t}}}class nh extends By{constructor(e,t){super(),this.serializer=e,this.gt=t}}function fx(n){return ki(n.integerValue||n.doubleValue)}function cD(n){return om(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mm{constructor(e,t){this.field=e,this.transform=t}}class js{constructor(e,t){this.version=e,this.transformResults=t}}class Hn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class jy{}function IR(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new vm(n.key,Hn.none()):new _m(n.key,n.data,Hn.none());{const t=n.data,i=Hr.empty();let r=new ci(zi.comparator);for(let s of e.fields)if(!r.has(s)){let l=t.field(s);null===l&&s.length>1&&(s=s.popLast(),l=t.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new Oa(n.key,i,new Bs(r.toArray()),Hn.none())}}function OF(n,e,t){n instanceof _m?function(i,r,s){const l=i.value.clone(),h=px(i.fieldTransforms,r,s.transformResults);l.setAll(h),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Oa?function(i,r,s){if(!Hy(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=px(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(uD(i)),h.setAll(l),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function pm(n,e,t,i){return n instanceof _m?function(r,s,l,h){if(!Hy(r.precondition,s))return l;const m=r.value.clone(),v=hD(r.fieldTransforms,h,s);return m.setAll(v),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Oa?function(r,s,l,h){if(!Hy(r.precondition,s))return l;const m=hD(r.fieldTransforms,h,s),v=s.data;return v.setAll(uD(r)),v.setAll(m),s.convertToFoundDocument(s.version,v).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(w=>w.field))}(n,e,t,i):(l=t,Hy(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function mx(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=Uy(i.transform,r||null);null!=s&&(null===t&&(t=Hr.empty()),t.set(i.field,s))}return t||null}function gm(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Jf(t,i,(r,s)=>function dD(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof vd&&i instanceof vd||t instanceof yd&&i instanceof yd?Jf(t.elements,i.elements,cc):t instanceof nh&&i instanceof nh?cc(t.gt,i.gt):t instanceof th&&i instanceof th);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class _m extends jy{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Oa extends jy{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function uD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function px(n,e,t){const i=new Map;Dt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],l=s.transform,h=e.data.field(s.field);i.set(s.field,aD(l,h,t[r]))}return i}function hD(n,e,t){const i=new Map;for(const r of n){const s=r.transform,l=t.data.field(r.field);i.set(r.field,CR(s,l,e))}return i}class vm extends jy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gx extends jy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Pg{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&OF(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=pm(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=pm(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=dx();return this.mutations.forEach(r=>{const s=e.get(r.key),l=s.overlayedDocument;let h=this.applyToLocalView(l,s.mutatedFields);h=t.has(r.key)?null:h;const m=IR(l,h);null!==m&&i.set(r.key,m),l.isValidDocument()||l.convertToNoDocument(It.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),en())}isEqual(e){return this.batchId===e.batchId&&Jf(this.mutations,e.mutations,(t,i)=>gm(t,i))&&Jf(this.baseMutations,e.baseMutations,(t,i)=>gm(t,i))}}class zy{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Dt(e.mutations.length===i.length);let r=ER;const s=e.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new zy(e,t,i,r)}}class _x{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vx{constructor(e,t){this.count=e,this.unchangedNames=t}}var Dr,wn;function fD(n){switch(n){default:return ct();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function yx(n){if(void 0===n)return Xn("GRPC error has no .code"),me.UNKNOWN;switch(n){case Dr.OK:return me.OK;case Dr.CANCELLED:return me.CANCELLED;case Dr.UNKNOWN:return me.UNKNOWN;case Dr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Dr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Dr.INTERNAL:return me.INTERNAL;case Dr.UNAVAILABLE:return me.UNAVAILABLE;case Dr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Dr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Dr.NOT_FOUND:return me.NOT_FOUND;case Dr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Dr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Dr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Dr.ABORTED:return me.ABORTED;case Dr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Dr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Dr.DATA_LOSS:return me.DATA_LOSS;default:return ct()}}(wn=Dr||(Dr={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";class bd{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Gy}static getOrCreateInstance(){return null===Gy&&(Gy=new bd),Gy}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Gy=null;function bx(){return new TextEncoder}const wx=new $u([4294967295,4294967295],0);function TR(n){const e=bx().encode(n),t=new ET;return t.update(e),new Uint8Array(t.digest())}function mD(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $u([t,i],0),new $u([r,s],0)]}class pD{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Fg(`Invalid padding: ${t}`);if(i<0)throw new Fg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Fg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Fg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=$u.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply($u.fromNumber(i)));return 1===r.compare(wx)&&(r=new $u([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=TR(e),[i,r]=mD(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);if(!this.At(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new pD(s,r,t);return i.forEach(h=>l.insert(h)),l}insert(e){if(0===this.It)return;const t=TR(e),[i,r]=mD(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Fg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lg{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Vg.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Lg(It.min(),r,new li(qt),Hs(),en())}}class Vg{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Vg(i,t,en(),en(),en())}}class Bg{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class xx{constructor(e,t){this.targetId=e,this.Vt=t}}class gD{constructor(e,t,i=Tr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Ex{constructor(){this.St=0,this.Dt=yD(),this.Ct=Tr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=en(),t=en(),i=en();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ct()}}),new Vg(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=yD()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class _D{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Hs(),this.zt=vD(),this.Wt=new li(qt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:ct()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const l=s.target;if(Oy(l))if(0===r){const h=new et(l.path);this.Yt(i,h,vi.newNoDocument(h,It.min()))}else Dt(1===r);else{const h=this.ie(i);if(h!==r){const m=this.re(e,h);0!==m&&(this.ee(i),this.Wt=this.Wt.insert(i,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=bd.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,w,D){var k,U,z,K,oe,Le;const $e={localCacheCount:w,existenceFilterCount:D.count},ze=D.unchangedNames;return ze&&($e.bloomFilter={applied:0===v,hashCount:null!==(k=ze?.hashCount)&&void 0!==k?k:0,bitmapLength:null!==(K=null===(z=null===(U=ze?.bits)||void 0===U?void 0:U.bitmap)||void 0===z?void 0:z.length)&&void 0!==K?K:0,padding:null!==(Le=null===(oe=ze?.bits)||void 0===oe?void 0:oe.padding)&&void 0!==Le?Le:0}),$e}(m,h,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=i;let m,v;try{m=ka(s).toUint8Array()}catch(w){if(w instanceof jT)return ta("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw w}try{v=new pD(m,l,h)}catch(w){return ta(w instanceof Fg?"BloomFilter error: ":"Applying bloom filter failed: ",w),1}return 0===v.It?1:r!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const l=this.Gt.ue(),h=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;t.vt(h)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,l)=>{const h=this.se(l);if(h){if(s.current&&Oy(h.target)){const m=new et(h.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,vi.newNoDocument(m,e))}s.Mt&&(t.set(l,s.Ot()),s.Ft())}});let i=en();this.zt.forEach((s,l)=>{let h=!0;l.forEachWhile(m=>{const v=this.se(m);return!v||"TargetPurposeLimboResolution"===v.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.jt.forEach((s,l)=>l.setReadTime(e));const r=new Lg(e,t,this.Wt,this.jt,i);return this.jt=Hs(),this.zt=vD(),this.Wt=new li(qt),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Ex,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ci(qt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ex),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function vD(){return new li(et.comparator)}function yD(){return new li(et.comparator)}const bD={asc:"ASCENDING",desc:"DESCENDING"},DR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wD={and:"AND",or:"OR"};class xD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qy(n,e){return n.useProto3Json||rm(e)?e:{value:e}}function ih(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ED(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function SR(n,e){return ih(n,e.toTimestamp())}function hr(n){return Dt(!!n),It.fromTimestamp(function(e){const t=gl(e);return new _i(t.seconds,t.nanos)}(n))}function Wy(n,e){return(t=n,new Cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function AR(n){const e=Cn.fromString(n);return Dt(VR(e)),e}function Zy(n,e){return Wy(n.databaseId,e.path)}function hc(n,e){const t=AR(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(kR(t))}function CD(n,e){return Wy(n.databaseId,e)}function MR(n){const e=AR(n);return 4===e.length?Cn.emptyPath():kR(e)}function Ky(n){return new Cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kR(n){return Dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function RR(n,e,t){return{name:Zy(n,e),fields:t.value.mapValue.fields}}function NR(n,e,t){const i=hc(n,e.name),r=hr(e.updateTime),s=e.createTime?hr(e.createTime):It.min(),l=new Hr({mapValue:{fields:e.fields}}),h=vi.newFoundDocument(i,r,s,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function ym(n,e){let t;if(e instanceof _m)t={update:RR(n,e.key,e.value)};else if(e instanceof vm)t={delete:Zy(n,e.key)};else if(e instanceof Oa)t={update:RR(n,e.key,e.data),updateMask:SD(e.fieldMask)};else{if(!(e instanceof gx))return ct();t={verify:Zy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof th)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof vd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof yd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof nh)return{fieldPath:s.field.canonicalString(),increment:l.gt};throw ct()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:SR(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ct()),t;var r}function Ix(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Hn.updateTime(hr(r.updateTime)):void 0!==r.exists?Hn.exists(r.exists):Hn.none():Hn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,l){let h=null;"setToServerValue"in l?(Dt("REQUEST_TIME"===l.setToServerValue),h=new th):"appendMissingElements"in l?h=new vd(l.appendMissingElements.values||[]):"removeAllFromArray"in l?h=new yd(l.removeAllFromArray.values||[]):"increment"in l?h=new nh(s,l.increment):ct();const m=zi.fromServerFormat(l.fieldPath);return new mm(m,h)}(n,r)):[];var r;if(e.update){const r=hc(n,e.update.name),s=new Hr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Bs((e.updateMask.fieldPaths||[]).map(v=>zi.fromServerFormat(v)));return new Oa(r,s,l,t,i)}return new _m(r,s,t,i)}if(e.delete){const r=hc(n,e.delete);return new vm(r,t)}if(e.verify){const r=hc(n,e.verify);return new gx(r,t)}return ct()}function TD(n,e){return{documents:[CD(n,e.path)]}}function DD(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=CD(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=CD(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(m){if(0!==m.length)return Dx(Un.create(m,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(m){if(0!==m.length)return m.map(v=>{return{field:rh((w=v).field),direction:PR(w.dir)};var w})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=qy(n,e.limit);var h,m;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function OR(n){let e=MR(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Dt(1===i);const w=t.from[0];w.allDescendants?r=w.collectionId:e=e.child(w.collectionId)}let s=[];t.where&&(s=function(w){const D=Tx(w);return D instanceof Un&&ex(D)?D.getFilters():[D]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(w=>{return new am(bm((D=w).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let h=null;t.limit&&(h=function(w){let D;return D="object"==typeof w?w.value:w,rm(D)?null:D}(t.limit));let m=null;var w;t.startAt&&(m=new Qu((w=t.startAt).values||[],!!w.before));let v=null;return t.endAt&&(v=function(w){return new Qu(w.values||[],!w.before)}(t.endAt)),um(e,r,l,s,h,"F",m,v)}function Tx(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=bm(e.unaryFilter.field);return _n.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=bm(e.unaryFilter.field);return _n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=bm(e.unaryFilter.field);return _n.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=bm(e.unaryFilter.field);return _n.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}(n):void 0!==n.fieldFilter?_n.create(bm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Un.create(e.compositeFilter.filters.map(t=>Tx(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ct()}}(e.compositeFilter.op))}(n):ct();var e}function PR(n){return bD[n]}function FR(n){return DR[n]}function LR(n){return wD[n]}function rh(n){return{fieldPath:n.canonicalString()}}function bm(n){return zi.fromServerFormat(n.fieldPath)}function Dx(n){return n instanceof _n?function(e){if("=="===e.op){if(Qw(e.value))return{unaryFilter:{field:rh(e.field),op:"IS_NAN"}};if(Yw(e.value))return{unaryFilter:{field:rh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Qw(e.value))return{unaryFilter:{field:rh(e.field),op:"IS_NOT_NAN"}};if(Yw(e.value))return{unaryFilter:{field:rh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rh(e.field),op:FR(e.op),value:e.value}}}(n):n instanceof Un?function(e){const t=e.getFilters().map(i=>Dx(i));return 1===t.length?t[0]:{compositeFilter:{op:LR(e.op),filters:t}}}(n):ct()}function SD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Sr{constructor(e,t,i,r,s=It.min(),l=It.min(),h=Tr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Sx{constructor(e){this.fe=e}}function UR(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:jr(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Zy(r=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:ih(r,s.version.toTimestamp()),createTime:ih(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:sh(e.version)};else{if(!e.isUnknownDocument())return ct();i.unknownDocument={path:t.path.toArray(),version:sh(e.version)}}var r,s;return i}function jr(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function sh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function fc(n){const e=new _i(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function oh(n,e){const t=(e.baseMutations||[]).map(s=>Ix(n.fe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const i=e.mutations.map(s=>Ix(n.fe,s)),r=_i.fromMillis(e.localWriteTimeMs);return new Pg(e.batchId,r,t,i)}function Ug(n){const e=fc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?fc(n.lastLimboFreeSnapshotVersion):It.min();let i;var r;return void 0!==n.query.documents?(Dt(1===(r=n.query).documents.length),i=Us(hm(MR(r.documents[0])))):i=Us(OR(n.query)),new Sr(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Tr.fromBase64String(n.resumeToken))}function Qy(n,e){const t=sh(e.snapshotVersion),i=sh(e.lastLimboFreeSnapshotVersion);let r;r=Oy(e.target)?TD(n.fe,e.target):DD(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Xu(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Xy(n){const e=OR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Fy(e,e.limit,"L"):e}function Jy(n,e){return new _x(e.largestBatchId,Ix(n.fe,e.overlayMutation))}function AD(n,e){const t=e.path.lastSegment();return[n,bs(e.path.popLast()),t]}function Ax(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:sh(i.readTime),documentKey:bs(i.documentKey.path),largestBatchId:i.largestBatchId}}class MD{getBundleMetadata(e,t){return Mx(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:fc(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return Mx(e).put({bundleId:(i=t).id,createTime:sh(hr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return kx(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:Xy(r.bundledQuery),readTime:fc(r.readTime)};var r})}saveNamedQuery(e,t){return kx(e).put({name:(i=t).name,readTime:sh(hr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Mx(n){return Br(n,"bundles")}function kx(n){return Br(n,"namedQueries")}class eb{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new eb(e,t.uid||"")}getOverlay(e,t){return wm(e).get(AD(this.userId,t)).next(i=>i?Jy(this.serializer,i):null)}getOverlays(e,t){const i=Na();return de.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,l)=>{const h=new _x(t,l);r.push(this.we(e,h))}),de.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(l=>r.add(bs(l.getCollectionPath())));const s=[];return r.forEach(l=>{const h=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);s.push(wm(e).J("collectionPathOverlayIndex",h))}),de.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Na(),s=bs(t),l=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return wm(e).j("collectionPathOverlayIndex",l).next(h=>{for(const m of h){const v=Jy(this.serializer,m);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Na();let l;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return wm(e).X({index:"collectionGroupOverlayIndex",range:h},(m,v,w)=>{const D=Jy(this.serializer,v);s.size()<r||D.largestBatchId===l?(s.set(D.getKey(),D),l=D.largestBatchId):w.done()}).next(()=>s)}we(e,t){return wm(e).put(function(i,r,s){const[l,h,m]=AD(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:m,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:ym(i.fe,s.mutation)}}(this.serializer,this.userId,t))}}function wm(n){return Br(n,"documentOverlays")}class ah{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ki(e.integerValue));else if("doubleValue"in e){const i=ki(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),oc(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ka(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?$T(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ct()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),et.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Rx(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function mc(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=Rx(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}ah.Ve=new ah;class kD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=mc(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=mc(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Nx{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Ox{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Hg{constructor(){this.je=new kD,this.ze=new Nx(this.je),this.We=new Ox(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class xm{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new xm(this.indexId,this.documentKey,this.arrayValue,i)}}function pc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=RD(n.arrayValue,e.arrayValue),0!==t?t:(t=RD(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function RD(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class HR{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){Dt(e.collectionGroup===this.collectionId);const t=zw(e);if(void 0!==t&&!this.en(t))return!1;const i=qu(e);let r=new Set,s=0,l=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const h=i[s];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[l++],h))return!1}++s}for(;s<i.length;++s)if(l>=this.Ye.length||!this.sn(this.Ye[l++],i[s]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ND(n){var e,t;if(Dt(n instanceof _n||n instanceof Un),n instanceof _n){if(n instanceof yR){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>_n.create(n.field,"==",s)))||[];return Un.create(r,"or")}return n}const i=n.filters.map(r=>ND(r));return Un.create(i,n.op)}function jR(n){if(0===n.getFilters().length)return[];const e=Fx(ND(n));return Dt(Px(e)),tb(e)||OD(e)?[e]:e.getFilters()}function tb(n){return n instanceof _n}function OD(n){return n instanceof Un&&ex(n)}function Px(n){return tb(n)||OD(n)||function(e){if(e instanceof Un&&Jw(e)){for(const t of e.getFilters())if(!tb(t)&&!OD(t))return!1;return!0}return!1}(n)}function Fx(n){if(Dt(n instanceof _n||n instanceof Un),n instanceof _n)return n;if(1===n.filters.length)return Fx(n.filters[0]);const e=n.filters.map(i=>Fx(i));let t=Un.create(e,n.op);return t=Em(t),Px(t)?t:(Dt(t instanceof Un),Dt(lm(t)),Dt(t.filters.length>1),t.filters.reduce((i,r)=>nb(i,r)))}function nb(n,e){let t;return Dt(n instanceof _n||n instanceof Un),Dt(e instanceof _n||e instanceof Un),t=n instanceof _n?e instanceof _n?Un.create([n,e],"and"):zR(n,e):e instanceof _n?zR(e,n):function(i,r){if(Dt(i.filters.length>0&&r.filters.length>0),lm(i)&&lm(r))return nx(i,r.getFilters());const s=Jw(i)?i:r,l=Jw(i)?r:i,h=s.filters.map(m=>nb(m,l));return Un.create(h,"or")}(n,e),Em(t)}function zR(n,e){if(lm(e))return nx(e,n.getFilters());{const t=e.filters.map(i=>nb(n,i));return Un.create(t,"or")}}function Em(n){if(Dt(n instanceof _n||n instanceof Un),n instanceof _n)return n;const e=n.getFilters();if(1===e.length)return Em(e[0]);if(KT(n))return n;const t=e.map(r=>Em(r)),i=[];return t.forEach(r=>{r instanceof _n?i.push(r):r instanceof Un&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Un.create(i,n.op)}class PD{constructor(){this.rn=new ib}addToCollectionParentIndex(e,t){return this.rn.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(rs.min())}updateCollectionGroup(e,t,i){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class ib{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ci(Cn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ci(Cn.comparator)).toArray()}}const rb=new Uint8Array(0);class FD{constructor(e,t){this.user=e,this.databaseId=t,this.on=new ib,this.un=new uc(i=>Xu(i),(i,r)=>dc(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:i,parent:bs(r)};return Lx(e).put(s)}return de.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[jw(t),""],!1,!0);return Lx(e).j(r).next(s=>{for(const l of s){if(l.collectionId!==t)break;i.push(ac(l.parent))}return i})}addFieldIndex(e,t){const i=lh(e),r={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;delete r.indexId;const s=i.add(r);if(t.indexState){const l=Cm(e);return s.next(h=>{l.put(Ax(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=lh(e),r=Cm(e),s=vl(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=vl(e);let r=!0;const s=new Map;return de.forEach(this.cn(t),l=>this.an(e,l).next(h=>{r&&(r=!!h),s.set(l,h)})).next(()=>{if(r){let l=en();const h=[];return de.forEach(s,(m,v)=>{var w;Ue("IndexedDbIndexManager",`Using index ${w=m,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(ze=>`${ze.fieldPath}:${ze.kind}`).join(",")}`} to execute ${Xu(t)}`);const D=function(ze,Ke){const St=zw(Ke);if(void 0===St)return null;for(const Ot of dm(ze,St.fieldPath))switch(Ot.op){case"array-contains-any":return Ot.value.arrayValue.values||[];case"array-contains":return[Ot.value]}return null}(v,m),k=function(ze,Ke){const St=new Map;for(const Ot of qu(Ke))for(const Tn of dm(ze,Ot.fieldPath))switch(Tn.op){case"==":case"in":St.set(Ot.fieldPath.canonicalString(),Tn.value);break;case"not-in":case"!=":return St.set(Ot.fieldPath.canonicalString(),Tn.value),Array.from(St.values())}return null}(v,m),U=function(ze,Ke){const St=[];let Ot=!0;for(const Tn of qu(Ke)){const ir=0===Tn.kind?Ra(ze,Tn.fieldPath,ze.startAt):eD(ze,Tn.fieldPath,ze.startAt);St.push(ir.value),Ot&&(Ot=ir.inclusive)}return new Qu(St,Ot)}(v,m),z=function(ze,Ke){const St=[];let Ot=!0;for(const Tn of qu(Ke)){const ir=0===Tn.kind?eD(ze,Tn.fieldPath,ze.endAt):Ra(ze,Tn.fieldPath,ze.endAt);St.push(ir.value),Ot&&(Ot=ir.inclusive)}return new Qu(St,Ot)}(v,m),K=this.hn(m,v,U),oe=this.hn(m,v,z),Le=this.ln(m,v,k),$e=this.fn(m.indexId,D,K,U.inclusive,oe,z.inclusive,Le);return de.forEach($e,ze=>i.H(ze,t.limit).next(Ke=>{Ke.forEach(St=>{const Ot=et.fromSegments(St.documentKey);l.has(Ot)||(l=l.add(Ot),h.push(Ot))})}))}).next(()=>h)}return de.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:jR(Un.create(e.filters,"and")).map(i=>sx(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,s,l,h){const m=(null!=t?t.length:1)*Math.max(i.length,s.length),v=m/(null!=t?t.length:1),w=[];for(let D=0;D<m;++D){const k=t?this.dn(t[D/v]):rb,U=this.wn(e,k,i[D%v],r),z=this._n(e,k,s[D%v],l),K=h.map(oe=>this.wn(e,k,oe,!0));w.push(...this.createRange(U,z,K))}return w}wn(e,t,i,r){const s=new xm(e,et.empty(),t,i);return r?s:s.Je()}_n(e,t,i,r){const s=new xm(e,et.empty(),t,i);return r?s.Je():s}an(e,t){const i=new HR(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let l=null;for(const h of s)i.tn(h)&&(!l||h.fields.length>l.fields.length)&&(l=h);return l})}getIndexType(e,t){let i=2;const r=this.cn(t);return de.forEach(r,s=>this.an(e,s).next(l=>{l?0!==i&&l.fields.length<function(h){let m=new ci(zi.comparator),v=!1;for(const w of h.filters)for(const D of w.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?v=!0:m=m.add(D.field));for(const w of h.orderBy)w.field.isKeyField()||(m=m.add(w.field));return m.size+(v?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new Hg;for(const r of qu(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const l=i.He(r.kind);ah.Ve._e(s,l)}return i.Qe()}dn(e){const t=new Hg;return ah.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new Hg;return ah.Ve._e(_d(this.databaseId,t),i.He(function(r){const s=qu(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new Hg);let s=0;for(const l of qu(e)){const h=i[s++];for(const m of r)if(this.yn(t,l.fieldPath)&&om(h))r=this.pn(r,l,h);else{const v=m.He(l.kind);ah.Ve._e(h,v)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],s=[];for(const l of i.arrayValue.values||[])for(const h of r){const m=new Hg;m.seed(h.Qe()),ah.Ve._e(l,m.He(t.kind)),s.push(m)}return s}yn(e,t){return!!e.filters.find(i=>i instanceof _n&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=lh(e),r=Cm(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(s=>{const l=[];return de.forEach(s,h=>r.get([h.indexId,this.uid]).next(m=>{l.push(function(v,w){const D=w?new tm(w.sequenceNumber,new rs(fc(w.readTime),new et(ac(w.documentKey)),w.largestBatchId)):tm.empty(),k=v.fields.map(([U,z])=>new wg(zi.fromServerFormat(U),z));return new Ey(v.indexId,v.collectionGroup,k,D)}(h,m))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:qt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=lh(e),s=Cm(e);return this.Tn(e).next(l=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>de.forEach(h,m=>s.put(Ax(m.indexId,this.user,l,i)))))}updateIndexEntries(e,t){const i=new Map;return de.forEach(t,(r,s)=>{const l=i.get(r.collectionGroup);return(l?de.resolve(l):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),de.forEach(h,m=>this.En(e,r,m).next(v=>{const w=this.An(s,m);return v.isEqual(w)?de.resolve():this.vn(e,s,m,v,w)}))))})}Rn(e,t,i,r){return vl(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return vl(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=vl(e);let s=new ci(pc);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(l,h)=>{s=s.add(new xm(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}An(e,t){let i=new ci(pc);const r=this.mn(t,e);if(null==r)return i;const s=zw(t);if(null!=s){const l=e.data.field(s.fieldPath);if(om(l))for(const h of l.arrayValue.values||[])i=i.add(new xm(t.indexId,e.key,this.dn(h),r))}else i=i.add(new xm(t.indexId,e.key,rb,r));return i}vn(e,t,i,r,s){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(h,m,v,w,D){const k=h.getIterator(),U=m.getIterator();let z=sm(k),K=sm(U);for(;z||K;){let oe=!1,Le=!1;if(z&&K){const $e=v(z,K);$e<0?Le=!0:$e>0&&(oe=!0)}else null!=z?Le=!0:oe=!0;oe?(w(K),K=sm(U)):Le?(D(z),z=sm(k)):(z=sm(k),K=sm(U))}}(r,s,pc,h=>{l.push(this.Rn(e,t,i,h))},h=>{l.push(this.Pn(e,t,i,h))}),de.waitFor(l)}Tn(e){let t=1;return Cm(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((l,h)=>pc(l,h)).filter((l,h,m)=>!h||0!==pc(l,m[h-1]));const r=[];r.push(e);for(const l of i){const h=pc(l,e),m=pc(l,t);if(0===h)r[0]=e.Je();else if(h>0&&m<0)r.push(l),r.push(l.Je());else if(m>0)break}r.push(t);const s=[];for(let l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];s.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,rb,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,rb,[]]))}return s}bn(e,t){return pc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Vx)}getMinOffset(e,t){return de.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||ct())).next(Vx)}}function Lx(n){return Br(n,"collectionParents")}function vl(n){return Br(n,"indexEntries")}function lh(n){return Br(n,"indexConfiguration")}function Cm(n){return Br(n,"indexState")}function Vx(n){Dt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;$w(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new rs(e.readTime,e.documentKey,t)}const LD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ws{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ws(e,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $R(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],l=IDBKeyRange.only(t.batchId);let h=0;const m=i.X({range:l},(w,D,k)=>(h++,k.delete()));s.push(m.next(()=>{Dt(1===h)}));const v=[];for(const w of t.mutations){const D=kT(e,w.key.path,t.batchId);s.push(r.delete(D)),v.push(w.key)}return de.waitFor(s).next(()=>v)}function jg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ct();e=n.noDocument}return JSON.stringify(e).length}ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(41943040,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);class sb{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){Dt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new sb(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ch(e).X({index:"userMutationsIndex",range:i},(r,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=zg(e),l=ch(e);return l.add({}).next(h=>{Dt("number"==typeof h);const m=new Pg(h,t,i,r),v=function(k,U,z){const K=z.baseMutations.map(Le=>ym(k.fe,Le)),oe=z.mutations.map(Le=>ym(k.fe,Le));return{userId:U,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:K,mutations:oe}}(this.serializer,this.userId,m),w=[];let D=new ci((k,U)=>qt(k.canonicalString(),U.canonicalString()));for(const k of r){const U=kT(this.userId,k.key.path,h);D=D.add(k.key.path.popLast()),w.push(l.put(v)),w.push(s.put(U,iR))}return D.forEach(k=>{w.push(this.indexManager.addToCollectionParentIndex(e,k))}),e.addOnCommittedListener(()=>{this.Vn[h]=m.keys()}),de.waitFor(w).next(()=>m)})}lookupMutationBatch(e,t){return ch(e).get(t).next(i=>i?(Dt(i.userId===this.userId),oh(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?de.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return ch(e).X({index:"userMutationsIndex",range:r},(l,h,m)=>{h.userId===this.userId&&(Dt(h.batchId>=i),s=oh(this.serializer,h)),m.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ch(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,s,l)=>{i=s.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ch(e).j("userMutationsIndex",t).next(i=>i.map(r=>oh(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Eg(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return zg(e).X({range:r},(l,h,m)=>{const[v,w,D]=l,k=ac(w);if(v===this.userId&&t.path.isEqual(k))return ch(e).get(D).next(U=>{if(!U)throw ct();Dt(U.userId===this.userId),s.push(oh(this.serializer,U))});m.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ci(qt);const r=[];return t.forEach(s=>{const l=Eg(this.userId,s.path),h=IDBKeyRange.lowerBound(l),m=zg(e).X({range:h},(v,w,D)=>{const[k,U,z]=v,K=ac(U);k===this.userId&&s.path.isEqual(K)?i=i.add(z):D.done()});r.push(m)}),de.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=Eg(this.userId,i),l=IDBKeyRange.lowerBound(s);let h=new ci(qt);return zg(e).X({range:l},(m,v,w)=>{const[D,k,U]=m,z=ac(k);D===this.userId&&i.isPrefixOf(z)?z.length===r&&(h=h.add(U)):w.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(ch(e).get(s).next(l=>{if(null===l)throw ct();Dt(l.userId===this.userId),i.push(oh(this.serializer,l))}))}),de.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return $R(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),de.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return zg(e).X({range:i},(s,l,h)=>{if(s[0]===this.userId){const m=ac(s[1]);r.push(m)}else h.done()}).next(()=>{Dt(0===r.length)})})}containsKey(e,t){return VD(e,this.userId,t)}xn(e){return GR(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function VD(n,e,t){const i=Eg(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let l=!1;return zg(n).X({range:s,Y:!0},(h,m,v)=>{const[w,D,k]=h;w===e&&D===r&&(l=!0),v.done()}).next(()=>l)}function ch(n){return Br(n,"mutations")}function zg(n){return Br(n,"documentMutations")}function GR(n){return Br(n,"mutationQueues")}class wd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new wd(0)}static Mn(){return new wd(-1)}}class qR{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new wd(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>It.fromTimestamp(new _i(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Im(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(Dt(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Im(e).X((l,h)=>{const m=Ug(h);m.sequenceNumber<=t&&null===i.get(m.targetId)&&(r++,s.push(this.removeTargetData(e,m)))}).next(()=>de.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Im(e).X((i,r)=>{const s=Ug(r);t(s)})}$n(e){return BD(e).get("targetGlobalKey").next(t=>(Dt(null!==t),t))}On(e,t){return BD(e).put("targetGlobalKey",t)}Fn(e,t){return Im(e).put(Qy(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Xu(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Im(e).X({range:r,index:"queryTargetsIndex"},(l,h,m)=>{const v=Ug(h);dc(t,v.target)&&(s=v,m.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=dh(e);return t.forEach(l=>{const h=bs(l.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,l))}),de.waitFor(r)}removeMatchingKeys(e,t,i){const r=dh(e);return de.forEach(t,s=>{const l=bs(s.path);return de.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=dh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=dh(e);let s=en();return r.X({range:i,Y:!0},(l,h,m)=>{const v=ac(l[1]),w=new et(v);s=s.add(w)}).next(()=>s)}containsKey(e,t){const i=bs(t.path),r=IDBKeyRange.bound([i],[jw(i)],!1,!0);let s=0;return dh(e).X({index:"documentTargetsIndex",Y:!0,range:r},([l,h],m,v)=>{0!==l&&(s++,v.done())}).next(()=>s>0)}le(e,t){return Im(e).get(t).next(i=>i?Ug(i):null)}}function Im(n){return Br(n,"targets")}function BD(n){return Br(n,"targetGlobal")}function dh(n){return Br(n,"targetDocuments")}function WR([n,e],[t,i]){const r=qt(n,t);return 0===r?qt(e,i):r}class FF{constructor(e){this.Ln=e,this.buffer=new ci(WR),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();WR(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ZR{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,xe.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Wu(i)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield sc(i)}yield t.Qn(3e5)}))}}class LF{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return de.resolve(To.ct);const i=new FF(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(LD)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LD):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,s,l,h,m,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,l=Date.now(),this.nthSequenceNumber(e,r))).next(D=>(i=D,h=Date.now(),this.removeTargets(e,i,t))).next(D=>(s=D,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(D=>(v=Date.now(),wy()<=Sa.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-w}ms\n\tDetermined least recently used ${r} in `+(h-l)+`ms\n\tRemoved ${s} targets in `+(m-h)+`ms\n\tRemoved ${D} documents in `+(v-m)+`ms\nTotal Duration: ${v-w}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:D})))}}class ob{constructor(e,t){this.db=e,this.garbageCollector=function UD(n,e){return new LF(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return ab(e,i)}removeReference(e,t,i){return ab(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return ab(e,t)}Xn(e,t){return function(i,r){let s=!1;return GR(i).Z(l=>VD(i,l,r).next(h=>(h&&(s=!0),de.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(e,(l,h)=>{if(h<=t){const m=this.Xn(e,l).next(v=>{if(!v)return s++,i.getEntry(e,l).next(()=>(i.removeEntry(l,It.min()),dh(e).delete([0,bs(l.path)])))});r.push(m)}}).next(()=>de.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return ab(e,t)}Yn(e,t){const i=dh(e);let r,s=To.ct;return i.X({index:"documentTargetsIndex"},([l,h],{path:m,sequenceNumber:v})=>{0===l?(s!==To.ct&&t(new et(ac(r)),s),s=v,r=m):s=To.ct}).next(()=>{s!==To.ct&&t(new et(ac(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ab(n,e){return dh(n).put((i=n.currentSequenceNumber,{targetId:0,path:bs(e.path),sequenceNumber:i}));var i}class HD{constructor(){this.changes=new uc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?de.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jD{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return gc(e).put(i)}removeEntry(e,t,i){return gc(e).delete(function(r,s){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],jr(s),l[l.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=vi.newInvalidDocument(t);return gc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only($g(t))},(r,s)=>{i=this.ts(t,s)}).next(()=>i)}es(e,t){let i={size:0,document:vi.newInvalidDocument(t)};return gc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only($g(t))},(r,s)=>{i={document:this.ts(t,s),size:jg(s)}}).next(()=>i)}getEntries(e,t){let i=Hs();return this.ns(e,t,(r,s)=>{const l=this.ts(r,s);i=i.insert(r,l)}).next(()=>i)}ss(e,t){let i=Hs(),r=new li(et.comparator);return this.ns(e,t,(s,l)=>{const h=this.ts(s,l);i=i.insert(s,h),r=r.insert(s,jg(l))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return de.resolve();let r=new ci(db);t.forEach(m=>r=r.add(m));const s=IDBKeyRange.bound($g(r.first()),$g(r.last())),l=r.getIterator();let h=l.getNext();return gc(e).X({index:"documentKeyIndex",range:s},(m,v,w)=>{const D=et.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&db(h,D)<0;)i(h,null),h=l.getNext();h&&h.isEqual(D)&&(i(h,v),h=l.hasNext()?l.getNext():null),h?w.G($g(h)):w.done()}).next(()=>{for(;h;)i(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const s=t.path,l=[s.popLast().toArray(),s.lastSegment(),jr(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gc(e).j(IDBKeyRange.bound(l,h,!0)).next(m=>{let v=Hs();for(const w of m){const D=this.ts(et.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);D.isFoundDocument()&&(kg(t,D)||r.has(D.key))&&(v=v.insert(D.key,D))}return v})}getAllFromCollectionGroup(e,t,i,r){let s=Hs();const l=cb(t,i),h=cb(t,rs.max());return gc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,h,!0)},(m,v,w)=>{const D=this.ts(et.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);s=s.insert(D.key,D),s.size===r&&w.done()}).next(()=>s)}newChangeBuffer(e){return new zD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return lb(e).get("remoteDocumentGlobalKey").next(t=>(Dt(!!t),t))}Zn(e,t){return lb(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function BR(n,e){let t;if(e.document)t=NR(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=et.fromSegments(e.noDocument.path),r=fc(e.noDocument.readTime);t=vi.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ct();{const i=et.fromSegments(e.unknownDocument.path),r=fc(e.unknownDocument.version);t=vi.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new _i(i[0],i[1]);return It.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(It.min()))return i}return vi.newInvalidDocument(e)}}function xd(n){return new jD(n)}class zD extends HD{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new uc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new ci((s,l)=>qt(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const h=this.us.get(s);if(t.push(this.os.removeEntry(e,s,h.readTime)),l.isValidDocument()){const m=UR(this.os.serializer,l);r=r.add(s.path.popLast());const v=jg(m);i+=v-h.size,t.push(this.os.addEntry(e,s,m))}else if(i-=h.size,this.trackRemovals){const m=UR(this.os.serializer,l.convertToNoDocument(It.min()));t.push(this.os.addEntry(e,s,m))}}),r.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,i)),de.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((s,l)=>{this.us.set(s,{size:l,readTime:i.get(s).readTime})}),i))}}function lb(n){return Br(n,"remoteDocumentGlobal")}function gc(n){return Br(n,"remoteDocumentsV14")}function $g(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function cb(n,e){const t=e.documentKey.path.toArray();return[n,jr(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function db(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=qt(t[s],i[s]),r)return r;return r=qt(t.length,i.length),r||(r=qt(t[t.length-2],i[i.length-2]),r||qt(t[t.length-1],i[i.length-1]))}class ub{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class KR{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&pm(i.mutation,r,Bs.empty(),_i.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,en()).next(()=>i))}getLocalViewOfDocuments(e,t,i=en()){const r=Na();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let l=fm();return s.forEach((h,m)=>{l=l.insert(h,m.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=Na();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,en()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((l,h)=>{t.set(l,h)})})}computeViews(e,t,i,r){let s=Hs();const l=Ng(),h=Ng();return t.forEach((m,v)=>{const w=i.get(v.key);r.has(v.key)&&(void 0===w||w.mutation instanceof Oa)?s=s.insert(v.key,v):void 0!==w?(l.set(v.key,w.mutation.getFieldMask()),pm(w.mutation,v,w.mutation.getFieldMask(),_i.now())):l.set(v.key,Bs.empty())}),this.recalculateAndSaveOverlays(e,s).next(m=>(m.forEach((v,w)=>l.set(v,w)),t.forEach((v,w)=>{var D;return h.set(v,new ub(w,null!==(D=l.get(v))&&void 0!==D?D:null))}),h))}recalculateAndSaveOverlays(e,t){const i=Ng();let r=new li((l,h)=>l-h),s=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const h of l)h.keys().forEach(m=>{const v=t.get(m);if(null===v)return;let w=i.get(m)||Bs.empty();w=h.applyToLocalView(v,w),i.set(m,w);const D=(r.get(h.batchId)||en()).add(m);r=r.insert(h.batchId,D)})}).next(()=>{const l=[],h=r.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),v=m.key,w=m.value,D=dx();w.forEach(k=>{if(!s.has(k)){const U=IR(t.get(k),i.get(k));null!==U&&D.set(k,U),s=s.add(k)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,D))}return de.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return et.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Py(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):de.resolve(Na());let h=-1,m=s;return l.next(v=>de.forEach(v,(w,D)=>(h<D.largestBatchId&&(h=D.largestBatchId),s.get(w)?de.resolve():this.remoteDocumentCache.getEntry(e,w).next(k=>{m=m.insert(w,k)}))).next(()=>this.populateOverlays(e,v,s)).next(()=>this.computeViews(e,m,v,en())).next(w=>({batchId:h,changes:iD(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(i=>{let r=fm();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=fm();return this.indexManager.getCollectionParents(e,r).next(l=>de.forEach(l,h=>{const m=(v=t,w=h.child(r),new ia(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,w;return this.getDocumentsMatchingCollectionQuery(e,m,i).next(v=>{v.forEach((w,D)=>{s=s.insert(w,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((h,m)=>{const v=m.getKey();null===s.get(v)&&(s=s.insert(v,vi.newInvalidDocument(v)))});let l=fm();return s.forEach((h,m)=>{const v=r.get(h);void 0!==v&&pm(v.mutation,m,Bs.empty(),_i.now()),kg(t,m)&&(l=l.insert(h,m))}),l})}}class VF{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return de.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:hr(i.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:Xy(i.bundledQuery),readTime:hr(i.readTime)}),de.resolve();var i}}class BF{constructor(){this.overlays=new li(et.comparator),this.ls=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Na();return de.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),de.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),de.resolve()}getOverlaysForCollection(e,t,i){const r=Na(),s=t.length+1,l=new et(t.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const m=h.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===s&&m.largestBatchId>i&&r.set(m.getKey(),m)}return de.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new li((v,w)=>v-w);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let w=s.get(v.largestBatchId);null===w&&(w=Na(),s=s.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const h=Na(),m=s.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,w)=>h.set(v,w)),!(h.size()>=r)););return de.resolve(h)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new _x(t,i));let s=this.ls.get(t);void 0===s&&(s=en(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class hb{constructor(){this.fs=new ci(zr.ds),this.ws=new ci(zr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new zr(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new zr(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new et(new Cn([])),i=new zr(t,e),r=new zr(t,e+1),s=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),s.push(l.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new et(new Cn([])),i=new zr(t,e),r=new zr(t,e+1);let s=en();return this.ws.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new zr(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class zr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return et.comparator(e.key,t.key)||qt(e.As,t.As)}static _s(e,t){return qt(e.As,t.As)||et.comparator(e.key,t.key)}}class YR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ci(zr.ds)}checkEmpty(e){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const l=new Pg(s,t,i,r);this.mutationQueue.push(l);for(const h of r)this.Rs=this.Rs.add(new zr(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return de.resolve(l)}lookupMutationBatch(e,t){return de.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return de.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new zr(t,0),r=new zr(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],l=>{const h=this.Ps(l.As);s.push(h)}),de.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ci(qt);return t.forEach(r=>{const s=new zr(r,0),l=new zr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,l],h=>{i=i.add(h.As)})}),de.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;et.isDocumentKey(s)||(s=s.child(""));const l=new zr(new et(s),0);let h=new ci(qt);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(m.As)),!0)},l),de.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Dt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return de.forEach(t.mutations,r=>{const s=new zr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new zr(t,0),r=this.Rs.firstAfterOrEqual(i);return de.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return de.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class QR{constructor(e){this.Ds=e,this.docs=new li(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,l=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return de.resolve(i?i.document.mutableCopy():vi.newInvalidDocument(t))}getEntries(e,t){let i=Hs();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():vi.newInvalidDocument(r))}),de.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Hs();const l=t.path,h=new et(l.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:v,value:{document:w}}=m.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||$w(nm(w),i)<=0||(r.has(w.key)||kg(t,w))&&(s=s.insert(w.key,w.mutableCopy()))}return de.resolve(s)}getAllFromCollectionGroup(e,t,i,r){ct()}Cs(e,t){return de.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new XR(this)}getSize(e){return de.resolve(this.size)}}class XR extends HD{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),de.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class $D{constructor(e){this.persistence=e,this.xs=new uc(t=>Xu(t),dc),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Ns=0,this.ks=new hb,this.targetCount=0,this.Ms=wd.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),de.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new wd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Fn(t),de.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((l,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.xs.delete(l),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),de.waitFor(s).next(()=>r)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return de.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),de.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(l=>{s.push(r.markPotentiallyOrphaned(e,l))}),de.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),de.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return de.resolve(i)}containsKey(e,t){return de.resolve(this.ks.containsKey(t))}}class fb{constructor(e,t){this.$s={},this.overlays={},this.Os=new To(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new $D(this),this.indexManager=new PD,this.remoteDocumentCache=new QR(i=>this.referenceDelegate.Ls(i)),this.serializer=new Sx(t),this.qs=new VF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new BF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new YR(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Ue("MemoryPersistence","Starting transaction:",e);const r=new GD(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return de.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class GD extends DT{constructor(e){super(),this.currentSequenceNumber=e}}class mb{constructor(e){this.persistence=e,this.Qs=new hb,this.js=null}static zs(e){return new mb(e)}get Ws(){if(this.js)return this.js;throw ct()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),de.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),de.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Ws,i=>{const r=et.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,It.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return de.or([()=>de.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class qD{constructor(e){this.serializer=e}O(e,t,i,r){const s=new Ty("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",MT,{unique:!0}),h.createObjectStore("documentMutations"),gb(e),function(h){h.createObjectStore("remoteDocuments")}(e));let l=de.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),gb(e)),l=l.next(()=>function(h){const m=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(s))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(h,m){return m.store("mutations").j().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",MT,{unique:!0});const w=m.store("mutations"),D=v.map(k=>w.put(k));return de.waitFor(D)})}(e,s))),l=l.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(l=l.next(()=>this.Ys(s))),i<6&&r>=6&&(l=l.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),i<7&&r>=7&&(l=l.next(()=>this.Zs(s))),i<8&&r>=8&&(l=l.next(()=>this.ti(e,s))),i<9&&r>=9&&(l=l.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(l=l.next(()=>this.ei(s))),i<11&&r>=11&&(l=l.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(l=l.next(()=>{!function(h){const m=h.createObjectStore("documentOverlays",{keyPath:FT});m.createIndex("collectionPathOverlayIndex",cR,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",dR,{unique:!1})}(e)})),i<13&&r>=13&&(l=l.next(()=>function(h){const m=h.createObjectStore("remoteDocumentsV14",{keyPath:Cg});m.createIndex("documentKeyIndex",rR),m.createIndex("collectionGroupIndex",RT)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.si(e,s))),i<15&&r>=15&&(l=l.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:aR}).createIndex("sequenceNumberIndex",Gw,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:lR}).createIndex("documentKeyIndex",PT,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=jg(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>de.forEach(r,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",l).next(h=>de.forEach(h,m=>{Dt(m.userId===s.userId);const v=oh(this.serializer,m);return $R(e,s.userId,v).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((l,h)=>{const m=new Cn(l),v=[0,bs(m)];s.push(t.get(v).next(w=>w?de.resolve():t.put({targetId:0,path:bs(m),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>de.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:OT});const i=t.store("collectionParents"),r=new ib,s=l=>{if(r.add(l)){const h=l.lastSegment(),m=l.popLast();return i.put({collectionId:h,parent:bs(m)})}};return t.store("remoteDocuments").X({Y:!0},(l,h)=>{const m=new Cn(l);return s(m.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,h,m],v)=>{const w=ac(h);return s(w.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const s=Ug(r),l=Qy(this.serializer,s);return t.put(l)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((s,l)=>{const h=t.store("remoteDocumentsV14"),m=(v=l,v.document?new et(Cn.fromString(v.document.name).popFirst(5)):v.noDocument?et.fromSegments(v.noDocument.path):v.unknownDocument?et.fromSegments(v.unknownDocument.path):ct()).path.toArray();var v;const w={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(h.put(w))}).next(()=>de.waitFor(r))}si(e,t){const i=t.store("mutations"),r=xd(this.serializer),s=new fb(mb.zs,this.serializer.fe);return i.j().next(l=>{const h=new Map;return l.forEach(m=>{var v;let w=null!==(v=h.get(m.userId))&&void 0!==v?v:en();oh(this.serializer,m).keys().forEach(D=>w=w.add(D)),h.set(m.userId,w)}),de.forEach(h,(m,v)=>{const w=new Ir(v),D=eb.de(this.serializer,w),k=s.getIndexManager(w),U=sb.de(w,this.serializer,k,s.referenceDelegate);return new KR(r,U,D,k).recalculateAndSaveOverlaysForDocumentKeys(new Zw(t,To.ct),m).next()})})}}function gb(n){n.createObjectStore("targetDocuments",{keyPath:NT}).createIndex("documentTargetsIndex",oR,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",sR,{unique:!0}),n.createObjectStore("targetGlobal")}const WD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _b{constructor(e,t,i,r,s,l,h,m,v,w,D=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=s,this.window=l,this.document=h,this.ri=v,this.oi=w,this.ui=D,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=k=>Promise.resolve(),!_b.D())throw new Ne(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ob(this,r),this.di=t+"main",this.serializer=new Sx(m),this.wi=new na(this.di,this.ui,new qD(this.serializer)),this.Bs=new qR(this.referenceDelegate,this.serializer),this.remoteDocumentCache=xd(this.serializer),this.qs=new MD,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===w&&Xn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(me.FAILED_PRECONDITION,WD);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new To(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,xe.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,xe.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,xe.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>vb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Wu(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return uh(e).get("owner").next(t=>de.resolve(this.Ri(t)))}Pi(e){return vb(e).delete(this.clientId)}bi(){var e=this;return(0,xe.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Br(i,"clientMetadata");return r.j().next(s=>{const l=e.Si(s,18e5),h=s.filter(m=>-1===l.indexOf(m));return de.forEach(h,m=>r.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?de.resolve(!0):uh(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ne(me.FAILED_PRECONDITION,WD);return!1}}return!(!this.networkEnabled||!this.inForeground)||vb(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,xe.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Zw(t,To.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>vb(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return sb.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new FD(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return eb.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){Ue("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(l=this.ui)?uR:14===l?Ww:13===l?VT:12===l?qw:11===l?LT:void ct();var l;let h;return this.wi.runTransaction(e,r,s,m=>(h=new Zw(m,this.Os?this.Os.next():To.ct),"readwrite-primary"===t?this.Ti(h).next(v=>!!v||this.Ei(h)).next(v=>{if(!v)throw Xn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ne(me.FAILED_PRECONDITION,TT);return i(h)}).next(v=>this.vi(h).next(()=>v)):this.Oi(h).next(()=>i(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}Oi(e){return uh(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(me.FAILED_PRECONDITION,WD)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uh(e).put("owner",t)}static D(){return na.D()}Ai(e){const t=uh(e);return t.get("owner").next(i=>this.Ri(i)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Xn(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,B.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Xn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Xn("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function uh(n){return Br(n,"owner")}function vb(n){return Br(n,"clientMetadata")}function Bx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class ZD{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=en(),r=en();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new ZD(e,t.fromCache,i,r)}}class JR{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(tD(t))return de.resolve(null);let i=Us(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Fy(t,null,"F"),i=Us(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const l=en(...s);return this.Ui.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,i).next(m=>{const v=this.ji(t,h);return this.zi(t,v,l,m.readTime)?this.Ki(e,Fy(t,null,"F")):this.Wi(e,v,t,m)}))})))}Gi(e,t,i,r){return tD(t)||r.isEqual(It.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const l=this.ji(t,s);return this.zi(t,l,i,r)?this.Qi(e,t):(wy()<=Sa.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lx(t)),this.Wi(e,l,t,IT(r,-1)))})}ji(e,t){let i=new ci(Rg(e));return t.forEach((r,s)=>{kg(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return wy()<=Sa.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",lx(t)),this.Ui.getDocumentsMatchingQuery(e,t,rs.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}class e1{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new li(qt),this.Yi=new uc(s=>Xu(s),dc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KR(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function KD(n,e,t,i){return new e1(n,e,t,i)}function YD(n,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,xe.Z)(function*(n,e){const t=at(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],h=[];let m=en();for(const v of r){l.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}for(const v of s){h.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}return t.localDocuments.getDocuments(i,m).next(v=>({er:v,removedBatchIds:l,addedBatchIds:h}))})})}),Ux.apply(this,arguments)}function Hx(n){const e=at(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function XD(n,e,t){let i=en(),r=en();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let l=Hs();return t.forEach((h,m)=>{const v=s.get(h);m.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(h)),m.isNoDocument()&&m.version.isEqual(It.min())?(e.removeEntry(h,m.readTime),l=l.insert(h,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),l=l.insert(h,m)):Ue("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",m.version)}),{nr:l,sr:r}})}function jx(n,e){const t=at(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function hh(n,e){const t=at(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,de.resolve(r)):t.Bs.allocateTargetId(i).next(l=>(r=new Sr(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function fh(n,e,t){return zx.apply(this,arguments)}function zx(){return zx=(0,xe.Z)(function*(n,e,t){const i=at(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Wu(l))throw l;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),zx.apply(this,arguments)}function Tm(n,e,t){const i=at(n);let r=It.min(),s=en();return i.persistence.runTransaction("Execute query","readonly",l=>function(h,m,v){const w=at(h),D=w.Yi.get(v);return void 0!==D?de.resolve(w.Ji.get(D)):w.Bs.getTargetData(m,v)}(i,l,Us(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,h.targetId).next(m=>{s=m})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,e,t?r:It.min(),t?s:en())).next(h=>($x(i,cx(e),h),{documents:h,ir:s})))}function JD(n,e){const t=at(n),i=at(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.le(s,e).next(l=>l?l.target:null))}function eS(n,e){const t=at(n),i=t.Xi.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,IT(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>($x(t,e,r),r))}function $x(n,e,t){let i=n.Xi.get(e)||It.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}function nS(){return nS=(0,xe.Z)(function*(n,e,t,i){const r=at(n);let s=en(),l=Hs();for(const v of t){const w=e.rr(v.metadata.name);v.document&&(s=s.add(w));const D=e.ur(v);D.setReadTime(e.cr(v.metadata.readTime)),l=l.insert(w,D)}const h=r.Zi.newChangeBuffer({trackRemovals:!0}),m=yield hh(r,(v=i,Us(hm(Cn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>XD(v,h,l).next(w=>(h.apply(v),w)).next(w=>r.Bs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>r.Bs.addMatchingKeys(v,s,m.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,w.nr,w.sr)).next(()=>w.nr)))}),nS.apply(this,arguments)}function t1(n,e){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,xe.Z)(function*(n,e,t=en()){const i=yield hh(n,Us(Xy(e.bundledQuery))),r=at(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const l=hr(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.qs.saveNamedQuery(s,e);const h=i.withResumeToken(Tr.EMPTY_BYTE_STRING,l);return r.Ji=r.Ji.insert(h.targetId,h),r.Bs.updateTargetData(s,h).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,t,i.targetId)).next(()=>r.qs.saveNamedQuery(s,e))})}),Dm.apply(this,arguments)}function n1(n,e){return`firestore_clients_${n}_${e}`}function iS(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function rS(n,e){return`firestore_targets_${n}_${e}`}class Gx{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let s,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new Ne(r.error.code,r.error.message))),l?new Gx(e,t,r.state,s):(Xn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gg{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ne(i.error.code,i.error.message))),s?new Gg(e,i.state,r):(Xn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qx{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Og();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=ST(i.activeTargetIds[l]),s=s.add(i.activeTargetIds[l]);return r?new qx(e,s):(Xn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class sS{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new sS(t.clientId,t.onlineState):(Xn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class oS{constructor(){this.activeTargetIds=Og()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aS{constructor(e,t,i,r,s){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new li(qt),this.started=!1,this.yr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=n1(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new oS),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,xe.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const s=e.getItem(n1(e.persistenceKey,r));if(s){const l=qx.ar(r,s);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(rS(this.persistenceKey,e));if(i){const r=Gg.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rS(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ue("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Xn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,xe.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(s){let l=To.ct;if(null!=s)try{const h=JSON.parse(s);Dt("number"==typeof h),l=h}catch(h){Xn("SharedClientState","Failed to read sequence number from WebStorage",h)}return l}(i.newValue);r!==To.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Qr(s)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new Gx(this.currentUser,e,t,i),s=iS(this.persistenceKey,this.currentUser,e);this.setItem(s,r.hr())}Cr(e){const t=iS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=rS(this.persistenceKey,e),s=new Gg(e,t,i);this.setItem(r,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return qx.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return Gx.ar(new Ir(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return Gg.ar(r,t)}br(e){return sS.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,xe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),s=this.Sr(i),l=[],h=[];return s.forEach(m=>{r.has(m)||l.push(m)}),r.forEach(m=>{s.has(m)||h.push(m)}),this.syncEngine.Wr(l,h).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Og();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class r1{constructor(){this.Hr=new oS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new oS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class s1{Yr(e){}shutdown(){}}class o1{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Wx=null;function lS(){return null===Wx?Wx=268435456+Math.round(2147483648*Math.random()):Wx++,"0x"+Wx.toString(16)}const HF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jF{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const xs="WebChannelConnection";class zF extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const l=lS(),h=this.To(e,t);Ue("RestConnection",`Sending RPC '${e}' ${l}:`,h,i);const m={};return this.Eo(m,r,s),this.Ao(e,h,m,i).then(v=>(Ue("RestConnection",`Received RPC '${e}' ${l}: `,v),v),v=>{throw ta("RestConnection",`RPC '${e}' ${l} failed with error: `,v,"url: ",h,"request:",i),v})}vo(e,t,i,r,s,l){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Gu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${HF[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=lS();return new Promise((l,h)=>{const m=new xT;m.setWithCredentials(!0),m.listenOnce(Gk.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Fw.NO_ERROR:const w=m.getResponseJson();Ue(xs,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(w)),l(w);break;case Fw.TIMEOUT:Ue(xs,`RPC '${e}' ${s} timed out`),h(new Ne(me.DEADLINE_EXCEEDED,"Request time out"));break;case Fw.HTTP_ERROR:const D=m.getStatus();if(Ue(xs,`RPC '${e}' ${s} failed with status:`,D,"response text:",m.getResponseText()),D>0){let k=m.getResponseJson();Array.isArray(k)&&(k=k[0]);const U=k?.error;if(U&&U.status&&U.message){const z=function(K){const oe=K.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(oe)>=0?oe:me.UNKNOWN}(U.status);h(new Ne(z,U.message))}else h(new Ne(me.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Ne(me.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Ue(xs,`RPC '${e}' ${s} completed.`)}});const v=JSON.stringify(r);Ue(xs,`RPC '${e}' ${s} sending request:`,r),m.send(t,"POST",v,i,15)})}Ro(e,t,i){const r=lS(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=zk(),h=$k(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new Wk({})),this.Eo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const w=s.join("");Ue(xs,`Creating RPC '${e}' stream ${r}: ${w}`,m);const D=l.createWebChannel(w,m);let k=!1,U=!1;const z=new jF({ro:oe=>{U?Ue(xs,`Not sending because RPC '${e}' stream ${r} is closed:`,oe):(k||(Ue(xs,`Opening RPC '${e}' stream ${r} transport.`),D.open(),k=!0),Ue(xs,`RPC '${e}' stream ${r} sending:`,oe),D.send(oe))},oo:()=>D.close()}),K=(oe,Le,$e)=>{oe.listen(Le,ze=>{try{$e(ze)}catch(Ke){setTimeout(()=>{throw Ke},0)}})};return K(D,yg.EventType.OPEN,()=>{U||Ue(xs,`RPC '${e}' stream ${r} transport opened.`)}),K(D,yg.EventType.CLOSE,()=>{U||(U=!0,Ue(xs,`RPC '${e}' stream ${r} transport closed`),z.wo())}),K(D,yg.EventType.ERROR,oe=>{U||(U=!0,ta(xs,`RPC '${e}' stream ${r} transport errored:`,oe),z.wo(new Ne(me.UNAVAILABLE,"The operation could not be completed")))}),K(D,yg.EventType.MESSAGE,oe=>{var Le;if(!U){const $e=oe.data[0];Dt(!!$e);const Ke=$e.error||(null===(Le=$e[0])||void 0===Le?void 0:Le.error);if(Ke){Ue(xs,`RPC '${e}' stream ${r} received error:`,Ke);const St=Ke.status;let Ot=function(ir){const uo=Dr[ir];if(void 0!==uo)return yx(uo)}(St),Tn=Ke.message;void 0===Ot&&(Ot=me.INTERNAL,Tn="Unknown error status: "+St+" with message "+Ke.message),U=!0,z.wo(new Ne(Ot,Tn)),D.close()}else Ue(xs,`RPC '${e}' stream ${r} received:`,$e),z._o($e)}}),K(h,qk.STAT_EVENT,oe=>{oe.stat===wT.PROXY?Ue(xs,`RPC '${e}' stream ${r} detected buffering proxy`):oe.stat===wT.NOPROXY&&Ue(xs,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{z.fo()},0),z}}function o(){return typeof window<"u"?window:null}function a(){return typeof document<"u"?document:null}function c(n){return new xD(n,!0)}class u{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&Ue("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class f{constructor(e,t,i,r,s,l,h,m){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new u(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,xe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,xe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,xe.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(Xn(t.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Ne(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,xe.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p extends f{constructor(e,t,i,r,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Cx(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:ct(),r=e.targetChange.targetIds||[],s=function(m,v){return m.useProto3Json?(Dt(void 0===v||"string"==typeof v),Tr.fromBase64String(v||"")):(Dt(void 0===v||v instanceof Uint8Array),Tr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(m){const v=void 0===m.code?me.UNKNOWN:yx(m.code);return new Ne(v,m.message||"")}(l);t=new gD(i,r,s,h||null)}else if("documentChange"in e){const i=e.documentChange,r=hc(n,i.document.name),s=hr(i.document.updateTime),l=i.document.createTime?hr(i.document.createTime):It.min(),h=new Hr({mapValue:{fields:i.document.fields}}),m=vi.newFoundDocument(r,s,l,h);t=new Bg(i.targetIds||[],i.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const i=e.documentDelete,r=hc(n,i.document),s=i.readTime?hr(i.readTime):It.min(),l=vi.newNoDocument(r,s);t=new Bg([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,r=hc(n,i.document);t=new Bg([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ct();{const i=e.filter,{count:r=0,unchangedNames:s}=i,l=new vx(r,s);t=new xx(i.targetId,l)}}var m;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return It.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?It.min():s.readTime?hr(s.readTime):It.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Ky(this.serializer),t.addTarget=function(r,s){let l;const h=s.target;if(l=Oy(h)?{documents:TD(r,h)}:{query:DD(r,h)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=ED(r,s.resumeToken);const m=qy(r,s.expectedCount);null!==m&&(l.expectedCount=m)}else if(s.snapshotVersion.compareTo(It.min())>0){l.readTime=ih(r,s.snapshotVersion.toTimestamp());const m=qy(r,s.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,e);const i=function PF(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Ky(this.serializer),t.removeTarget=e,this.Wo(t)}}class y extends f{constructor(e,t,i,r,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Yy(n,e){return n&&n.length>0?(Dt(void 0!==e),n.map(t=>function(i,r){let s=hr(i.updateTime?i.updateTime:r);return s.isEqual(It.min())&&(s=hr(r)),new js(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=hr(e.commitTime);return this.listener.cu(i,t)}return Dt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ky(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>ym(this.serializer,i))};this.Wo(t)}}class E extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ne(me.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.vo(e,t,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(me.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class R{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Xn(t),this.mu=!1):Ue("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class j{constructor(e,t,i,r,s){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(h=>{i.enqueueAndForget((0,xe.Z)(function*(){var m;Ri(l)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,xe.Z)(function*(v){const w=at(v);w.vu.add(4),yield Ie(w),w.bu.set("Unknown"),w.vu.delete(4),yield Q(w)}),function(v){return m.apply(this,arguments)})(l))}))}),this.bu=new R(i,r)}}function Q(n){return ne.apply(this,arguments)}function ne(){return ne=(0,xe.Z)(function*(n){if(Ri(n))for(const e of n.Ru)yield e(!0)}),ne.apply(this,arguments)}function Ie(n){return He.apply(this,arguments)}function He(){return He=(0,xe.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),He.apply(this,arguments)}function nt(n,e){const t=at(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),fn(t)?cn(t):bb(t).Ko()&&Ae(t,e))}function yt(n,e){const t=at(n),i=bb(t);t.Au.delete(e),i.Ko()&&Wt(t,e),0===t.Au.size&&(i.Ko()?i.jo():Ri(t)&&t.bu.set("Unknown"))}function Ae(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bb(n).su(e)}function Wt(n,e){n.Vu.qt(e),bb(n).iu(e)}function cn(n){n.Vu=new _D({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),bb(n).start(),n.bu.gu()}function fn(n){return Ri(n)&&!bb(n).Uo()&&n.Au.size>0}function Ri(n){return 0===at(n).vu.size}function qg(n){n.Vu=void 0}function a1(n){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,xe.Z)(function*(n){n.Au.forEach((e,t)=>{Ae(n,e)})}),Zx.apply(this,arguments)}function W4(n,e){return l1.apply(this,arguments)}function l1(){return l1=(0,xe.Z)(function*(n,e){qg(n),fn(n)?(n.bu.Iu(e),cn(n)):n.bu.set("Unknown")}),l1.apply(this,arguments)}function Z4(n,e,t){return c1.apply(this,arguments)}function c1(){return c1=(0,xe.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof gD&&2===e.state&&e.cause)try{yield(i=(0,xe.Z)(function*(r,s){const l=s.cause;for(const h of s.targetIds)r.Au.has(h)&&(yield r.remoteSyncer.rejectListen(h,l),r.Au.delete(h),r.Vu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield cS(n,i)}else if(e instanceof Bg?n.Vu.Ht(e):e instanceof xx?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(It.min()))try{const i=yield Hx(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const l=r.Vu.ce(s);return l.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=r.Au.get(m);v&&r.Au.set(m,v.withResumeToken(h.resumeToken,s))}}),l.targetMismatches.forEach((h,m)=>{const v=r.Au.get(h);if(!v)return;r.Au.set(h,v.withResumeToken(Tr.EMPTY_BYTE_STRING,v.snapshotVersion)),Wt(r,h);const w=new Sr(v.target,h,m,v.sequenceNumber);Ae(r,w)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(i){Ue("RemoteStore","Failed to raise snapshot:",i),yield cS(n,i)}var i}),c1.apply(this,arguments)}function cS(n,e,t){return d1.apply(this,arguments)}function d1(){return d1=(0,xe.Z)(function*(n,e,t){if(!Wu(e))throw e;n.vu.add(1),yield Ie(n),n.bu.set("Offline"),t||(t=()=>Hx(n.localStore)),n.asyncQueue.enqueueRetryable((0,xe.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Q(n)}))}),d1.apply(this,arguments)}function $F(n,e){return e().catch(t=>cS(n,t,e))}function yb(n){return u1.apply(this,arguments)}function u1(){return u1=(0,xe.Z)(function*(n){const e=at(n),t=Sm(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;K4(e);)try{const r=yield jx(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,Y4(e,r)}catch(r){yield cS(e,r)}GF(e)&&qF(e)}),u1.apply(this,arguments)}function K4(n){return Ri(n)&&n.Eu.length<10}function Y4(n,e){n.Eu.push(e);const t=Sm(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function GF(n){return Ri(n)&&!Sm(n).Uo()&&n.Eu.length>0}function qF(n){Sm(n).start()}function Q4(n){return h1.apply(this,arguments)}function h1(){return h1=(0,xe.Z)(function*(n){Sm(n).hu()}),h1.apply(this,arguments)}function X4(n){return f1.apply(this,arguments)}function f1(){return f1=(0,xe.Z)(function*(n){const e=Sm(n);for(const t of n.Eu)e.uu(t.mutations)}),f1.apply(this,arguments)}function J4(n,e,t){return m1.apply(this,arguments)}function m1(){return m1=(0,xe.Z)(function*(n,e,t){const i=n.Eu.shift(),r=zy.from(i,e,t);yield $F(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield yb(n)}),m1.apply(this,arguments)}function ej(n,e){return p1.apply(this,arguments)}function p1(){return p1=(0,xe.Z)(function*(n,e){var t;e&&Sm(n).ou&&(yield(t=(0,xe.Z)(function*(i,r){if(fD(s=r.code)&&s!==me.ABORTED){const l=i.Eu.shift();Sm(i).Qo(),yield $F(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield yb(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),GF(n)&&qF(n)}),p1.apply(this,arguments)}function WF(n,e){return g1.apply(this,arguments)}function g1(){return g1=(0,xe.Z)(function*(n,e){const t=at(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const i=Ri(t);t.vu.add(3),yield Ie(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Q(t)}),g1.apply(this,arguments)}function _1(n,e){return v1.apply(this,arguments)}function v1(){return v1=(0,xe.Z)(function*(n,e){const t=at(n);e?(t.vu.delete(2),yield Q(t)):e||(t.vu.add(2),yield Ie(t),t.bu.set("Unknown"))}),v1.apply(this,arguments)}function bb(n){return n.Su||(n.Su=function(e,t,i){const r=at(e);return r.fu(),new p(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:a1.bind(null,n),ao:W4.bind(null,n),nu:Z4.bind(null,n)}),n.Ru.push(function(){var e=(0,xe.Z)(function*(t){t?(n.Su.Qo(),fn(n)?cn(n):n.bu.set("Unknown")):(yield n.Su.stop(),qg(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Sm(n){return n.Du||(n.Du=function(e,t,i){const r=at(e);return r.fu(),new y(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:Q4.bind(null,n),ao:ej.bind(null,n),au:X4.bind(null,n),cu:J4.bind(null,n)}),n.Ru.push(function(){var e=(0,xe.Z)(function*(t){t?(n.Du.Qo(),yield yb(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class y1{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,i,r,s){const l=Date.now()+i,h=new y1(e,t,l,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wb(n,e){if(Xn("AsyncQueue",`${e}: ${n}`),Wu(n))return new Ne(me.UNAVAILABLE,`${e}: ${n}`);throw n}class xb{constructor(e){this.comparator=e?(t,i)=>e(t,i)||et.comparator(t.key,i.key):(t,i)=>et.comparator(t.key,i.key),this.keyedMap=fm(),this.sortedSet=new li(this.comparator)}static emptySet(e){return new xb(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xb)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new xb;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class ZF{constructor(){this.Cu=new li(et.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ct():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Eb{constructor(e,t,i,r,s,l,h,m,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,r,s){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new Eb(e,t,xb.emptySet(t),l,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class tj{constructor(){this.Nu=void 0,this.listeners=[]}}class nj{constructor(){this.queries=new uc(e=>ax(e),Mg),this.onlineState="Unknown",this.ku=new Set}}function b1(n,e){return w1.apply(this,arguments)}function w1(){return w1=(0,xe.Z)(function*(n,e){const t=at(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new tj),r)try{s.Nu=yield t.onListen(i)}catch(l){const h=wb(l,`Initialization of query '${lx(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&C1(t)}),w1.apply(this,arguments)}function x1(n,e){return E1.apply(this,arguments)}function E1(){return E1=(0,xe.Z)(function*(n,e){const t=at(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),E1.apply(this,arguments)}function ij(n,e){const t=at(n);let i=!1;for(const r of e){const l=t.queries.get(r.query);if(l){for(const h of l.listeners)h.$u(r)&&(i=!0);l.Nu=r}}i&&C1(t)}function rj(n,e,t){const i=at(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function C1(n){n.ku.forEach(e=>{e.next()})}class I1{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Eb(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Eb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class sj{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class KF{constructor(e){this.serializer=e}rr(e){return hc(this.serializer,e)}ur(e){return e.metadata.exists?NR(this.serializer,e.document,!1):vi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return hr(e)}}class oj{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=YF(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=Cn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new KF(this.serializer);for(const r of e)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const l of r.metadata.queries){const h=(t.get(l)||en()).add(s);t.set(l,h)}}return t}complete(){var e=this;return(0,xe.Z)(function*(){const t=yield function tS(n,e,t,i){return nS.apply(this,arguments)}(e.localStore,new KF(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield t1(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function YF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class QF{constructor(e){this.key=e}}class XF{constructor(e){this.key=e}}class JF{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=en(),this.mutatedKeys=en(),this.tc=Rg(e),this.ec=new xb(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new ZF,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,l=r,h=!1;const m="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((w,D)=>{const k=r.get(w),U=kg(this.query,D)?D:null,z=!!k&&this.mutatedKeys.has(k.key),K=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let oe=!1;k&&U?k.data.isEqual(U.data)?z!==K&&(i.track({type:3,doc:U}),oe=!0):this.rc(k,U)||(i.track({type:2,doc:U}),oe=!0,(m&&this.tc(U,m)>0||v&&this.tc(U,v)<0)&&(h=!0)):!k&&U?(i.track({type:0,doc:U}),oe=!0):k&&!U&&(i.track({type:1,doc:k}),oe=!0,(m||v)&&(h=!0)),oe&&(U?(l=l.add(U),s=K?s.add(w):s.delete(w)):(l=l.delete(w),s=s.delete(w)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const w="F"===this.query.limitType?l.last():l.first();l=l.delete(w.key),s=s.delete(w.key),i.track({type:1,doc:w})}return{ec:l,ic:i,zi:h,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((v,w)=>function(D,k){const U=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return U(D)-U(k)}(v.type,w.type)||this.tc(v.doc,w.doc)),this.oc(i);const l=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,m=h!==this.Xu;return this.Xu=h,0!==s.length||m?{snapshot:new Eb(this.query,e.ec,r,s,e.mutatedKeys,0===h,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ZF,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=en(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new XF(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new QF(i))}),t}hc(e){this.Yu=e.ir,this.Zu=en();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Eb.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class aj{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class lj{constructor(e){this.key=e,this.fc=!1}}class cj{constructor(e,t,i,r,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new uc(h=>ax(h),Mg),this._c=new Map,this.mc=new Set,this.gc=new li(et.comparator),this.yc=new Map,this.Ic=new hb,this.Tc={},this.Ec=new Map,this.Ac=wd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function dj(n,e){return T1.apply(this,arguments)}function T1(){return T1=(0,xe.Z)(function*(n,e){const t=K1(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const l=yield hh(t.localStore,Us(e)),h=t.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield D1(t,e,i,"current"===h,l.resumeToken),t.isPrimaryClient&&nt(t.remoteStore,l)}return r}),T1.apply(this,arguments)}function D1(n,e,t,i,r){return S1.apply(this,arguments)}function S1(){return S1=(0,xe.Z)(function*(n,e,t,i,r){n.Rc=(D,k,U)=>{return(z=(0,xe.Z)(function*(K,oe,Le,$e){let ze=oe.view.sc(Le);ze.zi&&(ze=yield Tm(K.localStore,oe.query,!1).then(({documents:Ot})=>oe.view.sc(Ot,ze)));const Ke=$e&&$e.targetChanges.get(oe.targetId),St=oe.view.applyChanges(ze,K.isPrimaryClient,Ke);return V1(K,oe.targetId,St.cc),St.snapshot}),function(K,oe,Le,$e){return z.apply(this,arguments)})(n,D,k,U);var z};const s=yield Tm(n.localStore,e,!0),l=new JF(e,s.ir),h=l.sc(s.documents),m=Vg.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),v=l.applyChanges(h,n.isPrimaryClient,m);V1(n,t,v.cc);const w=new aj(e,t,l);return n.wc.set(e,w),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),S1.apply(this,arguments)}function uj(n,e){return A1.apply(this,arguments)}function A1(){return A1=(0,xe.Z)(function*(n,e){const t=at(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!Mg(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),yt(t.remoteStore,i.targetId),Cb(t,i.targetId)}).catch(sc))):(Cb(t,i.targetId),yield fh(t.localStore,i.targetId,!0))}),A1.apply(this,arguments)}function M1(){return M1=(0,xe.Z)(function*(n,e,t){const i=Y1(n);try{const r=yield function(s,l){const h=at(s),m=_i.now(),v=l.reduce((k,U)=>k.add(U.key),en());let w,D;return h.persistence.runTransaction("Locally write mutations","readwrite",k=>{let U=Hs(),z=en();return h.Zi.getEntries(k,v).next(K=>{U=K,U.forEach((oe,Le)=>{Le.isValidDocument()||(z=z.add(oe))})}).next(()=>h.localDocuments.getOverlayedDocuments(k,U)).next(K=>{w=K;const oe=[];for(const Le of l){const $e=mx(Le,w.get(Le.key).overlayedDocument);null!=$e&&oe.push(new Oa(Le.key,$e,GT($e.value.mapValue),Hn.exists(!0)))}return h.mutationQueue.addMutationBatch(k,m,oe,l)}).next(K=>{D=K;const oe=K.applyToLocalDocumentSet(w,z);return h.documentOverlayCache.saveOverlays(k,K.batchId,oe)})}).then(()=>({batchId:D.batchId,changes:iD(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,h){let m=s.Tc[s.currentUser.toKey()];m||(m=new li(qt)),m=m.insert(l,h),s.Tc[s.currentUser.toKey()]=m}(i,r.batchId,t),yield mh(i,r.changes),yield yb(i.remoteStore)}catch(r){const s=wb(r,"Failed to persist write");t.reject(s)}}),M1.apply(this,arguments)}function eL(n,e){return k1.apply(this,arguments)}function k1(){return k1=(0,xe.Z)(function*(n,e){const t=at(n);try{const i=yield function UF(n,e){const t=at(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const h=[];e.targetChanges.forEach((w,D)=>{const k=r.get(D);if(!k)return;h.push(t.Bs.removeMatchingKeys(s,w.removedDocuments,D).next(()=>t.Bs.addMatchingKeys(s,w.addedDocuments,D)));let U=k.withSequenceNumber(s.currentSequenceNumber);var z,K,oe;null!==e.targetMismatches.get(D)?U=U.withResumeToken(Tr.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):w.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(w.resumeToken,i)),r=r.insert(D,U),K=U,oe=w,(0===(z=k).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(s,U))});let m=Hs(),v=en();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,w))}),h.push(XD(s,l,e.documentUpdates).next(w=>{m=w.nr,v=w.sr})),!i.isEqual(It.min())){const w=t.Bs.getLastRemoteSnapshotVersion(s).next(D=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(w)}return de.waitFor(h).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,m,v)).next(()=>m)}).then(s=>(t.Ji=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const l=t.yc.get(s);l&&(Dt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?Dt(l.fc):r.removedDocuments.size>0&&(Dt(l.fc),l.fc=!1))}),yield mh(t,i,e)}catch(i){yield sc(i)}}),k1.apply(this,arguments)}function tL(n,e,t){const i=at(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,l)=>{const h=l.view.Mu(e);h.snapshot&&r.push(h.snapshot)}),function(s,l){const h=at(s);h.onlineState=l;let m=!1;h.queries.forEach((v,w)=>{for(const D of w.listeners)D.Mu(l)&&(m=!0)}),m&&C1(h)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function fj(n,e,t){return R1.apply(this,arguments)}function R1(){return R1=(0,xe.Z)(function*(n,e,t){const i=at(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let l=new li(et.comparator);l=l.insert(s,vi.newNoDocument(s,It.min()));const h=en().add(s),m=new Lg(It.min(),new Map,new li(qt),l,h);yield eL(i,m),i.gc=i.gc.remove(s),i.yc.delete(e),B1(i)}else yield fh(i.localStore,e,!1).then(()=>Cb(i,e,t)).catch(sc)}),R1.apply(this,arguments)}function mj(n,e){return N1.apply(this,arguments)}function N1(){return N1=(0,xe.Z)(function*(n,e){const t=at(n),i=e.batch.batchId;try{const r=yield function QD(n,e){const t=at(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,h,m,v){const w=m.batch,D=w.keys();let k=de.resolve();return D.forEach(U=>{k=k.next(()=>v.getEntry(h,U)).next(z=>{const K=m.docVersions.get(U);Dt(null!==K),z.version.compareTo(K)<0&&(w.applyToRemoteDocument(z,m),z.isValidDocument()&&(z.setReadTime(m.commitVersion),v.addEntry(z)))})}),k.next(()=>l.mutationQueue.removeMutationBatch(h,w))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let h=en();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(h=h.add(l.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);L1(t,i,null),F1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield mh(t,r)}catch(r){yield sc(r)}}),N1.apply(this,arguments)}function pj(n,e,t){return O1.apply(this,arguments)}function O1(){return O1=(0,xe.Z)(function*(n,e,t){const i=at(n);try{const r=yield function(s,l){const h=at(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,l).next(w=>(Dt(null!==w),v=w.keys(),h.mutationQueue.removeMutationBatch(m,w))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(i.localStore,e);L1(i,e,t),F1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield mh(i,r)}catch(r){yield sc(r)}}),O1.apply(this,arguments)}function P1(){return P1=(0,xe.Z)(function*(n,e){const t=at(n);Ri(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const l=at(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>l.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=wb(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),P1.apply(this,arguments)}function F1(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function L1(n,e,t){const i=at(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function Cb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||nL(n,i)})}function nL(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(yt(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),B1(n))}function V1(n,e,t){for(const i of t)i instanceof QF?(n.Ic.addReference(i.key,e),_j(n,i)):i instanceof XF?(Ue("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||nL(n,i.key)):ct()}function _j(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Ue("SyncEngine","New document in limbo: "+t),n.mc.add(i),B1(n))}function B1(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new et(Cn.fromString(e)),i=n.Ac.next();n.yc.set(i,new lj(t)),n.gc=n.gc.insert(t,i),nt(n.remoteStore,new Sr(Us(hm(t.path)),i,"TargetPurposeLimboResolution",To.ct))}}function mh(n,e,t){return U1.apply(this,arguments)}function U1(){return U1=(0,xe.Z)(function*(n,e,t){const i=at(n),r=[],s=[],l=[];var h;i.wc.isEmpty()||(i.wc.forEach((h,m)=>{l.push(i.Rc(m,e,t).then(v=>{if((v||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const w=ZD.Li(m.targetId,v);s.push(w)}}))}),yield Promise.all(l),i.dc.nu(r),yield(h=(0,xe.Z)(function*(m,v){const w=at(m);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>de.forEach(v,k=>de.forEach(k.Fi,U=>w.persistence.referenceDelegate.addReference(D,k.targetId,U)).next(()=>de.forEach(k.Bi,U=>w.persistence.referenceDelegate.removeReference(D,k.targetId,U)))))}catch(D){if(!Wu(D))throw D;Ue("LocalStore","Failed to update sequence numbers: "+D)}for(const D of v){const k=D.targetId;if(!D.fromCache){const U=w.Ji.get(k),K=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);w.Ji=w.Ji.insert(k,K)}}}),function(m,v){return h.apply(this,arguments)})(i.localStore,s))}),U1.apply(this,arguments)}function vj(n,e){return H1.apply(this,arguments)}function H1(){return H1=(0,xe.Z)(function*(n,e){const t=at(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const i=yield YD(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(l=>{l.forEach(h=>{h.reject(new Ne(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield mh(t,i.er)}var r}),H1.apply(this,arguments)}function yj(n,e){const t=at(n),i=t.yc.get(e);if(i&&i.fc)return en().add(i.key);{let r=en();const s=t._c.get(e);if(!s)return r;for(const l of s){const h=t.wc.get(l);r=r.unionWith(h.view.nc)}return r}}function bj(n,e){return j1.apply(this,arguments)}function j1(){return j1=(0,xe.Z)(function*(n,e){const t=at(n),i=yield Tm(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&V1(t,e.targetId,r.cc),r}),j1.apply(this,arguments)}function wj(n,e){return z1.apply(this,arguments)}function z1(){return z1=(0,xe.Z)(function*(n,e){const t=at(n);return eS(t.localStore,e).then(i=>mh(t,i))}),z1.apply(this,arguments)}function xj(n,e,t,i){return $1.apply(this,arguments)}function $1(){return $1=(0,xe.Z)(function*(n,e,t,i){const r=at(n),s=yield function(l,h){const m=at(l),v=at(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",w=>v.Sn(w,h).next(D=>D?m.localDocuments.getDocuments(w,D):de.resolve(null)))}(r.localStore,e);var h;null!==s?("pending"===t?yield yb(r.remoteStore):"acknowledged"===t||"rejected"===t?(L1(r,e,i||null),F1(r,e),h=e,at(at(r.localStore).mutationQueue).Cn(h)):ct(),yield mh(r,s)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),$1.apply(this,arguments)}function G1(){return G1=(0,xe.Z)(function*(n,e){const t=at(n);if(K1(t),Y1(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield iL(t,i.toArray());t.vc=!0,yield _1(t.remoteStore,!0);for(const s of r)nt(t.remoteStore,s)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(Cb(t,l),fh(t.localStore,l,!0))),yt(t.remoteStore,l)}),yield r,yield iL(t,i),function(s){const l=at(s);l.yc.forEach((h,m)=>{yt(l.remoteStore,m)}),l.Ic.Ts(),l.yc=new Map,l.gc=new li(et.comparator)}(t),t.vc=!1,yield _1(t.remoteStore,!1)}}),G1.apply(this,arguments)}function iL(n,e,t){return q1.apply(this,arguments)}function q1(){return q1=(0,xe.Z)(function*(n,e,t){const i=at(n),r=[],s=[];for(const l of e){let h;const m=i._c.get(l);if(m&&0!==m.length){h=yield hh(i.localStore,Us(m[0]));for(const v of m){const w=i.wc.get(v),D=yield bj(i,w);D.snapshot&&s.push(D.snapshot)}}else{const v=yield JD(i.localStore,l);h=yield hh(i.localStore,v),yield D1(i,rL(v),l,!1,h.resumeToken)}r.push(h)}return i.dc.nu(s),r}),q1.apply(this,arguments)}function rL(n){return um(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Cj(n){const e=at(n);return at(at(e.localStore).persistence).$i()}function Ij(n,e,t,i){return W1.apply(this,arguments)}function W1(){return W1=(0,xe.Z)(function*(n,e,t,i){const r=at(n);if(r.vc)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=yield eS(r.localStore,cx(s[0])),h=Lg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Tr.EMPTY_BYTE_STRING);yield mh(r,l,h);break}case"rejected":yield fh(r.localStore,e,!0),Cb(r,e,i);break;default:ct()}}),W1.apply(this,arguments)}function Tj(n,e,t){return Z1.apply(this,arguments)}function Z1(){return Z1=(0,xe.Z)(function*(n,e,t){const i=K1(n);if(i.vc){for(const r of e){if(i._c.has(r)){Ue("SyncEngine","Adding an already active target "+r);continue}const s=yield JD(i.localStore,r),l=yield hh(i.localStore,s);yield D1(i,rL(s),l.targetId,!1,l.resumeToken),nt(i.remoteStore,l)}for(const r of t)i._c.has(r)&&(yield fh(i.localStore,r,!1).then(()=>{yt(i.remoteStore,r),Cb(i,r)}).catch(sc))}}),Z1.apply(this,arguments)}function K1(n){const e=at(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=eL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fj.bind(null,e),e.dc.nu=ij.bind(null,e.eventManager),e.dc.Pc=rj.bind(null,e.eventManager),e}function Y1(n){const e=at(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pj.bind(null,e),e}class Kx{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,xe.Z)(function*(){t.serializer=c(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return KD(this.persistence,new JR,e.initialUser,this.serializer)}createPersistence(e){return new fb(mb.zs,this.serializer)}createSharedClientState(e){return new r1}terminate(){var e=this;return(0,xe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Q1 extends Kx{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,xe.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield Y1(i.Vc.syncEngine),yield yb(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return KD(this.persistence,new JR,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new ZR(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new tR(t,this.persistence);return new Sy(e.asyncQueue,i)}createPersistence(e){const t=Bx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new _b(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,o(),a(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new r1}}class sL extends Q1{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,xe.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof aS&&(i.sharedClientState.syncEngine={jr:xj.bind(null,r),zr:Ij.bind(null,r),Wr:Tj.bind(null,r),$i:Cj.bind(null,r),Qr:wj.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,xe.Z)(function*(l){yield function Ej(n,e){return G1.apply(this,arguments)}(i.Vc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=o();if(!aS.D(t))throw new Ne(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Bx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new aS(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Ib{initialize(e,t){var i=this;return(0,xe.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>tL(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=vj.bind(null,i.syncEngine),yield _1(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nj}createDatastore(e){const t=c(e.databaseInfo.databaseId),i=new zF(e.databaseInfo);return new E(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=h=>tL(this.syncEngine,h,0),l=o1.D()?new o1:new s1,new j(t,i,r,s,l);var t,i,r,s,l}createSyncEngine(e,t){return function(i,r,s,l,h,m,v){const w=new cj(i,r,s,l,h,m);return v&&(w.vc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,xe.Z)(function*(t){const i=at(t);Ue("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Ie(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function oL(n,e=10240){let t=0;return{read:()=>(0,xe.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,xe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class dS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Aj{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Vr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,xe.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,xe.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,xe.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const s=yield e.$c(r);return new sj(JSON.parse(s),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,xe.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,xe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,xe.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Mj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,xe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,xe.Z)(function*(s,l){const h=at(s),m=Ky(h.serializer)+"/documents",v={documents:l.map(U=>Zy(h.serializer,U))},w=yield h.vo("BatchGetDocuments",m,v,l.length),D=new Map;w.forEach(U=>{const z=function ID(n,e){return"found"in e?function(t,i){Dt(!!i.found);const r=hc(t,i.found.name),s=hr(i.found.updateTime),l=i.found.createTime?hr(i.found.createTime):It.min(),h=new Hr({mapValue:{fields:i.found.fields}});return vi.newFoundDocument(r,s,l,h)}(n,e):"missing"in e?function(t,i){Dt(!!i.missing),Dt(!!i.readTime);const r=hc(t,i.missing),s=hr(i.readTime);return vi.newNoDocument(r,s)}(n,e):ct()}(h.serializer,U);D.set(z.key.toString(),z)});const k=[];return l.forEach(U=>{const z=D.get(U.toString());Dt(!!z),k.push(z)}),k}),function(s,l){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new vm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,xe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=et.fromPath(r);e.mutations.push(new gx(s,e.precondition(s)))}),yield(i=(0,xe.Z)(function*(r,s){const l=at(r),h=Ky(l.serializer)+"/documents",m={writes:s.map(v=>ym(l.serializer,v))};yield l.Io("Commit",h,m)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ct();t=It.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Ne(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(It.min())?Hn.exists(!1):Hn.updateTime(t):Hn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Ne(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hn.updateTime(t)}return Hn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class kj{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new u(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,xe.Z)(function*(){const t=new Mj(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Uc(s)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!rm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!fD(t)}return!1}}class Rj{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ir.UNAUTHENTICATED,this.clientId=Hw.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,xe.Z)(function*(h){Ue("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(Ue("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,xe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=wb(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function uS(n,e){return X1.apply(this,arguments)}function X1(){return X1=(0,xe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,xe.Z)(function*(s){i.isEqual(s)||(yield YD(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),X1.apply(this,arguments)}function J1(n,e){return eN.apply(this,arguments)}function eN(){return eN=(0,xe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield tN(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>WF(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>WF(e.remoteStore,s)),n._onlineComponents=e}),eN.apply(this,arguments)}function aL(n){return"FirebaseError"===n.name?n.code===me.FAILED_PRECONDITION||n.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function tN(n){return nN.apply(this,arguments)}function nN(){return nN=(0,xe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uS(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!aL(t))throw t;ta("Error using user provided cache. Falling back to memory cache: "+t),yield uS(n,new Kx)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield uS(n,new Kx);return n._offlineComponents}),nN.apply(this,arguments)}function hS(n){return iN.apply(this,arguments)}function iN(){return iN=(0,xe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield J1(n,n._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield J1(n,new Ib))),n._onlineComponents}),iN.apply(this,arguments)}function lL(n){return tN(n).then(e=>e.persistence)}function fS(n){return tN(n).then(e=>e.localStore)}function cL(n){return hS(n).then(e=>e.remoteStore)}function rN(n){return hS(n).then(e=>e.syncEngine)}function Tb(n){return sN.apply(this,arguments)}function sN(){return sN=(0,xe.Z)(function*(n){const e=yield hS(n),t=e.eventManager;return t.onListen=dj.bind(null,e.syncEngine),t.onUnlisten=uj.bind(null,e.syncEngine),t}),sN.apply(this,arguments)}function uL(n,e,t={}){const i=new Vr;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(r,s,l,h,m){const v=new dS({next:D=>{s.enqueueAndForget(()=>x1(r,w));const k=D.docs.has(l);!k&&D.fromCache?m.reject(new Ne(me.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&D.fromCache&&h&&"server"===h.source?m.reject(new Ne(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(D)},error:D=>m.reject(D)}),w=new I1(hm(l.path),v,{includeMetadataChanges:!0,Ku:!0});return b1(r,w)}(yield Tb(n),n.asyncQueue,e,t,i)})),i.promise}function hL(n,e,t={}){const i=new Vr;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(r,s,l,h,m){const v=new dS({next:D=>{s.enqueueAndForget(()=>x1(r,w)),D.fromCache&&"server"===h.source?m.reject(new Ne(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(D)},error:D=>m.reject(D)}),w=new I1(l,v,{includeMetadataChanges:!0,Ku:!0});return b1(r,w)}(yield Tb(n),n.asyncQueue,e,t,i)})),i.promise}function fL(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const mL=new Map;function oN(n,e,t){if(!t)throw new Ne(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pL(n,e,t,i){if(!0===e&&!0===i)throw new Ne(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function gL(n){if(!et.isDocumentKey(n))throw new Ne(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _L(n){if(et.isDocumentKey(n))throw new Ne(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ct()}function In(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mS(n);throw new Ne(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function vL(n,e){if(e<=0)throw new Ne(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class yL{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=fL(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yx{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yL(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Zk;switch(t.type){case"firstParty":return new Qk(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ne(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mL.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),mL.delete(e),t.terminate())}(this),Promise.resolve()}}class Ni{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ed(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ni(this.firestore,e,this._key)}}class zs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new zs(this.firestore,e,this._query)}}class Ed extends zs{constructor(e,t,i){super(e,t,hm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ni(this.firestore,null,new et(e))}withConverter(e){return new Ed(this.firestore,e,this._path)}}function wL(n,e,...t){if(n=(0,B.m9)(n),oN("collection","path",e),n instanceof Yx){const i=Cn.fromString(e,...t);return _L(i),new Ed(n,null,i)}{if(!(n instanceof Ni||n instanceof Ed))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Cn.fromString(e,...t));return _L(i),new Ed(n.firestore,null,i)}}function pS(n,e,...t){if(n=(0,B.m9)(n),1===arguments.length&&(e=Hw.A()),oN("doc","path",e),n instanceof Yx){const i=Cn.fromString(e,...t);return gL(i),new Ni(n,null,new et(i))}{if(!(n instanceof Ni||n instanceof Ed))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Cn.fromString(e,...t));return gL(i),new Ni(n.firestore,n instanceof Ed?n.converter:null,new et(i))}}function xL(n,e){return n=(0,B.m9)(n),e=(0,B.m9)(e),(n instanceof Ni||n instanceof Ed)&&(e instanceof Ni||e instanceof Ed)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function aN(n,e){return n=(0,B.m9)(n),e=(0,B.m9)(e),n instanceof zs&&e instanceof zs&&n.firestore===e.firestore&&Mg(n._query,e._query)&&n.converter===e.converter}class jj{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new u(this,"async_queue_retry"),this.Xc=()=>{const t=a();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=a();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=a();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Vr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,xe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Wu(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Xn("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=y1.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&ct()}verifyOperationInProgress(){}sa(){var e=this;return(0,xe.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function lN(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class zj{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Oi extends Yx{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new jj,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||EL(this),this._firestoreClient.terminate()}}function Ar(n){return n._firestoreClient||EL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function EL(n){var e,t,i;const r=n._freezeSettings(),s=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new fR(n._databaseId,h,n._persistenceKey,(v=r).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,fL(v.experimentalLongPollingOptions),v.useFetchStreams));var h,v;n._firestoreClient=new Rj(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function CL(n,e,t){const i=new Vr;return n.asyncQueue.enqueue((0,xe.Z)(function*(){try{yield uS(n,t),yield J1(n,e),i.resolve()}catch(r){const s=r;if(!aL(s))throw s;ta("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function IL(n){if(n._initialized||n._terminated)throw new Ne(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Cd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cd(Tr.fromBase64String(e))}catch(t){throw new Ne(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cd(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ph{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wg{constructor(e){this._methodName=e}}class gS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}const ez=/^__.*__$/;class tz{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms):new _m(e,this.data,t,this.fieldTransforms)}}class TL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function DL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class _S{constructor(e,t,i,r,s,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new _S(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return bS(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(DL(this.ca)&&ez.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class nz{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||c(e)}ya(e,t,i,r=!1){return new _S({ca:e,methodName:t,ga:i,path:zi.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zg(n){const e=n._freezeSettings(),t=c(n._databaseId);return new nz(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vS(n,e,t,i,r,s={}){const l=n.ya(s.merge||s.mergeFields?2:0,e,t,r);hN("Data must be an object, but it was:",l,i);const h=ML(i,l);let m,v;if(s.merge)m=new Bs(l.fieldMask),v=l.fieldTransforms;else if(s.mergeFields){const w=[];for(const D of s.mergeFields){const k=Jx(e,D,t);if(!l.contains(k))throw new Ne(me.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);RL(w,k)||w.push(k)}m=new Bs(w),v=l.fieldTransforms.filter(D=>m.covers(D.field))}else m=null,v=l.fieldTransforms;return new tz(new Hr(h),m,v)}class Xx extends Wg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xx}}function SL(n,e,t){return new _S({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cN extends Wg{_toFieldTransform(e){return new mm(e.path,new th)}isEqual(e){return e instanceof cN}}class iz extends Wg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=SL(this,e,!0),i=this.pa.map(s=>Kg(s,t)),r=new vd(i);return new mm(e.path,r)}isEqual(e){return this===e}}class rz extends Wg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=SL(this,e,!0),i=this.pa.map(s=>Kg(s,t)),r=new yd(i);return new mm(e.path,r)}isEqual(e){return this===e}}class sz extends Wg{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new nh(e.serializer,oD(e.serializer,this.Ia));return new mm(e.path,t)}isEqual(e){return this===e}}function dN(n,e,t,i){const r=n.ya(1,e,t);hN("Data must be an object, but it was:",r,i);const s=[],l=Hr.empty();pd(i,(m,v)=>{const w=yS(e,m,t);v=(0,B.m9)(v);const D=r.da(w);if(v instanceof Xx)s.push(w);else{const k=Kg(v,D);null!=k&&(s.push(w),l.set(w,k))}});const h=new Bs(s);return new TL(l,h,r.fieldTransforms)}function uN(n,e,t,i,r,s){const l=n.ya(1,e,t),h=[Jx(e,i,t)],m=[r];if(s.length%2!=0)throw new Ne(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<s.length;k+=2)h.push(Jx(e,s[k])),m.push(s[k+1]);const v=[],w=Hr.empty();for(let k=h.length-1;k>=0;--k)if(!RL(v,h[k])){const U=h[k];let z=m[k];z=(0,B.m9)(z);const K=l.da(U);if(z instanceof Xx)v.push(U);else{const oe=Kg(z,K);null!=oe&&(v.push(U),w.set(U,oe))}}const D=new Bs(v);return new TL(w,D,l.fieldTransforms)}function AL(n,e,t,i=!1){return Kg(t,n.ya(i?4:3,e))}function Kg(n,e){if(kL(n=(0,B.m9)(n)))return hN("Unsupported field value:",e,n),ML(n,e);if(n instanceof Wg)return function(t,i){if(!DL(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const l of t){let h=Kg(l,i.wa(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,B.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return oD(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=_i.fromDate(t);return{timestampValue:ih(i.serializer,r)}}if(t instanceof _i){const r=new _i(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ih(i.serializer,r)}}if(t instanceof gS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Cd)return{bytesValue:ED(i.serializer,t._byteString)};if(t instanceof Ni){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Wy(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${mS(t)}`)}(n,e)}function ML(n,e){const t={};return UT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pd(n,(i,r)=>{const s=Kg(r,e.ha(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function kL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof _i||n instanceof gS||n instanceof Cd||n instanceof Ni||n instanceof Wg)}function hN(n,e,t){if(!kL(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=mS(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Jx(n,e,t){if((e=(0,B.m9)(e))instanceof ph)return e._internalPath;if("string"==typeof e)return yS(n,e);throw bS("Field path arguments must be of type string or ",n,!1,void 0,t)}const oz=new RegExp("[~\\*/\\[\\]]");function yS(n,e,t){if(e.search(oz)>=0)throw bS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ph(...e.split("."))._internalPath}catch{throw bS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bS(n,e,t,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(s||l)&&(m+=" (found",s&&(m+=` in field ${i}`),l&&(m+=` in document ${r}`),m+=")"),new Ne(me.INVALID_ARGUMENT,h+n+m)}function RL(n,e){return n.some(t=>t.isEqual(e))}class eE{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ni(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new az(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class az extends eE{data(){return super.data()}}function wS(n,e){return"string"==typeof e?yS(n,e):e instanceof ph?e._internalPath:e._delegate._internalPath}function NL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ne(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fN{}class tE extends fN{}function Am(n,e,...t){let i=[];e instanceof fN&&i.push(e),i=i.concat(t),function(r){const s=r.filter(h=>h instanceof Db).length,l=r.filter(h=>h instanceof nE).length;if(s>1||s>0&&l>0)throw new Ne(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class nE extends tE{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new nE(e,t,i)}_apply(e){const t=this._parse(e);return LL(e._query,t),new zs(e.firestore,e.converter,Ag(e._query,t))}_parse(e){const t=Zg(e.firestore);return function(r,s,l,h,m,v,w){let D;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){FL(w,v);const k=[];for(const U of w)k.push(PL(h,r,U));D={arrayValue:{values:k}}}else D=PL(h,r,w)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||FL(w,v),D=AL(l,"where",w,"in"===v||"not-in"===v);return _n.create(m,v,D)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Db extends fN{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Db(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Un.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const l=r.getFlattenedFilters();for(const h of l)LL(s,h),s=Ag(s,h)}(e._query,t),new zs(e.firestore,e.converter,Ag(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class mN extends tE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new mN(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Ne(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ne(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new am(r,s);return function(h,m){if(null===ox(h)){const v=Ju(h);null!==v&&VL(0,v,m.field)}}(i,l),l}(e._query,this._field,this._direction);return new zs(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new ia(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class xS extends tE{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new xS(e,t,i)}_apply(e){return new zs(e.firestore,e.converter,Fy(e._query,this._limit,this._limitType))}}class ES extends tE{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new ES(e,t,i)}_apply(e){const t=OL(e,this.type,this._docOrFields,this._inclusive);return new zs(e.firestore,e.converter,(r=t,new ia((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class CS extends tE{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new CS(e,t,i)}_apply(e){const t=OL(e,this.type,this._docOrFields,this._inclusive);return new zs(e.firestore,e.converter,(r=t,new ia((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function OL(n,e,t,i){if(t[0]=(0,B.m9)(t[0]),t[0]instanceof eE)return function(r,s,l,h,m){if(!h)throw new Ne(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const v=[];for(const w of eh(r))if(w.field.isKeyField())v.push(_d(s,h.key));else{const D=h.data.field(w.field);if(My(D))throw new Ne(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const k=w.field.canonicalString();throw new Ne(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}v.push(D)}return new Qu(v,m)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Zg(n.firestore);return function(s,l,h,m,v,w){const D=s.explicitOrderBy;if(v.length>D.length)throw new Ne(me.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let U=0;U<v.length;U++){const z=v[U];if(D[U].field.isKeyField()){if("string"!=typeof z)throw new Ne(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof z}`);if(!Py(s)&&-1!==z.indexOf("/"))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${z}' contains a slash.`);const K=s.path.child(Cn.fromString(z));if(!et.isDocumentKey(K))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const oe=new et(K);k.push(_d(l,oe))}else{const K=AL(h,m,z);k.push(K)}}return new Qu(k,w)}(n._query,n.firestore._databaseId,r,e,t,i)}}function PL(n,e,t){if("string"==typeof(t=(0,B.m9)(t))){if(""===t)throw new Ne(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Py(e)&&-1!==t.indexOf("/"))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Cn.fromString(t));if(!et.isDocumentKey(i))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return _d(n,new et(i))}if(t instanceof Ni)return _d(n,t._key);throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mS(t)}.`)}function FL(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LL(n,e){if(e.isInequality()){const i=Ju(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=ox(n);null!==s&&VL(0,r,s)}const t=function(i,r){for(const s of i)for(const l of s.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ne(me.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function VL(n,e,t){if(!t.isEqual(e))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class pN{convertValue(e,t="none"){switch(gd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ki(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ct()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return pd(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new gS(ki(e.latitude),ki(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ky(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Zu(e));default:return null}}convertTimestamp(e){const t=gl(e);return new _i(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Cn.fromString(e);Dt(VR(i));const r=new lc(i.get(1),i.get(3)),s=new et(i.popFirst(5));return r.isEqual(t)||Xn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function IS(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class gz extends pN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,t)}}class Yg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gh extends eE{constructor(e,t,i,r,s,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new iE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(wS("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class iE extends gh{data(e={}){return super.data(e)}}class Mm{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new iE(this._firestore,this._userDataWriter,i.key,i,new Yg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new iE(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Yg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const h=new iE(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Yg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,v=-1;return 0!==l.type&&(m=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),v=s.indexOf(l.doc.key)),{type:vz(l.type),doc:h,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function UL(n,e){return n instanceof gh&&e instanceof gh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Mm&&e instanceof Mm&&n._firestore===e._firestore&&aN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class km extends pN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,t)}}function HL(n,e,t){n=In(n,Ni);const i=In(n.firestore,Oi),r=IS(n.converter,e,t);return Sb(i,[vS(Zg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Hn.none())])}function jL(n,e,t,...i){n=In(n,Ni);const r=In(n.firestore,Oi),s=Zg(r);let l;return l="string"==typeof(e=(0,B.m9)(e))||e instanceof ph?uN(s,"updateDoc",n._key,e,t,i):dN(s,"updateDoc",n._key,e),Sb(r,[l.toMutation(n._key,Hn.exists(!0))])}function zL(n,...e){var t,i,r;n=(0,B.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||lN(e[l])||(s=e[l],l++);const h={includeMetadataChanges:s.includeMetadataChanges};if(lN(e[l])){const D=e[l];e[l]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[l+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),e[l+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let m,v,w;if(n instanceof Ni)v=In(n.firestore,Oi),w=hm(n._key.path),m={next:D=>{e[l]&&e[l](gN(v,n,D))},error:e[l+1],complete:e[l+2]};else{const D=In(n,zs);v=In(D.firestore,Oi),w=D._query;const k=new km(v);m={next:U=>{e[l]&&e[l](new Mm(v,k,D,U))},error:e[l+1],complete:e[l+2]},NL(n._query)}return function(D,k,U,z){const K=new dS(z),oe=new I1(k,K,U);return D.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return b1(yield Tb(D),oe)})),()=>{K.Dc(),D.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return x1(yield Tb(D),oe)}))}}(Ar(v),w,h,m)}function Sb(n,e){return function(t,i){const r=new Vr;return t.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function hj(n,e,t){return M1.apply(this,arguments)}(yield rN(t),i,r)})),r.promise}(Ar(n),e)}function gN(n,e,t){const i=t.docs.get(e._key),r=new km(n);return new gh(n,r,e._key,i,new Yg(t.hasPendingWrites,t.fromCache),e.converter)}const Fz={maxAttempts:5};class $L{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zg(e)}set(e,t,i){this._verifyNotCommitted();const r=Rm(e,this._firestore),s=IS(r.converter,t,i),l=vS(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,Hn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Rm(e,this._firestore);let l;return l="string"==typeof(t=(0,B.m9)(t))||t instanceof ph?uN(this._dataReader,"WriteBatch.update",s._key,t,i,r):dN(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,Hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Rm(e,this._firestore);return this._mutations=this._mutations.concat(new vm(t._key,Hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rm(n,e){if((n=(0,B.m9)(n)).firestore!==e)throw new Ne(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Lz extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Zg(e)}get(e){const t=Rm(e,this._firestore),i=new gz(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ct();const s=r[0];if(s.isFoundDocument())return new eE(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new eE(this._firestore,i,t._key,null,t.converter);throw ct()})}set(e,t,i){const r=Rm(e,this._firestore),s=IS(r.converter,t,i),l=vS(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(e,t,i,...r){const s=Rm(e,this._firestore);let l;return l="string"==typeof(t=(0,B.m9)(t))||t instanceof ph?uN(this._dataReader,"Transaction.update",s._key,t,i,r):dN(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=Rm(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Rm(e,this._firestore),i=new km(this._firestore);return super.get(e).then(r=>new gh(this._firestore,i,t._key,r._document,new Yg(!1,!1),t.converter))}}function _N(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function qL(){if(typeof Uint8Array>"u")throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function WL(){if(!function hR(){return typeof atob<"u"}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Gu=Ls.SDK_VERSION,(0,Ls._registerComponent)(new cl.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),l=new Oi(new Yk(t.getProvider("auth-internal")),new xy(t.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ne(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(h.options.projectId,m)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,Ls.registerVersion)(Lw,"3.13.0",n),(0,Ls.registerVersion)(Lw,"3.13.0","esm2017")}();class rE{constructor(e){this._delegate=e}static fromBase64String(e){return WL(),new rE(Cd.fromBase64String(e))}static fromUint8Array(e){return qL(),new rE(Cd.fromUint8Array(e))}toBase64(){return WL(),this._delegate.toBase64()}toUint8Array(){return qL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function vN(n){return function qz(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Wz{enableIndexedDbPersistence(e,t){return function Gj(n,e){IL(n=In(n,Oi));const t=Ar(n);if(t._uninitializedComponentsProvider)throw new Ne(me.FAILED_PRECONDITION,"SDK cache is already specified.");ta("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Ib;return CL(t,r,new Q1(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function qj(n){IL(n=In(n,Oi));const e=Ar(n);if(e._uninitializedComponentsProvider)throw new Ne(me.FAILED_PRECONDITION,"SDK cache is already specified.");ta("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Ib;return CL(e,i,new sL(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Wj(n){if(n._initialized&&!n._terminated)throw new Ne(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{yield(t=(0,xe.Z)(function*(i){if(!na.D())return Promise.resolve();const r=i+"main";yield na.delete(r)}),function(i){return t.apply(this,arguments)})(Bx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ZL{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof lc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ta("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function bL(n,e,t,i={}){var r;const s=(n=In(n,Yx))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==l&&ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),i.mockUserToken){let h,m;if("string"==typeof i.mockUserToken)h=i.mockUserToken,m=Ir.MOCK_USER;else{h=(0,B.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Ne(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ir(v)}n._authCredentials=new Kk(new Nt(h,m))}}(this._delegate,e,t,i)}enableNetwork(){return function Kj(n){return function Nj(n){return n.asyncQueue.enqueue((0,xe.Z)(function*(){const e=yield lL(n),t=yield cL(n);return e.setNetworkEnabled(!0),function(i){const r=at(i);return r.vu.delete(0),Q(r)}(t)}))}(Ar(n=In(n,Oi)))}(this._delegate)}disableNetwork(){return function Yj(n){return function Oj(n){return n.asyncQueue.enqueue((0,xe.Z)(function*(){const e=yield lL(n),t=yield cL(n);return e.setNetworkEnabled(!1),(i=(0,xe.Z)(function*(r){const s=at(r);s.vu.add(0),yield Ie(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Ar(n=In(n,Oi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,pL("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Zj(n){return function(e){const t=new Vr;return e.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function gj(n,e){return P1.apply(this,arguments)}(yield rN(e),t)})),t.promise}(Ar(n=In(n,Oi)))}(this._delegate)}onSnapshotsInSync(e){return function Dz(n,e){return function Lj(n,e){const t=new dS(e);return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return i=yield Tb(n),r=t,at(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return i=yield Tb(n),r=t,void at(i).ku.delete(r);var i,r}))}}(Ar(n=In(n,Oi)),lN(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ab(this,wL(this._delegate,e))}catch(t){throw So(t,"collection()","Firestore.collection()")}}doc(e){try{return new yl(this,pS(this._delegate,e))}catch(t){throw So(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ao(this,function Hj(n,e){if(n=In(n,Yx),oN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zs(n,null,(t=e,new ia(Cn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw So(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Vz(n,e,t){n=In(n,Oi);const i=Object.assign(Object.assign({},Fz),t);return function(r){if(r.maxAttempts<1)throw new Ne(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,l){const h=new Vr;return r.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){const m=yield function dL(n){return hS(n).then(e=>e.datastore)}(r);new kj(r.asyncQueue,m,l,s,h).run()})),h.promise}(Ar(n),r=>e(new Lz(n,r)),i)}(this._delegate,t=>e(new KL(this,t)))}batch(){return Ar(this._delegate),new YL(new $L(this._delegate,e=>Sb(this._delegate,e)))}loadBundle(e){return function Qj(n,e){const t=Ar(n=In(n,Oi)),i=new zj;return function Vj(n,e,t,i){const r=function(s,l){let h;return h="string"==typeof s?bx().encode(s):s,m=function(m,v){if(m instanceof Uint8Array)return oL(m,v);if(m instanceof ArrayBuffer)return oL(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new Aj(m,l);var m}(t,c(e));n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){!function Dj(n,e,t){const i=at(n);var r;(r=(0,xe.Z)(function*(s,l,h){try{const m=yield l.getMetadata();if(yield function(k,U){const z=at(k),K=hr(U.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",oe=>z.qs.getBundleMetadata(oe,U.id)).then(oe=>!!oe&&oe.createTime.compareTo(K)>=0)}(s.localStore,m))return yield l.close(),h._completeWith({taskState:"Success",documentsLoaded:(k=m).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);h._updateProgress(YF(m));const v=new oj(m,s.localStore,l.serializer);let w=yield l.bc();for(;w;){const k=yield v.zu(w);k&&h._updateProgress(k),w=yield l.bc()}const D=yield v.complete();return yield mh(s,D.Ju,void 0),yield function(k,U){const z=at(k);return z.persistence.runTransaction("Save bundle","readwrite",K=>z.qs.saveBundleMetadata(K,U))}(s.localStore,m),h._completeWith(D.progress),Promise.resolve(D.Hu)}catch(m){return ta("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m),Promise.resolve(new Set)}var k}),function(s,l,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield rN(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Xj(n,e){return function Bj(n,e){return n.asyncQueue.enqueue((0,xe.Z)(function*(){return function(t,i){const r=at(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield fS(n),e)}))}(Ar(n=In(n,Oi)),e).then(t=>t?new zs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ao(this,t):null)}}class TS extends pN{constructor(e){super(),this.firestore=e}convertBytes(e){return new rE(new Cd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return yl.forKey(t,this.firestore,null)}}class KL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new TS(e)}get(e){const t=Xg(e);return this._delegate.get(t).then(i=>new sE(this._firestore,new gh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Xg(e);return i?(_N("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Xg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Xg(e);return this._delegate.delete(t),this}}class YL{constructor(e){this._delegate=e}set(e,t,i){const r=Xg(e);return i?(_N("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Xg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Xg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Qg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new iE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new oE(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Qg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new Qg(e,new TS(e),t),r.set(t,s)),s}}Qg.INSTANCES=new WeakMap;class yl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new TS(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new yl(t,new Ni(t._delegate,i,new et(e)))}static forKey(e,t,i){return new yl(t,new Ni(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Ab(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ab(this.firestore,wL(this._delegate,e))}catch(t){throw So(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,B.m9)(e))instanceof Ni&&xL(this._delegate,e)}set(e,t){t=_N("DocumentReference.set",t);try{return t?HL(this._delegate,e,t):HL(this._delegate,e)}catch(i){throw So(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?jL(this._delegate,e):jL(this._delegate,e,t,...i)}catch(r){throw So(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Iz(n){return Sb(In(n.firestore,Oi),[new vm(n._key,Hn.none())])}(this._delegate)}onSnapshot(...e){const t=QL(e),i=XL(e,r=>new sE(this.firestore,new gh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return zL(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function bz(n){n=In(n,Ni);const e=In(n.firestore,Oi),t=Ar(e),i=new km(e);return function Pj(n,e){const t=new Vr;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(i=(0,xe.Z)(function*(r,s,l){try{const h=yield function(m,v){const w=at(m);return w.persistence.runTransaction("read document","readonly",D=>w.localDocuments.getDocument(D,v))}(r,s);h.isFoundDocument()?l.resolve(h):h.isNoDocument()?l.resolve(null):l.reject(new Ne(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=wb(h,`Failed to get document '${s} from cache`);l.reject(m)}}),function(r,s,l){return i.apply(this,arguments)})(yield fS(n),e,t);var i})),t.promise}(t,n._key).then(r=>new gh(e,i,n._key,r,new Yg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function wz(n){n=In(n,Ni);const e=In(n.firestore,Oi);return uL(Ar(e),n._key,{source:"server"}).then(t=>gN(e,n,t))}(this._delegate):function yz(n){n=In(n,Ni);const e=In(n.firestore,Oi);return uL(Ar(e),n._key).then(t=>gN(e,n,t))}(this._delegate),t.then(i=>new sE(this.firestore,new gh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new yl(this.firestore,this._delegate.withConverter(e?Qg.getInstance(this.firestore,e):null))}}function So(n,e,t){return n.message=n.message.replace(e,t),n}function QL(n){for(const e of n)if("object"==typeof e&&!vN(e))return e;return{}}function XL(n,e){var t,i;let r;return r=vN(n[0])?n[0]:vN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class sE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new yl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return UL(this._delegate,e._delegate)}}class oE extends sE{data(e){const t=this._delegate.data(e);return function Uw(n,e){n||ct()}(void 0!==t),t}}class Ao{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new TS(e)}where(e,t,i){try{return new Ao(this.firestore,Am(this._delegate,function lz(n,e,t){const i=e,r=wS("where",n);return nE._create(r,i,t)}(e,t,i)))}catch(r){throw So(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ao(this.firestore,Am(this._delegate,function cz(n,e="asc"){const t=e,i=wS("orderBy",n);return mN._create(i,t)}(e,t)))}catch(i){throw So(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ao(this.firestore,Am(this._delegate,function dz(n){return vL("limit",n),xS._create("limit",n,"F")}(e)))}catch(t){throw So(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ao(this.firestore,Am(this._delegate,function uz(n){return vL("limitToLast",n),xS._create("limitToLast",n,"L")}(e)))}catch(t){throw So(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ao(this.firestore,Am(this._delegate,function hz(...n){return ES._create("startAt",n,!0)}(...e)))}catch(t){throw So(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ao(this.firestore,Am(this._delegate,function fz(...n){return ES._create("startAfter",n,!1)}(...e)))}catch(t){throw So(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ao(this.firestore,Am(this._delegate,function mz(...n){return CS._create("endBefore",n,!1)}(...e)))}catch(t){throw So(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ao(this.firestore,Am(this._delegate,function pz(...n){return CS._create("endAt",n,!0)}(...e)))}catch(t){throw So(t,"endAt()","Query.endAt()")}}isEqual(e){return aN(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Ez(n){n=In(n,zs);const e=In(n.firestore,Oi),t=Ar(e),i=new km(e);return function Fj(n,e){const t=new Vr;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(i=(0,xe.Z)(function*(r,s,l){try{const h=yield Tm(r,s,!0),m=new JF(s,h.ir),v=m.sc(h.documents),w=m.applyChanges(v,!1);l.resolve(w.snapshot)}catch(h){const m=wb(h,`Failed to execute query '${s} against cache`);l.reject(m)}}),function(r,s,l){return i.apply(this,arguments)})(yield fS(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Mm(e,i,n,r))}(this._delegate):"server"===e?.source?function Cz(n){n=In(n,zs);const e=In(n.firestore,Oi),t=Ar(e),i=new km(e);return hL(t,n._query,{source:"server"}).then(r=>new Mm(e,i,n,r))}(this._delegate):function xz(n){n=In(n,zs);const e=In(n.firestore,Oi),t=Ar(e),i=new km(e);return NL(n._query),hL(t,n._query).then(r=>new Mm(e,i,n,r))}(this._delegate),t.then(i=>new yN(this.firestore,new Mm(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=QL(e),i=XL(e,r=>new yN(this.firestore,new Mm(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return zL(this._delegate,t,i)}withConverter(e){return new Ao(this.firestore,this._delegate.withConverter(e?Qg.getInstance(this.firestore,e):null))}}class Kz{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new oE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class yN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ao(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new oE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Kz(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new oE(this._firestore,i))})}isEqual(e){return UL(this._delegate,e._delegate)}}class Ab extends Ao{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new yl(this.firestore,e):null}doc(e){try{return new yl(this.firestore,void 0===e?pS(this._delegate):pS(this._delegate,e))}catch(t){throw So(t,"doc()","CollectionReference.doc()")}}add(e){return function Tz(n,e){const t=In(n.firestore,Oi),i=pS(n),r=IS(n.converter,e);return Sb(t,[vS(Zg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Hn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new yl(this.firestore,t))}isEqual(e){return xL(this._delegate,e._delegate)}withConverter(e){return new Ab(this.firestore,this._delegate.withConverter(e?Qg.getInstance(this.firestore,e):null))}}function Xg(n){return In(n,Ni)}class bN{constructor(...e){this._delegate=new ph(...e)}static documentId(){return new bN(zi.keyField().canonicalString())}isEqual(e){return(e=(0,B.m9)(e))instanceof ph&&this._delegate._internalPath.isEqual(e._internalPath)}}class Jg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Uz(){return new cN("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Jg(e)}static delete(){const e=function Bz(){return new Xx("deleteField")}();return e._methodName="FieldValue.delete",new Jg(e)}static arrayUnion(...e){const t=function Hz(...n){return new iz("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Jg(t)}static arrayRemove(...e){const t=function jz(...n){return new rz("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Jg(t)}static increment(e){const t=function zz(n){return new sz("increment",n)}(e);return t._methodName="FieldValue.increment",new Jg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Yz={Firestore:ZL,GeoPoint:gS,Timestamp:_i,Blob:rE,Transaction:KL,WriteBatch:YL,DocumentReference:yl,DocumentSnapshot:sE,Query:Ao,QueryDocumentSnapshot:oE,QuerySnapshot:yN,CollectionReference:Ab,FieldPath:bN,FieldValue:Jg,setLogLevel:function Zz(n){!function Vw(n){rc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function JL(n,e){return function Jz(n,e=Mf.z){return new pi.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function wN(n,e){return JL(n,e).pipe((0,mt.U)(t=>({payload:t,type:"query"})))}function DS(n,e){return wN(n,e).pipe(ms(void 0),zv(),(0,mt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,h)=>{const m=r.find(w=>w.doc.ref.isEqual(l.ref)),v=t?.payload.docs.find(w=>w.ref.isEqual(l.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(l.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:l}})}),s}))}function e2(n,e,t){return DS(n,t).pipe(ps((i,r)=>function t6(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function n6(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return xN(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return xN(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return xN(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),(0,kf.x)(),(0,mt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function xN(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function t2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Xz(n){(function Qz(n,e){n.INTERNAL.registerComponent(new cl.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Yz)))})(n,(e,t)=>new ZL(e,t,new Wz)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(j0.Z);class n2{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=DS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,mt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(ms(void 0),zv(),oi(([i,r])=>r.length>0||!i),(0,mt.U)(([i,r])=>r),gn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ps((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=t2(e);return e2(this.query,t,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(e={}){return wN(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),gn.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(gn.iC)}add(e){return this.ref.add(e)}doc(e){return new r2(this.ref.doc(e),this.afs)}}class r2{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=a2(i,t);return new n2(r,s,this.afs)}snapshotChanges(){return function e6(n,e){return JL(n,e).pipe(ms(void 0),zv(),(0,mt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,hn.D)(this.ref.get(e)).pipe(gn.iC)}}class i6{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?DS(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),oi(t=>t.length>0),gn.iC):DS(this.query,this.afs.schedulers.outsideAngular).pipe(gn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ps((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=t2(e);return e2(this.query,t,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(e={}){return wN(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),gn.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(gn.iC)}}const s2=new d.OlP("angularfire2.enableFirestorePersistence"),o2=new d.OlP("angularfire2.firestore.persistenceSettings"),r6=new d.OlP("angularfire2.firestore.settings"),s6=new d.OlP("angularfire2.firestore.use-emulator");function a2(n,e=(t=>t)){return{query:e(n),ref:n}}let EN=(()=>{class n{constructor(t,i,r,s,l,h,m,v,w,D,k,U,z,K,oe,Le,$e){this.schedulers=m;const ze=(0,Bi.on)(t,h,i),Ke=w;D&&AI(ze,h,k,z,K,oe,U,Le),[this.firestore,this.persistenceEnabled$]=(0,Bi.cc)(`${ze.name}.firestore`,"AngularFirestore",ze.name,()=>{const St=h.runOutsideAngular(()=>ze.firestore());if(s&&St.settings(s),Ke&&St.useEmulator(...Ke),r&&!As(l)){const Ot=()=>{try{return(0,hn.D)(St.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Tn){return typeof console<"u"&&console.warn(Tn),(0,dt.of)(!1)}};return[St,h.runOutsideAngular(Ot)]}return[St,(0,dt.of)(!1)]},[s,Ke,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:l}=a2(r,i),h=this.schedulers.ngZone.run(()=>s);return new n2(h,l,this)}collectionGroup(t,i){const r=i||(l=>l),s=this.firestore.collectionGroup(t);return new i6(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new r2(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Bi.Dh),d.LFG(Bi.xv,8),d.LFG(s2,8),d.LFG(r6,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(gn.HU),d.LFG(o2,8),d.LFG(s6,8),d.LFG(Af,8),d.LFG(Uv,8),d.LFG(H0,8),d.LFG(Hv,8),d.LFG(jv,8),d.LFG(Sf,8),d.LFG($p,8),d.LFG(Vv,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),o6=(()=>{class n{constructor(){Df.Z.registerVersion("angularfire",gn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:s2,useValue:!0},{provide:o2,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[EN]}),n})();function aE(n){return(aE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Ze(n,e,t){return(e=function l6(n){var e=function a6(n,e){if("object"!==aE(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!==aE(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===aE(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}class l2{}class c6{}const _h="*";function CN(n,e){return{type:7,name:n,definitions:e,options:{}}}function lE(n,e=null){return{type:4,styles:e,timings:n}}function c2(n,e=null){return{type:2,steps:n,options:e}}function vh(n){return{type:6,styles:n,offset:null}}function Mb(n,e,t){return{type:0,name:n,styles:e,options:t}}function cE(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class dE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class d2{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const u2=["toast-component",""];function d6(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){d.CHM(t);const r=d.oxw();return d.KtG(r.remove())}),d.TgZ(1,"span",6),d._uU(2,"\xd7"),d.qZA()()}}function u6(n,e){if(1&n&&(d.ynx(0),d._uU(1),d.BQk()),2&n){const t=d.oxw(2);d.xp6(1),d.hij("[",t.duplicatesCount+1,"]")}}function h6(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.YNc(2,u6,2,1,"ng-container",4),d.qZA()),2&n){const t=d.oxw();d.Tol(t.options.titleClass),d.uIk("aria-label",t.title),d.xp6(1),d.hij(" ",t.title," "),d.xp6(1),d.Q6J("ngIf",t.duplicatesCount)}}function f6(n,e){if(1&n&&d._UZ(0,"div",7),2&n){const t=d.oxw();d.Tol(t.options.messageClass),d.Q6J("innerHTML",t.message,d.oJD)}}function m6(n,e){if(1&n&&(d.TgZ(0,"div",8),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.Tol(t.options.messageClass),d.uIk("aria-label",t.message),d.xp6(1),d.hij(" ",t.message," ")}}function p6(n,e){if(1&n&&(d.TgZ(0,"div"),d._UZ(1,"div",9),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Udp("width",t.width+"%")}}class x6{constructor(e,t){Ze(this,"_attachedHost",void 0),Ze(this,"component",void 0),Ze(this,"viewContainerRef",void 0),Ze(this,"injector",void 0),this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class E6{constructor(){Ze(this,"_attachedPortal",void 0),Ze(this,"_disposeFn",void 0)}attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class C6{constructor(e){Ze(this,"_overlayRef",void 0),Ze(this,"componentInstance",void 0),Ze(this,"duplicatesCount",0),Ze(this,"_afterClosed",new Xt.x),Ze(this,"_activate",new Xt.x),Ze(this,"_manualClose",new Xt.x),Ze(this,"_resetTimeout",new Xt.x),Ze(this,"_countDuplicate",new Xt.x),this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class SS{constructor(e,t,i,r,s,l){Ze(this,"toastId",void 0),Ze(this,"config",void 0),Ze(this,"message",void 0),Ze(this,"title",void 0),Ze(this,"toastType",void 0),Ze(this,"toastRef",void 0),Ze(this,"_onTap",new Xt.x),Ze(this,"_onAction",new Xt.x),this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=s,this.toastRef=l,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const f2=new d.OlP("ToastConfig");class I6 extends E6{constructor(e,t,i){super(),Ze(this,"_hostDomElement",void 0),Ze(this,"_componentFactoryResolver",void 0),Ze(this,"_appRef",void 0),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let T6=(()=>{class n{constructor(){Ze(this,"_document",(0,d.f3M)(ue)),Ze(this,"_containerElement",void 0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return Ze(n,"\u0275fac",function(t){return new(t||n)}),Ze(n,"\u0275prov",d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})();class D6{constructor(e){Ze(this,"_portalHost",void 0),this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let S6=(()=>{class n{constructor(){Ze(this,"_overlayContainer",(0,d.f3M)(T6)),Ze(this,"_componentFactoryResolver",(0,d.f3M)(d._Vd)),Ze(this,"_appRef",(0,d.f3M)(d.z2F)),Ze(this,"_document",(0,d.f3M)(ue)),Ze(this,"_paneElements",new Map)}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new I6(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new D6(this._createPortalHost(t))}}return Ze(n,"\u0275fac",function(t){return new(t||n)}),Ze(n,"\u0275prov",d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})(),AS=(()=>{class n{constructor(t,i,r,s,l){Ze(this,"overlay",void 0),Ze(this,"_injector",void 0),Ze(this,"sanitizer",void 0),Ze(this,"ngZone",void 0),Ze(this,"toastrConfig",void 0),Ze(this,"currentlyActive",0),Ze(this,"toasts",[]),Ze(this,"overlayContainer",void 0),Ze(this,"previousToastMessage",void 0),Ze(this,"index",0),this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=l,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},s=""){return this._preBuildNotification(s,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,s){const{includeTitleDuplicates:l}=this.toastrConfig;for(const h of this.toasts)if((!l||l&&h.title===t)&&h.message===i)return h.toastRef.onDuplicate(r,s),h;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,s)):this._buildNotification(t,i,r,s)}_buildNotification(t,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");const l=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==l)return l;this.previousToastMessage=i;let h=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(h=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const m=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let v=i;i&&s.enableHtml&&(v=this.sanitizer.sanitize(d.q3G.HTML,i));const w=new C6(m),D=new SS(this.index,s,v,r,t,w),U=d.zs3.create({providers:[{provide:SS,useValue:D}],parent:this._injector}),z=new x6(s.toastComponent,U),K=m.attach(z,s.newestOnTop);w.componentInstance=K.instance;const oe={toastId:this.index,title:r||"",message:i||"",toastRef:w,onShown:w.afterActivate(),onHidden:w.afterClosed(),onTap:D.onTap(),onAction:D.onAction(),portal:K};return h||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{oe.toastRef.activate()})),this.toasts.push(oe),oe}}return Ze(n,"\u0275fac",function(t){return new(t||n)(d.LFG(f2),d.LFG(S6),d.LFG(d.zs3),d.LFG(ga),d.LFG(d.R0b))}),Ze(n,"\u0275prov",d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})();const A6={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(t,i,r){Ze(this,"toastrService",void 0),Ze(this,"toastPackage",void 0),Ze(this,"ngZone",void 0),Ze(this,"message",void 0),Ze(this,"title",void 0),Ze(this,"options",void 0),Ze(this,"duplicatesCount",void 0),Ze(this,"originalTimeout",void 0),Ze(this,"width",-1),Ze(this,"toastClasses",""),Ze(this,"state",void 0),Ze(this,"timeout",void 0),Ze(this,"intervalId",void 0),Ze(this,"hideTime",void 0),Ze(this,"sub",void 0),Ze(this,"sub1",void 0),Ze(this,"sub2",void 0),Ze(this,"sub3",void 0),this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return Ze(n,"\u0275fac",function(t){return new(t||n)(d.Y36(AS),d.Y36(SS),d.Y36(d.R0b))}),Ze(n,"\u0275cmp",d.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&d.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(d.d8E("@flyInOut",i.state),d.Tol(i.toastClasses),d.Udp("display",i.displayStyle))},standalone:!0,features:[d.jDz],attrs:u2,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(d.YNc(0,d6,3,0,"button",0),d.YNc(1,h6,3,5,"div",1),d.YNc(2,f6,1,3,"div",2),d.YNc(3,m6,2,4,"div",3),d.YNc(4,p6,2,2,"div",4)),2&t&&(d.Q6J("ngIf",i.options.closeButton),d.xp6(1),d.Q6J("ngIf",i.title),d.xp6(1),d.Q6J("ngIf",i.message&&i.options.enableHtml),d.xp6(1),d.Q6J("ngIf",i.message&&!i.options.enableHtml),d.xp6(1),d.Q6J("ngIf",i.options.progressBar))},dependencies:[Nr],encapsulation:2,data:{animation:[CN("flyInOut",[Mb("inactive",vh({opacity:0})),Mb("active",vh({opacity:1})),Mb("removed",vh({opacity:0})),cE("inactive => active",lE("{{ easeTime }}ms {{ easing }}")),cE("active => removed",lE("{{ easeTime }}ms {{ easing }}"))])]}})),n})()},M6=(n={})=>(0,d.MR2)([{provide:f2,useValue:{default:A6,config:n}}]);let k6=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[M6(t)]}}}return Ze(n,"\u0275fac",function(t){return new(t||n)}),Ze(n,"\u0275mod",d.oAB({type:n})),Ze(n,"\u0275inj",d.cJS({})),n})(),MS=(()=>{class n{constructor(){this.isMenuVisible$$=new dr.X(!0),this.isLoading$$=new dr.X(!1),this.isMenuVisible$=this.isMenuVisible$$.asObservable(),this.isLoading$=this.isLoading$$.asObservable()}setMenuVisible(t){this.isMenuVisible$$.next(t)}setLoading(t){this.isLoading$$.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e_=(()=>{class n{constructor(){this.afs=(0,d.f3M)(EN),this.afAuth=(0,d.f3M)(Af),this.ngZone=(0,d.f3M)(d.R0b),this.router=(0,d.f3M)(_s),this.toastrService=(0,d.f3M)(AS),this.helperService=(0,d.f3M)(MS),this.afAuth.authState.subscribe(t=>{t?(this.userData=t,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}signIn(t,i){return this.helperService.setLoading(!0),this.afAuth.signInWithEmailAndPassword(t,i).then(r=>{this.setUserData(r.user),this.afAuth.authState.subscribe(s=>{s&&(this.helperService.setLoading(!1),this.router.navigate(["dashboard"]))})}).catch(r=>{this.helperService.setLoading(!1),this.toastrService.error(r.message,"Error",{closeButton:!0})})}signUp(t,i){return this.afAuth.createUserWithEmailAndPassword(t,i).then(r=>{this.sendVerificationMail(),this.setUserData(r.user)}).catch(r=>{this.toastrService.error(r.message,"Error",{closeButton:!0})})}sendVerificationMail(){return this.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}forgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(i=>{this.toastrService.error(i.message,"Error",{closeButton:!0})})}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}googleAuth(){return this.authLogin(new uF.V).then(t=>{this.router.navigate(["dashboard"])})}authLogin(t){return this.afAuth.signInWithPopup(t).then(i=>{this.router.navigate(["dashboard"]),this.setUserData(i.user)}).catch(i=>{this.toastrService.error(i.message,"Error",{closeButton:!0})})}setUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}signOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["login"])})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function R6(n,e){if(1&n&&(d.TgZ(0,"div",7)(1,"div",8)(2,"div",9),d._UZ(3,"img",10),d.TgZ(4,"div",11)(5,"h1"),d._uU(6,"Hello: "),d.TgZ(7,"strong"),d._uU(8),d.qZA()(),d.TgZ(9,"p"),d._uU(10,"User ID: "),d.TgZ(11,"strong"),d._uU(12),d.qZA()(),d.TgZ(13,"p"),d._uU(14,"Email: "),d.TgZ(15,"strong"),d._uU(16),d.qZA()(),d.TgZ(17,"p"),d._uU(18,"Email Verified: "),d.TgZ(19,"strong"),d._uU(20),d.qZA()()()()()()),2&n){const t=e.ngIf;d.xp6(3),d.s9C("src",t.photoURL?t.photoURL:"/assets/dummy-user.png",d.LSH),d.s9C("alt",t.displayName),d.xp6(5),d.Oqu(t.displayName?t.displayName:"User"),d.xp6(4),d.Oqu(t.uid),d.xp6(4),d.Oqu(t.email),d.xp6(4),d.Oqu(t.emailVerified)}}let N6=(()=>{class n{constructor(){this.authService=(0,d.f3M)(e_),this.helperService=(0,d.f3M)(MS),this.helperService.setMenuVisible(!0)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-dashboard"]],decls:9,vars:1,consts:[["role","main",1,"col-md-9","ml-sm-auto","col-lg-10","px-4"],[1,"inner-adjust"],[1,"pt-3","pb-2","mb-3","border-bottom"],[1,"h2"],[1,"nav-link",3,"click"],[1,"fas","fa-sign-out-alt"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-12"],[1,"media"],[1,"align-self-start","mr-5","img-thumbnail","rounded-circle",3,"src","alt"],[1,"media-body"]],template:function(t,i){1&t&&(d.TgZ(0,"main",0)(1,"div",1)(2,"div",2)(3,"h1",3),d._uU(4,"User Profile "),d.TgZ(5,"a",4),d.NdJ("click",function(){return i.authService.signOut()}),d._UZ(6,"i",5),d._uU(7,"Log out "),d.qZA()()(),d.YNc(8,R6,21,6,"div",6),d.qZA()()),2&t&&(d.xp6(8),d.Q6J("ngIf",i.authService.userData))},dependencies:[Nr]}),n})();function m2(...n){const e=(0,Yr.jO)(n),{args:t,keys:i}=Xa(n),r=new pi.y(s=>{const{length:l}=t;if(!l)return void s.complete();const h=new Array(l);let m=l,v=l;for(let w=0;w<l;w++){let D=!1;(0,Wo.Xf)(t[w]).subscribe((0,Di.x)(s,k=>{D||(D=!0,v--),h[w]=k},()=>m--,void 0,()=>{(!m||!D)&&(v||s.next(i?ba(i,h):h),s.complete())}))}});return e?r.pipe(ya(e)):r}let p2=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),t_=(()=>{class n extends p2{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const _c=new d.OlP("NgValueAccessor"),P6={provide:_c,useExisting:(0,d.Gpc)(()=>kS),multi:!0},L6=new d.OlP("CompositionEventMode");let kS=(()=>{class n extends p2{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function F6(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(L6,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&d.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[d._Bn([P6]),d.qOj]}),n})();function Nm(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function _2(n){return null!=n&&"number"==typeof n.length}const ao=new d.OlP("NgValidators"),Om=new d.OlP("NgAsyncValidators"),V6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class RS{static min(e){return function v2(n){return e=>{if(Nm(e.value)||Nm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function y2(n){return e=>{if(Nm(e.value)||Nm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return b2(e)}static requiredTrue(e){return function w2(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function x2(n){return Nm(n.value)||V6.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function E2(n){return e=>Nm(e.value)||!_2(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function C2(n){return e=>_2(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function I2(n){if(!n)return NS;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Nm(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return k2(e)}static composeAsync(e){return R2(e)}}function b2(n){return Nm(n.value)?{required:!0}:null}function NS(n){return null}function T2(n){return null!=n}function D2(n){return(0,d.QGY)(n)?(0,hn.D)(n):n}function S2(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function A2(n,e){return e.map(t=>t(n))}function M2(n){return n.map(e=>function B6(n){return!n.validate}(e)?e:t=>e.validate(t))}function k2(n){if(!n)return null;const e=n.filter(T2);return 0==e.length?null:function(t){return S2(A2(t,e))}}function TN(n){return null!=n?k2(M2(n)):null}function R2(n){if(!n)return null;const e=n.filter(T2);return 0==e.length?null:function(t){return m2(A2(t,e).map(D2)).pipe((0,mt.U)(S2))}}function DN(n){return null!=n?R2(M2(n)):null}function N2(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function O2(n){return n._rawValidators}function P2(n){return n._rawAsyncValidators}function SN(n){return n?Array.isArray(n)?n:[n]:[]}function OS(n,e){return Array.isArray(n)?n.includes(e):n===e}function F2(n,e){const t=SN(e);return SN(n).forEach(r=>{OS(t,r)||t.push(r)}),t}function L2(n,e){return SN(e).filter(t=>!OS(n,t))}class V2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=TN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=DN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Mo extends V2{get formDirective(){return null}get path(){return null}}class yh extends V2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class B2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let U2=(()=>{class n extends B2{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(yh,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&d.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[d.qOj]}),n})(),H2=(()=>{class n extends B2{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Mo,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&d.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[d.qOj]}),n})();const uE="VALID",FS="INVALID",kb="PENDING",hE="DISABLED";function kN(n){return(LS(n)?n.validators:n)||null}function RN(n,e){return(LS(e)?e.asyncValidators:n)||null}function LS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function z2(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new d.vHH(1e3,"");if(!i[t])throw new d.vHH(1001,"")}function $2(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new d.vHH(1002,"")})}class VS{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===uE}get invalid(){return this.status===FS}get pending(){return this.status==kb}get disabled(){return this.status===hE}get enabled(){return this.status!==hE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(F2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(F2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(L2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(L2(e,this._rawAsyncValidators))}hasValidator(e){return OS(this._rawValidators,e)}hasAsyncValidator(e){return OS(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=kb,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=hE,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=uE,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uE||this.status===kb)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hE:uE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=kb,this._hasOwnPendingAsyncValidator=!0;const t=D2(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?hE:this.errors?FS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kb)?kb:this._anyControlsHaveStatus(FS)?FS:uE}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){LS(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function z6(n){return Array.isArray(n)?TN(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function $6(n){return Array.isArray(n)?DN(n):n||null}(this._rawAsyncValidators)}}class fE extends VS{constructor(e,t,i){super(kN(t),RN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){$2(this,0,e),Object.keys(e).forEach(i=>{z2(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class G2 extends fE{}const Rb=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>BS}),BS="always";function mE(n,e,t=BS){NN(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function q6(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&q2(n,e)})}(n,e),function Z6(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function W6(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&q2(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function G6(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function HS(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),zS(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function jS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function NN(n,e){const t=O2(n);null!==e.validator?n.setValidators(N2(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=P2(n);null!==e.asyncValidator?n.setAsyncValidators(N2(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();jS(e._rawValidators,r),jS(e._rawAsyncValidators,r)}function zS(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=O2(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=P2(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return jS(e._rawValidators,i),jS(e._rawAsyncValidators,i),t}function q2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function W2(n,e){NN(n,e)}function Z2(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const J6={provide:Mo,useExisting:(0,d.Gpc)(()=>$S)},pE=(()=>Promise.resolve())();let $S=(()=>{class n extends Mo{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new fE({},TN(t),DN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){pE.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),mE(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){pE.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){pE.then(()=>{const i=this._findContainer(t.path),r=new fE({});W2(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){pE.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){pE.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Z2(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ao,10),d.Y36(Om,10),d.Y36(Rb,8))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&d.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([J6]),d.qOj]}),n})();function K2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Y2(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const gE=class extends VS{constructor(e=null,t,i){super(kN(t),RN(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),LS(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Y2(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){K2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){K2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Y2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let tV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),iV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const LN=new d.OlP("NgModelWithFormControlWarning"),l$={provide:Mo,useExisting:(0,d.Gpc)(()=>_E)};let _E=(()=>{class n extends Mo{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return mE(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){HS(t.control||null,t,!1),function X6(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Z2(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(HS(i||null,t),(n=>n instanceof gE)(r)&&(mE(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);W2(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function K6(n,e){return zS(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){NN(this.form,this),this._oldForm&&zS(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ao,10),d.Y36(Om,10),d.Y36(Rb,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&d.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([l$]),d.qOj,d.TTD]}),n})();const u$={provide:yh,useExisting:(0,d.Gpc)(()=>UN)};let UN=(()=>{class n extends yh{set isDisabled(t){}constructor(t,i,r,s,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function FN(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===kS?t=s:function Q6(n){return Object.getPrototypeOf(n.constructor)===t_}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function PN(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function US(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(d.Y36(Mo,13),d.Y36(ao,10),d.Y36(Om,10),d.Y36(_c,10),d.Y36(LN,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([u$]),d.qOj,d.TTD]}),n})(),n_=(()=>{class n{constructor(){this._validator=NS}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):NS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();const b$={provide:ao,useExisting:(0,d.Gpc)(()=>GS),multi:!0};let GS=(()=>{class n extends n_{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.VuI,this.createValidator=t=>b2}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&d.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([b$]),d.qOj]}),n})(),T$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[iV]}),n})();class yV extends VS{constructor(e,t,i){super(kN(t),RN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){$2(this,0,e),e.forEach((i,r)=>{z2(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function bV(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let zN,D$=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return bV(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new fE(r,s)}record(t,i=null){const r=this._reduceControls(t);return new G2(r,i)}control(t,i,r){let s={};return this.useNonNullable?(bV(i)?s=i:(s.validators=i,s.asyncValidators=r),new gE(t,{...s,nonNullable:!0})):new gE(t,i,r)}array(t,i,r){const s=t.map(l=>this._createControl(l));return new yV(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof gE||t instanceof VS?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:LN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Rb,useValue:t.callSetDisabledState??BS}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[T$]}),n})(),A$=(()=>{class n{constructor(){this.firestore=(0,d.f3M)(EN)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{zN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{zN=!1}let Nb,ss=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Ac(n){return n===za}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!zN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wV=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function xV(){if(Nb)return Nb;if("object"!=typeof document||!document)return Nb=new Set(wV),Nb;let n=document.createElement("input");return Nb=new Set(wV.filter(e=>(n.setAttribute("type",e),n.type===e))),Nb}let vE,qS,i_,$N;function yE(n){return function M$(){if(null==vE&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>vE=!0}))}finally{vE=vE||!1}return vE}()?n:!!n.capture}function bE(){if("object"!=typeof document||!document)return 0;if(null==qS){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),qS=0,0===n.scrollLeft&&(n.scrollLeft=1,qS=0===n.scrollLeft?1:2),n.remove()}return qS}function Ob(n){return n.composedPath?n.composedPath()[0]:n.target}function wE(n,e=Mf.z){return(0,Qi.e)((t,i)=>{let r=null,s=null,l=null;const h=()=>{if(r){r.unsubscribe(),r=null;const v=s;s=null,i.next(v)}};function m(){const v=l+n,w=e.now();if(w<v)return r=this.schedule(void 0,v-w),void i.add(r);h()}t.subscribe((0,Di.x)(i,v=>{s=v,l=e.now(),r||(r=e.schedule(m,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}function CV(n){return oi((e,t)=>n<=t)}var IV=L(2420);function Es(n){return(0,Qi.e)((e,t)=>{(0,Wo.Xf)(n).subscribe((0,Di.x)(t,()=>t.complete(),IV.Z)),!t.closed&&e.subscribe(t)})}function er(n){return null!=n&&"false"!=`${n}`}function r_(n,e=0){return function nG(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function TV(n){return Array.isArray(n)?n:[n]}function bh(n){return n instanceof d.SBq?n.nativeElement:n}const DV=new Set;let s_,iG=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):sG}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function rG(n,e){if(!DV.has(n))try{s_||(s_=document.createElement("style"),e&&(s_.nonce=e),s_.setAttribute("type","text/css"),document.head.appendChild(s_)),s_.sheet&&(s_.sheet.insertRule(`@media ${n} {body{ }}`,0),DV.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ss),d.LFG(d.Ojb,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sG(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let oG=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Xt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return SV(TV(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=go(SV(TV(t)).map(l=>this._registerQuery(l).observable));return s=fs(s.pipe(Fr(1)),s.pipe(CV(1),wE(0))),s.pipe((0,mt.U)(l=>{const h={matches:!1,breakpoints:{}};return l.forEach(({matches:m,query:v})=>{h.matches=h.matches||m,h.breakpoints[v]=m}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new pi.y(l=>{const h=m=>this._zone.run(()=>l.next(m));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(ms(i),(0,mt.U)(({matches:l})=>({query:t,matches:l})),Es(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(iG),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SV(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let kV=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function hG(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function uG(n){try{return n.frameElement}catch{return null}}(function bG(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===NV(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=NV(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function vG(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function yG(n){return!function mG(n){return function gG(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function fG(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function pG(n){return function _G(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||RV(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ss))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function RV(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function NV(n){if(!RV(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class wG{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Fr(1)).subscribe(e)}}let xG=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new wG(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(kV),d.LFG(d.R0b),d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OV(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function PV(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const EG=new d.OlP("cdk-input-modality-detector-options"),CG={ignoreKeys:[18,17,224,91,16]},Pb=yE({passive:!0,capture:!0});let IG=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new dr.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(h=>h===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ob(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(OV(l)?"keyboard":"mouse"),this._mostRecentTarget=Ob(l))},this._onTouchstart=l=>{PV(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ob(l))},this._options={...CG,...s},this.modalityDetected=this._modality.pipe(CV(1)),this.modalityChanged=this.modalityDetected.pipe((0,kf.x)()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Pb),r.addEventListener("mousedown",this._onMousedown,Pb),r.addEventListener("touchstart",this._onTouchstart,Pb)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Pb),document.removeEventListener("mousedown",this._onMousedown,Pb),document.removeEventListener("touchstart",this._onTouchstart,Pb))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ss),d.LFG(d.R0b),d.LFG(ue),d.LFG(EG,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DG=new d.OlP("cdk-focus-monitor-default-options"),WS=yE({passive:!0,capture:!0});let LV=(()=>{class n{constructor(t,i,r,s,l){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Xt.x,this._rootNodeFocusAndBlurListener=h=>{for(let v=Ob(h);v;v=v.parentElement)"focus"===h.type?this._onFocus(h,v):this._onBlur(h,v)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(t,i=!1){const r=bh(t);if(!this._platform.isBrowser||1!==r.nodeType)return(0,dt.of)();const s=function N$(n){if(function R$(){if(null==$N){const n=typeof document<"u"?document.head:null;$N=!(!n||!n.createShadowRoot&&!n.attachShadow)}return $N}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const h={checkChildren:i,subject:new Xt.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=bh(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=bh(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,m])=>this._originChanged(h,i,m)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Ob(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,WS),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,WS)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Es(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,WS),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,WS),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(ss),d.LFG(IG),d.LFG(ue,8),d.LFG(DG,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VV="cdk-high-contrast-black-on-white",BV="cdk-high-contrast-white-on-black",qN="cdk-high-contrast-active";let SG=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,d.f3M)(oG).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(qN,VV,BV),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(qN,VV):2===i&&t.add(qN,BV)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ss),d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AG=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function MG(){return(0,d.f3M)(ue)}}),kG=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let WN=(()=>{class n{constructor(t){this.value="ltr",this.change=new d.vpe,t&&(this.value=function RG(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?kG.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(AG,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const OG=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function NG(){return!0}});let Mr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function P$(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(SG),d.LFG(OG,8),d.LFG(ue))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[UV,UV]}),n})();function PG(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=er(e)}constructor(...e){super(...e),this._disabled=!1}}}function ZS(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function FG(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=er(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function LG(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let BG=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class UG{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const zV=yE({passive:!0,capture:!0});class HG{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Ob(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const l=s.get(i);l?l.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,zV)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,zV)))}}const $V={enterDuration:225,exitDuration:150},GV=yE({passive:!0,capture:!0}),qV=["mousedown","touchstart"],WV=["mouseup","mouseleave","touchend","touchcancel"];class o_{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=bh(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...$V,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const l=i.radius||function zG(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,m=t-r.top,v=s.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=h-l+"px",w.style.top=m-l+"px",w.style.height=2*l+"px",w.style.width=2*l+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(w);const D=window.getComputedStyle(w),U=D.transitionDuration,z="none"===D.transitionProperty||"0s"===U||"0s, 0s"===U||0===r.width&&0===r.height,K=new UG(this,w,i,z);w.style.transform="scale3d(1, 1, 1)",K.state=0,i.persistent||(this._mostRecentTransientRipple=K);let oe=null;return!z&&(v||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Le=()=>this._finishRippleTransition(K),$e=()=>this._destroyRipple(K);w.addEventListener("transitionend",Le),w.addEventListener("transitioncancel",$e),oe={onTransitionEnd:Le,onTransitionCancel:$e}}),this._activeRipples.set(K,oe),(z||!v)&&this._finishRippleTransition(K),K}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...$V,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=bh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,qV.forEach(i=>{o_._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{WV.forEach(t=>{this._triggerElement.addEventListener(t,this,GV)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=OV(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!PV(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(qV.forEach(t=>o_._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&WV.forEach(t=>e.removeEventListener(t,this,GV)))}}o_._eventManager=new HG;const EE=new d.OlP("mat-ripple-global-options");let $G=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new o_(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(ss),d.Y36(EE,8),d.Y36(d.QbO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),ZV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Mr,Mr]}),n})(),GG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Mr]}),n})();const qG=["*"],KG=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],YG=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],QG=new d.OlP("MAT_CARD_CONFIG");let KV=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(QG,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&d.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:qG,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),YV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),QV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),XV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:YG,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,i){1&t&&(d.F$t(KG),d.Hsn(0),d.TgZ(1,"div",0),d.Hsn(2,1),d.qZA(),d.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),t5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Mr,vr,Mr]}),n})();const JV=yE({passive:!0});let n5=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ns.E;const i=bh(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Xt.x,l="cdk-text-field-autofilled",h=m=>{"cdk-text-field-autofill-start"!==m.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===m.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>s.next({target:m.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>s.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,JV),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,JV)}}),s}stopMonitoring(t){const i=bh(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ss),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),i5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();class r5{constructor(e){this._box=e,this._destroyed=new Xt.x,this._resizeSubject=new Xt.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new pi.y(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(oi(t=>t.some(i=>i.target===e)),Ru({bufferSize:1,refCount:!0}),Es(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let s5=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,d.f3M)(d.R0b)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new r5(r)),this._observers.get(r).observe(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eB=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o5=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=bh(t);return new pi.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Xt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(eB))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tB=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=er(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=r_(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(wE(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(o5),d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),nB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[eB]}),n})();const a5=["notch"],l5=["matFormFieldNotchedOutline",""],c5=["*"],d5=["textField"],u5=["iconPrefixContainer"],h5=["textPrefixContainer"];function f5(n,e){1&n&&d._UZ(0,"span",19)}function m5(n,e){if(1&n&&(d.TgZ(0,"label",17),d.Hsn(1,1),d.YNc(2,f5,1,0,"span",18),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),d.uIk("for",t._control.id)("aria-owns",t._control.id),d.xp6(2),d.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function p5(n,e){if(1&n&&d.YNc(0,m5,3,6,"label",16),2&n){const t=d.oxw();d.Q6J("ngIf",t._hasFloatingLabel())}}function g5(n,e){1&n&&d._UZ(0,"div",20)}function _5(n,e){}function v5(n,e){if(1&n&&d.YNc(0,_5,0,0,"ng-template",22),2&n){d.oxw(2);const t=d.MAs(1);d.Q6J("ngTemplateOutlet",t)}}function y5(n,e){if(1&n&&(d.TgZ(0,"div",21),d.YNc(1,v5,1,1,"ng-template",9),d.qZA()),2&n){const t=d.oxw();d.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),d.xp6(1),d.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function b5(n,e){1&n&&(d.TgZ(0,"div",23,24),d.Hsn(2,2),d.qZA())}function w5(n,e){1&n&&(d.TgZ(0,"div",25,26),d.Hsn(2,3),d.qZA())}function x5(n,e){}function E5(n,e){if(1&n&&d.YNc(0,x5,0,0,"ng-template",22),2&n){d.oxw();const t=d.MAs(1);d.Q6J("ngTemplateOutlet",t)}}function C5(n,e){1&n&&(d.TgZ(0,"div",27),d.Hsn(1,4),d.qZA())}function I5(n,e){1&n&&(d.TgZ(0,"div",28),d.Hsn(1,5),d.qZA())}function T5(n,e){1&n&&d._UZ(0,"div",29)}function D5(n,e){if(1&n&&(d.TgZ(0,"div",30),d.Hsn(1,6),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState)}}function S5(n,e){if(1&n&&(d.TgZ(0,"mat-hint",34),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("id",t._hintLabelId),d.xp6(1),d.Oqu(t.hintLabel)}}function A5(n,e){if(1&n&&(d.TgZ(0,"div",31),d.YNc(1,S5,2,2,"mat-hint",32),d.Hsn(2,7),d._UZ(3,"div",33),d.Hsn(4,8),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState),d.xp6(1),d.Q6J("ngIf",t.hintLabel)}}const M5=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],k5=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let ZN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-label"]]}),n})(),R5=0;const iB=new d.OlP("MatError");let N5=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+R5++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(d.$8M("aria-live"),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(t,i){2&t&&d.Ikx("id",i.id)},inputs:{id:"id"},features:[d._Bn([{provide:iB,useExisting:n}])]}),n})(),O5=0,rB=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+O5++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(d.Ikx("id",i.id),d.uIk("align",null),d.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const P5=new d.OlP("MatPrefix"),F5=new d.OlP("MatSuffix"),sB=new d.OlP("FloatingLabelParent");let oB=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,d.f3M)(s5),this._ngZone=(0,d.f3M)(d.R0b),this._parent=(0,d.f3M)(sB),this._resizeSubscription=new wa.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function L5(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),n})();const aB="mdc-line-ripple--active",KS="mdc-line-ripple--deactivating";let lB=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,l=s.contains(KS);"opacity"===r.propertyName&&l&&s.remove(aB,KS)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(KS),t.add(aB)}deactivate(){this._elementRef.nativeElement.classList.add(KS)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275dir=d.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),cB=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(t,i){if(1&t&&d.Gf(a5,5),2&t){let r;d.iGM(r=d.CRH())&&(i._notch=r.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mdc-notched-outline--notched",i.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:l5,ngContentSelectors:c5,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(d.F$t(),d._UZ(0,"div",0),d.TgZ(1,"div",1,2),d.Hsn(3),d.qZA(),d._UZ(4,"div",3))},encapsulation:2,changeDetection:0}),n})();const V5={transitionMessages:CN("transitionMessages",[Mb("enter",vh({opacity:1,transform:"translateY(0%)"})),cE("void => enter",[vh({opacity:0,transform:"translateY(-5px)"}),lE("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let dB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n}),n})();const uB=new d.OlP("MatFormField"),B5=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let hB=0,j5=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=er(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,s,l,h,m,v){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=l,this._defaults=h,this._animationMode=m,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+hB++,this._hintLabelId="mat-mdc-hint-"+hB++,this._subscriptAnimationState="",this._destroyed=new Xt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,h&&(h.appearance&&(this.appearance=h.appearance),this._hideRequiredMarker=!!h?.hideRequiredMarker,h.color&&(this.color=h.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Es(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Op.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Es(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Es(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(WN),d.Y36(ss),d.Y36(B5,8),d.Y36(d.QbO,8),d.Y36(ue))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,ZN,5),d.Suo(r,ZN,7),d.Suo(r,dB,5),d.Suo(r,P5,5),d.Suo(r,F5,5),d.Suo(r,iB,5),d.Suo(r,rB,5)),2&t){let s;d.iGM(s=d.CRH())&&(i._labelChildNonStatic=s.first),d.iGM(s=d.CRH())&&(i._labelChildStatic=s.first),d.iGM(s=d.CRH())&&(i._formFieldControl=s.first),d.iGM(s=d.CRH())&&(i._prefixChildren=s),d.iGM(s=d.CRH())&&(i._suffixChildren=s),d.iGM(s=d.CRH())&&(i._errorChildren=s),d.iGM(s=d.CRH())&&(i._hintChildren=s)}},viewQuery:function(t,i){if(1&t&&(d.Gf(d5,5),d.Gf(u5,5),d.Gf(h5,5),d.Gf(oB,5),d.Gf(cB,5),d.Gf(lB,5)),2&t){let r;d.iGM(r=d.CRH())&&(i._textField=r.first),d.iGM(r=d.CRH())&&(i._iconPrefixContainer=r.first),d.iGM(r=d.CRH())&&(i._textPrefixContainer=r.first),d.iGM(r=d.CRH())&&(i._floatingLabel=r.first),d.iGM(r=d.CRH())&&(i._notchedOutline=r.first),d.iGM(r=d.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&d.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:uB,useExisting:n},{provide:sB,useExisting:n}])],ngContentSelectors:k5,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(d.F$t(M5),d.YNc(0,p5,1,1,"ng-template",null,0,d.W1O),d.TgZ(2,"div",1,2),d.NdJ("click",function(s){return i._control.onContainerClick(s)}),d.YNc(4,g5,1,0,"div",3),d.TgZ(5,"div",4),d.YNc(6,y5,2,2,"div",5),d.YNc(7,b5,3,0,"div",6),d.YNc(8,w5,3,0,"div",7),d.TgZ(9,"div",8),d.YNc(10,E5,1,1,"ng-template",9),d.Hsn(11),d.qZA(),d.YNc(12,C5,2,0,"div",10),d.YNc(13,I5,2,0,"div",11),d.qZA(),d.YNc(14,T5,1,0,"div",12),d.qZA(),d.TgZ(15,"div",13),d.YNc(16,D5,2,1,"div",14),d.YNc(17,A5,5,2,"div",15),d.qZA()),2&t&&(d.xp6(2),d.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),d.xp6(2),d.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),d.xp6(2),d.Q6J("ngIf",i._hasOutline()),d.xp6(1),d.Q6J("ngIf",i._hasIconPrefix),d.xp6(1),d.Q6J("ngIf",i._hasTextPrefix),d.xp6(2),d.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),d.xp6(2),d.Q6J("ngIf",i._hasTextSuffix),d.xp6(1),d.Q6J("ngIf",i._hasIconSuffix),d.xp6(1),d.Q6J("ngIf",!i._hasOutline()),d.xp6(1),d.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),d.Q6J("ngSwitch",i._getDisplayedMessages()),d.xp6(1),d.Q6J("ngSwitchCase","error"),d.xp6(1),d.Q6J("ngSwitchCase","hint"))},dependencies:[Nr,Fo,la,Cc,rB,oB,cB,lB],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[V5.transitionMessages]},changeDetection:0}),n})(),KN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Mr,vr,nB,Mr]}),n})();const z5=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),$5=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let G5=0;const q5=LG(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Xt.x}});let W5=(()=>{class n extends q5{get disabled(){return this._disabled}set disabled(t){this._disabled=er(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(RS.required)??!1}set required(t){this._required=er(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&xV().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=er(t)}constructor(t,i,r,s,l,h,m,v,w,D){super(h,s,l,r),this._elementRef=t,this._platform=i,this._autofillMonitor=v,this._formField=D,this._uid="mat-input-"+G5++,this.focused=!1,this.stateChanges=new Xt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(z=>xV().has(z)),this._iOSKeyupListener=z=>{const K=z.target;!K.value&&0===K.selectionStart&&0===K.selectionEnd&&(K.setSelectionRange(1,1),K.setSelectionRange(0,0))};const k=this._elementRef.nativeElement,U=k.nodeName.toLowerCase();this._inputValueAccessor=m||k,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&w.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===U,this._isTextarea="textarea"===U,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=k.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){$5.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(ss),d.Y36(yh,10),d.Y36($S,8),d.Y36(_E,8),d.Y36(BG),d.Y36(z5,10),d.Y36(n5),d.Y36(d.R0b),d.Y36(uB,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&d.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(d.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),d.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),d.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d._Bn([{provide:dB,useExisting:n}]),d.qOj,d.TTD]}),n})(),Z5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Mr,KN,KN,i5,Mr]}),n})();const K5=["mat-button",""],Y5=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Q5=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],J5=["mat-icon-button",""],eq=["*"],pB={capture:!0},gB=["focus","click","mouseenter","touchstart"],CE="mat-button-ripple-uninitialized";let tq=(()=>{class n{constructor(){this._document=(0,d.f3M)(ue,{optional:!0}),this._animationMode=(0,d.f3M)(d.QbO,{optional:!0}),this._globalRippleOptions=(0,d.f3M)(EE,{optional:!0}),this._platform=(0,d.f3M)(ss),this._ngZone=(0,d.f3M)(d.R0b),this._onInteraction=t=>{if(t.target===this._document)return;const r=t.target.closest(`[${CE}]`);r&&(r.removeAttribute(CE),this._appendRipple(r))},this._ngZone.runOutsideAngular(()=>{for(const t of gB)this._document?.addEventListener(t,this._onInteraction,pB)})}ngOnDestroy(){for(const t of gB)this._document?.removeEventListener(t,this._onInteraction,pB)}_appendRipple(t){if(!this._document)return;const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const r=new nq(t,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);r.rippleConfig.centered=t.hasAttribute("mat-icon-button"),new o_(r,this._ngZone,i,this._platform).setupTriggerEvents(t),t.append(i)}_createMatRipple(t){if(!this._document)return;t.querySelector(".mat-mdc-button-ripple")?.remove(),t.removeAttribute(CE);const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const r=new $G(new d.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=t,t.append(i),r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nq{constructor(e,t,i){this._button=e,this._globalRippleOptions=t,this._setRippleConfig(t,i)}_setRippleConfig(e,t){this.rippleConfig=e||{},"NoopAnimations"===t&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const iq=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],rq=ZS(PG(FG(class{constructor(n){this._elementRef=n}})));let _B=(()=>{class n extends rq{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(t){this._ripple=t}constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,d.f3M)(LV),this._rippleLoader=(0,d.f3M)(tq),this._isFab=!1;const l=t.nativeElement.classList;for(const h of iq)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(m=>{l.add(m)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}}return n.\u0275fac=function(t){d.$Z()},n.\u0275dir=d.lG2({type:n,features:[d.qOj,d.TTD]}),n})(),oq=(()=>{class n extends _B{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(ss),d.Y36(d.R0b),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(t,i){2&t&&(d.uIk("disabled",i.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:K5,ngContentSelectors:Q5,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(d.F$t(Y5),d._UZ(0,"span",0),d.Hsn(1),d.TgZ(2,"span",1),d.Hsn(3,1),d.qZA(),d.Hsn(4,2),d._UZ(5,"span",2)(6,"span",3)),2&t&&d.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),lq=(()=>{class n extends _B{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(ss),d.Y36(d.R0b),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(t,i){2&t&&(d.uIk("disabled",i.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:J5,ngContentSelectors:eq,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(d.F$t(),d._UZ(0,"span",0),d.Hsn(1),d._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),cq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Mr,ZV,Mr]}),n})();function dq(n,e){1&n&&d._UZ(0,"mat-error")}function uq(n,e){1&n&&d._UZ(0,"mat-error")}let hq=(()=>{class n{constructor(){this.userServices=(0,d.f3M)(A$),this.authService=(0,d.f3M)(e_),this.toastrService=(0,d.f3M)(AS),this.helperService=(0,d.f3M)(MS),this.formBuilder=(0,d.f3M)(D$),this.handleError=(t,i)=>this.loginForm.controls[t].hasError(i),this.helperService.setMenuVisible(!1)}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",RS.required],password:["",RS.compose([RS.required])]})}onSubmit(){this.loginForm.invalid||this.authService.signIn(this.loginForm?.value.email,this.loginForm?.value.password)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],decls:25,vars:4,consts:[[1,"row"],[1,"col-md-4"],[3,"formGroup","ngSubmit"],[1,"mt-3"],["appearance","outline"],["type","email","matInput","","formControlName","email","required",""],[4,"ngIf"],["type","password","matInput","","formControlName","password","required",""],[1,"button"],["color","primary","type","submit","mat-raised-button","",3,"disabled"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0),d._UZ(1,"div",1),d.TgZ(2,"div",1)(3,"mat-card")(4,"mat-card-header")(5,"mat-card-title"),d._uU(6,"Login"),d.qZA()(),d.TgZ(7,"mat-card-content")(8,"form",2),d.NdJ("ngSubmit",function(){return i.onSubmit()}),d.TgZ(9,"div",3)(10,"mat-form-field",4)(11,"mat-label"),d._uU(12,"Email"),d.qZA(),d._UZ(13,"input",5),d.YNc(14,dq,1,0,"mat-error",6),d.qZA()(),d.TgZ(15,"div",3)(16,"mat-form-field",4)(17,"mat-label"),d._uU(18,"Password"),d.qZA(),d._UZ(19,"input",7),d.YNc(20,uq,1,0,"mat-error",6),d.qZA()(),d.TgZ(21,"div",8)(22,"button",9),d._uU(23," Login "),d.qZA()()()()()(),d._UZ(24,"div",1),d.qZA()),2&t&&(d.xp6(8),d.Q6J("formGroup",i.loginForm),d.xp6(6),d.Q6J("ngIf",i.handleError("email","required")),d.xp6(6),d.Q6J("ngIf",i.handleError("password","required")),d.xp6(2),d.Q6J("disabled",!i.loginForm.valid))},dependencies:[Nr,tV,kS,U2,H2,GS,_E,UN,KV,QV,XV,YV,W5,j5,ZN,N5,oq]}),n})(),fq=(()=>{class n{constructor(){this.authService=(0,d.f3M)(e_)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-sign-up"]],decls:26,vars:0,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"formGroup"],["type","email","placeholder","Email Address","required","",1,"formControl"],["userEmail",""],["type","password","placeholder","Password","required","",1,"formControl"],["userPwd",""],["type","button","value","Sign Up",1,"btn","btnPrimary",3,"click"],[1,"or"],[1,"orInner"],["type","button",1,"btn","googleBtn",3,"click"],[1,"fab","fa-google-plus-g"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"]],template:function(t,i){if(1&t){const r=d.EpF();d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),d._uU(4,"Sign Up"),d.qZA(),d.TgZ(5,"div",3),d._UZ(6,"input",4,5),d.qZA(),d.TgZ(8,"div",3),d._UZ(9,"input",6,7),d.qZA(),d.TgZ(11,"div",3)(12,"input",8),d.NdJ("click",function(){d.CHM(r);const l=d.MAs(7),h=d.MAs(10);return d.KtG(i.authService.signUp(l.value,h.value))}),d.qZA()(),d.TgZ(13,"div",3)(14,"span",9)(15,"span",10),d._uU(16,"Or"),d.qZA()()(),d.TgZ(17,"div",3)(18,"button",11),d.NdJ("click",function(){return i.authService.googleAuth()}),d._UZ(19,"i",12),d._uU(20," Continue with Google "),d.qZA()()(),d.TgZ(21,"div",13)(22,"span"),d._uU(23,"Already have an account? "),d.TgZ(24,"span",14),d._uU(25,"Log In"),d.qZA()()()()()}},dependencies:[Su]}),n})(),mq=(()=>{class n{constructor(){this.authService=(0,d.f3M)(e_)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-forgot-password"]],decls:17,vars:0,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"text-center"],[1,"formGroup"],["type","email","placeholder","Email Address","required","",1,"formControl"],["passwordResetEmail",""],["type","submit","value","Reset Password",1,"btn","btnPrimary",3,"click"],[1,"redirectToLogin"],["routerLink","/login",1,"redirect"]],template:function(t,i){if(1&t){const r=d.EpF();d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),d._uU(4,"Reset Password"),d.qZA(),d.TgZ(5,"p",3),d._uU(6,"Please enter your email address to request a password reset."),d.qZA(),d.TgZ(7,"div",4),d._UZ(8,"input",5,6),d.qZA(),d.TgZ(10,"div",4)(11,"input",7),d.NdJ("click",function(){d.CHM(r);const l=d.MAs(9);return d.KtG(i.authService.forgotPassword(l.value))}),d.qZA()()(),d.TgZ(12,"div",8)(13,"span"),d._uU(14,"Go back to ? "),d.TgZ(15,"span",9),d._uU(16,"Log In"),d.qZA()()()()()}},dependencies:[Su]}),n})();function pq(n,e){if(1&n&&(d.TgZ(0,"div",4)(1,"p",9),d._uU(2,"We have sent a confirmation email to "),d.TgZ(3,"strong"),d._uU(4),d.qZA(),d._uU(5,"."),d.qZA(),d.TgZ(6,"p",9),d._uU(7,"Please check your email and click on the link to verfiy your email address."),d.qZA()()),2&n){const t=e.ngIf;d.xp6(4),d.Oqu(t.email)}}const gq=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:hq},{path:"register-user",component:fq},{path:"dashboard",component:N6,canActivate:[(n,e)=>{const t=(0,d.f3M)(e_),i=(0,d.f3M)(_s);return!0!==t.isLoggedIn&&i.navigate(["login"]),!0}]},{path:"forgot-password",component:mq},{path:"verify-email-address",component:(()=>{class n{constructor(){this.authService=(0,d.f3M)(e_)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-verify-email"]],decls:15,vars:1,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],["class","formGroup",4,"ngIf"],[1,"formGroup"],["type","button",1,"btn","btnPrimary",3,"click"],[1,"fas","fa-redo-alt"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"],[1,"text-center"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),d._uU(4,"Thank You for Registering"),d.qZA(),d.YNc(5,pq,8,1,"div",3),d.TgZ(6,"div",4)(7,"button",5),d.NdJ("click",function(){return i.authService.sendVerificationMail()}),d._UZ(8,"i",6),d._uU(9," Resend Verification Email "),d.qZA()()(),d.TgZ(10,"div",7)(11,"span"),d._uU(12,"Go back to?"),d.TgZ(13,"span",8),d._uU(14," Sign in"),d.qZA()()()()()),2&t&&(d.xp6(5),d.Q6J("ngIf",i.authService.userData))},dependencies:[Nr,Su]}),n})()}];let _q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[gv.forRoot(gq),gv]}),n})();class YN{}class wh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),l=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof wh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new wh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof wh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let l=this.headers.get(t);if(!l)return;l=l.filter(h=>-1===s.indexOf(h)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class vq{encodeKey(e){return vB(e)}encodeValue(e){return vB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const bq=/%(\d[a-f0-9])/gi,wq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function vB(n){return encodeURIComponent(n).replace(bq,(e,t)=>wq[t]??e)}function YS(n){return`${n}`}class Pm{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new vq,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function yq(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,h]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],m=t.get(l)||[];m.push(h),t.set(l,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(YS):[YS(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Pm({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(YS(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(YS(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class xq{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function yB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function bB(n){return typeof Blob<"u"&&n instanceof Blob}function wB(n){return typeof FormData<"u"&&n instanceof FormData}class IE{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Eq(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new wh),this.context||(this.context=new xq),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+l}}else this.params=new Pm,this.urlWithParams=t}serializeBody(){return null===this.body?null:yB(this.body)||bB(this.body)||wB(this.body)||function Cq(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wB(this.body)?null:bB(this.body)?this.body.type||null:yB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,v=e.params||this.params;const w=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((D,k)=>D.set(k,e.setHeaders[k]),m)),e.setParams&&(v=Object.keys(e.setParams).reduce((D,k)=>D.set(k,e.setParams[k]),v)),new IE(t,i,s,{params:v,headers:m,context:w,reportProgress:h,responseType:r,withCredentials:l})}}var $s=(()=>(($s=$s||{})[$s.Sent=0]="Sent",$s[$s.UploadProgress=1]="UploadProgress",$s[$s.ResponseHeader=2]="ResponseHeader",$s[$s.DownloadProgress=3]="DownloadProgress",$s[$s.Response=4]="Response",$s[$s.User=5]="User",$s))();class Iq{constructor(e,t=200,i="OK"){this.headers=e.headers||new wh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class TE extends Iq{constructor(e={}){super(e),this.type=$s.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new TE({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function XN(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let JN=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof IE)s=t;else{let m,v;m=r.headers instanceof wh?r.headers:new wh(r.headers),r.params&&(v=r.params instanceof Pm?r.params:new Pm({fromObject:r.params})),s=new IE(t,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=(0,dt.of)(s).pipe(Xr(m=>this.handler.handle(m)));if(t instanceof IE||"events"===r.observe)return l;const h=l.pipe(oi(m=>m instanceof TE));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,mt.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe((0,mt.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe((0,mt.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe((0,mt.U)(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Pm).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,XN(r,i))}post(t,i,r={}){return this.request("POST",t,XN(r,i))}put(t,i,r={}){return this.request("PUT",t,XN(r,i))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(YN))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Gq=["*"];let JS;function DE(n){return function qq(){if(void 0===JS&&(JS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(JS=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return JS}()?.createHTML(n)||n}function kB(n){return Error(`Unable to find icon with the name "${n}"`)}function RB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function NB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class c_{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let eA=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new c_(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const l=this._sanitizer.sanitize(d.q3G.HTML,r);if(!l)throw NB(r);const h=DE(l);return this._addSvgIconConfig(t,i,new c_("",h,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new c_(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(d.q3G.HTML,i);if(!s)throw NB(i);const l=DE(s);return this._addSvgIconSetConfig(t,new c_("",l,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,t);if(!i)throw RB(t);const r=this._cachedIconsByUrl.get(i);return r?(0,dt.of)(tA(r)):this._loadSvgIconFromConfig(new c_(t,null)).pipe((0,Rn.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,mt.U)(s=>tA(s)))}getNamedSvgIcon(t,i=""){const r=OB(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(t,l):Zo(kB(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,dt.of)(tA(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,mt.U)(i=>tA(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?(0,dt.of)(r):m2(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(xr(h=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,l.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(v)),(0,dt.of)(null)})))).pipe((0,mt.U)(()=>{const l=this._extractIconWithNameFromAnySet(t,i);if(!l)throw kB(t);return l}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const l=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(l,t,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Rn.b)(i=>t.svgText=i),(0,mt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,dt.of)(null):this._fetchIcon(t).pipe((0,Rn.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const l=s.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const h=this._svgElementFromString(DE("<svg></svg>"));return h.appendChild(l),this._setSvgAttributes(h,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(DE("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:l,value:h}=r[s];"id"!==l&&i.setAttribute(l,h)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function Wq(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,i);if(!l)throw RB(i);const h=this._inProgressUrlFetches.get(l);if(h)return h;const m=this._httpClient.get(l,{responseType:"text",withCredentials:s}).pipe((0,mt.U)(v=>DE(v)),nl(()=>this._inProgressUrlFetches.delete(l)),(0,Pp.B)());return this._inProgressUrlFetches.set(l,m),m}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(OB(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return Kq(s)?new c_(s.url,null,s.options):new c_(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(JN,8),d.LFG(ga),d.LFG(ue,8),d.LFG(d.qLn))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tA(n){return n.cloneNode(!0)}function OB(n,e){return n+":"+e}function Kq(n){return!(!n.url||!n.options)}const Yq=ZS(class{constructor(n){this._elementRef=n}}),Qq=new d.OlP("MAT_ICON_DEFAULT_OPTIONS"),Xq=new d.OlP("mat-icon-location",{providedIn:"root",factory:function Jq(){const n=(0,d.f3M)(ue),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),PB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],eW=PB.map(n=>`[${n}]`).join(", "),tW=/^url\(['"]?#(.*?)['"]?\)$/;let nW=(()=>{class n extends Yq{get inline(){return this._inline}set inline(t){this._inline=er(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,s,l,h){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=wa.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(l=>{s.setAttribute(l.name,`url('${t}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(eW),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)PB.forEach(l=>{const h=i[s],m=h.getAttribute(l),v=m?m.match(tW):null;if(v){let w=r.get(h);w||(w=[],r.set(h,w)),w.push({name:l,value:v[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Fr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(eA),d.$8M("aria-hidden"),d.Y36(Xq),d.Y36(d.qLn),d.Y36(Qq,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(d.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),d.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:Gq,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),iW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Mr,Mr]}),n})();const rW=["*",[["mat-toolbar-row"]]],sW=["*","mat-toolbar-row"],oW=ZS(class{constructor(n){this._elementRef=n}});let aW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),lW=(()=>{class n extends oW{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(ss),d.Y36(ue))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&d.Suo(r,aW,5),2&t){let s;d.iGM(s=d.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&d.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:sW,decls:2,vars:0,template:function(t,i){1&t&&(d.F$t(rW),d.Hsn(0),d.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),cW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Mr,Mr]}),n})();const dW=["determinateSpinner"];function uW(n,e){if(1&n&&(d.O4$(),d.TgZ(0,"svg",11),d._UZ(1,"circle",12),d.qZA()),2&n){const t=d.oxw();d.uIk("viewBox",t._viewBox()),d.xp6(1),d.Udp("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),d.uIk("r",t._circleRadius())}}const hW=ZS(class{constructor(n){this._elementRef=n}},"primary"),fW=new d.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function mW(){return{diameter:FB}}}),FB=100;let gW=(()=>{class n extends hW{constructor(t,i,r){super(t),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=FB,this._noopAnimations="NoopAnimations"===i&&!!r&&!r._forceAnimations,r&&(r.color&&(this.color=this.defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,r_(t)))}get diameter(){return this._diameter}set diameter(t){this._diameter=r_(t)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=r_(t)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.QbO,8),d.Y36(fW))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,i){if(1&t&&d.Gf(dW,5),2&t){let r;d.iGM(r=d.CRH())&&(i._determinateCircle=r.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(t,i){2&t&&(d.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),d.Udp("width",i.diameter,"px")("height",i.diameter,"px")("--mdc-circular-progress-size",i.diameter+"px")("--mdc-circular-progress-active-indicator-width",i.diameter+"px"),d.ekj("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===i.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[d.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,i){if(1&t&&(d.YNc(0,uW,2,8,"ng-template",null,0,d.W1O),d.TgZ(2,"div",1,2),d.O4$(),d.TgZ(4,"svg",3),d._UZ(5,"circle",4),d.qZA()(),d.kcU(),d.TgZ(6,"div",5)(7,"div",6)(8,"div",7),d.GkF(9,8),d.qZA(),d.TgZ(10,"div",9),d.GkF(11,8),d.qZA(),d.TgZ(12,"div",10),d.GkF(13,8),d.qZA()()()),2&t){const r=d.MAs(1);d.xp6(4),d.uIk("viewBox",i._viewBox()),d.xp6(1),d.Udp("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),d.uIk("r",i._circleRadius()),d.xp6(4),d.Q6J("ngTemplateOutlet",r),d.xp6(2),d.Q6J("ngTemplateOutlet",r),d.xp6(2),d.Q6J("ngTemplateOutlet",r)}},dependencies:[Fo],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),_W=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[vr,Mr]}),n})();var vW=L(4266);const yW=["addListener","removeListener"],bW=["addEventListener","removeEventListener"],wW=["on","off"];function SE(n,e,t,i){if((0,wr.m)(t)&&(i=t,t=void 0),i)return SE(n,e,t).pipe(ya(i));const[r,s]=function CW(n){return(0,wr.m)(n.addEventListener)&&(0,wr.m)(n.removeEventListener)}(n)?bW.map(l=>h=>n[l](e,h,t)):function xW(n){return(0,wr.m)(n.addListener)&&(0,wr.m)(n.removeListener)}(n)?yW.map(LB(n,e)):function EW(n){return(0,wr.m)(n.on)&&(0,wr.m)(n.off)}(n)?wW.map(LB(n,e)):[];if(!r&&(0,vW.z)(n))return(0,Si.z)(l=>SE(l,e,t))((0,Wo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new pi.y(l=>{const h=(...m)=>l.next(1<m.length?m:m[0]);return r(h),()=>s(h)})}function LB(n,e){return t=>i=>n[t](e,i)}var VB=L(1954);const AE={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=AE;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new wa.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=AE;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=AE;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var BB=L(2631);new class TW extends BB.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class IW extends VB.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=AE.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(AE.cancelAnimationFrame(t),e._scheduled=void 0)}});let tO,SW=1;const nA={};function UB(n){return n in nA&&(delete nA[n],!0)}const AW={setImmediate(n){const e=SW++;return nA[e]=!0,tO||(tO=Promise.resolve()),tO.then(()=>UB(e)&&n()),e},clearImmediate(n){UB(n)}},{setImmediate:MW,clearImmediate:kW}=AW,iA={setImmediate(...n){const{delegate:e}=iA;return(e?.setImmediate||MW)(...n)},clearImmediate(n){const{delegate:e}=iA;return(e?.clearImmediate||kW)(n)},delegate:void 0};new class NW extends BB.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class RW extends VB.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=iA.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(iA.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var FW=L(671);function HB(n,e=Mf.z){return function PW(n){return(0,Qi.e)((e,t)=>{let i=!1,r=null,s=null,l=!1;const h=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const v=r;r=null,t.next(v)}l&&t.complete()},m=()=>{s=null,l&&t.complete()};e.subscribe((0,Di.x)(t,v=>{i=!0,r=v,s||(0,Wo.Xf)(n(v)).subscribe(s=(0,Di.x)(t,h,m))},()=>{l=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>function VW(n=0,e,t=Mf.P){let i=-1;return null!=e&&((0,FW.K)(e)?t=e:i=e),new pi.y(r=>{let s=function LW(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let l=0;return t.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,e))}let nO=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Xt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new pi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(HB(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,dt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(oi(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=bh(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>SE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(ss),d.LFG(ue,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ME=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new Xt.x,this._elementScrolled=new pi.y(l=>this.ngZone.runOutsideAngular(()=>SE(this.elementRef.nativeElement,"scroll").pipe(Es(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=bE()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==bE()?t.left=t.right:1==bE()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;!function k$(){if(null==i_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return i_=!1,i_;if("scrollBehavior"in document.documentElement.style)i_=!0;else{const n=Element.prototype.scrollTo;i_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return i_}()?(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left)):i.scrollTo(t)}measureScrollOffset(t){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==t?t=l?r:i:"end"==t&&(t=l?i:r),l&&2==bE()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:l&&1==bE()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(nO),d.Y36(d.R0b),d.Y36(WN,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),HW=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Xt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(HB(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ss),d.LFG(d.R0b),d.LFG(ue,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const rA=["*"],jW=["content"];function zW(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2),d.NdJ("click",function(){d.CHM(t);const r=d.oxw();return d.KtG(r._onBackdropClicked())}),d.qZA()}if(2&n){const t=d.oxw();d.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function $W(n,e){1&n&&(d.TgZ(0,"mat-drawer-content"),d.Hsn(1,2),d.qZA())}const GW=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],qW=["mat-drawer","mat-drawer-content","*"];function WW(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2),d.NdJ("click",function(){d.CHM(t);const r=d.oxw();return d.KtG(r._onBackdropClicked())}),d.qZA()}if(2&n){const t=d.oxw();d.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function ZW(n,e){1&n&&(d.TgZ(0,"mat-sidenav-content"),d.Hsn(1,2),d.qZA())}const KW=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],YW=["mat-sidenav","mat-sidenav-content","*"],zB={transformDrawer:CN("transform",[Mb("open, open-instant",vh({transform:"none",visibility:"visible"})),Mb("void",vh({"box-shadow":"none",visibility:"hidden"})),cE("void => open-instant",lE("0ms")),cE("void <=> open, open-instant => void",lE("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},XW=new d.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function JW(){return!1}}),iO=new d.OlP("MAT_DRAWER_CONTAINER");let sA=(()=>{class n extends ME{constructor(t,i,r,s,l){super(r,s,l),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO),d.Y36((0,d.Gpc)(()=>GB)),d.Y36(d.SBq),d.Y36(nO),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&d.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[d._Bn([{provide:ME,useExisting:n}]),d.qOj],ngContentSelectors:rA,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),$B=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=er(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=er(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(er(t))}constructor(t,i,r,s,l,h,m,v){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=l,this._interactivityChecker=h,this._doc=m,this._container=v,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Xt.x,this._animationEnd=new Xt.x,this._animationState="void",this.openedChange=new d.vpe(!0),this._openedStream=this.openedChange.pipe(oi(w=>w),(0,mt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(oi(w=>w.fromState!==w.toState&&0===w.toState.indexOf("open")),tl(void 0)),this._closedStream=this.openedChange.pipe(oi(w=>!w),(0,mt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(oi(w=>w.fromState!==w.toState&&"void"===w.toState),tl(void 0)),this._destroyed=new Xt.x,this.onPositionChanged=new d.vpe,this._modeChanged=new Xt.x,this.openedChange.subscribe(w=>{w?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{SE(this._elementRef.nativeElement,"keydown").pipe(oi(w=>27===w.keyCode&&!this.disableClose&&!function GN(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(w)),Es(this._destroyed)).subscribe(w=>this._ngZone.run(()=>{this.close(),w.stopPropagation(),w.preventDefault()}))}),this._animationEnd.pipe((0,kf.x)((w,D)=>w.fromState===D.fromState&&w.toState===D.toState)).subscribe(w=>{const{fromState:D,toState:k}=w;(0===k.indexOf("open")&&"void"===D||"void"===k&&0===D.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Fr(1)).subscribe(l=>s(l?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(xG),d.Y36(LV),d.Y36(ss),d.Y36(d.R0b),d.Y36(kV),d.Y36(ue,8),d.Y36(iO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&d.Gf(jW,5),2&t){let r;d.iGM(r=d.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&d.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&t&&(d.uIk("align",null),d.d8E("@transform",i._animationState),d.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:rA,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA())},dependencies:[ME],encapsulation:2,data:{animation:[zB.transformDrawer]},changeDetection:0}),n})(),GB=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=er(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:er(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,r,s,l,h=!1,m){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=m,this._drawers=new d.n_E,this.backdropClick=new d.vpe,this._destroyed=new Xt.x,this._doCheckSubject=new Xt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Xt.x,t&&t.change.pipe(Es(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),l.change().pipe(Es(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}ngAfterContentInit(){this._allDrawers.changes.pipe(ms(this._allDrawers),Es(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ms(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(wE(10),Es(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(oi(i=>i.fromState!==i.toState),Es(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Es(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Es(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Fr(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Es((0,Op.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(WN,8),d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(d.sBO),d.Y36(HW),d.Y36(XW),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,sA,5),d.Suo(r,$B,5)),2&t){let s;d.iGM(s=d.CRH())&&(i._content=s.first),d.iGM(s=d.CRH())&&(i._allDrawers=s)}},viewQuery:function(t,i){if(1&t&&d.Gf(sA,5),2&t){let r;d.iGM(r=d.CRH())&&(i._userContent=r.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[d._Bn([{provide:iO,useExisting:n}])],ngContentSelectors:qW,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(d.F$t(GW),d.YNc(0,zW,1,2,"div",0),d.Hsn(1),d.Hsn(2,1),d.YNc(3,$W,2,0,"mat-drawer-content",1)),2&t&&(d.Q6J("ngIf",i.hasBackdrop),d.xp6(3),d.Q6J("ngIf",!i._content))},dependencies:[Nr,sA],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),rO=(()=>{class n extends sA{constructor(t,i,r,s,l){super(t,i,r,s,l)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO),d.Y36((0,d.Gpc)(()=>WB)),d.Y36(d.SBq),d.Y36(nO),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&d.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[d._Bn([{provide:ME,useExisting:n}]),d.qOj],ngContentSelectors:rA,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),qB=(()=>{class n extends $B{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=er(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=r_(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=r_(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(d.uIk("align",null),d.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),d.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[d.qOj],ngContentSelectors:rA,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA())},dependencies:[ME],encapsulation:2,data:{animation:[zB.transformDrawer]},changeDetection:0}),n})(),WB=(()=>{class n extends GB{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,rO,5),d.Suo(r,qB,5)),2&t){let s;d.iGM(s=d.CRH())&&(i._content=s.first),d.iGM(s=d.CRH())&&(i._allDrawers=s)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[d._Bn([{provide:iO,useExisting:n}]),d.qOj],ngContentSelectors:YW,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(d.F$t(KW),d.YNc(0,WW,1,2,"div",0),d.Hsn(1),d.Hsn(2,1),d.YNc(3,ZW,2,0,"mat-sidenav-content",1)),2&t&&(d.Q6J("ngIf",i.hasBackdrop),d.xp6(3),d.Q6J("ngIf",!i._content))},dependencies:[Nr,rO],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),e8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[vr,Mr,jB,jB,Mr]}),n})(),t8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Mr,Mr]}),n})();const KB=["*"],QB=["unscopedContent"],n8=["text"],i8=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],r8=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],XB=new d.OlP("ListOption");let JB=(()=>{class n{constructor(t){this._elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),n})(),eU=(()=>{class n{constructor(t){this._elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),n})(),x8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),n})(),tU=(()=>{class n{constructor(t){this._listOption=t}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(XB,8))},n.\u0275dir=d.lG2({type:n,hostVars:4,hostBindings:function(t,i){2&t&&d.ekj("mdc-list-item__start",i._isAlignedAtStart())("mdc-list-item__end",!i._isAlignedAtStart())}}),n})(),E8=(()=>{class n extends tU{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[d.qOj]}),n})(),C8=(()=>{class n extends tU{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[d.qOj]}),n})();const I8=new d.OlP("MAT_LIST_CONFIG");let Fb=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,d.f3M)(I8,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=er(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=er(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,hostVars:1,hostBindings:function(t,i){2&t&&d.uIk("aria-disabled",i.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),n})(),sO=(()=>{class n{set lines(t){this._explicitLines=r_(t,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=er(t)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=er(t)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(t,i,r,s,l,h){this._elementRef=t,this._ngZone=i,this._listBase=r,this._platform=s,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new wa.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=l||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===h,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new o_(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,Op.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const s=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",s),r.classList.toggle("mdc-list-item__secondary-text",!s)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Fb,8),d.Y36(ss),d.Y36(EE,8),d.Y36(d.QbO,8))},n.\u0275dir=d.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,E8,4),d.Suo(r,C8,4)),2&t){let s;d.iGM(s=d.CRH())&&(i._avatars=s),d.iGM(s=d.CRH())&&(i._icons=s)}},hostVars:4,hostBindings:function(t,i){2&t&&(d.uIk("aria-disabled",i.disabled)("disabled",i._isButtonElement&&i.disabled||null),d.ekj("mdc-list-item--disabled",i.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),n})(),T8=(()=>{class n extends sO{get activated(){return this._activated}set activated(t){this._activated=er(t)}constructor(t,i,r,s,l,h){super(t,i,r,s,l,h),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Fb,8),d.Y36(ss),d.Y36(EE,8),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(d.Suo(r,eU,5),d.Suo(r,JB,5),d.Suo(r,x8,5)),2&t){let s;d.iGM(s=d.CRH())&&(i._lines=s),d.iGM(s=d.CRH())&&(i._titles=s),d.iGM(s=d.CRH())&&(i._meta=s)}},viewQuery:function(t,i){if(1&t&&(d.Gf(QB,5),d.Gf(n8,5)),2&t){let r;d.iGM(r=d.CRH())&&(i._unscopedContent=r.first),d.iGM(r=d.CRH())&&(i._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(t,i){2&t&&(d.uIk("aria-current",i._getAriaCurrent()),d.ekj("mdc-list-item--activated",i.activated)("mdc-list-item--with-leading-avatar",0!==i._avatars.length)("mdc-list-item--with-leading-icon",0!==i._icons.length)("mdc-list-item--with-trailing-meta",0!==i._meta.length)("_mat-animation-noopable",i._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[d.qOj],ngContentSelectors:r8,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(t,i){1&t&&(d.F$t(i8),d.Hsn(0),d.TgZ(1,"span",0),d.Hsn(2,1),d.Hsn(3,2),d.TgZ(4,"span",1,2),d.NdJ("cdkObserveContent",function(){return i._updateItemLines(!0)}),d.Hsn(6,3),d.qZA()(),d.Hsn(7,4),d.Hsn(8,5),d._UZ(9,"div",3))},dependencies:[tB],encapsulation:2,changeDetection:0}),n})(),S8=(()=>{class n extends Fb{constructor(){super(...arguments),this._isNonInteractive=!1}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[d._Bn([{provide:Fb,useExisting:n}]),d.qOj],ngContentSelectors:KB,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0}),n})(),R8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[nB,vr,Mr,ZV,GG,t8]}),n})();function N8(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",6),d.NdJ("click",function(){d.CHM(t);const r=d.oxw();return d.KtG(r.toggleSidenav())}),d.TgZ(1,"mat-icon"),d._uU(2,"menu"),d.qZA()()}}function O8(n,e){if(1&n&&(d.TgZ(0,"div",7),d._UZ(1,"mat-spinner",8),d.qZA()),2&n){const t=d.oxw();d.Udp("height",t.height,"px")("width",t.width,"px")}}let P8=(()=>{class n{constructor(){this.helperService=(0,d.f3M)(MS),this.title="mileageCalculator",this.height=0,this.width=0,this.isSidenavOpen=!1}toggleSidenav(){this.isSidenavOpen=!this.isSidenavOpen}ngOnInit(){this.height=document.body.clientHeight,this.width=document.body.clientWidth}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:16,vars:7,consts:[["color","primary"],["mat-icon-button","",3,"click",4,"ngIf"],["mode","side",3,"opened"],["mat-list-item","","routerLink","/dashboard"],[1,"container"],["class","overlay",3,"height","width",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"overlay"],[1,"spinner"]],template:function(t,i){1&t&&(d.TgZ(0,"p")(1,"mat-toolbar",0),d.YNc(2,N8,3,0,"button",1),d.ALo(3,"async"),d.TgZ(4,"span"),d._uU(5,"Mileage Calculator"),d.qZA()()(),d.TgZ(6,"mat-sidenav-container")(7,"mat-sidenav",2)(8,"mat-nav-list")(9,"a",3),d._uU(10,"Dashboard"),d.qZA()()(),d.TgZ(11,"mat-sidenav-content")(12,"div",4),d._UZ(13,"router-outlet"),d.YNc(14,O8,2,4,"div",5),d.ALo(15,"async"),d.qZA()()()),2&t&&(d.xp6(2),d.Q6J("ngIf",d.lcZ(3,3,i.helperService.isMenuVisible$)),d.xp6(5),d.Q6J("opened",i.isSidenavOpen),d.xp6(7),d.Q6J("ngIf",d.lcZ(15,5,i.helperService.isLoading$)))},dependencies:[Nr,u0,Su,nW,lq,lW,gW,qB,WB,rO,S8,T8,Pd],styles:[".spinner[_ngcontent-%COMP%]{position:relative;left:calc(50% - 50px);top:50%}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:black;opacity:.5;z-index:999999}"]}),n})();const iU="firebasestorage.googleapis.com",rU="storageBucket";class tr extends B.ZR{constructor(e,t,i=0){super(oO(e),`Firebase Storage: ${t} (${oO(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return oO(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ht=(()=>((Ht=Ht||{}).UNKNOWN="unknown",Ht.OBJECT_NOT_FOUND="object-not-found",Ht.BUCKET_NOT_FOUND="bucket-not-found",Ht.PROJECT_NOT_FOUND="project-not-found",Ht.QUOTA_EXCEEDED="quota-exceeded",Ht.UNAUTHENTICATED="unauthenticated",Ht.UNAUTHORIZED="unauthorized",Ht.UNAUTHORIZED_APP="unauthorized-app",Ht.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Ht.INVALID_CHECKSUM="invalid-checksum",Ht.CANCELED="canceled",Ht.INVALID_EVENT_NAME="invalid-event-name",Ht.INVALID_URL="invalid-url",Ht.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Ht.NO_DEFAULT_BUCKET="no-default-bucket",Ht.CANNOT_SLICE_BLOB="cannot-slice-blob",Ht.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Ht.NO_DOWNLOAD_URL="no-download-url",Ht.INVALID_ARGUMENT="invalid-argument",Ht.INVALID_ARGUMENT_COUNT="invalid-argument-count",Ht.APP_DELETED="app-deleted",Ht.INVALID_ROOT_OPERATION="invalid-root-operation",Ht.INVALID_FORMAT="invalid-format",Ht.INTERNAL_ERROR="internal-error",Ht.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ht))();function oO(n){return"storage/"+n}function aO(){return new tr(Ht.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function sU(){return new tr(Ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oU(){return new tr(Ht.CANCELED,"User canceled the upload/download.")}function aU(){return new tr(Ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Lb(n){return new tr(Ht.INVALID_ARGUMENT,n)}function lU(){return new tr(Ht.APP_DELETED,"The Firebase app was deleted.")}function cU(n){return new tr(Ht.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kE(n,e){return new tr(Ht.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function RE(n){throw new tr(Ht.INTERNAL_ERROR,"Internal error: "+n)}class lo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=lo.makeFromUrl(e,t)}catch{return new lo(e,"")}if(""===i.path)return i;throw function G8(n){return new tr(Ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(Ke){Ke.path_=decodeURIComponent(Ke.path)}const D=t.replace(/[.]/g,"\\."),ze=[{regex:h,indices:{bucket:1,path:3},postModify:function s(Ke){"/"===Ke.path.charAt(Ke.path.length-1)&&(Ke.path_=Ke.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===iU?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Ke=0;Ke<ze.length;Ke++){const St=ze[Ke],Ot=St.regex.exec(e);if(Ot){let ir=Ot[St.indices.path];ir||(ir=""),i=new lo(Ot[St.indices.bucket],ir),St.postModify(i);break}}if(null==i)throw function $8(n){return new tr(Ht.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class Y8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function oA(n){return"string"==typeof n||n instanceof String}function dU(n){return lO()&&n instanceof Blob}function lO(){return typeof Blob<"u"&&!(0,B.UG)()}function cO(n,e,t,i){if(i<e)throw Lb(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Lb(`Invalid value for '${n}'. Expected ${t} or less.`)}function xh(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function uU(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var ra=(()=>((ra=ra||{})[ra.NO_ERROR=0]="NO_ERROR",ra[ra.NETWORK_ERROR=1]="NETWORK_ERROR",ra[ra.ABORT=2]="ABORT",ra))();function hU(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class n9{constructor(e,t,i,r,s,l,h,m,v,w,D,k=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=w,this.connectionFactory_=D,this.retry=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,z)=>{this.resolve_=U,this.reject_=z,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,l=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());!function J8(n){return void 0!==n}(m)?s():s(m)}catch(m){l(m)}else if(null!==h){const m=aO();m.serverResponse=h.getErrorText(),l(this.errorCallback_?this.errorCallback_(h,m):m)}else l(r.canceled?this.appDelete_?lU():oU():sU())};this.canceled_?t(0,new aA(!1,null,!0)):this.backoffId_=function Q8(n,e,t){let i=1,r=null,s=null,l=!1,h=0;function m(){return 2===h}let v=!1;function w(...oe){v||(v=!0,e.apply(null,oe))}function D(oe){r=setTimeout(()=>{r=null,n(U,m())},oe)}function k(){s&&clearTimeout(s)}function U(oe,...Le){if(v)return void k();if(oe)return k(),void w.call(null,oe,...Le);if(m()||l)return k(),void w.call(null,oe,...Le);let ze;i<64&&(i*=2),1===h?(h=2,ze=0):ze=1e3*(i+Math.random()),D(ze)}let z=!1;function K(oe){z||(z=!0,k(),!v&&(null!==r?(oe||(h=2),clearTimeout(r),D(0)):oe||(h=1)))}return D(0),s=setTimeout(()=>{l=!0,K(!0)},t),K}((i,r)=>{if(r)return void i(!1,new aA(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const h=s.getErrorCode()===ra.NO_ERROR,m=s.getStatus();if(!h||hU(m,this.additionalRetryCodes_)&&this.retry){const w=s.getErrorCode()===ra.ABORT;return void i(!1,new aA(!1,null,w))}const v=-1!==this.successCodes_.indexOf(m);i(!0,new aA(v,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function X8(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class aA{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function c9(...n){const e=function l9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(lO())return new Blob(n);throw new tr(Ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Pa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dO{constructor(e,t){this.data=e,this.contentType=t||null}}function uO(n,e){switch(n){case Pa.RAW:return new dO(fU(e));case Pa.BASE64:case Pa.BASE64URL:return new dO(mU(n,e));case Pa.DATA_URL:return new dO(function f9(n){const e=new pU(n);return e.base64?mU(Pa.BASE64,e.rest):function h9(n){let e;try{e=decodeURIComponent(n)}catch{throw kE(Pa.DATA_URL,"Malformed data URL.")}return fU(e)}(e.rest)}(e),function m9(n){return new pU(n).contentType}(e))}throw aO()}function fU(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function mU(n,e){switch(n){case Pa.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw kE(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Pa.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw kE(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function u9(n){if(typeof atob>"u")throw function K8(n){return new tr(Ht.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:kE(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class pU{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw kE(Pa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function p9(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Id{constructor(e,t){let i=0,r="";dU(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(dU(this.data_)){const r=function d9(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Id(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Id(i,!0)}}static getBlob(...e){if(lO()){const t=e.map(i=>i instanceof Id?i.data_:i);return new Id(c9.apply(null,t))}{const t=e.map(l=>oA(l)?uO(Pa.RAW,l).data:l.data_);let i=0;t.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(l=>{for(let h=0;h<l.length;h++)r[s++]=l[h]}),new Id(r,!0)}}uploadData(){return this.data_}}function hO(n){let e;try{e=JSON.parse(n)}catch{return null}return function t9(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function gU(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function v9(n,e){return e}class ko{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||v9}}let lA=null;function NE(){if(lA)return lA;const n=[];n.push(new ko("bucket")),n.push(new ko("generation")),n.push(new ko("metageneration")),n.push(new ko("name","fullPath",!0));const t=new ko("name");t.xform=function e(s,l){return function y9(n){return!oA(n)||n.length<2?n:gU(n)}(l)},n.push(t);const r=new ko("size");return r.xform=function i(s,l){return void 0!==l?Number(l):l},n.push(r),n.push(new ko("timeCreated")),n.push(new ko("updated")),n.push(new ko("md5Hash",null,!0)),n.push(new ko("cacheControl",null,!0)),n.push(new ko("contentDisposition",null,!0)),n.push(new ko("contentEncoding",null,!0)),n.push(new ko("contentLanguage",null,!0)),n.push(new ko("contentType",null,!0)),n.push(new ko("metadata","customMetadata",!0)),lA=n,lA}function _U(n,e,t){const i=hO(e);return null===i?null:function w9(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const l=t[s];i[l.local]=l.xform(i,e[l.server])}return function b9(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new lo(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function fO(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const vU="prefixes",yU="items";class Td{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Dd(n){if(!n)throw aO()}function cA(n,e){return function t(i,r){const s=_U(n,r,e);return Dd(null!==s),s}}function Vb(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function j8(){return new tr(Ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function H8(){return new tr(Ht.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function U8(n){return new tr(Ht.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function z8(n){return new tr(Ht.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function OE(n){const e=Vb(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function B8(n){return new tr(Ht.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function bU(n,e,t){const r=xh(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,h=new Td(r,"GET",cA(n,t),l);return h.errorHandler=OE(e),h}function D9(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const h=xh(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,w=new Td(h,"GET",function I9(n,e){return function t(i,r){const s=function C9(n,e,t){const i=hO(t);return null===i?null:function E9(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[vU])for(const r of t[vU]){const s=r.replace(/\/$/,""),l=n._makeStorageReference(new lo(e,s));i.prefixes.push(l)}if(t[yU])for(const r of t[yU]){const s=n._makeStorageReference(new lo(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Dd(null!==s),s}}(n,e.bucket),v);return w.urlParams=s,w.errorHandler=Vb(e),w}function xU(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function k9(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class dA{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function mO(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Dd(!1)}return Dd(!!t&&-1!==(e||["active"]).indexOf(t)),t}const P9={STATE_CHANGED:"state_changed"},Ro={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function pO(n){switch(n){case"running":case"pausing":case"canceling":return Ro.RUNNING;case"paused":return Ro.PAUSED;case"success":return Ro.SUCCESS;case"canceled":return Ro.CANCELED;default:return Ro.ERROR}}class F9{constructor(e,t,i){if(function e9(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Bb(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let IU=null;class L9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ra.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ra.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ra.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw RE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw RE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw RE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw RE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw RE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class V9 extends L9{initXhr(){this.xhr_.responseType="text"}}function vc(){return IU?IU():new V9}class TU{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=NE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Ht.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(hU(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=sU()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Ht.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function R9(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l=xU(e,i,r),h={name:l.fullPath},m=xh(s,n.host,n._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},D=fO(l,t),z=new Td(m,"POST",function U(K){let oe;mO(K);try{oe=K.getResponseHeader("X-Goog-Upload-URL")}catch{Dd(!1)}return Dd(oA(oe)),oe},n.maxUploadRetryTime);return z.urlParams=h,z.headers=w,z.body=D,z.errorHandler=Vb(e),z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,vc,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function N9(n,e,t,i){const m=new Td(t,"POST",function s(v){const w=mO(v,["active","final"]);let D=null;try{D=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Dd(!1)}D||Dd(!1);const k=Number(D);return Dd(!isNaN(k)),new dA(k,i.size(),"final"===w)},n.maxUploadRetryTime);return m.headers={"X-Goog-Upload-Command":"query"},m.errorHandler=Vb(e),m}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,vc,t,i);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new dA(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let l;try{l=function O9(n,e,t,i,r,s,l,h){const m=new dA(0,0);if(l?(m.current=l.current,m.total=l.total):(m.current=0,m.total=i.size()),i.size()!==m.total)throw function W8(){return new tr(Ht.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=m.total-m.current;let w=v;r>0&&(w=Math.min(w,r));const D=m.current;let U="";U=0===w?"finalize":v===w?"upload, finalize":"upload";const z={"X-Goog-Upload-Command":U,"X-Goog-Upload-Offset":`${m.current}`},K=i.slice(D,D+w);if(null===K)throw aU();const ze=new Td(t,"POST",function oe(Ke,St){const Ot=mO(Ke,["active","final"]),Tn=m.current+w,ir=i.size();let uo;return uo="final"===Ot?cA(e,s)(Ke,St):null,new dA(Tn,ir,"final"===Ot,uo)},e.maxUploadRetryTime);return ze.headers=z,ze.body=K.uploadData(),ze.progressCallback=h||null,ze.errorHandler=Vb(n),ze}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(m){return this._error=m,void this._transition("error")}const h=this._ref.storage._makeRequest(l,vc,r,s,!1);this._request=h,h.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=bU(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,vc,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function EU(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},m=function h(){let ze="";for(let Ke=0;Ke<2;Ke++)ze+=Math.random().toString().slice(2);return ze}();l["Content-Type"]="multipart/related; boundary="+m;const v=xU(e,i,r),w=fO(v,t),U=Id.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+m+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+m+"--");if(null===U)throw aU();const z={name:v.fullPath},K=xh(s,n.host,n._protocol),Le=n.maxUploadRetryTime,$e=new Td(K,"POST",cA(n,t),Le);return $e.urlParams=z,$e.headers=l,$e.body=U.uploadData(),$e.errorHandler=Vb(e),$e}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,vc,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=oU(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=pO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new F9(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(pO(this._state)){case Ro.SUCCESS:Bb(this._resolve.bind(null,this.snapshot))();break;case Ro.CANCELED:case Ro.ERROR:Bb(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(pO(this._state)){case Ro.RUNNING:case Ro.PAUSED:e.next&&Bb(e.next.bind(e,this.snapshot))();break;case Ro.SUCCESS:e.complete&&Bb(e.complete.bind(e))();break;default:e.error&&Bb(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class d_{constructor(e,t){this._service=e,this._location=t instanceof lo?t:lo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new d_(e,t)}get root(){const e=new lo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gU(this._location.path)}get storage(){return this._service}get parent(){const e=function g9(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new lo(this._location.bucket,e);return new d_(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw cU(e)}}function SU(n,e,t){return gO.apply(this,arguments)}function gO(){return gO=(0,xe.Z)(function*(n,e,t){const r=yield AU(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield SU(n,e,r.nextPageToken))}),gO.apply(this,arguments)}function AU(n,e){null!=e&&"number"==typeof e.maxResults&&cO("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=D9(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,vc)}function Y9(n){n._throwIfRoot("getDownloadURL");const e=function S9(n,e,t){const r=xh(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,h=new Td(r,"GET",function T9(n,e){return function t(i,r){const s=_U(n,r,e);return Dd(null!==s),function x9(n,e,t,i){const r=hO(e);if(null===r||!oA(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const l=encodeURIComponent;return s.split(",").map(v=>{const D=n.fullPath;return xh("/b/"+l(n.bucket)+"/o/"+l(D),t,i)+uU({alt:"media",token:v})})[0]}(s,r,n.host,n._protocol)}}(n,t),l);return h.errorHandler=OE(e),h}(n.storage,n._location,NE());return n.storage.makeRequestWithTokens(e,vc).then(t=>{if(null===t)throw function Z8(){return new tr(Ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function MU(n,e){const t=function _9(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new lo(n._location.bucket,t);return new d_(n.storage,i)}function kU(n,e){if(n instanceof _O){const t=n;if(null==t._bucket)throw function q8(){return new tr(Ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rU+"' property when initializing the app?")}();const i=new d_(t,t._bucket);return null!=e?kU(i,e):i}return void 0!==e?MU(n,e):n}function e7(n,e){if(e&&function X9(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof _O)return function J9(n,e){return new d_(n,e)}(n,e);throw Lb("To use ref(service, url), the first argument must be a Storage instance.")}return kU(n,e)}function RU(n,e){const t=e?.[rU];return null==t?null:lo.makeFromBucketSpec(t,n)}class _O{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=iU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?lo.makeFromBucketSpec(r,this._host):RU(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?lo.makeFromBucketSpec(this._url,e):RU(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,xe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,xe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new d_(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new Y8(lU());{const l=function a9(n,e,t,i,r,s,l=!0){const h=uU(n.urlParams),m=n.url+h,v=Object.assign({},n.headers);return function s9(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function i9(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function r9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,s),function o9(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,i),new n9(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,l)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var i=this;return(0,xe.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const NU="@firebase/storage";function FU(n,e){return e7(n=(0,B.m9)(n),e)}function d7(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new _O(t,i,r,e,Ls.SDK_VERSION)}!function u7(){(0,Ls._registerComponent)(new cl.wA("storage",d7,"PUBLIC").setMultipleInstances(!0)),(0,Ls.registerVersion)(NU,"0.11.2",""),(0,Ls.registerVersion)(NU,"0.11.2","esm2017")}();class uA{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class VU{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new uA(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new uA(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?l=>t(new uA(l,this,this._ref)):{next:t.next?l=>t.next(new uA(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class BU{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Eh(e,this._service))}get items(){return this._delegate.items.map(e=>new Eh(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Eh{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function c7(n,e){return MU(n,e)}(this._delegate,e);return new Eh(t,this.storage)}get root(){return new Eh(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Eh(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new VU(function n7(n,e,t){return function G9(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new TU(n,new Id(e),t)}(n=(0,B.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Pa.RAW,i){this._throwIfRoot("putString");const r=uO(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new VU(new TU(this._delegate,new Id(r.data,!0),s),this)}listAll(){return function o7(n){return function W9(n){const e={prefixes:[],items:[]};return SU(n,e).then(()=>e)}(n=(0,B.m9)(n))}(this._delegate).then(e=>new BU(e,this.storage))}list(e){return function s7(n,e){return AU(n=(0,B.m9)(n),e)}(this._delegate,e||void 0).then(t=>new BU(t,this.storage))}getMetadata(){return function i7(n){return function Z9(n){n._throwIfRoot("getMetadata");const e=bU(n.storage,n._location,NE());return n.storage.makeRequestWithTokens(e,vc)}(n=(0,B.m9)(n))}(this._delegate)}updateMetadata(e){return function r7(n,e){return function K9(n,e){n._throwIfRoot("updateMetadata");const t=function A9(n,e,t,i){const s=xh(e.fullServerUrl(),n.host,n._protocol),h=fO(t,i),v=n.maxOperationRetryTime,w=new Td(s,"PATCH",cA(n,i),v);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=h,w.errorHandler=OE(e),w}(n.storage,n._location,e,NE());return n.storage.makeRequestWithTokens(t,vc)}(n=(0,B.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function a7(n){return Y9(n=(0,B.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function l7(n){return function Q9(n){n._throwIfRoot("deleteObject");const e=function M9(n,e){const i=xh(e.fullServerUrl(),n.host,n._protocol),h=new Td(i,"DELETE",function l(m,v){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=OE(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,vc)}(n=(0,B.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw cU(e)}}class UU{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(HU(e))throw Lb("ref() expected a child path but got a URL, use refFromURL instead.");return new Eh(FU(this._delegate,e),this)}refFromURL(e){if(!HU(e))throw Lb("refFromURL() expected a full URL but got a child path, use ref() instead.");try{lo.makeFromUrl(e,this._delegate.host)}catch{throw Lb("refFromUrl() expected a valid full URL but got an invalid one.")}return new Eh(FU(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function LU(n,e,t,i={}){!function t7(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,B.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function HU(n){return/^[A-Za-z]+:\/\//.test(n)}function p7(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new UU(t,i)}function jU(n){const e=function _7(n){return new pi.y(e=>{const t=l=>e.next(l);t(n.snapshot);const s=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){s()}}).pipe(wE(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,mt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function hA(n){return{getDownloadURL:()=>(0,dt.of)(void 0).pipe(gn.fc,(0,si.w)(()=>n.getDownloadURL()),gn.iC),getMetadata:()=>(0,dt.of)(void 0).pipe(gn.fc,(0,si.w)(()=>n.getMetadata()),gn.iC),delete:()=>(0,hn.D)(n.delete()),child:e=>hA(n.child(e)),updateMetadata:e=>(0,hn.D)(n.updateMetadata(e)),put:(e,t)=>jU(n.put(e,t)),putString:(e,t,i)=>jU(n.putString(e,t,i)),list:e=>(0,hn.D)(n.list(e)),listAll:()=>(0,hn.D)(n.listAll())}}!function g7(n){const e={TaskState:Ro,TaskEvent:P9,StringFormat:Pa,Storage:UU,Reference:Eh};n.INTERNAL.registerComponent(new cl.wA("storage-compat",p7,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(j0.Z);const v7=new d.OlP("angularfire2.storageBucket"),y7=new d.OlP("angularfire2.storage.maxUploadRetryTime"),b7=new d.OlP("angularfire2.storage.maxOperationRetryTime"),w7=new d.OlP("angularfire2.storage.use-emulator");let x7=(()=>{class n{constructor(t,i,r,s,l,h,m,v,w,D){const k=(0,Bi.on)(t,l,i);this.storage=(0,Bi.cc)(`${k.name}.storage.${r}`,"AngularFireStorage",k.name,()=>{const U=l.runOutsideAngular(()=>k.storage(r||void 0)),z=w;return z&&U.useEmulator(...z),m&&U.setMaxUploadRetryTime(m),v&&U.setMaxOperationRetryTime(v),U},[m,v])}ref(t){return hA(this.storage.ref(t))}refFromURL(t){return hA(this.storage.refFromURL(t))}upload(t,i,r){return hA(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Bi.Dh),d.LFG(Bi.xv,8),d.LFG(v7,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(gn.HU),d.LFG(y7,8),d.LFG(b7,8),d.LFG(w7,8),d.LFG(Vv,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),E7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),C7=(()=>{class n{constructor(){Df.Z.registerVersion("angularfire",gn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[x7],imports:[E7]}),n})();const zU="@firebase/database";let vO="";function GU(n){vO=n}class D7{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,B.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,B.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class S7{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,B.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const qU=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new D7(e)}}catch{}return new S7},u_=qU("localStorage"),yO=qU("sessionStorage"),Ub=new Sa.Yd("@firebase/database"),WU=function(){let n=1;return function(){return n++}}(),ZU=function(n){const e=(0,B.dS)(n),t=new B.gQ;t.update(e);const i=t.digest();return B.US.encodeByteArray(i)},PE=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=PE.apply(null,i):e+="object"==typeof i?(0,B.Wl)(i):i,e+=" "}return e};let h_=null,KU=!0;const YU=function(n,e){(0,B.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ub.logLevel=Sa.in.VERBOSE,h_=Ub.log.bind(Ub),e&&yO.set("logging_enabled",!0)):"function"==typeof n?h_=n:(h_=null,yO.remove("logging_enabled"))},Cs=function(...n){if(!0===KU&&(KU=!1,null===h_&&!0===yO.get("logging_enabled")&&YU(!0)),h_){const e=PE.apply(null,n);h_(e)}},FE=function(n){return function(...e){Cs(n,...e)}},bO=function(...n){const e="FIREBASE INTERNAL ERROR: "+PE(...n);Ub.error(e)},Sd=function(...n){const e=`FIREBASE FATAL ERROR: ${PE(...n)}`;throw Ub.error(e),new Error(e)},co=function(...n){const e="FIREBASE WARNING: "+PE(...n);Ub.warn(e)},fA=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Fm="[MIN_NAME]",Ch="[MAX_NAME]",f_=function(n,e){if(n===e)return 0;if(n===Fm||e===Ch)return-1;if(e===Fm||n===Ch)return 1;{const t=JU(n),i=JU(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},k7=function(n,e){return n===e?0:n<e?-1:1},LE=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,B.Wl)(e))},wO=function(n){if("object"!=typeof n||null===n)return(0,B.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,B.Wl)(e[i]),t+=":",t+=wO(n[e[i]]);return t+="}",t},QU=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Is(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const XU=function(n){(0,B.hu)(!fA(n),"Invalid JSON number");const i=1023;let r,s,l,h,m;0===n?(s=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=h+i,l=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const v=[];for(m=52;m;m-=1)v.push(l%2?1:0),l=Math.floor(l/2);for(m=11;m;m-=1)v.push(s%2?1:0),s=Math.floor(s/2);v.push(r?1:0),v.reverse();const w=v.join("");let D="";for(m=0;m<64;m+=8){let k=parseInt(w.substr(m,8),2).toString(16);1===k.length&&(k="0"+k),D+=k}return D.toLowerCase()},P7=new RegExp("^-?(0*)\\d{1,10}$"),JU=function(n){if(P7.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Hb=function(n){try{n()}catch(e){setTimeout(()=>{throw co("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},VE=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class B7{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){co(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class U7{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Cs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',co(e)}}let BE=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const rH=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,aH="websocket",lH="long_polling";class EO{constructor(e,t,i,r,s=!1,l="",h=!1,m=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=u_.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&u_.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function cH(n,e,t){let i;if((0,B.hu)("string"==typeof e,"typeof type must == string"),(0,B.hu)("object"==typeof t,"typeof params must == object"),e===aH)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==lH)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function H7(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Is(t,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}class j7{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,B.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,B.p$)(this.counters_)}}const CO={},IO={};function TO(n){const e=n.toString();return CO[e]||(CO[e]=new j7),CO[e]}class $7{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Hb(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Lm{constructor(e,t,i,r,s,l,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=FE(e),this.stats_=TO(t),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),cH(t,lH,m))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new $7(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,B.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new DO((...s)=>{const[l,h,m,v,w]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=m;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&rH.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Lm.forceAllow_=!0}static forceDisallow(){Lm.forceDisallow_=!0}static isAvailable(){return!((0,B.Yr)()||!Lm.forceAllow_&&(Lm.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,B.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,B.h$)(t),r=QU(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,B.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,B.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class DO{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,B.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=WU(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=DO.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){Cs("frame writing exception"),h.stack&&Cs(h.stack),Cs(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Cs("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,B.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Cs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let pA=null;typeof MozWebSocket<"u"?pA=MozWebSocket:typeof WebSocket<"u"&&(pA=WebSocket);let jb=(()=>{class n{constructor(t,i,r,s,l,h,m){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=FE(this.connId),this.stats_=TO(i),this.connURL=n.connectionURL_(i,h,m,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,l){const h={v:"5"};return!(0,B.Yr)()&&typeof location<"u"&&location.hostname&&rH.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),s&&(h.ac=s),l&&(h.p=l),cH(t,aH,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,u_.set("previous_websocket_failure",!0);try{let r;if((0,B.Yr)()){r={headers:{"User-Agent":`Firebase/5/${vO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,h=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new pA(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==pA&&!n.forceDisallow_}static previouslyFailed(){return u_.isInMemoryStorage||!0===u_.get("previous_websocket_failure")}markConnectionHealthy(){u_.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,B.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,B.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,B.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=QU(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),gH=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Lm,jb]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=jb&&jb.isAvailable();let r=i&&!jb.previouslyFailed();if(t.webSocketOnly&&(i||co("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[jb];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class EH{constructor(e,t,i,r,s,l,h,m,v,w){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=m,this.onKill_=v,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=FE("c:"+this.id+":"),this.transportManager_=new gH(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=VE(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=LE("t",e),i=LE("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=LE("t",e),i=LE("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=LE("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?bO("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bO("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&co("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),VE(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):VE(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(u_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class CH{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class IH{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,B.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,B.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class gA extends IH{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,B.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gA}getInitialEvent(e){return(0,B.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Kn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Vn(){return new Kn("")}function mn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Vm(n){return n.pieces_.length-n.pieceNum_}function yi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Kn(n.pieces_,e)}function AO(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function UE(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function SH(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Kn(e,0)}function $i(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Kn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Kn(t,0)}function pn(n){return n.pieceNum_>=n.pieces_.length}function No(n,e){const t=mn(n),i=mn(e);if(null===t)return e;if(t===i)return No(yi(n),yi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function hZ(n,e){const t=UE(n,0),i=UE(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=f_(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function MO(n,e){if(Vm(n)!==Vm(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function bl(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Vm(n)>Vm(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class fZ{constructor(e,t){this.errorPrefix_=t,this.parts_=UE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,B.ug)(this.parts_[i]);AH(this)}}function AH(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+m_(n))}function m_(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class kO extends IH{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new kO}getInitialEvent(e){return(0,B.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const HE=1e3;let vA,p_=(()=>{class n extends CH{constructor(t,i,r,s,l,h,m,v){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=FE("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=HE,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,B.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");kO.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&gA.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,l={r:s,a:t,b:i};this.log_((0,B.Wl)(l)),(0,B.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new B.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;"ok"===h.s?i.resolve(m):i.reject(m)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const l=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),(0,B.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,B.hu)(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const m={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(h).set(l,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};t.tag&&(l.q=i._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,m=>{const v=m.d,w=m.s;n.warnOnListenWarnings_(v,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",m),"ok"!==w&&this.removeListen_(r,s),t.onComplete&&t.onComplete(w,v))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,B.r3)(t,"w")){const r=(0,B.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();co(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,B.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,B.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const l=s.s,h=s.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,B.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const l={p:t};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const l={p:i,d:r};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,l){this.initConnection_();const h={p:i,d:r};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,B.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):bO("Unrecognized action received from server: "+(0,B.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,B.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=HE,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=HE,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=HE),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,xe.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let m=!1,v=null;const w=function(){v?v.close():(m=!0,s())};t.realtime_={close:w,sendRequest:function(U){(0,B.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(U)}};const k=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[U,z]=yield Promise.all([t.authTokenProvider_.getToken(k),t.appCheckTokenProvider_.getToken(k)]);m?Cs("getToken() completed but was canceled"):(Cs("getToken() completed. Creating connection."),t.authToken_=U&&U.accessToken,t.appCheckToken_=z&&z.token,v=new EH(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,K=>{co(K+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(U){t.log_("Failed to get token: "+U),m||(t.repoInfo_.nodeAdmin&&co(U),w())}}})()}interrupt(t){Cs("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Cs("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,B.xb)(this.interruptReasons_)&&(this.reconnectDelay_=HE,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(l=>wO(l)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Kn(t).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Cs("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Cs("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,B.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+vO.replace(/\./g,"-")]=1,(0,B.uI)()?t["framework.cordova"]=1:(0,B.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=gA.getInstance().currentlyOnline();return(0,B.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class vn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new vn(e,t)}}class _A{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new vn(Fm,e),r=new vn(Fm,t);return 0!==this.compare(i,r)}minPost(){return vn.MIN}}class RH extends _A{static get __EMPTY_NODE(){return vA}static set __EMPTY_NODE(e){vA=e}compare(e,t){return f_(e.name,t.name)}isDefinedOn(e){throw(0,B.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return vn.MIN}maxPost(){return new vn(Ch,vA)}makePost(e,t){return(0,B.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new vn(e,vA)}toString(){return".key"}}const Ad=new RH;class yA{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,r&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let NO,yc=(()=>{class n{constructor(t,i,r,s,l){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??sa.EMPTY_NODE,this.right=l??sa.EMPTY_NODE}copy(t,i,r,s,l){return new n(t??this.key,i??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const l=r(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===l?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return sa.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return sa.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class sa{constructor(e,t=sa.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new sa(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,yc.BLACK,null,null))}remove(e){return new sa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,yc.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new yA(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new yA(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new yA(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new yA(this.root_,null,this.comparator_,!0,e)}}function wZ(n,e){return f_(n.name,e.name)}function RO(n,e){return f_(n,e)}sa.EMPTY_NODE=new class bZ{copy(e,t,i,r,s){return this}insert(e,t,i){return new yc(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const NH=function(n){return"number"==typeof n?"number:"+XU(n):"string:"+n},OH=function(n){if(n.isLeafNode()){const e=n.val();(0,B.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,B.r3)(e,".sv"),"Priority must be a string or number.")}else(0,B.hu)(n===NO||n.isEmpty(),"priority of unexpected type.");(0,B.hu)(n===NO||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let PH,FH,LH,zb=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,B.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),OH(this.priorityNode_)}static set __childrenNodeConstructor(t){PH=t}static get __childrenNodeConstructor(){return PH}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return pn(t)?this:".priority"===mn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=mn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,B.hu)(".priority"!==r||1===Vm(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(yi(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+NH(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?XU(this.value_):this.value_,this.lazyHash_=ZU(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,B.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,B.hu)(s>=0,"Unknown leaf type: "+i),(0,B.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const xi=new class IZ extends _A{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?f_(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return vn.MIN}maxPost(){return new vn(Ch,new zb("[PRIORITY-POST]",LH))}makePost(e,t){const i=FH(e);return new vn(t,new zb("[PRIORITY-POST]",i))}toString(){return".priority"}},TZ=Math.log(2);class DZ{constructor(e){this.count=parseInt(Math.log(e+1)/TZ,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const bA=function(n,e,t,i){n.sort(e);const r=function(m,v){const w=v-m;let D,k;if(0===w)return null;if(1===w)return D=n[m],k=t?t(D):D,new yc(k,D.node,yc.BLACK,null,null);{const U=parseInt(w/2,10)+m,z=r(m,U),K=r(U+1,v);return D=n[U],k=t?t(D):D,new yc(k,D.node,yc.BLACK,z,K)}},h=function(m){let v=null,w=null,D=n.length;const k=function(z,K){const oe=D-z,Le=D;D-=z;const $e=r(oe+1,Le),ze=n[oe],Ke=t?t(ze):ze;U(new yc(Ke,ze.node,K,null,$e))},U=function(z){v?(v.left=z,v=z):(w=z,v=z)};for(let z=0;z<m.count;++z){const K=m.nextBitIsOne(),oe=Math.pow(2,m.count-(z+1));K?k(oe,yc.BLACK):(k(oe,yc.BLACK),k(oe,yc.RED))}return w}(new DZ(n.length));return new sa(i||e,h)};let OO;const $b={};class Ih{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,B.hu)($b&&xi,"ChildrenNode.ts has not been loaded"),OO=OO||new Ih({".priority":$b},{".priority":xi}),OO}get(e){const t=(0,B.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof sa?t:null}hasIndex(e){return(0,B.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,B.hu)(e!==Ad,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(vn.Wrap);let h,l=s.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=s.getNext();h=r?bA(i,e.getCompare()):$b;const m=e.toString(),v=Object.assign({},this.indexSet_);v[m]=e;const w=Object.assign({},this.indexes_);return w[m]=h,new Ih(w,v)}addToIndexes(e,t){const i=(0,B.UI)(this.indexes_,(r,s)=>{const l=(0,B.DV)(this.indexSet_,s);if((0,B.hu)(l,"Missing index implementation for "+s),r===$b){if(l.isDefinedOn(e.node)){const h=[],m=t.getIterator(vn.Wrap);let v=m.getNext();for(;v;)v.name!==e.name&&h.push(v),v=m.getNext();return h.push(e),bA(h,l.getCompare())}return $b}{const h=t.get(e.name);let m=r;return h&&(m=m.remove(new vn(e.name,h))),m.insert(e,e.node)}});return new Ih(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,B.UI)(this.indexes_,r=>{if(r===$b)return r;{const s=t.get(e.name);return s?r.remove(new vn(e.name,s)):r}});return new Ih(i,this.indexSet_)}}let jE,sn=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&OH(this.priorityNode_),this.children_.isEmpty()&&(0,B.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return jE||(jE=new n(new sa(RO),null,Ih.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||jE}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?jE:i}}getChild(t){const i=mn(t);return null===i?this:this.getImmediateChild(i).getChild(yi(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,B.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new vn(t,i);let s,l;i.isEmpty()?(s=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),l=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?jE:this.priorityNode_;return new n(s,h,l)}}updateChild(t,i){const r=mn(t);if(null===r)return i;{(0,B.hu)(".priority"!==mn(t)||1===Vm(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(yi(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,l=!0;if(this.forEachChild(xi,(h,m)=>{i[h]=m.val(t),r++,l&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):l=!1}),!t&&l&&s<2*r){const h=[];for(const m in i)h[m]=i[m];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+NH(this.getPriority().val())+":"),this.forEachChild(xi,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":ZU(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new vn(t,i));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new vn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new vn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,vn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,vn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)>0;)s.getNext(),l=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===zE?-1:0}withIndex(t){if(t===Ad||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Ad||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(xi),s=i.getIterator(xi);let l=r.getNext(),h=s.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=r.getNext(),h=s.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(t){return t===Ad?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const zE=new class SZ extends sn{constructor(){super(new sa(RO),sn.EMPTY_NODE,Ih.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return sn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(vn,{MIN:{value:new vn(Fm,sn.EMPTY_NODE)},MAX:{value:new vn(Ch,zE)}}),RH.__EMPTY_NODE=sn.EMPTY_NODE,zb.__childrenNodeConstructor=sn,function xZ(n){NO=n}(zE),function CZ(n){LH=n}(zE);const AZ=!0;function nr(n,e=null){if(null===n)return sn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,B.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new zb(n,nr(e));if(n instanceof Array||!AZ){let t=sn.EMPTY_NODE;return Is(n,(i,r)=>{if((0,B.r3)(n,i)&&"."!==i.substring(0,1)){const s=nr(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(nr(e))}{const t=[];let i=!1;if(Is(n,(l,h)=>{if("."!==l.substring(0,1)){const m=nr(h);m.isEmpty()||(i=i||!m.getPriority().isEmpty(),t.push(new vn(l,m)))}}),0===t.length)return sn.EMPTY_NODE;const s=bA(t,wZ,l=>l.name,RO);if(i){const l=bA(t,xi.getCompare());return new sn(s,nr(e),new Ih({".priority":l},{".priority":xi}))}return new sn(s,nr(e),Ih.Default)}}!function EZ(n){FH=n}(nr);class PO extends _A{constructor(e){super(),this.indexPath_=e,(0,B.hu)(!pn(e)&&".priority"!==mn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?f_(e.name,t.name):s}makePost(e,t){const i=nr(e),r=sn.EMPTY_NODE.updateChild(this.indexPath_,i);return new vn(t,r)}maxPost(){const e=sn.EMPTY_NODE.updateChild(this.indexPath_,zE);return new vn(Ch,e)}toString(){return UE(this.indexPath_,0).join("/")}}const FO=new class MZ extends _A{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?f_(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return vn.MIN}maxPost(){return vn.MAX}makePost(e,t){const i=nr(e);return new vn(t,i)}toString(){return".value"}};function VH(n){return{type:"value",snapshotNode:n}}function Gb(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function $E(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function GE(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class LO{constructor(e){this.index_=e}updateChild(e,t,i,r,s,l){(0,B.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=l&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange($E(t,h)):(0,B.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?l.trackChildChange(Gb(t,i)):l.trackChildChange(GE(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(xi,(r,s)=>{t.hasChild(r)||i.trackChildChange($E(r,s))}),t.isLeafNode()||t.forEachChild(xi,(r,s)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(s)||i.trackChildChange(GE(r,s,l))}else i.trackChildChange(Gb(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?sn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class qE{constructor(e){this.indexedFilter_=new LO(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qE.getStartPost_(e),this.endPost_=qE.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,l){return this.matches(new vn(t,i))||(i=sn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=sn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(sn.EMPTY_NODE);const s=this;return t.forEachChild(xi,(l,h)=>{s.matches(new vn(l,h))||(r=r.updateImmediateChild(l,sn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class RZ{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new qE(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,l){return this.rangedFilter_.matches(new vn(t,i))||(i=sn.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,l):this.fullLimitUpdateChild_(e,t,i,s,l)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=sn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=sn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const h=s.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;r=r.updateImmediateChild(h.name,h.node),l++}}}else{let s;r=t.withIndex(this.index_),r=r.updatePriority(sn.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let l=0;for(;s.hasNext();){const h=s.getNext();l<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?l++:r=r.updateImmediateChild(h.name,sn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let l;if(this.reverse_){const D=this.index_.getCompare();l=(k,U)=>D(U,k)}else l=this.index_.getCompare();const h=e;(0,B.hu)(h.numChildren()===this.limit_,"");const m=new vn(t,i),v=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),w=this.rangedFilter_.matches(m);if(h.hasChild(t)){const D=h.getImmediateChild(t);let k=r.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=k&&(k.name===t||h.hasChild(k.name));)k=r.getChildAfterChild(this.index_,k,this.reverse_);const U=null==k?1:l(k,m);if(w&&!i.isEmpty()&&U>=0)return s?.trackChildChange(GE(t,i,D)),h.updateImmediateChild(t,i);{s?.trackChildChange($E(t,D));const K=h.updateImmediateChild(t,sn.EMPTY_NODE);return null!=k&&this.rangedFilter_.matches(k)?(s?.trackChildChange(Gb(k.name,k.node)),K.updateImmediateChild(k.name,k.node)):K}}return i.isEmpty()?e:w&&l(v,m)>=0?(null!=s&&(s.trackChildChange($E(v.name,v.node)),s.trackChildChange(Gb(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(v.name,sn.EMPTY_NODE)):e}}class wA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Fm}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ch}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,B.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===xi}copy(){const e=new wA;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function VO(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function BO(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function xA(n,e){const t=n.copy();return t.index_=e,t}function BH(n){const e={};if(n.isDefault())return e;let t;if(n.index_===xi?t="$priority":n.index_===FO?t="$value":n.index_===Ad?t="$key":((0,B.hu)(n.index_ instanceof PO,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,B.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,B.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,B.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,B.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,B.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function UH(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==xi&&(e.i=n.index_.toString()),e}class EA extends CH{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=FE("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,B.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=EA.getListenId_(e,i),h={};this.listens_[l]=h;const m=BH(e._queryParams);this.restRequest_(s+".json",m,(v,w)=>{let D=w;if(404===v&&(D=null,v=null),null===v&&this.onDataUpdate_(s,D,!1,i),(0,B.DV)(this.listens_,l)===h){let k;k=v?401===v?"permission_denied":"rest_error:"+v:"ok",r(k,null)}})}unlisten(e,t){const i=EA.getListenId_(e,t);delete this.listens_[i]}get(e){const t=BH(e._queryParams),i=e._path.toString(),r=new B.BH;return this.restRequest_(i+".json",t,(s,l)=>{let h=l;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,B.xO)(t);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=(0,B.cI)(h.responseText)}catch{co("Failed to parse JSON response for "+l+": "+h.responseText)}i(null,m)}else 401!==h.status&&404!==h.status&&co("Got unsuccessful REST response for "+l+" Status: "+h.status),i(h.status);i=null}},h.open("GET",l,!0),h.send()})}}class VZ{constructor(){this.rootNode_=sn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function CA(){return{value:null,children:new Map}}function qb(n,e,t){if(pn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=mn(e);n.children.has(i)||n.children.set(i,CA()),qb(n.children.get(i),e=yi(e),t)}}function UO(n,e){if(pn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(xi,(i,r)=>{qb(n,new Kn(i),r)}),UO(n,e)}}if(n.children.size>0){const t=mn(e);return e=yi(e),n.children.has(t)&&UO(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function HO(n,e,t){null!==n.value?t(e,n.value):function BZ(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{HO(r,new Kn(e.toString()+"/"+i),t)})}class UZ{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Is(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class zZ{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new UZ(e);const i=1e4+2e4*Math.random();VE(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Is(e,(r,s)=>{s>0&&(0,B.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),VE(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var $r=(()=>(($r=$r||{})[$r.OVERWRITE=0]="OVERWRITE",$r[$r.MERGE=1]="MERGE",$r[$r.ACK_USER_WRITE=2]="ACK_USER_WRITE",$r[$r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",$r))();function $O(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class IA{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=$r.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(pn(this.path)){if(null!=this.affectedTree.value)return(0,B.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Kn(e));return new IA(Vn(),t,this.revert)}}return(0,B.hu)(mn(this.path)===e,"operationForChild called for unrelated child."),new IA(yi(this.path),this.affectedTree,this.revert)}}class WE{constructor(e,t){this.source=e,this.path=t,this.type=$r.LISTEN_COMPLETE}operationForChild(e){return pn(this.path)?new WE(this.source,Vn()):new WE(this.source,yi(this.path))}}class g_{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=$r.OVERWRITE}operationForChild(e){return pn(this.path)?new g_(this.source,Vn(),this.snap.getImmediateChild(e)):new g_(this.source,yi(this.path),this.snap)}}class Wb{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=$r.MERGE}operationForChild(e){if(pn(this.path)){const t=this.children.subtree(new Kn(e));return t.isEmpty()?null:t.value?new g_(this.source,Vn(),t.value):new Wb(this.source,Vn(),t)}return(0,B.hu)(mn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Wb(this.source,yi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Bm{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pn(e))return this.isFullyInitialized()&&!this.filtered_;const t=mn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class $Z{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ZE(n,e,t,i,r,s){const l=i.filter(h=>h.type===t);l.sort((h,m)=>function WZ(n,e,t){if(null==e.childName||null==t.childName)throw(0,B.g5)("Should only compare child_ events.");const i=new vn(e.childName,e.snapshotNode),r=new vn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,h,m)),l.forEach(h=>{const m=function qZ(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);r.forEach(v=>{v.respondsTo(h.type)&&e.push(v.createEvent(m,n.query_))})})}function TA(n,e){return{eventCache:n,serverCache:e}}function KE(n,e,t,i){return TA(new Bm(e,t,i),n.serverCache)}function jH(n,e,t,i){return TA(n.eventCache,new Bm(e,t,i))}function DA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function __(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let GO;class Ei{constructor(e,t=(()=>(GO||(GO=new sa(k7)),GO))()){this.value=e,this.children=t}static fromObject(e){let t=new Ei(null);return Is(e,(i,r)=>{t=t.set(new Kn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Vn(),value:this.value};if(pn(e))return null;{const i=mn(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(yi(e),t);return null!=s?{path:$i(new Kn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pn(e))return this;{const t=mn(e),i=this.children.get(t);return null!==i?i.subtree(yi(e)):new Ei(null)}}set(e,t){if(pn(e))return new Ei(t,this.children);{const i=mn(e),s=(this.children.get(i)||new Ei(null)).set(yi(e),t),l=this.children.insert(i,s);return new Ei(this.value,l)}}remove(e){if(pn(e))return this.children.isEmpty()?new Ei(null):new Ei(null,this.children);{const t=mn(e),i=this.children.get(t);if(i){const r=i.remove(yi(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Ei(null):new Ei(this.value,s)}return this}}get(e){if(pn(e))return this.value;{const t=mn(e),i=this.children.get(t);return i?i.get(yi(e)):null}}setTree(e,t){if(pn(e))return t;{const i=mn(e),s=(this.children.get(i)||new Ei(null)).setTree(yi(e),t);let l;return l=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Ei(this.value,l)}}fold(e){return this.fold_(Vn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_($i(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Vn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(pn(e))return null;{const s=mn(e),l=this.children.get(s);return l?l.findOnPath_(yi(e),$i(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Vn(),t)}foreachOnPath_(e,t,i){if(pn(e))return this;{this.value&&i(t,this.value);const r=mn(e),s=this.children.get(r);return s?s.foreachOnPath_(yi(e),$i(t,r),i):new Ei(null)}}foreach(e){this.foreach_(Vn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_($i(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class bc{constructor(e){this.writeTree_=e}static empty(){return new bc(new Ei(null))}}function YE(n,e,t){if(pn(e))return new bc(new Ei(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const l=No(r,e);return s=s.updateChild(l,t),new bc(n.writeTree_.set(r,s))}{const r=new Ei(t),s=n.writeTree_.setTree(e,r);return new bc(s)}}}function qO(n,e,t){let i=n;return Is(t,(r,s)=>{i=YE(i,$i(e,r),s)}),i}function zH(n,e){if(pn(e))return bc.empty();{const t=n.writeTree_.setTree(e,new Ei(null));return new bc(t)}}function WO(n,e){return null!=v_(n,e)}function v_(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(No(t.path,e)):null}function $H(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(xi,(i,r)=>{e.push(new vn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new vn(i,r.value))}),e}function Um(n,e){if(pn(e))return n;{const t=v_(n,e);return new bc(null!=t?new Ei(t):n.writeTree_.subtree(e))}}function ZO(n){return n.writeTree_.isEmpty()}function Zb(n,e){return GH(Vn(),n.writeTree_,e)}function GH(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,B.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=GH($i(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild($i(n,".priority"),i)),t}}function SA(n,e){return YH(e,n)}function JZ(n,e){if(n.snap)return bl(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&bl($i(n.path,t),e))return!0;return!1}function tK(n){return n.visible}function qH(n,e,t){let i=bc.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const l=s.path;let h;if(s.snap)bl(t,l)?(h=No(t,l),i=YE(i,h,s.snap)):bl(l,t)&&(h=No(l,t),i=YE(i,Vn(),s.snap.getChild(h)));else{if(!s.children)throw(0,B.g5)("WriteRecord should have .snap or .children");if(bl(t,l))h=No(t,l),i=qO(i,h,s.children);else if(bl(l,t))if(h=No(l,t),pn(h))i=qO(i,Vn(),s.children);else{const m=(0,B.DV)(s.children,mn(h));if(m){const v=m.getChild(yi(h));i=YE(i,Vn(),v)}}}}}return i}function WH(n,e,t,i,r){if(i||r){const s=Um(n.visibleWrites,e);return!r&&ZO(s)?t:r||null!=t||WO(s,Vn())?Zb(qH(n.allWrites,function(v){return(v.visible||r)&&(!i||!~i.indexOf(v.writeId))&&(bl(v.path,e)||bl(e,v.path))},e),t||sn.EMPTY_NODE):null}{const s=v_(n.visibleWrites,e);if(null!=s)return s;{const l=Um(n.visibleWrites,e);return ZO(l)?t:null!=t||WO(l,Vn())?Zb(l,t||sn.EMPTY_NODE):null}}}function AA(n,e,t,i){return WH(n.writeTree,n.treePath,e,t,i)}function KO(n,e){return function nK(n,e,t){let i=sn.EMPTY_NODE;const r=v_(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(xi,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(t){const s=Um(n.visibleWrites,e);return t.forEachChild(xi,(l,h)=>{const m=Zb(Um(s,new Kn(l)),h);i=i.updateImmediateChild(l,m)}),$H(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return $H(Um(n.visibleWrites,e)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,e)}function ZH(n,e,t,i){return function iK(n,e,t,i,r){(0,B.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=$i(e,t);if(WO(n.visibleWrites,s))return null;{const l=Um(n.visibleWrites,s);return ZO(l)?r.getChild(t):Zb(l,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function MA(n,e){return function sK(n,e){return v_(n.visibleWrites,e)}(n.writeTree,$i(n.treePath,e))}function YO(n,e,t){return function rK(n,e,t,i){const r=$i(e,t),s=v_(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?Zb(Um(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function KH(n,e){return YH($i(n.treePath,e),n.writeTree)}function YH(n,e){return{treePath:n,writeTree:e}}class cK{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,B.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,B.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,GE(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,$E(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,Gb(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,B.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,GE(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const QH=new class dK{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class QO{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Bm(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return YO(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:__(this.viewCache_),s=function lK(n,e,t,i,r,s){return function oK(n,e,t,i,r,s,l){let h;const m=Um(n.visibleWrites,e),v=v_(m,Vn());if(null!=v)h=v;else{if(null==t)return[];h=Zb(m,t)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const w=[],D=l.getCompare(),k=s?h.getReverseIteratorFrom(i,l):h.getIteratorFrom(i,l);let U=k.getNext();for(;U&&w.length<r;)0!==D(U,i)&&w.push(U),U=k.getNext();return w}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function XH(n,e,t,i,r,s){const l=e.eventCache;if(null!=MA(i,t))return e;{let h,m;if(pn(t))if((0,B.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=__(e),D=KO(i,v instanceof sn?v:sn.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),D,s)}else{const v=AA(i,__(e));h=n.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{const v=mn(t);if(".priority"===v){(0,B.hu)(1===Vm(t),"Can't have a priority with additional path components");const w=l.getNode();m=e.serverCache.getNode();const D=ZH(i,t,w,m);h=null!=D?n.filter.updatePriority(w,D):l.getNode()}else{const w=yi(t);let D;if(l.isCompleteForChild(v)){m=e.serverCache.getNode();const k=ZH(i,t,l.getNode(),m);D=null!=k?l.getNode().getImmediateChild(v).updateChild(w,k):l.getNode().getImmediateChild(v)}else D=YO(i,v,e.serverCache);h=null!=D?n.filter.updateChild(l.getNode(),v,D,w,r,s):l.getNode()}}return KE(e,h,l.isFullyInitialized()||pn(t),n.filter.filtersNodes())}}function kA(n,e,t,i,r,s,l,h){const m=e.serverCache;let v;const w=l?n.filter:n.filter.getIndexedFilter();if(pn(t))v=w.updateFullNode(m.getNode(),i,null);else if(w.filtersNodes()&&!m.isFiltered()){const U=m.getNode().updateChild(t,i);v=w.updateFullNode(m.getNode(),U,null)}else{const U=mn(t);if(!m.isCompleteForPath(t)&&Vm(t)>1)return e;const z=yi(t),oe=m.getNode().getImmediateChild(U).updateChild(z,i);v=".priority"===U?w.updatePriority(m.getNode(),oe):w.updateChild(m.getNode(),U,oe,z,QH,null)}const D=jH(e,v,m.isFullyInitialized()||pn(t),w.filtersNodes());return XH(n,D,t,r,new QO(r,D,s),h)}function XO(n,e,t,i,r,s,l){const h=e.eventCache;let m,v;const w=new QO(r,e,s);if(pn(t))v=n.filter.updateFullNode(e.eventCache.getNode(),i,l),m=KE(e,v,!0,n.filter.filtersNodes());else{const D=mn(t);if(".priority"===D)v=n.filter.updatePriority(e.eventCache.getNode(),i),m=KE(e,v,h.isFullyInitialized(),h.isFiltered());else{const k=yi(t),U=h.getNode().getImmediateChild(D);let z;if(pn(k))z=i;else{const K=w.getCompleteChild(D);z=null!=K?".priority"===AO(k)&&K.getChild(SH(k)).isEmpty()?K:K.updateChild(k,i):sn.EMPTY_NODE}m=U.equals(z)?e:KE(e,n.filter.updateChild(h.getNode(),D,z,k,w,l),h.isFullyInitialized(),n.filter.filtersNodes())}}return m}function JH(n,e){return n.eventCache.isCompleteForChild(e)}function e3(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function JO(n,e,t,i,r,s,l,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,m=e;v=pn(t)?i:new Ei(null).setTree(t,i);const w=e.serverCache.getNode();return v.children.inorderTraversal((D,k)=>{if(w.hasChild(D)){const z=e3(0,e.serverCache.getNode().getImmediateChild(D),k);m=kA(n,m,new Kn(D),z,r,s,l,h)}}),v.children.inorderTraversal((D,k)=>{const U=!e.serverCache.isCompleteForChild(D)&&null===k.value;if(!w.hasChild(D)&&!U){const K=e3(0,e.serverCache.getNode().getImmediateChild(D),k);m=kA(n,m,new Kn(D),K,r,s,l,h)}}),m}class yK{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new LO(i.getIndex()),s=function NZ(n){return n.loadsAllData()?new LO(n.getIndex()):n.hasLimit()?new RZ(n):new qE(n)}(i);this.processor_=function uK(n){return{filter:n}}(s);const l=t.serverCache,h=t.eventCache,m=r.updateFullNode(sn.EMPTY_NODE,l.getNode(),null),v=s.updateFullNode(sn.EMPTY_NODE,h.getNode(),null),w=new Bm(m,l.isFullyInitialized(),r.filtersNodes()),D=new Bm(v,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=TA(D,w),this.eventGenerator_=new $Z(this.query_)}get query(){return this.query_}}function xK(n,e){const t=__(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!pn(e)&&!t.getImmediateChild(mn(e)).isEmpty())?t.getChild(e):null}function t3(n){return 0===n.eventRegistrations_.length}function n3(n,e,t){const i=[];if(t){(0,B.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(t,r);l&&i.push(l)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(l.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(l)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function r3(n,e,t,i){e.type===$r.MERGE&&null!==e.source.queryId&&((0,B.hu)(__(n.viewCache_),"We should always have a full cache before handling merges"),(0,B.hu)(DA(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function fK(n,e,t,i,r){const s=new cK;let l,h;if(t.type===$r.OVERWRITE){const v=t;v.source.fromUser?l=XO(n,e,v.path,v.snap,i,r,s):((0,B.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered()&&!pn(v.path),l=kA(n,e,v.path,v.snap,i,r,h,s))}else if(t.type===$r.MERGE){const v=t;v.source.fromUser?l=function pK(n,e,t,i,r,s,l){let h=e;return i.foreach((m,v)=>{const w=$i(t,m);JH(e,mn(w))&&(h=XO(n,h,w,v,r,s,l))}),i.foreach((m,v)=>{const w=$i(t,m);JH(e,mn(w))||(h=XO(n,h,w,v,r,s,l))}),h}(n,e,v.path,v.children,i,r,s):((0,B.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered(),l=JO(n,e,v.path,v.children,i,r,h,s))}else if(t.type===$r.ACK_USER_WRITE){const v=t;l=v.revert?function vK(n,e,t,i,r,s){let l;if(null!=MA(i,t))return e;{const h=new QO(i,e,r),m=e.eventCache.getNode();let v;if(pn(t)||".priority"===mn(t)){let w;if(e.serverCache.isFullyInitialized())w=AA(i,__(e));else{const D=e.serverCache.getNode();(0,B.hu)(D instanceof sn,"serverChildren would be complete if leaf node"),w=KO(i,D)}v=n.filter.updateFullNode(m,w,s)}else{const w=mn(t);let D=YO(i,w,e.serverCache);null==D&&e.serverCache.isCompleteForChild(w)&&(D=m.getImmediateChild(w)),v=null!=D?n.filter.updateChild(m,w,D,yi(t),h,s):e.eventCache.getNode().hasChild(w)?n.filter.updateChild(m,w,sn.EMPTY_NODE,yi(t),h,s):m,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=AA(i,__(e)),l.isLeafNode()&&(v=n.filter.updateFullNode(v,l,s)))}return l=e.serverCache.isFullyInitialized()||null!=MA(i,Vn()),KE(e,v,l,n.filter.filtersNodes())}}(n,e,v.path,i,r,s):function gK(n,e,t,i,r,s,l){if(null!=MA(r,t))return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(null!=i.value){if(pn(t)&&m.isFullyInitialized()||m.isCompleteForPath(t))return kA(n,e,t,m.getNode().getChild(t),r,s,h,l);if(pn(t)){let v=new Ei(null);return m.getNode().forEachChild(Ad,(w,D)=>{v=v.set(new Kn(w),D)}),JO(n,e,t,v,r,s,h,l)}return e}{let v=new Ei(null);return i.foreach((w,D)=>{const k=$i(t,w);m.isCompleteForPath(k)&&(v=v.set(w,m.getNode().getChild(k)))}),JO(n,e,t,v,r,s,h,l)}}(n,e,v.path,v.affectedTree,i,r,s)}else{if(t.type!==$r.LISTEN_COMPLETE)throw(0,B.g5)("Unknown operation type: "+t.type);l=function _K(n,e,t,i,r){const s=e.serverCache;return XH(n,jH(e,s.getNode(),s.isFullyInitialized()||pn(t),s.isFiltered()),t,i,QH,r)}(n,e,t.path,i,s)}const m=s.getChanges();return function mK(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=DA(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(VH(DA(e)))}}(e,l,m),{viewCache:l,changes:m}}(n.processor_,r,e,t,i);return function hK(n,e){(0,B.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,B.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,B.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,s3(n,s.changes,s.viewCache.eventCache.getNode(),null)}function s3(n,e,t,i){return function GZ(n,e,t,i){const r=[],s=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function kZ(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),ZE(n,r,"child_removed",e,i,t),ZE(n,r,"child_added",e,i,t),ZE(n,r,"child_moved",s,i,t),ZE(n,r,"child_changed",e,i,t),ZE(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let RA,OA;class o3{constructor(){this.views=new Map}}function eP(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,B.hu)(null!=s,"SyncTree gave us an op for an invalid query."),r3(s,e,t,i)}{let s=[];for(const l of n.views.values())s=s.concat(r3(l,e,t,i));return s}}function a3(n,e,t,i,r){const l=n.views.get(e._queryIdentifier);if(!l){let h=AA(t,r?i:null),m=!1;h?m=!0:i instanceof sn?(h=KO(t,i),m=!1):(h=sn.EMPTY_NODE,m=!1);const v=TA(new Bm(h,m,!1),new Bm(i,r,!1));return new yK(e,v)}return l}function l3(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Hm(n,e){let t=null;for(const i of n.views.values())t=t||xK(i,e);return t}function c3(n,e){return e._queryParams.loadsAllData()?NA(n):n.views.get(e._queryIdentifier)}function d3(n,e){return null!=c3(n,e)}function jm(n){return null!=NA(n)}function NA(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let RK=1;class u3{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ei(null),this.pendingWriteTree_=function aK(){return{visibleWrites:bc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tP(n,e,t,i,r){return function KZ(n,e,t,i,r){(0,B.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=YE(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Kb(n,new g_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function zm(n,e,t=!1){const i=function QZ(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function XZ(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,B.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const h=n.allWrites[l];h.visible&&(l>=t&&JZ(h,i.path)?r=!1:bl(i.path,h.path)&&(s=!0)),l--}return!!r&&(s?(function eK(n){n.visibleWrites=qH(n.allWrites,tK,Vn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=zH(n.visibleWrites,i.path):Is(i.children,m=>{n.visibleWrites=zH(n.visibleWrites,$i(i.path,m))}),!0))}(n.pendingWriteTree_,e)){let s=new Ei(null);return null!=i.snap?s=s.set(Vn(),!0):Is(i.children,l=>{s=s.set(new Kn(l),!0)}),Kb(n,new IA(i.path,s,t))}return[]}function QE(n,e,t){return Kb(n,new g_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function PA(n,e,t,i,r=!1){const s=e._path,l=n.syncPointTree_.get(s);let h=[];if(l&&("default"===e._queryIdentifier||d3(l,e))){const m=function AK(n,e,t,i){const r=e._queryIdentifier,s=[];let l=[];const h=jm(n);if("default"===r)for(const[m,v]of n.views.entries())l=l.concat(n3(v,t,i)),t3(v)&&(n.views.delete(m),v.query._queryParams.loadsAllData()||s.push(v.query));else{const m=n.views.get(r);m&&(l=l.concat(n3(m,t,i)),t3(m)&&(n.views.delete(r),m.query._queryParams.loadsAllData()||s.push(m.query)))}return h&&!jm(n)&&s.push(new(function TK(){return(0,B.hu)(RA,"Reference.ts has not been loaded"),RA}())(e._repo,e._path)),{removed:s,events:l}}(l,e,t,i);(function DK(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const v=m.removed;if(h=m.events,!r){const w=-1!==v.findIndex(k=>k._queryParams.loadsAllData()),D=n.syncPointTree_.findOnPath(s,(k,U)=>jm(U));if(w&&!D){const k=n.syncPointTree_.subtree(s);if(!k.isEmpty()){const U=function BK(n){return n.fold((e,t,i)=>{if(t&&jm(t))return[NA(t)];{let r=[];return t&&(r=l3(t)),Is(i,(s,l)=>{r=r.concat(l)}),r}})}(k);for(let z=0;z<U.length;++z){const K=U[z],oe=K.query,Le=p3(n,K);n.listenProvider_.startListening(JE(oe),XE(n,oe),Le.hashFn,Le.onComplete)}}}!D&&v.length>0&&!i&&(w?n.listenProvider_.stopListening(JE(e),null):v.forEach(k=>{const U=n.queryToTagMap.get(LA(k));n.listenProvider_.stopListening(JE(k),U)}))}!function UK(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=LA(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,v)}return h}function h3(n,e,t,i){const r=iP(n,i);if(null!=r){const s=rP(r),l=s.path,h=s.queryId,m=No(l,e);return sP(n,l,new g_($O(h),m,t))}return[]}function nP(n,e,t,i=!1){const r=e._path;let s=null,l=!1;n.syncPointTree_.foreachOnPath(r,(k,U)=>{const z=No(k,r);s=s||Hm(U,z),l=l||jm(U)});let m,h=n.syncPointTree_.get(r);h?(l=l||jm(h),s=s||Hm(h,Vn())):(h=new o3,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=s?m=!0:(m=!1,s=sn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((U,z)=>{const K=Hm(z,Vn());K&&(s=s.updateImmediateChild(U,K))}));const v=d3(h,e);if(!v&&!e._queryParams.loadsAllData()){const k=LA(e);(0,B.hu)(!n.queryToTagMap.has(k),"View does not exist, but we have a tag");const U=function HK(){return RK++}();n.queryToTagMap.set(k,U),n.tagToQueryMap.set(U,k)}let D=function SK(n,e,t,i,r,s){const l=a3(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),function EK(n,e){n.eventRegistrations_.push(e)}(l,t),function CK(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(xi,(s,l)=>{i.push(Gb(s,l))}),t.isFullyInitialized()&&i.push(VH(t.getNode())),s3(n,i,t.getNode(),e)}(l,t)}(h,e,t,SA(n.pendingWriteTree_,r),s,m);if(!v&&!l&&!i){const k=c3(h,e);D=D.concat(function jK(n,e,t){const i=e._path,r=XE(n,e),s=p3(n,t),l=n.listenProvider_.startListening(JE(e),r,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,B.hu)(!jm(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((v,w,D)=>{if(!pn(v)&&w&&jm(w))return[NA(w).query];{let k=[];return w&&(k=k.concat(l3(w).map(U=>U.query))),Is(D,(U,z)=>{k=k.concat(z)}),k}});for(let v=0;v<m.length;++v){const w=m[v];n.listenProvider_.stopListening(JE(w),XE(n,w))}}return l}(n,e,k))}return D}function FA(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(l,h)=>{const v=Hm(h,No(l,e));if(v)return v});return WH(r,e,s,t,!0)}function Kb(n,e){return f3(e,n.syncPointTree_,null,SA(n.pendingWriteTree_,Vn()))}function f3(n,e,t,i){if(pn(n.path))return m3(n,e,t,i);{const r=e.get(Vn());null==t&&null!=r&&(t=Hm(r,Vn()));let s=[];const l=mn(n.path),h=n.operationForChild(l),m=e.children.get(l);if(m&&h){const v=t?t.getImmediateChild(l):null,w=KH(i,l);s=s.concat(f3(h,m,v,w))}return r&&(s=s.concat(eP(r,n,i,t))),s}}function m3(n,e,t,i){const r=e.get(Vn());null==t&&null!=r&&(t=Hm(r,Vn()));let s=[];return e.children.inorderTraversal((l,h)=>{const m=t?t.getImmediateChild(l):null,v=KH(i,l),w=n.operationForChild(l);w&&(s=s.concat(m3(w,h,m,v)))}),r&&(s=s.concat(eP(r,n,i,t))),s}function p3(n,e){const t=e.query,i=XE(n,t);return{hashFn:()=>(function bK(n){return n.viewCache_.serverCache.getNode()}(e)||sn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function FK(n,e,t){const i=iP(n,t);if(i){const r=rP(i),s=r.path,l=r.queryId,h=No(s,e);return sP(n,s,new WE($O(l),h))}return[]}(n,t._path,i):function PK(n,e){return Kb(n,new WE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function O7(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return PA(n,t,null,s)}}}}function XE(n,e){const t=LA(e);return n.queryToTagMap.get(t)}function LA(n){return n._path.toString()+"$"+n._queryIdentifier}function iP(n,e){return n.tagToQueryMap.get(e)}function rP(n){const e=n.indexOf("$");return(0,B.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Kn(n.substr(0,e))}}function sP(n,e,t){const i=n.syncPointTree_.get(e);return(0,B.hu)(i,"Missing sync point for query tag that we're tracking"),eP(i,t,SA(n.pendingWriteTree_,e),null)}function JE(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function kK(){return(0,B.hu)(OA,"Reference.ts has not been loaded"),OA}())(n._repo,n._path):n}class oP{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new oP(t)}node(){return this.node_}}class aP{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=$i(this.path_,e);return new aP(this.syncTree_,t)}node(){return FA(this.syncTree_,this.path_)}}const zK=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},g3=function(n,e,t){return n&&"object"==typeof n?((0,B.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?$K(n[".sv"],e,t):"object"==typeof n[".sv"]?GK(n[".sv"],e):void(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},$K=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,B.hu)(!1,"Unexpected server value: "+n)},GK=function(n,e,t){n.hasOwnProperty("increment")||(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,B.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,B.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},_3=function(n,e,t,i){return cP(e,new aP(t,n),i)},lP=function(n,e,t){return cP(n,new oP(e),t)};function cP(n,e,t){const i=n.getPriority().val(),r=g3(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const l=n,h=g3(l.getValue(),e,t);return h!==l.getValue()||r!==l.getPriority().val()?new zb(h,nr(r)):n}{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new zb(r))),l.forEachChild(xi,(h,m)=>{const v=cP(m,e.getImmediateChild(h),t);v!==m&&(s=s.updateImmediateChild(h,v))}),s}}class dP{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function VA(n,e){let t=e instanceof Kn?e:new Kn(e),i=n,r=mn(t);for(;null!==r;){const s=(0,B.DV)(i.node.children,r)||{children:{},childCount:0};i=new dP(r,i,s),t=yi(t),r=mn(t)}return i}function y_(n){return n.node.value}function uP(n,e){n.node.value=e,hP(n)}function v3(n){return n.node.childCount>0}function BA(n,e){Is(n.node.children,(t,i)=>{e(new dP(t,n,i))})}function y3(n,e,t,i){t&&!i&&e(n),BA(n,r=>{y3(r,e,!0,i)}),t&&i&&e(n)}function eC(n){return new Kn(null===n.parent?n.name:eC(n.parent)+"/"+n.name)}function hP(n){null!==n.parent&&function ZK(n,e,t){const i=function qK(n){return void 0===y_(n)&&!v3(n)}(t),r=(0,B.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,hP(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,hP(n))}(n.parent,n.name,n)}const KK=/[\[\].#$\/\u0000-\u001F\u007F]/,YK=/[\[\].#$\u0000-\u001F\u007F]/,fP=10485760,UA=function(n){return"string"==typeof n&&0!==n.length&&!KK.test(n)},b3=function(n){return"string"==typeof n&&0!==n.length&&!YK.test(n)},tC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!fA(n)||n&&"object"==typeof n&&(0,B.r3)(n,".sv")},Md=function(n,e,t,i){i&&void 0===e||nC((0,B.gK)(n,"value"),e,t)},nC=function(n,e,t){const i=t instanceof Kn?new fZ(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+m_(i));if("function"==typeof e)throw new Error(n+"contains a function "+m_(i)+" with contents = "+e.toString());if(fA(e))throw new Error(n+"contains "+e.toString()+" "+m_(i));if("string"==typeof e&&e.length>fP/3&&(0,B.ug)(e)>fP)throw new Error(n+"contains a string greater than "+fP+" utf8 bytes "+m_(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Is(e,(l,h)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!UA(l)))throw new Error(n+" contains an invalid key ("+l+") "+m_(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function mZ(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,B.ug)(e),AH(n)})(i,l),nC(n,h,i),function pZ(n){const e=n.parts_.pop();n.byteLength_-=(0,B.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+m_(i)+" in addition to actual children.")}},w3=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,B.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Is(e,(l,h)=>{const m=new Kn(l);if(nC(r,h,$i(t,m)),".priority"===AO(m)&&!tC(h))throw new Error(r+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(m)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=UE(i);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!UA(s[l]))throw new Error(n+"contains an invalid key ("+s[l]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(hZ);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&bl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},mP=function(n,e,t){if(!t||void 0!==e){if(fA(e))throw new Error((0,B.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!tC(e))throw new Error((0,B.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},iC=function(n,e,t,i){if(!(i&&void 0===t||UA(t)))throw new Error((0,B.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},rC=function(n,e,t,i){if(!(i&&void 0===t||b3(t)))throw new Error((0,B.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},JK=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rC(n,e,t,i)},wl=function(n,e){if(".info"===mn(e))throw new Error(n+" failed = Can't modify data under /.info/")},x3=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!UA(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),b3(n)}(t))throw new Error((0,B.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class eY{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function HA(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!MO(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function E3(n,e,t){HA(n,t),C3(n,i=>MO(i,e))}function Fa(n,e,t){HA(n,t),C3(n,i=>bl(i,e)||bl(e,i))}function C3(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(tY(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function tY(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();h_&&Cs("event: "+t.toString()),Hb(i)}}}const I3="repo_interrupt",nY=25;class iY{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eY,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=CA(),this.transactionQueueTree_=new dP,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function T3(n){const t=n.infoData_.getNode(new Kn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function sC(n){return zK({timestamp:T3(n)})}function D3(n,e,t,i,r){n.dataUpdateCount++;const s=new Kn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(r)if(i){const m=(0,B.UI)(t,v=>nr(v));l=function LK(n,e,t,i){const r=iP(n,i);if(r){const s=rP(r),l=s.path,h=s.queryId,m=No(l,e),v=Ei.fromObject(t);return sP(n,l,new Wb($O(h),m,v))}return[]}(n.serverSyncTree_,s,m,r)}else{const m=nr(t);l=h3(n.serverSyncTree_,s,m,r)}else if(i){const m=(0,B.UI)(t,v=>nr(v));l=function OK(n,e,t){const i=Ei.fromObject(t);return Kb(n,new Wb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,m)}else{const m=nr(t);l=QE(n.serverSyncTree_,s,m)}let h=s;l.length>0&&(h=Qb(n,s)),Fa(n.eventQueue_,h,l)}function S3(n,e){pP(n,"connected",e),!1===e&&function lY(n){Yb(n,"onDisconnectEvents");const e=sC(n),t=CA();HO(n.onDisconnect_,Vn(),(r,s)=>{const l=_3(r,s,n.serverSyncTree_,e);qb(t,r,l)});let i=[];HO(t,Vn(),(r,s)=>{i=i.concat(QE(n.serverSyncTree_,r,s));const l=yP(n,r);Qb(n,l)}),n.onDisconnect_=CA(),Fa(n.eventQueue_,Vn(),i)}(n)}function pP(n,e,t){const i=new Kn("/.info/"+e),r=nr(t);n.infoData_.updateSnapshot(i,r);const s=QE(n.infoSyncTree_,i,r);Fa(n.eventQueue_,i,s)}function jA(n){return n.nextWriteId_++}function gP(n,e,t,i,r){Yb(n,"set",{path:e.toString(),value:t,priority:i});const s=sC(n),l=nr(t,i),h=FA(n.serverSyncTree_,e),m=lP(l,h,s),v=jA(n),w=tP(n.serverSyncTree_,e,m,v,!0);HA(n.eventQueue_,w),n.server_.put(e.toString(),l.val(!0),(k,U)=>{const z="ok"===k;z||co("set at "+e+" failed: "+k);const K=zm(n.serverSyncTree_,v,!z);Fa(n.eventQueue_,e,K),$m(0,r,k,U)});const D=yP(n,e);Qb(n,D),Fa(n.eventQueue_,D,[])}function cY(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&UO(n.onDisconnect_,e),$m(0,t,i,r)})}function A3(n,e,t,i){const r=nr(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,l)=>{"ok"===s&&qb(n.onDisconnect_,e,r),$m(0,i,s,l)})}function _P(n,e,t){let i;i=".info"===mn(e._path)?PA(n.infoSyncTree_,e,t):PA(n.serverSyncTree_,e,t),E3(n.eventQueue_,e._path,i)}function M3(n){n.persistentConnection_&&n.persistentConnection_.interrupt(I3)}function Yb(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Cs(t,...e)}function $m(n,e,t,i){e&&Hb(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const l=new Error(s);l.code=r,e(l)}})}function vP(n,e,t){return FA(n.serverSyncTree_,e,t)||sn.EMPTY_NODE}function zA(n,e=n.transactionQueueTree_){if(e||$A(n,e),y_(e)){const t=R3(n,e);(0,B.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function pY(n,e,t){const i=t.map(v=>v.currentWriteId),r=vP(n,e,i);let s=r;const l=r.hash();for(let v=0;v<t.length;v++){const w=t[v];(0,B.hu)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const D=No(e,w.path);s=s.updateChild(D,w.currentOutputSnapshotRaw)}const h=s.val(!0),m=e;n.server_.put(m.toString(),h,v=>{Yb(n,"transaction put response",{path:m.toString(),status:v});let w=[];if("ok"===v){const D=[];for(let k=0;k<t.length;k++)t[k].status=2,w=w.concat(zm(n.serverSyncTree_,t[k].currentWriteId)),t[k].onComplete&&D.push(()=>t[k].onComplete(null,!0,t[k].currentOutputSnapshotResolved)),t[k].unwatcher();$A(n,VA(n.transactionQueueTree_,e)),zA(n,n.transactionQueueTree_),Fa(n.eventQueue_,e,w);for(let k=0;k<D.length;k++)Hb(D[k])}else{if("datastale"===v)for(let D=0;D<t.length;D++)t[D].status=3===t[D].status?4:0;else{co("transaction at "+m.toString()+" failed: "+v);for(let D=0;D<t.length;D++)t[D].status=4,t[D].abortReason=v}Qb(n,e)}},l)}(n,eC(e),t)}else v3(e)&&BA(e,t=>{zA(n,t)})}function Qb(n,e){const t=k3(n,e),i=eC(t);return function gY(n,e,t){if(0===e.length)return;const i=[];let r=[];const l=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],v=No(t,m.path);let D,w=!1;if((0,B.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)w=!0,D=m.abortReason,r=r.concat(zm(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=nY)w=!0,D="maxretry",r=r.concat(zm(n.serverSyncTree_,m.currentWriteId,!0));else{const k=vP(n,m.path,l);m.currentInputSnapshot=k;const U=e[h].update(k.val());if(void 0!==U){nC("transaction failed: Data returned ",U,m.path);let z=nr(U);"object"==typeof U&&null!=U&&(0,B.r3)(U,".priority")||(z=z.updatePriority(k.getPriority()));const oe=m.currentWriteId,Le=sC(n),$e=lP(z,k,Le);m.currentOutputSnapshotRaw=z,m.currentOutputSnapshotResolved=$e,m.currentWriteId=jA(n),l.splice(l.indexOf(oe),1),r=r.concat(tP(n.serverSyncTree_,m.path,$e,m.currentWriteId,m.applyLocally)),r=r.concat(zm(n.serverSyncTree_,oe,!0))}else w=!0,D="nodata",r=r.concat(zm(n.serverSyncTree_,m.currentWriteId,!0))}Fa(n.eventQueue_,t,r),r=[],w&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===D?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(D),!1,null)))}$A(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)Hb(i[h]);zA(n,n.transactionQueueTree_)}(n,R3(n,t),i),i}function k3(n,e){let t,i=n.transactionQueueTree_;for(t=mn(e);null!==t&&void 0===y_(i);)i=VA(i,t),t=mn(e=yi(e));return i}function R3(n,e){const t=[];return N3(n,e,t),t.sort((i,r)=>i.order-r.order),t}function N3(n,e,t){const i=y_(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);BA(e,r=>{N3(n,r,t)})}function $A(n,e){const t=y_(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,uP(e,t.length>0?t:void 0)}BA(e,i=>{$A(n,i)})}function yP(n,e){const t=eC(k3(n,e)),i=VA(n.transactionQueueTree_,e);return function WK(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{bP(n,r)}),bP(n,i),y3(i,r=>{bP(n,r)}),t}function bP(n,e){const t=y_(e);if(t){const i=[];let r=[],s=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,B.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,t[l].status=3,t[l].abortReason="set"):((0,B.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),r=r.concat(zm(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?uP(e,void 0):t.length=s+1,Fa(n.eventQueue_,eC(e),r);for(let l=0;l<i.length;l++)Hb(i[l])}}const wP=function(n,e){const t=yY(n),i=t.namespace;return"firebase.com"===t.domain&&Sd(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Sd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&co("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new EO(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Kn(t.pathString)}},yY=function(n){let e="",t="",i="",r="",s="",l=!0,h="https",m=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(h=n.substring(0,v-1),n=n.substring(v+2));let w=n.indexOf("/");-1===w&&(w=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),e=n.substring(0,Math.min(w,D)),w<D&&(r=function _Y(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(w,D)));const k=function vY(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):co(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,D)));v=e.indexOf(":"),v>=0?(l="https"===h||"wss"===h,m=parseInt(e.substring(v+1),10)):v=e.length;const U=e.slice(0,v);if("localhost"===U.toLowerCase())t="localhost";else if(U.split(".").length<=2)t=U;else{const z=e.indexOf(".");i=e.substring(0,z).toLowerCase(),t=e.substring(z+1),s=i}"ns"in k&&(s=k.ns)}return{host:e,port:m,domain:t,subdomain:i,secure:l,scheme:h,pathString:r,namespace:s}},O3="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",bY=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=O3.charAt(t%64),t=Math.floor(t/64);(0,B.hu)(0===t,"Cannot push at time == 0");let l=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=O3.charAt(e[r]);return(0,B.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class P3{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,B.Wl)(this.snapshot.exportVal())}}class F3{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class xP{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,B.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class L3{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new B.BH;return cY(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){wl("OnDisconnect.remove",this._path);const e=new B.BH;return A3(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){wl("OnDisconnect.set",this._path),Md("OnDisconnect.set",e,this._path,!1);const t=new B.BH;return A3(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){wl("OnDisconnect.setWithPriority",this._path),Md("OnDisconnect.setWithPriority",e,this._path,!1),mP("OnDisconnect.setWithPriority",t,!1);const i=new B.BH;return function dY(n,e,t,i,r){const s=nr(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(l,h)=>{"ok"===l&&qb(n.onDisconnect_,e,s),$m(0,r,l,h)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){wl("OnDisconnect.update",this._path),w3("OnDisconnect.update",e,this._path,!1);const t=new B.BH;return function uY(n,e,t,i){if((0,B.xb)(t))return Cs("onDisconnect().update() called with empty data.  Don't do anything."),void $m(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&Is(t,(l,h)=>{const m=nr(h);qb(n.onDisconnect_,$i(e,l),m)}),$m(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class oa{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return pn(this._path)?null:AO(this._path)}get ref(){return new xl(this._repo,this._path)}get _queryIdentifier(){const e=UH(this._queryParams),t=wO(e);return"{}"===t?"default":t}get _queryObject(){return UH(this._queryParams)}isEqual(e){if(!((e=(0,B.m9)(e))instanceof oa))return!1;const t=this._repo===e._repo,i=MO(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function uZ(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function GA(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Gm(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Ad){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Fm)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Ch)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===xi){if(null!=e&&!tC(e)||null!=t&&!tC(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,B.hu)(n.getIndex()instanceof PO||n.getIndex()===FO,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function qA(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class xl extends oa{constructor(e,t){super(e,t,new wA,!1)}get parent(){const e=SH(this._path);return null===e?null:new xl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class b_{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Kn(e),i=w_(this.ref,e);return new b_(this._node.getChild(t),i,xi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new b_(r,w_(this.ref,i),xi)))}hasChild(e){const t=new Kn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function V3(n,e){return(n=(0,B.m9)(n))._checkNotDeleted("ref"),void 0!==e?w_(n._root,e):n._root}function B3(n,e){(n=(0,B.m9)(n))._checkNotDeleted("refFromURL");const t=wP(e,n._repo.repoInfo_.nodeAdmin);x3("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Sd("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),V3(n,t.path.toString())}function w_(n,e){return null===mn((n=(0,B.m9)(n))._path)?JK("child","path",e,!1):rC("child","path",e,!1),new xl(n._repo,$i(n._path,e))}function EP(n,e){n=(0,B.m9)(n),wl("set",n._path),Md("set",e,n._path,!1);const t=new B.BH;return gP(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function IY(n,e){w3("update",e,n._path,!1);const t=new B.BH;return function aY(n,e,t,i){Yb(n,"update",{path:e.toString(),value:t});let r=!0;const s=sC(n),l={};if(Is(t,(h,m)=>{r=!1,l[h]=_3($i(e,h),nr(m),n.serverSyncTree_,s)}),r)Cs("update() called with empty data.  Don't do anything."),$m(0,i,"ok",void 0);else{const h=jA(n),m=function NK(n,e,t,i){!function YZ(n,e,t,i){(0,B.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=qO(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=Ei.fromObject(t);return Kb(n,new Wb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,l,h);HA(n.eventQueue_,m),n.server_.merge(e.toString(),t,(v,w)=>{const D="ok"===v;D||co("update at "+e+" failed: "+v);const k=zm(n.serverSyncTree_,h,!D),U=k.length>0?Qb(n,e):e;Fa(n.eventQueue_,U,k),$m(0,i,v,w)}),Is(t,v=>{const w=yP(n,$i(e,v));Qb(n,w)}),Fa(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function TY(n){n=(0,B.m9)(n);const e=new xP(()=>{}),t=new oC(e);return function oY(n,e,t){const i=function VK(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(v,w)=>{const D=No(v,t);i=i||Hm(w,D)});let r=n.syncPointTree_.get(t);r?i=i||Hm(r,Vn()):(r=new o3,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,l=s?new Bm(i,!0,!1):null;return function wK(n){return DA(n.viewCache_)}(a3(r,e,SA(n.pendingWriteTree_,e._path),s?l.getNode():sn.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const s=nr(r).withIndex(e._queryParams.getIndex());let l;if(nP(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())l=QE(n.serverSyncTree_,e._path,s);else{const h=XE(n.serverSyncTree_,e);l=h3(n.serverSyncTree_,e._path,s,h)}return Fa(n.eventQueue_,e._path,l),PA(n.serverSyncTree_,e,t,null,!0),s},r=>(Yb(n,"get for query "+(0,B.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new b_(i,new xl(n._repo,n._path),n._queryParams.getIndex()))}class oC{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new P3("value",this,new b_(e.snapshotNode,new xl(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new F3(this,e,t):null}matches(e){return e instanceof oC&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class WA{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new F3(this,e,t):null}createEvent(e,t){(0,B.hu)(null!=e.childName,"Child events should have a childName.");const i=w_(new xl(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new P3(e.type,this,new b_(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof WA&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function aC(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const m=t,v=(w,D)=>{_P(n._repo,n,h),m(w,D)};v.userCallback=t.userCallback,v.context=t.context,t=v}const l=new xP(t,s||void 0),h="value"===e?new oC(l):new WA(e,l);return function hY(n,e,t){let i;i=".info"===mn(e._path)?nP(n.infoSyncTree_,e,t):nP(n.serverSyncTree_,e,t),E3(n.eventQueue_,e._path,i)}(n._repo,n,h),()=>_P(n._repo,n,h)}function CP(n,e,t,i){return aC(n,"value",e,t,i)}function U3(n,e,t,i){return aC(n,"child_added",e,t,i)}function H3(n,e,t,i){return aC(n,"child_changed",e,t,i)}function j3(n,e,t,i){return aC(n,"child_moved",e,t,i)}function z3(n,e,t,i){return aC(n,"child_removed",e,t,i)}function $3(n,e,t){let i=null;const r=t?new xP(t):null;"value"===e?i=new oC(r):e&&(i=new WA(e,r)),_P(n._repo,n,i)}class wc{}class G3 extends wc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Md("endAt",this._value,e._path,!0);const t=BO(e._queryParams,this._value,this._key);if(qA(t),Gm(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new oa(e._repo,e._path,t,e._orderByCalled)}}class SY extends wc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Md("endBefore",this._value,e._path,!1);const t=function LZ(n,e,t){let i;return i=BO(n,e,n.index_===Ad||t?t:Fm),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(qA(t),Gm(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new oa(e._repo,e._path,t,e._orderByCalled)}}class q3 extends wc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Md("startAt",this._value,e._path,!0);const t=VO(e._queryParams,this._value,this._key);if(qA(t),Gm(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new oa(e._repo,e._path,t,e._orderByCalled)}}class kY extends wc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Md("startAfter",this._value,e._path,!1);const t=function FZ(n,e,t){let i;return i=VO(n,e,n.index_===Ad||t?t:Ch),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(qA(t),Gm(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new oa(e._repo,e._path,t,e._orderByCalled)}}class NY extends wc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new oa(e._repo,e._path,function OZ(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class PY extends wc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new oa(e._repo,e._path,function PZ(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class LY extends wc{constructor(e){super(),this._path=e}_apply(e){GA(e,"orderByChild");const t=new Kn(this._path);if(pn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new PO(t),r=xA(e._queryParams,i);return Gm(r),new oa(e._repo,e._path,r,!0)}}class BY extends wc{_apply(e){GA(e,"orderByKey");const t=xA(e._queryParams,Ad);return Gm(t),new oa(e._repo,e._path,t,!0)}}class HY extends wc{_apply(e){GA(e,"orderByPriority");const t=xA(e._queryParams,xi);return Gm(t),new oa(e._repo,e._path,t,!0)}}class zY extends wc{_apply(e){GA(e,"orderByValue");const t=xA(e._queryParams,FO);return Gm(t),new oa(e._repo,e._path,t,!0)}}class GY extends wc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Md("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new G3(this._value,this._key)._apply(new q3(this._value,this._key)._apply(e))}}function xc(n,...e){let t=(0,B.m9)(n);for(const i of e)t=i._apply(t);return t}(function IK(n){(0,B.hu)(!RA,"__referenceConstructor has already been defined"),RA=n})(xl),function MK(n){(0,B.hu)(!OA,"__referenceConstructor has already been defined"),OA=n}(xl);const IP={};function Z3(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Sd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Cs("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,v,l=wP(s,r),h=l.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(m=!0,s=`http://${v}?ns=${h.namespace}`,l=wP(s,r),h=l.repoInfo):m=!l.repoInfo.secure;const w=r&&m?new BE(BE.OWNER):new U7(n.name,n.options,e);x3("Invalid Firebase Database URL",l),pn(l.path)||Sd("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function YY(n,e,t,i){let r=IP[e.name];r||(r={},IP[e.name]=r);let s=r[n.toURLString()];return s&&Sd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new iY(n,false,t,i),r[n.toURLString()]=s,s}(h,n,w,new B7(n.name,t));return new XY(D,n)}class XY{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function rY(n,e,t){if(n.stats_=TO(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new EA(n.repoInfo_,(i,r,s,l)=>{D3(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>S3(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,B.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new p_(n.repoInfo_,e,(i,r,s,l)=>{D3(n,i,r,s,l)},i=>{S3(n,i)},i=>{!function sY(n,e){Is(e,(t,i)=>{pP(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function z7(n,e){const t=n.toString();return IO[t]||(IO[t]=e()),IO[t]}(n.repoInfo_,()=>new zZ(n.stats_,n.server_)),n.infoData_=new VZ,n.infoSyncTree_=new u3({startListening:(i,r,s,l)=>{let h=[];const m=n.infoData_.getNode(i._path);return m.isEmpty()||(h=QE(n.infoSyncTree_,i._path,m),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),pP(n,"connected",!1),n.serverSyncTree_=new u3({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(h,m)=>{const v=l(h,m);Fa(n.eventQueue_,i._path,v)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xl(this._repo,Vn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function KY(n,e){const t=IP[e];(!t||t[n.key]!==n)&&Sd(`Database ${e}(${n.repoInfo_}) has already been deleted.`),M3(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Sd("Cannot call "+e+" on a deleted database.")}}function K3(){gH.IS_TRANSPORT_INITIALIZED&&co("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function JY(){K3(),Lm.forceDisallow()}function eQ(){K3(),jb.forceDisallow(),Lm.forceAllow()}function iQ(n,e){YU(n,e)}const sQ={".sv":"timestamp"};class lQ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}p_.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},p_.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function rQ(n){GU(Ls.SDK_VERSION),(0,Ls._registerComponent)(new cl.wA("database",(e,{instanceIdentifier:t})=>Z3(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Ls.registerVersion)(zU,"0.14.4",n),(0,Ls.registerVersion)(zU,"0.14.4","esm2017")}();const hQ=new Sa.Yd("@firebase/database-compat"),Q3=function(n){hQ.warn("FIREBASE WARNING: "+n)};class pQ{constructor(e){this._delegate=e}cancel(e){(0,B.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,B.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,B.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,B.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,B.Dv)("OnDisconnect.set",1,2,arguments.length),(0,B.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,B.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,B.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,B.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,Q3("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,B.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class gQ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,B.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class qm{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,B.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,B.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,B.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,B.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,B.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),rC("DataSnapshot.child","path",e,!1),new qm(this._database,this._delegate.child(e))}hasChild(e){return(0,B.Dv)("DataSnapshot.hasChild",1,1,arguments.length),rC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,B.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,B.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,B.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new qm(this._database,t)))}hasChildren(){return(0,B.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,B.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,B.Dv)("DataSnapshot.ref",0,0,arguments.length),new La(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Gs{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,B.Dv)("Query.on",2,4,arguments.length),(0,B.Wj)("Query.on","callback",t,!1);const l=Gs.getCancelAndContextArgs_("Query.on",i,r),h=(v,w)=>{t.call(l.context,new qm(this.database,v),w)};h.userCallback=t,h.context=l.context;const m=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(e){case"value":return CP(this._delegate,h,m),t;case"child_added":return U3(this._delegate,h,m),t;case"child_removed":return z3(this._delegate,h,m),t;case"child_changed":return H3(this._delegate,h,m),t;case"child_moved":return j3(this._delegate,h,m),t;default:throw new Error((0,B.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,B.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,B.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,B.Wj)("Query.off","callback",t,!0),(0,B.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,$3(this._delegate,e,r)}else $3(this._delegate,e)}get(){return TY(this._delegate).then(e=>new qm(this.database,e))}once(e,t,i,r){(0,B.Dv)("Query.once",1,4,arguments.length),(0,B.Wj)("Query.once","callback",t,!0);const s=Gs.getCancelAndContextArgs_("Query.once",i,r),l=new B.BH,h=(v,w)=>{const D=new qm(this.database,v);t&&t.call(s.context,D,w),l.resolve(D)};h.userCallback=t,h.context=s.context;const m=v=>{s.cancel&&s.cancel.call(s.context,v),l.reject(v)};switch(e){case"value":CP(this._delegate,h,m,{onlyOnce:!0});break;case"child_added":U3(this._delegate,h,m,{onlyOnce:!0});break;case"child_removed":z3(this._delegate,h,m,{onlyOnce:!0});break;case"child_changed":H3(this._delegate,h,m,{onlyOnce:!0});break;case"child_moved":j3(this._delegate,h,m,{onlyOnce:!0});break;default:throw new Error((0,B.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(e){return(0,B.Dv)("Query.limitToFirst",1,1,arguments.length),new Gs(this.database,xc(this._delegate,function OY(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new NY(n)}(e)))}limitToLast(e){return(0,B.Dv)("Query.limitToLast",1,1,arguments.length),new Gs(this.database,xc(this._delegate,function FY(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new PY(n)}(e)))}orderByChild(e){return(0,B.Dv)("Query.orderByChild",1,1,arguments.length),new Gs(this.database,xc(this._delegate,function VY(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return rC("orderByChild","path",n,!1),new LY(n)}(e)))}orderByKey(){return(0,B.Dv)("Query.orderByKey",0,0,arguments.length),new Gs(this.database,xc(this._delegate,function UY(){return new BY}()))}orderByPriority(){return(0,B.Dv)("Query.orderByPriority",0,0,arguments.length),new Gs(this.database,xc(this._delegate,function jY(){return new HY}()))}orderByValue(){return(0,B.Dv)("Query.orderByValue",0,0,arguments.length),new Gs(this.database,xc(this._delegate,function $Y(){return new zY}()))}startAt(e=null,t){return(0,B.Dv)("Query.startAt",0,2,arguments.length),new Gs(this.database,xc(this._delegate,function MY(n=null,e){return iC("startAt","key",e,!0),new q3(n,e)}(e,t)))}startAfter(e=null,t){return(0,B.Dv)("Query.startAfter",0,2,arguments.length),new Gs(this.database,xc(this._delegate,function RY(n,e){return iC("startAfter","key",e,!0),new kY(n,e)}(e,t)))}endAt(e=null,t){return(0,B.Dv)("Query.endAt",0,2,arguments.length),new Gs(this.database,xc(this._delegate,function DY(n,e){return iC("endAt","key",e,!0),new G3(n,e)}(e,t)))}endBefore(e=null,t){return(0,B.Dv)("Query.endBefore",0,2,arguments.length),new Gs(this.database,xc(this._delegate,function AY(n,e){return iC("endBefore","key",e,!0),new SY(n,e)}(e,t)))}equalTo(e,t){return(0,B.Dv)("Query.equalTo",1,2,arguments.length),new Gs(this.database,xc(this._delegate,function qY(n,e){return iC("equalTo","key",e,!0),new GY(n,e)}(e,t)))}toString(){return(0,B.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,B.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,B.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Gs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,B.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,B.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,B.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new La(this.database,new xl(this._delegate._repo,this._delegate._path))}}class La extends Gs{constructor(e,t){super(e,new oa(t._repo,t._path,new wA,!1)),this.database=e,this._delegate=t}getKey(){return(0,B.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,B.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new La(this.database,w_(this._delegate,e))}getParent(){(0,B.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new La(this.database,e):null}getRoot(){return(0,B.Dv)("Reference.root",0,0,arguments.length),new La(this.database,this._delegate.root)}set(e,t){(0,B.Dv)("Reference.set",1,2,arguments.length),(0,B.Wj)("Reference.set","onComplete",t,!0);const i=EP(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,B.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,Q3("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}wl("Reference.update",this._delegate._path),(0,B.Wj)("Reference.update","onComplete",t,!0);const i=IY(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,B.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,B.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function CY(n,e,t){if(wl("setWithPriority",n._path),Md("setWithPriority",e,n._path,!1),mP("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new B.BH;return gP(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,B.Dv)("Reference.remove",0,1,arguments.length),(0,B.Wj)("Reference.remove","onComplete",e,!0);const t=function xY(n){return wl("remove",n._path),EP(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,B.Dv)("Reference.transaction",1,3,arguments.length),(0,B.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,B.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,B.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function cQ(n,e,t){var i;if(n=(0,B.m9)(n),wl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new B.BH,h=CP(n,()=>{});return function mY(n,e,t,i,r,s){Yb(n,"transaction on "+e);const l={path:e,update:t,onComplete:i,status:null,order:WU(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=vP(n,e,void 0);l.currentInputSnapshot=h;const m=l.update(h.val());if(void 0===m)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{nC("transaction failed: Data returned ",m,l.path),l.status=0;const v=VA(n.transactionQueueTree_,e),w=y_(v)||[];let D;w.push(l),uP(v,w),"object"==typeof m&&null!==m&&(0,B.r3)(m,".priority")?(D=(0,B.DV)(m,".priority"),(0,B.hu)(tC(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(FA(n.serverSyncTree_,e)||sn.EMPTY_NODE).getPriority().val();const k=sC(n),U=nr(m,D),z=lP(U,h,k);l.currentOutputSnapshotRaw=U,l.currentOutputSnapshotResolved=z,l.currentWriteId=jA(n);const K=tP(n.serverSyncTree_,e,z,l.currentWriteId,l.applyLocally);Fa(n.eventQueue_,e,K),zA(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(m,v,w)=>{let D=null;m?s.reject(m):(D=new b_(w,new xl(n._repo,n._path),xi),s.resolve(new lQ(v,D)))},h,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new gQ(s.committed,new qm(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,B.Dv)("Reference.setPriority",1,2,arguments.length),(0,B.Wj)("Reference.setPriority","onComplete",t,!0);const i=function EY(n,e){n=(0,B.m9)(n),wl("setPriority",n._path),mP("setPriority",e,!1);const t=new B.BH;return gP(n._repo,$i(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,B.Dv)("Reference.push",0,2,arguments.length),(0,B.Wj)("Reference.push","onComplete",t,!0);const i=function wY(n,e){n=(0,B.m9)(n),wl("push",n._path),Md("push",e,n._path,!0);const t=T3(n._repo),i=bY(t),r=w_(n,i),s=w_(n,i);let l;return l=null!=e?EP(s,e).then(()=>s):Promise.resolve(s),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,e),r=i.then(l=>new La(this.database,l));t&&r.then(()=>t(null),l=>t(l));const s=new La(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return wl("Reference.onDisconnect",this._delegate._path),new pQ(new L3(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class lC{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:JY,forceLongPolling:eQ}}useEmulator(e,t,i={}){!function Y3(n,e,t,i={}){(n=(0,B.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Sd("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Sd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new BE(BE.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,B.Sg)(i.mockUserToken,n.app.options.projectId);s=new BE(l)}!function ZY(n,e,t,i){n.repoInfo_=new EO(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,B.Dv)("database.ref",0,1,arguments.length),e instanceof La){const t=B3(this._delegate,e.toString());return new La(this,t)}{const t=V3(this._delegate,e);return new La(this,t)}}refFromURL(e){(0,B.Dv)("database.refFromURL",1,1,arguments.length);const i=B3(this._delegate,e);return new La(this,i)}goOffline(){return(0,B.Dv)("database.goOffline",0,0,arguments.length),function tQ(n){(n=(0,B.m9)(n))._checkNotDeleted("goOffline"),M3(n._repo)}(this._delegate)}goOnline(){return(0,B.Dv)("database.goOnline",0,0,arguments.length),function nQ(n){(n=(0,B.m9)(n))._checkNotDeleted("goOnline"),function fY(n){n.persistentConnection_&&n.persistentConnection_.resume(I3)}(n._repo)}(this._delegate)}}lC.ServerValue={TIMESTAMP:function oQ(){return sQ}(),increment:n=>function aQ(n){return{".sv":{increment:n}}}(n)};var vQ=Object.freeze({__proto__:null,initStandalone:function _Q({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){GU(t);const l=new cl.zt("auth-internal",new cl.H0("database-standalone"));return l.setComponent(new cl.wA("auth-internal",()=>i,"PRIVATE")),{instance:new lC(Z3(n,l,void 0,e,s),n),namespace:r}}});const yQ=lC.ServerValue;function X3(n){return null==n}function J3(n){return"function"==typeof n.set}function e4(n,e){return J3(e)?e:n.ref(e)}function t4(n,e){if(function wQ(n){return"string"==typeof n}(n))return e.stringCase();if(J3(n))return e.firebaseCase();if(function xQ(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function cC(n,e,t="on",i=Mf.z){return new pi.y(r=>{let s=null;return s=n[t](e,(l,h)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,mt.U)(r=>{const{snapshot:s,prevKey:l}=r;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:l,key:h}}),(0,Pp.B)())}function n4(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function IQ(n,e){const{payload:t,prevKey:i,key:r}=e,s=n4(n,r),l=function CQ(n,e){if(X3(e))return 0;{const t=n4(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(m=>{const v={payload:m,type:"value",prevKey:h,key:m.key};return h=m.key,n=[...n,v],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==i&&(n=n.filter(m=>m.payload.key!==t.key)).splice(l,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(l,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(l,0,h),n}return n;default:return n}}function i4(n){return(X3(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function r4(n,e,t){return function EQ(n,e,t){return cC(n,"value","once",t).pipe((0,si.w)(i=>{const r=[(0,dt.of)(i)];return e.forEach(s=>r.push(cC(n,s,"on",t))),(0,Op.T)(...r).pipe(ps(IQ,[]))}),(0,kf.x)())}(n,e=i4(e),t)}function s4(n,e,t){const i=(e=i4(e)).map(r=>cC(n,r,"on",t));return(0,Op.T)(...i)}function o4(n,e){return function(i,r){return t4(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function AQ(n){return function(t){return t?t4(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function a4(n,e){return function(){return cC(n,"value","on",e)}}!function bQ(n){n.INTERNAL.registerComponent(new cl.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new lC(r,i)},"PUBLIC").setServiceProps({Reference:La,Query:Gs,Database:lC,DataSnapshot:qm,enableLogging:iQ,INTERNAL:vQ,ServerValue:yQ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(j0.Z);const RQ=new d.OlP("angularfire2.realtimeDatabaseURL"),NQ=new d.OlP("angularfire2.database.use-emulator");let OQ=(()=>{class n{constructor(t,i,r,s,l,h,m,v,w,D,k,U,z,K,oe){this.schedulers=h;const Le=m,$e=(0,Bi.on)(t,l,i);v&&AI($e,l,w,k,U,z,D,K),this.database=(0,Bi.cc)(`${$e.name}.database.${r}`,"AngularFireDatabase",$e.name,()=>{const ze=l.runOutsideAngular(()=>$e.database(r||void 0));return Le&&ze.useEmulator(...Le),ze},[Le])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>e4(this.database,t));let s=r;return i&&(s=i(r)),function MQ(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:o4(i,"update"),set:o4(i,"set"),push:r=>i.push(r),remove:AQ(i),snapshotChanges:r=>r4(n,r,t).pipe(gn.iC),stateChanges:r=>s4(n,r,t).pipe(gn.iC),auditTrail:r=>function TQ(n,e,t){return function SQ(n,e,t){return function DQ(n,e){return cC(n,"value","on",e).pipe((0,mt.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function I7(...n){const e=(0,Yr.jO)(n);return(0,Qi.e)((t,i)=>{const r=n.length,s=new Array(r);let l=n.map(()=>!1),h=!1;for(let m=0;m<r;m++)(0,Wo.Xf)(n[m]).subscribe((0,Di.x)(i,v=>{s[m]=v,!h&&!l[m]&&(l[m]=!0,(h=l.every(hs.y))&&(l=null))},IV.Z));t.subscribe((0,Di.x)(i,m=>{if(h){const v=[m,...s];i.next(e?e(...v):v)}}))})}(e),(0,mt.U)(([r,s])=>{const l=r.lastKeyToLoad,h=s.map(m=>m.key);return{actions:s,lastKeyToLoad:l,loadedKeys:h}}),function T7(n){return(0,Qi.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,Di.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,mt.U)(r=>r.actions))}(n,s4(n,e).pipe(ps((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(gn.iC),valueChanges:(r,s)=>r4(n,r,t).pipe((0,mt.U)(h=>h.map(m=>s&&s.idField?Object.assign(Object.assign({},m.payload.val()),{[s.idField]:m.key}):m.payload.val())),gn.iC)}}(s,this)}object(t){return function kQ(n,e){return{query:n,snapshotChanges:()=>a4(n,e.schedulers.outsideAngular)().pipe(gn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>a4(n,e.schedulers.outsideAngular)().pipe(gn.iC,(0,mt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>e4(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Bi.Dh),d.LFG(Bi.xv,8),d.LFG(RQ,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(gn.HU),d.LFG(NQ,8),d.LFG(Af,8),d.LFG(Uv,8),d.LFG(H0,8),d.LFG(Hv,8),d.LFG(jv,8),d.LFG(Sf,8),d.LFG($p,8),d.LFG(Vv,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),PQ=(()=>{class n{constructor(){Df.Z.registerVersion("angularfire",gn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[OQ]}),n})();const FQ_firebaseConfig={apiKey:"AIzaSyC8vB4W-na-a3lnoI0lXyyoNodJc8OlnVA",authDomain:"mileagecalculator-ff59b.firebaseapp.com",projectId:"mileagecalculator-ff59b",storageBucket:"mileagecalculator-ff59b.appspot.com",messagingSenderId:"439632748644",appId:"1:439632748644:web:a307c17d2de0d4059bbf71"};function l4(n){return new d.vHH(3e3,!1)}function Wm(n){switch(n.length){case 0:return new dE;case 1:return n[0];default:return new d2(n)}}function c4(n,e,t=new Map,i=new Map){const r=[],s=[];let l=-1,h=null;if(e.forEach(m=>{const v=m.get("offset"),w=v==l,D=w&&h||new Map;m.forEach((k,U)=>{let z=U,K=k;if("offset"!==U)switch(z=n.normalizePropertyName(z,r),K){case"!":K=t.get(U);break;case _h:K=i.get(U);break;default:K=n.normalizeStyleValue(U,z,K,r)}D.set(z,K)}),w||s.push(D),h=D,l=v}),r.length)throw function sX(n){return new d.vHH(3502,!1)}();return s}function TP(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&DP(t,"start",n)));break;case"done":n.onDone(()=>i(t&&DP(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&DP(t,"destroy",n)))}}function DP(n,e,t){const s=SP(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function SP(n,e,t,i,r="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function Va(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function d4(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const _X=(()=>typeof document>"u"?null:document.documentElement)();function AP(n){const e=n.parentNode||n.host||null;return e===_X?null:e}let x_=null,u4=!1;function h4(n,e){for(;e;){if(e===n)return!0;e=AP(e)}return!1}function f4(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let m4=(()=>{class n{validateStyleProperty(t){return function yX(n){x_||(x_=function bX(){return typeof document<"u"?document.body:null}()||{},u4=!!x_.style&&"WebkitAppearance"in x_.style);let e=!0;return x_.style&&!function vX(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in x_.style,!e&&u4&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in x_.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return h4(t,i)}getParentElement(t){return AP(t)}query(t,i,r){return f4(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,l,h=[],m){return new dE(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),MP=(()=>{class n{}return n.NOOP=new m4,n})();const wX=1e3,kP="ng-enter",ZA="ng-leave",KA="ng-trigger",YA=".ng-trigger",g4="ng-animating",RP=".ng-animating";function Th(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:NP(parseFloat(e[1]),e[2])}function NP(n,e){return"s"===e?n*wX:n}function QA(n,e,t){return n.hasOwnProperty("duration")?n:function EX(n,e,t){let r,s=0,l="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(l4()),{duration:0,delay:0,easing:""};r=NP(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(s=NP(parseFloat(m),h[4]));const v=h[5];v&&(l=v)}else r=n;if(!t){let h=!1,m=e.length;r<0&&(e.push(function LQ(){return new d.vHH(3100,!1)}()),h=!0),s<0&&(e.push(function VQ(){return new d.vHH(3101,!1)}()),h=!0),h&&e.splice(m,0,l4())}return{duration:r,delay:s,easing:l}}(n,e,t)}function dC(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function _4(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Zm(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function kd(n,e,t){e.forEach((i,r)=>{const s=PP(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function E_(n,e){e.forEach((t,i)=>{const r=PP(i);n.style[r]=""})}function uC(n){return Array.isArray(n)?1==n.length?n[0]:c2(n):n}const OP=new RegExp("{{\\s*(.+?)\\s*}}","g");function y4(n){let e=[];if("string"==typeof n){let t;for(;t=OP.exec(n);)e.push(t[1]);OP.lastIndex=0}return e}function hC(n,e,t){const i=n.toString(),r=i.replace(OP,(s,l)=>{let h=e[l];return null==h&&(t.push(function UQ(n){return new d.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function XA(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const TX=/-+([a-z0-9])/g;function PP(n){return n.replace(TX,(...e)=>e[1].toUpperCase())}function Ba(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function HQ(n){return new d.vHH(3004,!1)}()}}function b4(n,e){return window.getComputedStyle(n)[e]}const JA="*";function AX(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function MX(n,e,t){if(":"==n[0]){const m=function kX(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function tX(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function eX(n){return new d.vHH(3015,!1)}()),e;const r=i[1],s=i[2],l=i[3];e.push(w4(r,l));"<"==s[0]&&!(r==JA&&l==JA)&&e.push(w4(l,r))}(i,t,e)):t.push(n),t}const eM=new Set(["true","1"]),tM=new Set(["false","0"]);function w4(n,e){const t=eM.has(n)||tM.has(n),i=eM.has(e)||tM.has(e);return(r,s)=>{let l=n==JA||n==r,h=e==JA||e==s;return!l&&t&&"boolean"==typeof r&&(l=r?eM.has(n):tM.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?eM.has(e):tM.has(e)),l&&h}}const RX=new RegExp("s*:selfs*,?","g");function FP(n,e,t,i){return new NX(n).build(e,t,i)}class NX{constructor(e){this._driver=e}build(e,t,i){const r=new FX(t);return this._resetContextStyleTimingState(r),Ba(this,uC(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function zQ(){return new d.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const m=h,v=m.name;v.toString().split(/\s*,\s*/).forEach(w=>{m.name=w,s.push(this.visitState(m,t))}),m.name=v}else if(1==h.type){const m=this.visitTransition(h,t);i+=m.queryCount,r+=m.depCount,l.push(m)}else t.errors.push(function $Q(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(m=>{y4(m).forEach(v=>{l.hasOwnProperty(v)||s.add(v)})})}),s.size&&(XA(s.values()),t.errors.push(function GQ(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ba(this,uC(e.animation),t);return{type:1,matchers:AX(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:C_(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ba(this,i,t)),options:C_(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(l=>{t.currentTime=i;const h=Ba(this,l,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:s,options:C_(e.options)}}visitAnimate(e,t){const i=function VX(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return LP(QA(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=LP(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=QA(t,e);return LP(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:vh({});if(5==s.type)r=this.visitKeyframes(s,t);else{let l=e.styles,h=!1;if(!l){h=!0;const v={};i.easing&&(v.easing=i.easing),l=vh(v)}t.currentTime+=i.duration+i.delay;const m=this.visitStyle(l,t);m.isEmptyStep=h,r=m}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===_h?i.push(h):t.errors.push(new d.vHH(3002,!1)):i.push(_4(h));let s=!1,l=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!s))for(let m of h.values())if(m.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,m)=>{const v=t.collectedStyles.get(t.currentQuerySelector),w=v.get(m);let D=!0;w&&(s!=r&&s>=w.startTime&&r<=w.endTime&&(t.errors.push(function WQ(n,e,t,i,r){return new d.vHH(3010,!1)}()),D=!1),s=w.startTime),D&&v.set(m,{startTime:s,endTime:r}),t.options&&function IX(n,e,t){const i=e.params||{},r=y4(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function BQ(n){return new d.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function ZQ(){return new d.vHH(3011,!1)}()),i;let s=0;const l=[];let h=!1,m=!1,v=0;const w=e.steps.map(Le=>{const $e=this._makeStyleAst(Le,t);let ze=null!=$e.offset?$e.offset:function LX(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}($e.styles),Ke=0;return null!=ze&&(s++,Ke=$e.offset=ze),m=m||Ke<0||Ke>1,h=h||Ke<v,v=Ke,l.push(Ke),$e});m&&t.errors.push(function KQ(){return new d.vHH(3012,!1)}()),h&&t.errors.push(function YQ(){return new d.vHH(3200,!1)}());const D=e.steps.length;let k=0;s>0&&s<D?t.errors.push(function QQ(){return new d.vHH(3202,!1)}()):0==s&&(k=1/(D-1));const U=D-1,z=t.currentTime,K=t.currentAnimateTimings,oe=K.duration;return w.forEach((Le,$e)=>{const ze=k>0?$e==U?1:k*$e:l[$e],Ke=ze*oe;t.currentTime=z+K.delay+Ke,K.duration=Ke,this._validateStyleAst(Le,t),Le.offset=ze,i.styles.push(Le)}),i}visitReference(e,t){return{type:8,animation:Ba(this,uC(e.animation),t),options:C_(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:C_(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:C_(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function OX(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(RX,"")),n=n.replace(/@\*/g,YA).replace(/@\w+/g,t=>YA+"-"+t.slice(1)).replace(/:animating/g,RP),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Va(t.collectedStyles,t.currentQuerySelector,new Map);const h=Ba(this,uC(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:h,originalSelector:e.selector,options:C_(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function XQ(){return new d.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:QA(e.timings,t.errors,!0);return{type:12,animation:Ba(this,uC(e.animation),t),timings:i,options:null}}}class FX{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function C_(n){return n?(n=dC(n)).params&&(n.params=function PX(n){return n?dC(n):null}(n.params)):n={},n}function LP(n,e,t){return{duration:n,delay:e,easing:t}}function VP(n,e,t,i,r,s,l=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:h}}class nM{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const HX=new RegExp(":enter","g"),zX=new RegExp(":leave","g");function BP(n,e,t,i,r,s=new Map,l=new Map,h,m,v=[]){return(new $X).buildKeyframes(n,e,t,i,r,s,l,h,m,v)}class $X{buildKeyframes(e,t,i,r,s,l,h,m,v,w=[]){v=v||new nM;const D=new UP(e,t,v,r,s,w,[]);D.options=m;const k=m.delay?Th(m.delay):0;D.currentTimeline.delayNextStep(k),D.currentTimeline.setStyles([l],null,D.errors,m),Ba(this,i,D);const U=D.timelines.filter(z=>z.containsAnimation());if(U.length&&h.size){let z;for(let K=U.length-1;K>=0;K--){const oe=U[K];if(oe.element===t){z=oe;break}}z&&!z.allowOnlyTimelineStyles()&&z.setStyles([h],null,D.errors,m)}return U.length?U.map(z=>z.buildKeyframes()):[VP(t,[],[],[],0,k,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const l="number"==typeof s?s:Th(hC(s,r?.params??{},t.errors));i.delayNextStep(l)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const l=null!=i.duration?Th(i.duration):null,h=null!=i.delay?Th(i.delay):null;return 0!==l&&e.forEach(m=>{const v=t.appendInstructionToTimeline(m,l,h);s=Math.max(s,v.duration+v.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ba(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=iM);const l=Th(s.delay);r.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Ba(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Th(e.options.delay):0;e.steps.forEach(l=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),Ba(this,l,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return QA(t.params?hC(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(m=>{h.forwardTime((m.offset||0)*s),h.setStyles(m.styles,m.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Th(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=iM);let l=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let m=null;h.forEach((v,w)=>{t.currentQueryIndex=w;const D=t.createSubContext(e.options,v);s&&D.delayNextStep(s),v===t.element&&(m=D.currentTimeline),Ba(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),h=l*(t.currentQueryTotal-1);let m=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":m=h-m;break;case"full":m=i.currentStaggerTime}const w=t.currentTimeline;m&&w.delayNextStep(m);const D=w.currentTime;Ba(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const iM={};class UP{constructor(e,t,i,r,s,l,h,m){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=iM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new rM(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Th(i.duration)),null!=i.delay&&(r.delay=Th(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!l.hasOwnProperty(h))&&(l[h]=hC(s[h],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new UP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=iM,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new GX(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,l){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(HX,"."+this._enterClassName)).replace(zX,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!s&&0==h.length&&l.push(function JQ(n){return new d.vHH(3014,!1)}()),h}}class rM{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new rM(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||_h),this._currentKeyframe.set(t,_h);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},l=function qX(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,_h)}else Zm(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,m]of l){const v=hC(m,s,i);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??_h),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,m)=>{const v=Zm(h,new Map,this._backFill);v.forEach((w,D)=>{"!"===w?e.add(D):w===_h&&t.add(D)}),i||v.set("offset",m/this.duration),r.push(v)});const s=e.size?XA(e.values()):[],l=t.size?XA(t.values()):[];if(i){const h=r[0],m=new Map(h);h.set("offset",0),m.set("offset",1),r=[h,m]}return VP(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class GX extends rM{constructor(e,t,i,r,s,l,h=!1){super(e,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=i+t,h=t/l,m=Zm(e[0]);m.set("offset",0),s.push(m);const v=Zm(e[0]);v.set("offset",C4(h)),s.push(v);const w=e.length-1;for(let D=1;D<=w;D++){let k=Zm(e[D]);const U=k.get("offset");k.set("offset",C4((t+U*i)/l)),s.push(k)}i=l,t=0,r="",e=s}return VP(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function C4(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class HP{}const WX=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ZX extends HP{normalizePropertyName(e,t){return PP(e)}normalizeStyleValue(e,t,i,r){let s="";const l=i.toString().trim();if(WX.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function jQ(n,e){return new d.vHH(3005,!1)}())}return l+s}}function I4(n,e,t,i,r,s,l,h,m,v,w,D,k){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:l,timelines:h,queriedElements:m,preStyleProps:v,postStyleProps:w,totalTime:D,errors:k}}const jP={};class T4{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function KX(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,l,h,m,v,w){const D=[],k=this.ast.options&&this.ast.options.params||jP,z=this.buildStyles(i,h&&h.params||jP,D),K=m&&m.params||jP,oe=this.buildStyles(r,K,D),Le=new Set,$e=new Map,ze=new Map,Ke="void"===r,St={params:YX(K,k),delay:this.ast.options?.delay},Ot=w?[]:BP(e,t,this.ast.animation,s,l,z,oe,St,v,D);let Tn=0;if(Ot.forEach(uo=>{Tn=Math.max(uo.duration+uo.delay,Tn)}),D.length)return I4(t,this._triggerName,i,r,Ke,z,oe,[],[],$e,ze,Tn,D);Ot.forEach(uo=>{const Dh=uo.element,H4=Va($e,Dh,new Set);uo.preStyleProps.forEach(I_=>H4.add(I_));const mC=Va(ze,Dh,new Set);uo.postStyleProps.forEach(I_=>mC.add(I_)),Dh!==t&&Le.add(Dh)});const ir=XA(Le.values());return I4(t,this._triggerName,i,r,Ke,z,oe,Ot,ir,$e,ze,Tn)}}function YX(n,e){const t=dC(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class QX{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=dC(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,h)=>{l&&(l=hC(l,r,t));const m=this.normalizer.normalizePropertyName(h,t);l=this.normalizer.normalizeStyleValue(h,m,l,t),i.set(h,l)})}),i}}class JX{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new QX(r.style,r.options&&r.options.params||{},i))}),D4(this.states,"true","1"),D4(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new T4(e,r,this.states))}),this.fallbackTransition=function eJ(n,e,t){return new T4(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(l=>l.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function D4(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const tJ=new nM;class nJ{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=FP(this._driver,t,i,[]);if(i.length)throw function oX(n){return new d.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=c4(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let l;const h=new Map;if(s?(l=BP(this._driver,t,s,kP,ZA,new Map,new Map,i,tJ,r),l.forEach(w=>{const D=Va(h,w.element,new Map);w.postStyleProps.forEach(k=>D.set(k,null))})):(r.push(function aX(){return new d.vHH(3300,!1)}()),l=[]),r.length)throw function lX(n){return new d.vHH(3504,!1)}();h.forEach((w,D)=>{w.forEach((k,U)=>{w.set(U,this._driver.computeStyle(D,U,_h))})});const v=Wm(l.map(w=>{const D=h.get(w.element);return this._buildPlayer(w,new Map,D)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function cX(n){return new d.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=SP(t,"","","");return TP(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const S4="ng-animate-queued",zP="ng-animate-disabled",aJ=[],A4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},El="__ng_removed";class $P{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function hJ(n){return n??null}(i?e.value:e),i){const s=dC(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const fC="void",GP=new $P(fC);class cJ{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Cl(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function dX(n,e){return new d.vHH(3302,!1)}();if(null==i||0==i.length)throw function uX(n){return new d.vHH(3303,!1)}();if(!function fJ(n){return"start"==n||"done"==n}(i))throw function hX(n,e){return new d.vHH(3400,!1)}();const s=Va(this._elementListeners,e,[]),l={name:t,phase:i,callback:r};s.push(l);const h=Va(this._engine.statesByElement,e,new Map);return h.has(t)||(Cl(e,KA),Cl(e,KA+"-"+t),h.set(t,GP)),()=>{this._engine.afterFlush(()=>{const m=s.indexOf(l);m>=0&&s.splice(m,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function fX(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),l=new qP(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Cl(e,KA),Cl(e,KA+"-"+t),this._engine.statesByElement.set(e,h=new Map));let m=h.get(t);const v=new $P(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),h.set(t,v),m||(m=GP),v.value!==fC&&m.value===v.value){if(!function gJ(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(m.params,v.params)){const K=[],oe=s.matchStyles(m.value,m.params,K),Le=s.matchStyles(v.value,v.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{E_(e,oe),kd(e,Le)})}return}const k=Va(this._engine.playersByElement,e,[]);k.forEach(K=>{K.namespaceId==this.id&&K.triggerName==t&&K.queued&&K.destroy()});let U=s.matchTransition(m.value,v.value,e,v.params),z=!1;if(!U){if(!r)return;U=s.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:U,fromState:m,toState:v,player:l,isFallbackTransition:z}),z||(Cl(e,S4),l.onStart(()=>{Xb(e,S4)})),l.onDone(()=>{let K=this.players.indexOf(l);K>=0&&this.players.splice(K,1);const oe=this._engine.playersByElement.get(e);if(oe){let Le=oe.indexOf(l);Le>=0&&oe.splice(Le,1)}}),this.players.push(l),k.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,YA,!0);i.forEach(r=>{if(r[El])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const h=[];if(s.forEach((m,v)=>{if(l.set(v,m.value),this._triggers.has(v)){const w=this.trigger(e,v,fC,r);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),i&&Wm(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const m=this._triggers.get(l).fallbackTransition,v=i.get(l)||GP,w=new $P(fC),D=new qP(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:m,fromState:v,toState:w,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[El];(!s||s===A4)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Cl(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(h=>{if(h.name==i.triggerName){const m=SP(s,i.triggerName,i.fromState.value,i.toState.value);m._data=e,TP(i.player,h.phase,m,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class dJ{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new cJ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,h=this.driver.getParentElement(t);for(;h;){const m=r.get(h);if(m){const v=i.indexOf(m);i.splice(v+1,0,e),l=!0;break}h=this.driver.getParentElement(h)}l||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(sM(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!sM(t))return;const s=t[El];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Cl(e,zP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Xb(e,zP))}removeNode(e,t,i){if(sM(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[El]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return sM(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,YA,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,RP,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Wm(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[El];if(t&&t.setForRemoval){if(e[El]=A4,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(zP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Cl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Wm(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function mX(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new nM,r=[],s=new Map,l=[],h=new Map,m=new Map,v=new Map,w=new Set;this.disabledNodes.forEach(Tt=>{w.add(Tt);const Vt=this.driver.query(Tt,".ng-animate-queued",!0);for(let Zt=0;Zt<Vt.length;Zt++)w.add(Vt[Zt])});const D=this.bodyNode,k=Array.from(this.statesByElement.keys()),U=R4(k,this.collectedEnterElements),z=new Map;let K=0;U.forEach((Tt,Vt)=>{const Zt=kP+K++;z.set(Vt,Zt),Tt.forEach(Nn=>Cl(Nn,Zt))});const oe=[],Le=new Set,$e=new Set;for(let Tt=0;Tt<this.collectedLeaveElements.length;Tt++){const Vt=this.collectedLeaveElements[Tt],Zt=Vt[El];Zt&&Zt.setForRemoval&&(oe.push(Vt),Le.add(Vt),Zt.hasAnimation?this.driver.query(Vt,".ng-star-inserted",!0).forEach(Nn=>Le.add(Nn)):$e.add(Vt))}const ze=new Map,Ke=R4(k,Array.from(Le));Ke.forEach((Tt,Vt)=>{const Zt=ZA+K++;ze.set(Vt,Zt),Tt.forEach(Nn=>Cl(Nn,Zt))}),e.push(()=>{U.forEach((Tt,Vt)=>{const Zt=z.get(Vt);Tt.forEach(Nn=>Xb(Nn,Zt))}),Ke.forEach((Tt,Vt)=>{const Zt=ze.get(Vt);Tt.forEach(Nn=>Xb(Nn,Zt))}),oe.forEach(Tt=>{this.processLeaveNode(Tt)})});const St=[],Ot=[];for(let Tt=this._namespaceList.length-1;Tt>=0;Tt--)this._namespaceList[Tt].drainQueuedTransitions(t).forEach(Zt=>{const Nn=Zt.player,Ts=Zt.element;if(St.push(Nn),this.collectedEnterElements.length){const ho=Ts[El];if(ho&&ho.setForMove){if(ho.previousTriggersValues&&ho.previousTriggersValues.has(Zt.triggerName)){const T_=ho.previousTriggersValues.get(Zt.triggerName),Il=this.statesByElement.get(Zt.element);if(Il&&Il.has(Zt.triggerName)){const lM=Il.get(Zt.triggerName);lM.value=T_,Il.set(Zt.triggerName,lM)}}return void Nn.destroy()}}const Rd=!D||!this.driver.containsElement(D,Ts),Ua=ze.get(Ts),Km=z.get(Ts),rr=this._buildInstruction(Zt,i,Km,Ua,Rd);if(rr.errors&&rr.errors.length)return void Ot.push(rr);if(Rd)return Nn.onStart(()=>E_(Ts,rr.fromStyles)),Nn.onDestroy(()=>kd(Ts,rr.toStyles)),void r.push(Nn);if(Zt.isFallbackTransition)return Nn.onStart(()=>E_(Ts,rr.fromStyles)),Nn.onDestroy(()=>kd(Ts,rr.toStyles)),void r.push(Nn);const $4=[];rr.timelines.forEach(ho=>{ho.stretchStartingKeyframe=!0,this.disabledNodes.has(ho.element)||$4.push(ho)}),rr.timelines=$4,i.append(Ts,rr.timelines),l.push({instruction:rr,player:Nn,element:Ts}),rr.queriedElements.forEach(ho=>Va(h,ho,[]).push(Nn)),rr.preStyleProps.forEach((ho,T_)=>{if(ho.size){let Il=m.get(T_);Il||m.set(T_,Il=new Set),ho.forEach((lM,KP)=>Il.add(KP))}}),rr.postStyleProps.forEach((ho,T_)=>{let Il=v.get(T_);Il||v.set(T_,Il=new Set),ho.forEach((lM,KP)=>Il.add(KP))})});if(Ot.length){const Tt=[];Ot.forEach(Vt=>{Tt.push(function pX(n,e){return new d.vHH(3505,!1)}())}),St.forEach(Vt=>Vt.destroy()),this.reportError(Tt)}const Tn=new Map,ir=new Map;l.forEach(Tt=>{const Vt=Tt.element;i.has(Vt)&&(ir.set(Vt,Vt),this._beforeAnimationBuild(Tt.player.namespaceId,Tt.instruction,Tn))}),r.forEach(Tt=>{const Vt=Tt.element;this._getPreviousPlayers(Vt,!1,Tt.namespaceId,Tt.triggerName,null).forEach(Nn=>{Va(Tn,Vt,[]).push(Nn),Nn.destroy()})});const uo=oe.filter(Tt=>O4(Tt,m,v)),Dh=new Map;k4(Dh,this.driver,$e,v,_h).forEach(Tt=>{O4(Tt,m,v)&&uo.push(Tt)});const mC=new Map;U.forEach((Tt,Vt)=>{k4(mC,this.driver,new Set(Tt),m,"!")}),uo.forEach(Tt=>{const Vt=Dh.get(Tt),Zt=mC.get(Tt);Dh.set(Tt,new Map([...Vt?.entries()??[],...Zt?.entries()??[]]))});const I_=[],j4=[],z4={};l.forEach(Tt=>{const{element:Vt,player:Zt,instruction:Nn}=Tt;if(i.has(Vt)){if(w.has(Vt))return Zt.onDestroy(()=>kd(Vt,Nn.toStyles)),Zt.disabled=!0,Zt.overrideTotalTime(Nn.totalTime),void r.push(Zt);let Ts=z4;if(ir.size>1){let Ua=Vt;const Km=[];for(;Ua=Ua.parentNode;){const rr=ir.get(Ua);if(rr){Ts=rr;break}Km.push(Ua)}Km.forEach(rr=>ir.set(rr,Ts))}const Rd=this._buildAnimation(Zt.namespaceId,Nn,Tn,s,mC,Dh);if(Zt.setRealPlayer(Rd),Ts===z4)I_.push(Zt);else{const Ua=this.playersByElement.get(Ts);Ua&&Ua.length&&(Zt.parentPlayer=Wm(Ua)),r.push(Zt)}}else E_(Vt,Nn.fromStyles),Zt.onDestroy(()=>kd(Vt,Nn.toStyles)),j4.push(Zt),w.has(Vt)&&r.push(Zt)}),j4.forEach(Tt=>{const Vt=s.get(Tt.element);if(Vt&&Vt.length){const Zt=Wm(Vt);Tt.setRealPlayer(Zt)}}),r.forEach(Tt=>{Tt.parentPlayer?Tt.syncPlayerEvents(Tt.parentPlayer):Tt.destroy()});for(let Tt=0;Tt<oe.length;Tt++){const Vt=oe[Tt],Zt=Vt[El];if(Xb(Vt,ZA),Zt&&Zt.hasAnimation)continue;let Nn=[];if(h.size){let Rd=h.get(Vt);Rd&&Rd.length&&Nn.push(...Rd);let Ua=this.driver.query(Vt,RP,!0);for(let Km=0;Km<Ua.length;Km++){let rr=h.get(Ua[Km]);rr&&rr.length&&Nn.push(...rr)}}const Ts=Nn.filter(Rd=>!Rd.destroyed);Ts.length?mJ(this,Vt,Ts):this.processLeaveNode(Vt)}return oe.length=0,I_.forEach(Tt=>{this.players.push(Tt),Tt.onDone(()=>{Tt.destroy();const Vt=this.players.indexOf(Tt);this.players.splice(Vt,1)}),Tt.play()}),I_}elementContainsData(e,t){let i=!1;const r=t[El];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let l=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(l=h)}else{const h=this.playersByElement.get(e);if(h){const m=!s||s==fC;h.forEach(v=>{v.queued||!m&&v.triggerName!=r||l.push(v)})}}return(i||r)&&(l=l.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),l}_beforeAnimationBuild(e,t,i){const s=t.element,l=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const v=m.element,w=v!==s,D=Va(i,v,[]);this._getPreviousPlayers(v,w,l,h,t.toState).forEach(U=>{const z=U.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),U.destroy(),D.push(U)})}E_(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,l){const h=t.triggerName,m=t.element,v=[],w=new Set,D=new Set,k=t.timelines.map(z=>{const K=z.element;w.add(K);const oe=K[El];if(oe&&oe.removedBeforeQueried)return new dE(z.duration,z.delay);const Le=K!==m,$e=function pJ(n){const e=[];return N4(n,e),e}((i.get(K)||aJ).map(Tn=>Tn.getRealPlayer())).filter(Tn=>!!Tn.element&&Tn.element===K),ze=s.get(K),Ke=l.get(K),St=c4(this._normalizer,z.keyframes,ze,Ke),Ot=this._buildPlayer(z,St,$e);if(z.subTimeline&&r&&D.add(K),Le){const Tn=new qP(e,h,K);Tn.setRealPlayer(Ot),v.push(Tn)}return Ot});v.forEach(z=>{Va(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function uJ(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,z.element,z))}),w.forEach(z=>Cl(z,g4));const U=Wm(k);return U.onDestroy(()=>{w.forEach(z=>Xb(z,g4)),kd(m,t.toStyles)}),D.forEach(z=>{Va(r,z,[]).push(U)}),U}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new dE(e.duration,e.delay)}}class qP{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new dE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>TP(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Va(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function sM(n){return n&&1===n.nodeType}function M4(n,e){const t=n.style.display;return n.style.display=e??"none",t}function k4(n,e,t,i,r){const s=[];t.forEach(m=>s.push(M4(m)));const l=[];i.forEach((m,v)=>{const w=new Map;m.forEach(D=>{const k=e.computeStyle(v,D,r);w.set(D,k),(!k||0==k.length)&&(v[El]=lJ,l.push(v))}),n.set(v,w)});let h=0;return t.forEach(m=>M4(m,s[h++])),l}function R4(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),s=new Map;function l(h){if(!h)return 1;let m=s.get(h);if(m)return m;const v=h.parentNode;return m=t.has(v)?v:r.has(v)?1:l(v),s.set(h,m),m}return e.forEach(h=>{const m=l(h);1!==m&&t.get(m).push(h)}),t}function Cl(n,e){n.classList?.add(e)}function Xb(n,e){n.classList?.remove(e)}function mJ(n,e,t){Wm(t).onDone(()=>n.processLeaveNode(e))}function N4(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof d2?N4(i.players,e):e.push(i)}}function O4(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class oM{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new dJ(e,t,i),this._timelineEngine=new nJ(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const l=e+"-"+r;let h=this._triggerCache[l];if(!h){const m=[],w=FP(this._driver,s,m,[]);if(m.length)throw function rX(n,e){return new d.vHH(3404,!1)}();h=function XX(n,e,t){return new JX(n,e,t)}(r,w,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,l]=d4(i);this._timelineEngine.command(s,t,l,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[l,h]=d4(i);return this._timelineEngine.listen(l,t,h,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let vJ=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&kd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(kd(this._element,this._initialStyles),this._endStyles&&(kd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(E_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(E_(this._element,this._endStyles),this._endStyles=null),kd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function WP(n){let e=null;return n.forEach((t,i)=>{(function yJ(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class P4{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:b4(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class bJ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return h4(e,t)}getParentElement(e){return AP(e)}query(e,t,i){return f4(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,l=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(m.easing=s);const v=new Map,w=l.filter(U=>U instanceof P4);(function DX(n,e){return 0===n||0===e})(i,r)&&w.forEach(U=>{U.currentSnapshot.forEach((z,K)=>v.set(K,z))});let D=function CX(n){return n.length?n[0]instanceof Map?n:n.map(e=>_4(e)):[]}(t).map(U=>Zm(U));D=function SX(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,l)=>{i.has(l)||r.push(l),i.set(l,s)}),r.length)for(let s=1;s<e.length;s++){let l=e[s];r.forEach(h=>l.set(h,b4(n,h)))}}return e}(e,D,v);const k=function _J(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=WP(e[0]),e.length>1&&(i=WP(e[e.length-1]))):e instanceof Map&&(t=WP(e)),t||i?new vJ(n,t,i):null}(e,D);return new P4(e,D,m,k)}}let wJ=(()=>{class n extends l2{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?c2(t):t;return F4(this._renderer,null,i,"register",[r]),new xJ(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class xJ extends c6{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new EJ(this._id,e,t||{},this._renderer)}}class EJ{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return F4(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function F4(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const L4="@.disabled";let CJ=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,l)=>{const h=l?.parentNode(s);h&&l.removeChild(h,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(s);return w||(w=new V4("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,w)),w}const l=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const m=w=>{Array.isArray(w)?w.forEach(m):this.engine.registerTrigger(l,h,t,w.name,w)};return i.data.animation.forEach(m),new IJ(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,h]=s;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(oM),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class V4{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==L4?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class IJ extends V4{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==L4?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function TJ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function DJ(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let SJ=(()=>{class n extends oM{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue),d.LFG(MP),d.LFG(HP),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const B4=[{provide:l2,useClass:wJ},{provide:HP,useFactory:function AJ(){return new ZX}},{provide:oM,useClass:SJ},{provide:d.FYo,useFactory:function MJ(n,e,t){return new CJ(n,e,t)},deps:[us,oM,d.R0b]}],ZP=[{provide:MP,useFactory:()=>new bJ},{provide:d.QbO,useValue:"BrowserAnimations"},...B4],U4=[{provide:MP,useClass:m4},{provide:d.QbO,useValue:"NoopAnimations"},...B4];let kJ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?U4:ZP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:ZP,imports:[$c]}),n})(),RJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[P8]}),n.\u0275inj=d.cJS({providers:[e_],imports:[$c,_q,S$,Bi.hO.initializeApp(FQ_firebaseConfig),MI,o6,C7,PQ,kJ,t5,iW,Z5,KN,cq,cW,_W,e8,R8,k6.forRoot()]}),n})();zc().bootstrapModule(RJ).catch(n=>console.error(n))},5619:(pt,De,L)=>{L.d(De,{X:()=>$});var d=L(8645);class $ extends d.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const le=super._subscribe(ee);return!le.closed&&ee.next(this._value),le}getValue(){const{hasError:ee,thrownError:le,_value:ue}=this;if(ee)throw le;return this._throwIfClosed(),ue}next(ee){super.next(this._value=ee)}}},5592:(pt,De,L)=>{L.d(De,{y:()=>Me});var d=L(305),$=L(7394),O=L(4850),ee=L(8407),le=L(2653),ue=L(4674),Ee=L(1441);let Me=(()=>{class se{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Qe=new se;return Qe.source=this,Qe.operator=Re,Qe}subscribe(Re,Qe,Oe){const Xe=function Z(se){return se&&se instanceof d.Lv||function q(se){return se&&(0,ue.m)(se.next)&&(0,ue.m)(se.error)&&(0,ue.m)(se.complete)}(se)&&(0,$.Nn)(se)}(Re)?Re:new d.Hp(Re,Qe,Oe);return(0,Ee.x)(()=>{const{operator:Fe,source:Ct}=this;Xe.add(Fe?Fe.call(Xe,Ct):Ct?this._subscribe(Xe):this._trySubscribe(Xe))}),Xe}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Qe){Re.error(Qe)}}forEach(Re,Qe){return new(Qe=be(Qe))((Oe,Xe)=>{const Fe=new d.Hp({next:Ct=>{try{Re(Ct)}catch(ft){Xe(ft),Fe.unsubscribe()}},error:Xe,complete:Oe});this.subscribe(Fe)})}_subscribe(Re){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(Re)}[O.L](){return this}pipe(...Re){return(0,ee.U)(Re)(this)}toPromise(Re){return new(Re=be(Re))((Qe,Oe)=>{let Xe;this.subscribe(Fe=>Xe=Fe,Fe=>Oe(Fe),()=>Qe(Xe))})}}return se.create=Ve=>new se(Ve),se})();function be(se){var Ve;return null!==(Ve=se??le.config.Promise)&&void 0!==Ve?Ve:Promise}},8645:(pt,De,L)=>{L.d(De,{x:()=>Ee});var d=L(5592),$=L(7394);const ee=(0,L(2306).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=L(9039),ue=L(1441);let Ee=(()=>{class be extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const se=new Me(this,this);return se.operator=Z,se}_throwIfClosed(){if(this.closed)throw new ee}next(Z){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(Z)}})}error(Z){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:se}=this;for(;se.length;)se.shift().error(Z)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:se,isStopped:Ve,observers:Re}=this;return se||Ve?$.Lc:(this.currentObservers=null,Re.push(Z),new $.w0(()=>{this.currentObservers=null,(0,le.P)(Re,Z)}))}_checkFinalizedStatuses(Z){const{hasError:se,thrownError:Ve,isStopped:Re}=this;se?Z.error(Ve):Re&&Z.complete()}asObservable(){const Z=new d.y;return Z.source=this,Z}}return be.create=(q,Z)=>new Me(q,Z),be})();class Me extends Ee{constructor(q,Z){super(),this.destination=q,this.source=Z}next(q){var Z,se;null===(se=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===se||se.call(Z,q)}error(q){var Z,se;null===(se=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===se||se.call(Z,q)}complete(){var q,Z;null===(Z=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===Z||Z.call(q)}_subscribe(q){var Z,se;return null!==(se=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(q))&&void 0!==se?se:$.Lc}}},305:(pt,De,L)=>{L.d(De,{Hp:()=>Oe,Lv:()=>se});var d=L(4674),$=L(7394),O=L(2653),ee=L(3894),le=L(2420);const ue=be("C",void 0,void 0);function be(re,Te,ce){return{kind:re,value:Te,error:ce}}var q=L(7599),Z=L(1441);class se extends $.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,$.Nn)(Te)&&Te.add(this)):this.destination=ft}static create(Te,ce,ye){return new Oe(Te,ce,ye)}next(Te){this.isStopped?Ct(function Me(re){return be("N",re,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Ct(function Ee(re){return be("E",void 0,re)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Ct(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Re(re,Te){return Ve.call(re,Te)}class Qe{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:ce}=this;if(ce.next)try{ce.next(Te)}catch(ye){Xe(ye)}}error(Te){const{partialObserver:ce}=this;if(ce.error)try{ce.error(Te)}catch(ye){Xe(ye)}else Xe(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(ce){Xe(ce)}}}class Oe extends se{constructor(Te,ce,ye){let Pe;if(super(),(0,d.m)(Te)||!Te)Pe={next:Te??void 0,error:ce??void 0,complete:ye??void 0};else{let ie;this&&O.config.useDeprecatedNextContext?(ie=Object.create(Te),ie.unsubscribe=()=>this.unsubscribe(),Pe={next:Te.next&&Re(Te.next,ie),error:Te.error&&Re(Te.error,ie),complete:Te.complete&&Re(Te.complete,ie)}):Pe=Te}this.destination=new Qe(Pe)}}function Xe(re){O.config.useDeprecatedSynchronousErrorHandling?(0,Z.O)(re):(0,ee.h)(re)}function Ct(re,Te){const{onStoppedNotification:ce}=O.config;ce&&q.z.setTimeout(()=>ce(re,Te))}const ft={closed:!0,next:le.Z,error:function Fe(re){throw re},complete:le.Z}},7394:(pt,De,L)=>{L.d(De,{Lc:()=>ue,w0:()=>le,Nn:()=>Ee});var d=L(4674);const O=(0,L(2306).d)(be=>function(Z){be(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((se,Ve)=>`${Ve+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var ee=L(9039);class le{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Re of Z)Re.remove(this);else Z.remove(this);const{initialTeardown:se}=this;if((0,d.m)(se))try{se()}catch(Re){q=Re instanceof O?Re.errors:[Re]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Re of Ve)try{Me(Re)}catch(Qe){q=q??[],Qe instanceof O?q=[...q,...Qe.errors]:q.push(Qe)}}if(q)throw new O(q)}}add(q){var Z;if(q&&q!==this)if(this.closed)Me(q);else{if(q instanceof le){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(q)}}_hasParent(q){const{_parentage:Z}=this;return Z===q||Array.isArray(Z)&&Z.includes(q)}_addParent(q){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(q),Z):Z?[Z,q]:q}_removeParent(q){const{_parentage:Z}=this;Z===q?this._parentage=null:Array.isArray(Z)&&(0,ee.P)(Z,q)}remove(q){const{_finalizers:Z}=this;Z&&(0,ee.P)(Z,q),q instanceof le&&q._removeParent(this)}}le.EMPTY=(()=>{const be=new le;return be.closed=!0,be})();const ue=le.EMPTY;function Ee(be){return be instanceof le||be&&"closed"in be&&(0,d.m)(be.remove)&&(0,d.m)(be.add)&&(0,d.m)(be.unsubscribe)}function Me(be){(0,d.m)(be)?be():be.unsubscribe()}},2653:(pt,De,L)=>{L.d(De,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(pt,De,L)=>{L.d(De,{E:()=>$});const $=new(L(5592).y)(le=>le.complete())},2459:(pt,De,L)=>{L.d(De,{D:()=>Te});var d=L(4829),$=L(3093),O=L(5137),ue=L(5592),Me=L(4971),be=L(4674),q=L(7103);function se(ce,ye){if(!ce)throw new Error("Iterable cannot be null");return new ue.y(Pe=>{(0,q.f)(Pe,ye,()=>{const ie=ce[Symbol.asyncIterator]();(0,q.f)(Pe,ye,()=>{ie.next().then(st=>{st.done?Pe.complete():Pe.next(st.value)})},0,!0)})})}var Ve=L(8382),Re=L(4026),Qe=L(4266),Oe=L(3664),Xe=L(5726),Fe=L(9853),Ct=L(541);function Te(ce,ye){return ye?function re(ce,ye){if(null!=ce){if((0,Ve.c)(ce))return function ee(ce,ye){return(0,d.Xf)(ce).pipe((0,O.R)(ye),(0,$.Q)(ye))}(ce,ye);if((0,Qe.z)(ce))return function Ee(ce,ye){return new ue.y(Pe=>{let ie=0;return ye.schedule(function(){ie===ce.length?Pe.complete():(Pe.next(ce[ie++]),Pe.closed||this.schedule())})})}(ce,ye);if((0,Re.t)(ce))return function le(ce,ye){return(0,d.Xf)(ce).pipe((0,O.R)(ye),(0,$.Q)(ye))}(ce,ye);if((0,Xe.D)(ce))return se(ce,ye);if((0,Oe.T)(ce))return function Z(ce,ye){return new ue.y(Pe=>{let ie;return(0,q.f)(Pe,ye,()=>{ie=ce[Me.h](),(0,q.f)(Pe,ye,()=>{let st,qe;try{({value:st,done:qe}=ie.next())}catch(on){return void Pe.error(on)}qe?Pe.complete():Pe.next(st)},0,!0)}),()=>(0,be.m)(ie?.return)&&ie.return()})}(ce,ye);if((0,Ct.L)(ce))return function ft(ce,ye){return se((0,Ct.Q)(ce),ye)}(ce,ye)}throw(0,Fe.z)(ce)}(ce,ye):(0,d.Xf)(ce)}},4829:(pt,De,L)=>{L.d(De,{Xf:()=>Ve});var d=L(7582),$=L(4266),O=L(4026),ee=L(5592),le=L(8382),ue=L(5726),Ee=L(9853),Me=L(3664),be=L(541),q=L(4674),Z=L(3894),se=L(4850);function Ve(re){if(re instanceof ee.y)return re;if(null!=re){if((0,le.c)(re))return function Re(re){return new ee.y(Te=>{const ce=re[se.L]();if((0,q.m)(ce.subscribe))return ce.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(re);if((0,$.z)(re))return function Qe(re){return new ee.y(Te=>{for(let ce=0;ce<re.length&&!Te.closed;ce++)Te.next(re[ce]);Te.complete()})}(re);if((0,O.t)(re))return function Oe(re){return new ee.y(Te=>{re.then(ce=>{Te.closed||(Te.next(ce),Te.complete())},ce=>Te.error(ce)).then(null,Z.h)})}(re);if((0,ue.D)(re))return Fe(re);if((0,Me.T)(re))return function Xe(re){return new ee.y(Te=>{for(const ce of re)if(Te.next(ce),Te.closed)return;Te.complete()})}(re);if((0,be.L)(re))return function Ct(re){return Fe((0,be.Q)(re))}(re)}throw(0,Ee.z)(re)}function Fe(re){return new ee.y(Te=>{(function ft(re,Te){var ce,ye,Pe,ie;return(0,d.mG)(this,void 0,void 0,function*(){try{for(ce=(0,d.KL)(re);!(ye=yield ce.next()).done;)if(Te.next(ye.value),Te.closed)return}catch(st){Pe={error:st}}finally{try{ye&&!ye.done&&(ie=ce.return)&&(yield ie.call(ce))}finally{if(Pe)throw Pe.error}}Te.complete()})})(re,Te).catch(ce=>Te.error(ce))})}},3019:(pt,De,L)=>{L.d(De,{T:()=>ue});var d=L(7537),$=L(4829),O=L(6232),ee=L(9940),le=L(2459);function ue(...Ee){const Me=(0,ee.yG)(Ee),be=(0,ee._6)(Ee,1/0),q=Ee;return q.length?1===q.length?(0,$.Xf)(q[0]):(0,d.J)(be)((0,le.D)(q,Me)):O.E}},2096:(pt,De,L)=>{L.d(De,{of:()=>O});var d=L(9940),$=L(2459);function O(...ee){const le=(0,d.yG)(ee);return(0,$.D)(ee,le)}},8251:(pt,De,L)=>{L.d(De,{x:()=>$});var d=L(305);function $(ee,le,ue,Ee,Me){return new O(ee,le,ue,Ee,Me)}class O extends d.Lv{constructor(le,ue,Ee,Me,be,q){super(le),this.onFinalize=be,this.shouldUnsubscribe=q,this._next=ue?function(Z){try{ue(Z)}catch(se){le.error(se)}}:super._next,this._error=Me?function(Z){try{Me(Z)}catch(se){le.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(Z){le.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},3997:(pt,De,L)=>{L.d(De,{x:()=>ee});var d=L(2737),$=L(9360),O=L(8251);function ee(ue,Ee=d.y){return ue=ue??le,(0,$.e)((Me,be)=>{let q,Z=!0;Me.subscribe((0,O.x)(be,se=>{const Ve=Ee(se);(Z||!ue(q,Ve))&&(Z=!1,q=Ve,be.next(se))}))})}function le(ue,Ee){return ue===Ee}},7398:(pt,De,L)=>{L.d(De,{U:()=>O});var d=L(9360),$=L(8251);function O(ee,le){return(0,d.e)((ue,Ee)=>{let Me=0;ue.subscribe((0,$.x)(Ee,be=>{Ee.next(ee.call(le,be,Me++))}))})}},7537:(pt,De,L)=>{L.d(De,{J:()=>O});var d=L(1631),$=L(2737);function O(ee=1/0){return(0,d.z)($.y,ee)}},1631:(pt,De,L)=>{L.d(De,{z:()=>Me});var d=L(7398),$=L(4829),O=L(9360),ee=L(7103),le=L(8251),Ee=L(4674);function Me(be,q,Z=1/0){return(0,Ee.m)(q)?Me((se,Ve)=>(0,d.U)((Re,Qe)=>q(se,Re,Ve,Qe))((0,$.Xf)(be(se,Ve))),Z):("number"==typeof q&&(Z=q),(0,O.e)((se,Ve)=>function ue(be,q,Z,se,Ve,Re,Qe,Oe){const Xe=[];let Fe=0,Ct=0,ft=!1;const re=()=>{ft&&!Xe.length&&!Fe&&q.complete()},Te=ye=>Fe<se?ce(ye):Xe.push(ye),ce=ye=>{Re&&q.next(ye),Fe++;let Pe=!1;(0,$.Xf)(Z(ye,Ct++)).subscribe((0,le.x)(q,ie=>{Ve?.(ie),Re?Te(ie):q.next(ie)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(Fe--;Xe.length&&Fe<se;){const ie=Xe.shift();Qe?(0,ee.f)(q,Qe,()=>ce(ie)):ce(ie)}re()}catch(ie){q.error(ie)}}))};return be.subscribe((0,le.x)(q,Te,()=>{ft=!0,re()})),()=>{Oe?.()}}(se,Ve,be,Z)))}},3093:(pt,De,L)=>{L.d(De,{Q:()=>ee});var d=L(7103),$=L(9360),O=L(8251);function ee(le,ue=0){return(0,$.e)((Ee,Me)=>{Ee.subscribe((0,O.x)(Me,be=>(0,d.f)(Me,le,()=>Me.next(be),ue),()=>(0,d.f)(Me,le,()=>Me.complete(),ue),be=>(0,d.f)(Me,le,()=>Me.error(be),ue)))})}},3020:(pt,De,L)=>{L.d(De,{B:()=>le});var d=L(4829),$=L(8645),O=L(305),ee=L(9360);function le(Ee={}){const{connector:Me=(()=>new $.x),resetOnError:be=!0,resetOnComplete:q=!0,resetOnRefCountZero:Z=!0}=Ee;return se=>{let Ve,Re,Qe,Oe=0,Xe=!1,Fe=!1;const Ct=()=>{Re?.unsubscribe(),Re=void 0},ft=()=>{Ct(),Ve=Qe=void 0,Xe=Fe=!1},re=()=>{const Te=Ve;ft(),Te?.unsubscribe()};return(0,ee.e)((Te,ce)=>{Oe++,!Fe&&!Xe&&Ct();const ye=Qe=Qe??Me();ce.add(()=>{Oe--,0===Oe&&!Fe&&!Xe&&(Re=ue(re,Z))}),ye.subscribe(ce),!Ve&&Oe>0&&(Ve=new O.Hp({next:Pe=>ye.next(Pe),error:Pe=>{Fe=!0,Ct(),Re=ue(ft,be,Pe),ye.error(Pe)},complete:()=>{Xe=!0,Ct(),Re=ue(ft,q),ye.complete()}}),(0,d.Xf)(Te).subscribe(Ve))})(se)}}function ue(Ee,Me,...be){if(!0===Me)return void Ee();if(!1===Me)return;const q=new O.Hp({next:()=>{q.unsubscribe(),Ee()}});return(0,d.Xf)(Me(...be)).subscribe(q)}},5137:(pt,De,L)=>{L.d(De,{R:()=>$});var d=L(9360);function $(O,ee=0){return(0,d.e)((le,ue)=>{ue.add(O.schedule(()=>le.subscribe(ue),ee))})}},4664:(pt,De,L)=>{L.d(De,{w:()=>ee});var d=L(4829),$=L(9360),O=L(8251);function ee(le,ue){return(0,$.e)((Ee,Me)=>{let be=null,q=0,Z=!1;const se=()=>Z&&!be&&Me.complete();Ee.subscribe((0,O.x)(Me,Ve=>{be?.unsubscribe();let Re=0;const Qe=q++;(0,d.Xf)(le(Ve,Qe)).subscribe(be=(0,O.x)(Me,Oe=>Me.next(ue?ue(Ve,Oe,Qe,Re++):Oe),()=>{be=null,se()}))},()=>{Z=!0,se()}))})}},9397:(pt,De,L)=>{L.d(De,{b:()=>le});var d=L(4674),$=L(9360),O=L(8251),ee=L(2737);function le(ue,Ee,Me){const be=(0,d.m)(ue)||Ee||Me?{next:ue,error:Ee,complete:Me}:ue;return be?(0,$.e)((q,Z)=>{var se;null===(se=be.subscribe)||void 0===se||se.call(be);let Ve=!0;q.subscribe((0,O.x)(Z,Re=>{var Qe;null===(Qe=be.next)||void 0===Qe||Qe.call(be,Re),Z.next(Re)},()=>{var Re;Ve=!1,null===(Re=be.complete)||void 0===Re||Re.call(be),Z.complete()},Re=>{var Qe;Ve=!1,null===(Qe=be.error)||void 0===Qe||Qe.call(be,Re),Z.error(Re)},()=>{var Re,Qe;Ve&&(null===(Re=be.unsubscribe)||void 0===Re||Re.call(be)),null===(Qe=be.finalize)||void 0===Qe||Qe.call(be)}))}):ee.y}},1954:(pt,De,L)=>{L.d(De,{o:()=>le});var d=L(7394);class $ extends d.w0{constructor(Ee,Me){super()}schedule(Ee,Me=0){return this}}const O={setInterval(ue,Ee,...Me){const{delegate:be}=O;return be?.setInterval?be.setInterval(ue,Ee,...Me):setInterval(ue,Ee,...Me)},clearInterval(ue){const{delegate:Ee}=O;return(Ee?.clearInterval||clearInterval)(ue)},delegate:void 0};var ee=L(9039);class le extends ${constructor(Ee,Me){super(Ee,Me),this.scheduler=Ee,this.work=Me,this.pending=!1}schedule(Ee,Me=0){var be;if(this.closed)return this;this.state=Ee;const q=this.id,Z=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(Z,q,Me)),this.pending=!0,this.delay=Me,this.id=null!==(be=this.id)&&void 0!==be?be:this.requestAsyncId(Z,this.id,Me),this}requestAsyncId(Ee,Me,be=0){return O.setInterval(Ee.flush.bind(Ee,this),be)}recycleAsyncId(Ee,Me,be=0){if(null!=be&&this.delay===be&&!1===this.pending)return Me;null!=Me&&O.clearInterval(Me)}execute(Ee,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(Ee,Me);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,Me){let q,be=!1;try{this.work(Ee)}catch(Z){be=!0,q=Z||new Error("Scheduled action threw falsy error")}if(be)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:Me}=this,{actions:be}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(be,this),null!=Ee&&(this.id=this.recycleAsyncId(Me,Ee,null)),this.delay=null,super.unsubscribe()}}}},2631:(pt,De,L)=>{L.d(De,{v:()=>O});var d=L(4552);class ${constructor(le,ue=$.now){this.schedulerActionCtor=le,this.now=ue}schedule(le,ue=0,Ee){return new this.schedulerActionCtor(this,le).schedule(Ee,ue)}}$.now=d.l.now;class O extends ${constructor(le,ue=$.now){super(le,ue),this.actions=[],this._active=!1}flush(le){const{actions:ue}=this;if(this._active)return void ue.push(le);let Ee;this._active=!0;do{if(Ee=le.execute(le.state,le.delay))break}while(le=ue.shift());if(this._active=!1,Ee){for(;le=ue.shift();)le.unsubscribe();throw Ee}}}},6321:(pt,De,L)=>{L.d(De,{P:()=>ee,z:()=>O});var d=L(1954);const O=new(L(2631).v)(d.o),ee=O},4552:(pt,De,L)=>{L.d(De,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(pt,De,L)=>{L.d(De,{z:()=>d});const d={setTimeout($,O,...ee){const{delegate:le}=d;return le?.setTimeout?le.setTimeout($,O,...ee):setTimeout($,O,...ee)},clearTimeout($){const{delegate:O}=d;return(O?.clearTimeout||clearTimeout)($)},delegate:void 0}},4971:(pt,De,L)=>{L.d(De,{h:()=>$});const $=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(pt,De,L)=>{L.d(De,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(pt,De,L)=>{L.d(De,{_6:()=>ue,jO:()=>ee,yG:()=>le});var d=L(4674),$=L(671);function O(Ee){return Ee[Ee.length-1]}function ee(Ee){return(0,d.m)(O(Ee))?Ee.pop():void 0}function le(Ee){return(0,$.K)(O(Ee))?Ee.pop():void 0}function ue(Ee,Me){return"number"==typeof O(Ee)?Ee.pop():Me}},9039:(pt,De,L)=>{function d($,O){if($){const ee=$.indexOf(O);0<=ee&&$.splice(ee,1)}}L.d(De,{P:()=>d})},2306:(pt,De,L)=>{function d($){const ee=$(le=>{Error.call(le),le.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}L.d(De,{d:()=>d})},1441:(pt,De,L)=>{L.d(De,{O:()=>ee,x:()=>O});var d=L(2653);let $=null;function O(le){if(d.config.useDeprecatedSynchronousErrorHandling){const ue=!$;if(ue&&($={errorThrown:!1,error:null}),le(),ue){const{errorThrown:Ee,error:Me}=$;if($=null,Ee)throw Me}}else le()}function ee(le){d.config.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=le)}},7103:(pt,De,L)=>{function d($,O,ee,le=0,ue=!1){const Ee=O.schedule(function(){ee(),ue?$.add(this.schedule(null,le)):this.unsubscribe()},le);if($.add(Ee),!ue)return Ee}L.d(De,{f:()=>d})},2737:(pt,De,L)=>{function d($){return $}L.d(De,{y:()=>d})},4266:(pt,De,L)=>{L.d(De,{z:()=>d});const d=$=>$&&"number"==typeof $.length&&"function"!=typeof $},5726:(pt,De,L)=>{L.d(De,{D:()=>$});var d=L(4674);function $(O){return Symbol.asyncIterator&&(0,d.m)(O?.[Symbol.asyncIterator])}},4674:(pt,De,L)=>{function d($){return"function"==typeof $}L.d(De,{m:()=>d})},8382:(pt,De,L)=>{L.d(De,{c:()=>O});var d=L(4850),$=L(4674);function O(ee){return(0,$.m)(ee[d.L])}},3664:(pt,De,L)=>{L.d(De,{T:()=>O});var d=L(4971),$=L(4674);function O(ee){return(0,$.m)(ee?.[d.h])}},4026:(pt,De,L)=>{L.d(De,{t:()=>$});var d=L(4674);function $(O){return(0,d.m)(O?.then)}},541:(pt,De,L)=>{L.d(De,{L:()=>ee,Q:()=>O});var d=L(7582),$=L(4674);function O(le){return(0,d.FC)(this,arguments,function*(){const Ee=le.getReader();try{for(;;){const{value:Me,done:be}=yield(0,d.qq)(Ee.read());if(be)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Me)}}finally{Ee.releaseLock()}})}function ee(le){return(0,$.m)(le?.getReader)}},671:(pt,De,L)=>{L.d(De,{K:()=>$});var d=L(4674);function $(O){return O&&(0,d.m)(O.schedule)}},9360:(pt,De,L)=>{L.d(De,{A:()=>$,e:()=>O});var d=L(4674);function $(ee){return(0,d.m)(ee?.lift)}function O(ee){return le=>{if($(le))return le.lift(function(ue){try{return ee(ue,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(pt,De,L)=>{function d(){}L.d(De,{Z:()=>d})},8407:(pt,De,L)=>{L.d(De,{U:()=>O,z:()=>$});var d=L(2737);function $(...ee){return O(ee)}function O(ee){return 0===ee.length?d.y:1===ee.length?ee[0]:function(ue){return ee.reduce((Ee,Me)=>Me(Ee),ue)}}},3894:(pt,De,L)=>{L.d(De,{h:()=>O});var d=L(2653),$=L(7599);function O(ee){$.z.setTimeout(()=>{const{onUnhandledError:le}=d.config;if(!le)throw ee;le(ee)})}},9853:(pt,De,L)=>{function d($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(De,{z:()=>d})},5879:(pt,De,L)=>{L.d(De,{$8M:()=>eo,$WT:()=>mo,$Z:()=>bI,AFp:()=>YM,ALo:()=>rx,AaK:()=>se,BQk:()=>lg,CHM:()=>iu,CRH:()=>yd,EJc:()=>TD,EiD:()=>no,EpF:()=>cg,F$t:()=>tT,F4k:()=>ai,FYo:()=>oI,FiY:()=>yo,Gf:()=>vd,GfV:()=>Cv,GkF:()=>hw,Gpc:()=>Qe,HDt:()=>Tx,Hsn:()=>Zf,Ikx:()=>Vw,JOm:()=>al,JVY:()=>SM,JZr:()=>ft,KtG:()=>Hc,L6k:()=>AM,LAX:()=>kM,LFG:()=>Gn,LSH:()=>_s,Lbi:()=>eI,Lck:()=>gd,MAs:()=>cw,MMx:()=>Ry,MR2:()=>qC,NdJ:()=>Wf,O4$:()=>ou,Ojb:()=>Ls,OlP:()=>An,Oqu:()=>Nw,P3R:()=>$M,PXZ:()=>HR,Q6J:()=>ry,QGY:()=>oy,QbO:()=>B,Qsj:()=>ts,R0b:()=>jr,RDi:()=>ff,Rgc:()=>um,SBq:()=>Up,Sil:()=>FR,Suo:()=>hx,TTD:()=>Fc,TgZ:()=>og,Tol:()=>fy,Udp:()=>hy,VuI:()=>Gg,W1O:()=>dD,WFA:()=>Vu,X6Q:()=>VD,XFs:()=>Je,Xpm:()=>la,Xq5:()=>Y0,Xts:()=>uv,Y36:()=>If,YKP:()=>Ig,YNc:()=>aw,Yjl:()=>Xm,Yz7:()=>jt,Z0I:()=>bn,ZZ4:()=>gb,_Bn:()=>lc,_UZ:()=>Lu,_Vd:()=>Bp,_c5:()=>e1,_uU:()=>so,aQg:()=>uh,c2e:()=>ym,cJS:()=>Yn,cg1:()=>Uw,d8E:()=>Ue,dDg:()=>eb,dqk:()=>Qt,eBb:()=>MM,eFA:()=>Px,eJc:()=>mx,ekj:()=>fg,eoX:()=>wm,f3M:()=>rn,g9A:()=>QM,h0i:()=>Do,hGG:()=>KD,hij:()=>oo,iGM:()=>th,ifc:()=>xt,ip1:()=>ID,jDz:()=>_d,kL8:()=>me,kcU:()=>ga,lG2:()=>Fo,lcZ:()=>JT,lqb:()=>Mu,lri:()=>Mx,mCW:()=>sv,n5z:()=>Si,n_E:()=>ia,oAB:()=>Sl,oJD:()=>jC,oxw:()=>eT,pB0:()=>PC,q3G:()=>Xi,q4F:()=>Hp,qFp:()=>xs,qLn:()=>xf,qOj:()=>Wp,qZA:()=>Fu,qzn:()=>pf,rWj:()=>kx,rg0:()=>k_,s9C:()=>fl,sBO:()=>qR,s_b:()=>Rg,soG:()=>Yy,tb:()=>Ox,tp0:()=>Er,uIk:()=>ew,vHH:()=>re,vpe:()=>Ra,wAp:()=>Nt,xp6:()=>zp,ynx:()=>ag,z2F:()=>vl,z3N:()=>Xo,zSh:()=>YC,zs3:()=>rd});var d=L(8645),$=L(7394),O=L(5619),ee=L(5592),le=L(3019),ue=L(2096),Ee=L(3020),Me=L(4664),be=L(3997);function q(o){for(let a in o)if(o[a]===q)return a;throw Error("Could not find renamed property on target object.")}function Z(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function se(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(se).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function Ve(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const Re=q({__forward_ref__:q});function Qe(o){return o.__forward_ref__=Qe,o.toString=function(){return se(this())},o}function Oe(o){return Xe(o)?o():o}function Xe(o){return"function"==typeof o&&o.hasOwnProperty(Re)&&o.__forward_ref__===Qe}function Fe(o){return o&&!!o.\u0275providers}const ft="https://g.co/ng/security#xss";class re extends Error{constructor(a,c){super(function Te(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,c)),this.code=a}}function ce(o){return"string"==typeof o?o:null==o?"":String(o)}function qe(o,a){throw new re(-201,!1)}function it(o,a){null==o&&function ut(o,a,c,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${c} ${u} ${a} <=Actual]`))}(a,o,null,"!=")}function jt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Yn(o){return{providers:o.providers||[],imports:o.imports||[]}}function jn(o){return di(o,Gi)||di(o,mr)}function bn(o){return null!==jn(o)}function di(o,a){return o.hasOwnProperty(a)?o[a]:null}function os(o){return o&&(o.hasOwnProperty(Jn)||o.hasOwnProperty(Ws))?o[Jn]:null}const Gi=q({\u0275prov:q}),Jn=q({\u0275inj:q}),mr=q({ngInjectableDef:q}),Ws=q({ngInjectorDef:q});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let gt;function nn(o){const a=gt;return gt=o,a}function bi(o,a,c){const u=jn(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&Je.Optional?null:void 0!==a?a:void qe(se(o))}const Qt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),sr={},Bt="__NG_DI_FLAG__",zn="ngTempTokenPath",Zs=/\n/gm,ei="__source";let Pn;function $n(o){const a=Pn;return Pn=o,a}function wi(o,a=Je.Default){if(void 0===Pn)throw new re(-203,!1);return null===Pn?bi(o,void 0,a):Pn.get(o,a&Je.Optional?null:void 0,a)}function Gn(o,a=Je.Default){return(function wt(){return gt}()||wi)(Oe(o),a)}function rn(o,a=Je.Default){return Gn(o,W(a))}function W(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function G(o){const a=[];for(let c=0;c<o.length;c++){const u=Oe(o[c]);if(Array.isArray(u)){if(0===u.length)throw new re(900,!1);let f,p=Je.Default;for(let y=0;y<u.length;y++){const E=u[y],I=V(E);"number"==typeof I?-1===I?f=E.token:p|=I:f=E}a.push(Gn(f,p))}else a.push(Gn(u))}return a}function F(o,a){return o[Bt]=a,o.prototype[Bt]=a,o}function V(o){return o[Bt]}function we(o){return{toString:o}.toString()}var Ye=(()=>((Ye=Ye||{})[Ye.OnPush=0]="OnPush",Ye[Ye.Default=1]="Default",Ye))(),xt=(()=>{return(o=xt||(xt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",xt;var o})();const bt={},_t=[],Rt=q({\u0275cmp:q}),Sn=q({\u0275dir:q}),zt=q({\u0275pipe:q}),Pi=q({\u0275mod:q}),Wi=q({\u0275fac:q}),ve=q({__NG_ELEMENT_ID__:q}),ae=q({__NG_ENV_ID__:q});function Be(o,a,c){let u=o.length;for(;;){const f=o.indexOf(a,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const p=a.length;if(f+p===u||o.charCodeAt(f+p)<=32)return f}c=f+1}}function vt(o,a,c){let u=0;for(;u<c.length;){const f=c[u];if("number"==typeof f){if(0!==f)break;u++;const p=c[u++],y=c[u++],E=c[u++];o.setAttribute(a,y,E,p)}else{const p=f,y=c[++u];Kt(p)?o.setProperty(a,p,y):o.setAttribute(a,p,y),u++}}return u}function Pt(o){return 3===o||4===o||6===o}function Kt(o){return 64===o.charCodeAt(0)}function ln(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let u=0;u<a.length;u++){const f=a[u];"number"==typeof f?c=f:0===c||Fi(o,c,f,null,-1===c||2===c?a[++u]:null)}}return o}function Fi(o,a,c,u,f){let p=0,y=o.length;if(-1===a)y=-1;else for(;p<o.length;){const E=o[p++];if("number"==typeof E){if(E===a){y=-1;break}if(E>a){y=p-1;break}}}for(;p<o.length;){const E=o[p];if("number"==typeof E)break;if(E===c){if(null===u)return void(null!==f&&(o[p+1]=f));if(u===o[p+1])return void(o[p+2]=f)}p++,null!==u&&p++,null!==f&&p++}-1!==y&&(o.splice(y,0,a),p=y+1),o.splice(p++,0,c),null!==u&&o.splice(p++,0,u),null!==f&&o.splice(p++,0,f)}const ti="ng-template";function Oo(o,a,c){let u=0,f=!0;for(;u<o.length;){let p=o[u++];if("string"==typeof p&&f){const y=o[u++];if(c&&"class"===p&&-1!==Be(y.toLowerCase(),a,0))return!0}else{if(1===p){for(;u<o.length&&"string"==typeof(p=o[u++]);)if(p.toLowerCase()===a)return!0;return!1}"number"==typeof p&&(f=!1)}}return!1}function Ha(o){return 4===o.type&&o.value!==ti}function Tl(o,a,c){return a===(4!==o.type||c?o.value:ti)}function Sh(o,a,c){let u=4;const f=o.attrs||[],p=function Nd(o){for(let a=0;a<o.length;a++)if(Pt(o[a]))return a;return o.length}(f);let y=!1;for(let E=0;E<a.length;E++){const I=a[E];if("number"!=typeof I){if(!y)if(4&u){if(u=2|1&u,""!==I&&!Tl(o,I,c)||""===I&&1===a.length){if(Rr(u))return!1;y=!0}}else{const S=8&u?I:a[++E];if(8&u&&null!==o.attrs){if(!Oo(o.attrs,S,c)){if(Rr(u))return!1;y=!0}continue}const j=Po(8&u?"class":I,f,Ha(o),c);if(-1===j){if(Rr(u))return!1;y=!0;continue}if(""!==S){let Q;Q=j>p?"":f[j+1].toLowerCase();const ne=8&u?Q:null;if(ne&&-1!==Be(ne,S,0)||2&u&&S!==Q){if(Rr(u))return!1;y=!0}}}}else{if(!y&&!Rr(u)&&!Rr(I))return!1;if(y&&Rr(I))continue;y=!1,u=I|1&u}}return Rr(u)||y}function Rr(o){return 0==(1&o)}function Po(o,a,c,u){if(null===a)return-1;let f=0;if(u||!c){let p=!1;for(;f<a.length;){const y=a[f];if(y===o)return f;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=a[++f];for(;"string"==typeof E;)E=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=p?1:2}return-1}return function fi(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const u=o[c];if("number"==typeof u)return-1;if(u===a)return c;c++}return-1}(a,o)}function aa(o,a,c=!1){for(let u=0;u<a.length;u++)if(Sh(o,a[u],c))return!0;return!1}function D_(o,a){e:for(let c=0;c<a.length;c++){const u=a[c];if(o.length===u.length){for(let f=0;f<o.length;f++)if(o[f]!==u[f])continue e;return!0}}return!1}function Nr(o,a){return o?":not("+a.trim()+")":a}function S_(o){let a=o[0],c=1,u=2,f="",p=!1;for(;c<o.length;){let y=o[c];if("string"==typeof y)if(2&u){const E=o[++c];f+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?f+="."+y:4&u&&(f+=" "+y);else""!==f&&!Rr(y)&&(a+=Nr(p,f),f=""),u=y,p=p||!Rr(u);c++}return""!==f&&(a+=Nr(p,f)),a}function la(o){return we(()=>{const a=Pd(o),c={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Ye.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||xt.Emulated,styles:o.styles||_t,_:null,schemas:o.schemas||null,tView:null,id:""};Ml(c);const u=o.dependencies;return c.directiveDefs=ja(u,!1),c.pipeDefs=ja(u,!0),c.id=function Mh(o){let a=0;const c=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const f of c)a=Math.imul(31,a)+f.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function Qm(o){return $t(o)||Li(o)}function Dl(o){return null!==o}function Sl(o){return we(()=>({type:o.type,bootstrap:o.bootstrap||_t,declarations:o.declarations||_t,imports:o.imports||_t,exports:o.exports||_t,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Al(o,a){if(null==o)return bt;const c={};for(const u in o)if(o.hasOwnProperty(u)){let f=o[u],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),c[f]=u,a&&(a[f]=p)}return c}function Fo(o){return we(()=>{const a=Pd(o);return Ml(a),a})}function Xm(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function $t(o){return o[Rt]||null}function Li(o){return o[Sn]||null}function Dn(o){return o[zt]||null}function mo(o){const a=$t(o)||Li(o)||Dn(o);return null!==a&&a.standalone}function gr(o,a){const c=o[Pi]||null;if(!c&&!0===a)throw new Error(`Type ${se(o)} does not have '\u0275mod' property.`);return c}function Pd(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||bt,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||_t,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Al(o.inputs,a),outputs:Al(o.outputs)}}function Ml(o){o.features?.forEach(a=>a(o))}function ja(o,a){if(!o)return null;const c=a?Dn:Qm;return()=>("function"==typeof o?o():o).map(u=>c(u)).filter(Dl)}const mi=0,ot=1,Ut=2,Qn=3,_r=4,Ic=5,Zi=6,po=7,Mn=8,Ss=9,ca=10,At=11,Rl=12,Tc=13,Lo=14,qn=15,Dc=16,da=17,vr=18,za=19,Sc=20,Ki=21,yr=22,Ac=23,As=24,un=25,Ks=1,ua=2,Wr=7,$a=9,or=11;function ar(o){return Array.isArray(o)&&"object"==typeof o[Ks]}function lr(o){return Array.isArray(o)&&!0===o[Ks]}function Fd(o){return 0!=(4&o.flags)}function Ms(o){return o.componentOffset>-1}function Vo(o){return 1==(1&o.flags)}function Fn(o){return!!o.template}function qa(o){return 0!=(512&o[Ut])}function Bo(o,a){return o.hasOwnProperty(Wi)?o[Wi]:null}let Pl=Qt.WeakRef??class Ol{constructor(a){this.ref=a}deref(){return this.ref}},Rc=0,ls=null,Nc=!1;function ii(o){const a=ls;return ls=o,a}class Zr{constructor(){this.id=Rc++,this.ref=function ip(o){return new Pl(o)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[a,c]of this.producers){const u=c.producerNode.deref();if(void 0!==u&&c.atTrackingVersion===this.trackingVersion){if(u.producerPollStatus(c.seenValueVersion))return!0}else this.producers.delete(a),u?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const a=Nc;Nc=!0;try{for(const[c,u]of this.consumers){const f=u.consumerNode.deref();void 0!==f&&f.trackingVersion===u.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(c),f?.producers.delete(this.id))}}finally{Nc=a}}producerAccessed(){if(Nc)throw new Error("");if(null===ls)return;let a=ls.producers.get(this.id);void 0===a?(a={consumerNode:ls.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ls.trackingVersion},ls.producers.set(this.id,a),this.consumers.set(ls.id,a)):(a.seenValueVersion=this.valueVersion,a.atTrackingVersion=ls.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ls?.consumerAllowSignalWrites}producerPollStatus(a){return this.valueVersion!==a||(this.onProducerUpdateValueVersion(),this.valueVersion!==a)}}let Lh=null;function k_(o){const a=ii(null);try{return o()}finally{ii(a)}}const Fl=()=>{};class op extends Zr{constructor(a,c,u){super(),this.watch=a,this.schedule=c,this.dirty=!1,this.cleanupFn=Fl,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=u}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const a=ii(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Fl,this.watch(this.registerOnCleanup)}finally{ii(a)}}cleanup(){this.cleanupFn()}}class Ll{constructor(a,c,u){this.previousValue=a,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function Fc(){return Wa}function Wa(o){return o.type.prototype.ngOnChanges&&(o.setInput=Kd),Zd}function Zd(){const o=Yd(this),a=o?.current;if(a){const c=o.previous;if(c===bt)o.previous=a;else for(let u in a)c[u]=a[u];o.current=null,this.ngOnChanges(a)}}function Kd(o,a,c,u){const f=this.declaredInputs[c],p=Yd(o)||function Bh(o,a){return o[ap]=a}(o,{previous:bt,current:null}),y=p.current||(p.current={}),E=p.previous,I=E[f];y[f]=new Ll(I&&I.currentValue,a,E===bt),o[u]=a}Fc.ngInherit=!0;const ap="__ngSimpleChanges__";function Yd(o){return o[ap]||null}const ks=function(o,a,c){},Jd="svg";function kn(o){for(;Array.isArray(o);)o=o[mi];return o}function Za(o,a){return kn(a[o])}function cr(o,a){return kn(a[o.index])}function Uh(o,a){return o.data[a]}function jo(o,a){return o[a]}function cs(o,a){const c=a[o];return ar(c)?c:c[mi]}function Qs(o,a){return null==a?null:o[a]}function zh(o){o[da]=0}function eu(o){1024&o[Ut]||(o[Ut]|=1024,Ya(o,1))}function Vc(o){1024&o[Ut]&&(o[Ut]&=-1025,Ya(o,-1))}function Ya(o,a){let c=o[Qn];if(null===c)return;c[Ic]+=a;let u=c;for(c=c[Qn];null!==c&&(1===a&&1===u[Ic]||-1===a&&0===u[Ic]);)c[Ic]+=a,u=c,c=c[Qn]}const kt={lFrame:su(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vl(){return kt.bindingsEnabled}function us(){return null!==kt.skipHydrationRootTNode}function ke(){return kt.lFrame.lView}function an(){return kt.lFrame.tView}function iu(o){return kt.lFrame.contextLView=o,o[Mn]}function Hc(o){return kt.lFrame.contextLView=null,o}function Ii(){let o=hp();for(;null!==o&&64===o.type;)o=o.parent;return o}function hp(){return kt.lFrame.currentTNode}function br(o,a){const c=kt.lFrame;c.currentTNode=o,c.isParent=a}function fp(){return kt.lFrame.isParent}function ri(){kt.lFrame.isParent=!1}function Wn(){return kt.lFrame.bindingIndex++}function Js(o){const a=kt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function Ul(o,a){const c=kt.lFrame;c.bindingIndex=c.bindingRootIndex=o,Zh(a)}function Zh(o){kt.lFrame.currentDirectiveIndex=o}function Hl(o){const a=kt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function qc(){return kt.lFrame.currentQueryIndex}function zo(o){kt.lFrame.currentQueryIndex=o}function $o(o){const a=o[ot];return 2===a.type?a.declTNode:1===a.type?o[Zi]:null}function Qa(o,a,c){if(c&Je.SkipSelf){let f=a,p=o;for(;!(f=f.parent,null!==f||c&Je.Host||(f=$o(p),null===f||(p=p[Lo],10&f.type))););if(null===f)return!1;a=f,o=p}const u=kt.lFrame=Zc();return u.currentTNode=a,u.lView=o,!0}function Wc(o){const a=Zc(),c=o[ot];kt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Zc(){const o=kt.lFrame,a=null===o?null:o.child;return null===a?su(o):a}function su(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function N_(){const o=kt.lFrame;return kt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Kh=N_;function Yh(){const o=N_();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Pr(){return kt.lFrame.selectedIndex}function Go(o){kt.lFrame.selectedIndex=o}function Bn(){const o=kt.lFrame;return Uh(o.tView,o.selectedIndex)}function ou(){kt.lFrame.currentNamespace=Jd}function ga(){!function au(){kt.lFrame.currentNamespace=null}()}let cu=!0;function jl(){return cu}function _a(o){cu=o}function Kc(o,a){for(let c=a.directiveStart,u=a.directiveEnd;c<u;c++){const p=o.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:R}=p;y&&(o.contentHooks??=[]).push(-c,y),E&&((o.contentHooks??=[]).push(c,E),(o.contentCheckHooks??=[]).push(c,E)),I&&(o.viewHooks??=[]).push(-c,I),S&&((o.viewHooks??=[]).push(c,S),(o.viewCheckHooks??=[]).push(c,S)),null!=R&&(o.destroyHooks??=[]).push(c,R)}}function zl(o,a,c){pi(o,a,3,c)}function du(o,a,c,u){(3&o[Ut])===c&&pi(o,a,c,u)}function Yc(o,a){let c=o[Ut];(3&c)===a&&(c&=8191,c+=1,o[Ut]=c)}function pi(o,a,c,u){const p=u??-1,y=a.length-1;let E=0;for(let I=void 0!==u?65535&o[da]:0;I<y;I++)if("number"==typeof a[I+1]){if(E=a[I],null!=u&&E>=u)break}else a[I]<0&&(o[da]+=65536),(E<p||-1==p)&&(uu(o,c,a,I),o[da]=(4294901760&o[da])+I+2),I++}function wr(o,a){ks(4,o,a);const c=ii(null);try{a.call(o)}finally{ii(c),ks(5,o,a)}}function uu(o,a,c,u){const f=c[u]<0,p=c[u+1],E=o[f?-c[u]:c[u]];f?o[Ut]>>13<o[da]>>16&&(3&o[Ut])===a&&(o[Ut]+=8192,wr(E,p)):wr(E,p)}const hn=-1;class dt{constructor(a,c,u){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function mt(o){return o!==hn}function Kr(o){return 32767&o}function ya(o,a){let c=function Jh(o){return o>>16}(o),u=a;for(;c>0;)u=u[Lo],c--;return u}let Yr=!0;function ba(o){const a=Yr;return Yr=o,a}const Rs=255,go=5;let F_=0;const Qr={};function qo(o,a){const c=ef(o,a);if(-1!==c)return c;const u=a[ot];u.firstCreatePass&&(o.injectorIndex=a.length,_o(u.data,o),_o(a,null),_o(u.blueprint,null));const f=fs(o,a),p=o.injectorIndex;if(mt(f)){const y=Kr(f),E=ya(f,a),I=E[ot].data;for(let S=0;S<8;S++)a[p+S]=E[y+S]|I[y+S]}return a[p+8]=f,p}function _o(o,a){o.push(0,0,0,0,0,0,0,0,a)}function ef(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function fs(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,u=null,f=a;for(;null!==f;){if(u=fu(f),null===u)return hn;if(c++,f=f[Lo],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return hn}function Wo(o,a,c){!function gp(o,a,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(ve)&&(u=c[ve]),null==u&&(u=c[ve]=F_++);const f=u&Rs;a.data[o+(f>>go)]|=1<<f}(o,a,c)}function Ja(o,a,c){if(c&Je.Optional||void 0!==o)return o;qe()}function Zo(o,a,c,u){if(c&Je.Optional&&void 0===u&&(u=null),!(c&(Je.Self|Je.Host))){const f=o[Ss],p=nn(void 0);try{return f?f.get(a,u,c&Je.Optional):bi(a,u,c&Je.Optional)}finally{nn(p)}}return Ja(u,0,c)}function Ns(o,a,c,u=Je.Default,f){if(null!==o){if(2048&a[Ut]&&!(u&Je.Self)){const y=function tf(o,a,c,u,f){let p=o,y=a;for(;null!==p&&null!==y&&2048&y[Ut]&&!(512&y[Ut]);){const E=wa(p,y,c,u|Je.Self,Qr);if(E!==Qr)return E;let I=p.parent;if(!I){const S=y[Sc];if(S){const R=S.get(c,Qr,u);if(R!==Qr)return R}I=fu(y),y=y[Lo]}p=I}return f}(o,a,c,u,Qr);if(y!==Qr)return y}const p=wa(o,a,c,u,Qr);if(p!==Qr)return p}return Zo(a,c,u,f)}function wa(o,a,c,u,f){const p=function Xt(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(ve)?o[ve]:void 0;return"number"==typeof a?a>=0?a&Rs:oi:a}(c);if("function"==typeof p){if(!Qa(a,o,u))return u&Je.Host?Ja(f,0,u):Zo(a,c,u,f);try{const y=p(u);if(null!=y||u&Je.Optional)return y;qe()}finally{Kh()}}else if("number"==typeof p){let y=null,E=ef(o,a),I=hn,S=u&Je.Host?a[qn][Zi]:null;for((-1===E||u&Je.SkipSelf)&&(I=-1===E?fs(o,a):a[E+8],I!==hn&&Fr(u,!1)?(y=a[ot],E=Kr(I),a=ya(I,a)):E=-1);-1!==E;){const R=a[ot];if(si(p,E,R.data)){const j=Qi(E,a,c,y,u,S);if(j!==Qr)return j}I=a[E+8],I!==hn&&Fr(u,a[ot].data[E+8]===S)&&si(p,E,a)?(y=R,E=Kr(I),a=ya(I,a)):E=-1}}return f}function Qi(o,a,c,u,f,p){const y=a[ot],E=y.data[o+8],R=xa(E,y,c,null==u?Ms(E)&&Yr:u!=y&&0!=(3&E.type),f&Je.Host&&p===E);return null!==R?Ko(a,y,R,E):Qr}function xa(o,a,c,u,f){const p=o.providerIndexes,y=a.data,E=1048575&p,I=o.directiveStart,R=p>>20,Q=f?E+R:o.directiveEnd;for(let ne=u?E:E+R;ne<Q;ne++){const Ie=y[ne];if(ne<I&&c===Ie||ne>=I&&Ie.type===c)return ne}if(f){const ne=y[I];if(ne&&Fn(ne)&&ne.type===c)return I}return null}function Ko(o,a,c,u){let f=o[c];const p=a.data;if(function dr(o){return o instanceof dt}(f)){const y=f;y.resolving&&function Pe(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new re(-200,`Circular dependency in DI detected for ${o}${c}`)}(function ye(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ce(o)}(p[c]));const E=ba(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?nn(y.injectImpl):null;Qa(o,u,Je.Default);try{f=o[c]=y.factory(void 0,p,o,u),a.firstCreatePass&&c>=u.directiveStart&&function Xh(o,a,c){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:p}=a.type.prototype;if(u){const y=Wa(a);(c.preOrderHooks??=[]).push(o,y),(c.preOrderCheckHooks??=[]).push(o,y)}f&&(c.preOrderHooks??=[]).push(0-o,f),p&&((c.preOrderHooks??=[]).push(o,p),(c.preOrderCheckHooks??=[]).push(o,p))}(c,p[c],a)}finally{null!==I&&nn(I),ba(E),y.resolving=!1,Kh()}}return f}function si(o,a,c){return!!(c[a+(o>>go)]&1<<o)}function Fr(o,a){return!(o&Je.Self||o&Je.Host&&a)}class ms{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,u){return Ns(this._tNode,this._lView,a,W(u),c)}}function oi(){return new ms(Ii(),ke())}function Si(o){return we(()=>{const a=o.prototype.constructor,c=a[Wi]||el(a),u=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==u;){const p=f[Wi]||el(f);if(p&&p!==c)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function el(o){return Xe(o)?()=>{const a=el(Oe(o));return a&&a()}:Bo(o)}function fu(o){const a=o[ot],c=a.type;return 2===c?a.declTNode:1===c?o[Zi]:null}function eo(o){return function _p(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const u=c.length;let f=0;for(;f<u;){const p=c[f];if(Pt(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<u&&"string"==typeof c[f];)f++;else{if(p===a)return c[f+1];f+=2}}}return null}(Ii(),o)}const Rn="__parameters__";function to(o,a,c){return we(()=>{const u=function ps(o){return function(...c){if(o){const u=o(...c);for(const f in u)this[f]=u[f]}}}(a);function f(...p){if(this instanceof f)return u.apply(this,p),this;const y=new f(...p);return E.annotation=y,E;function E(I,S,R){const j=I.hasOwnProperty(Rn)?I[Rn]:Object.defineProperty(I,Rn,{value:[]})[Rn];for(;j.length<=R;)j.push(null);return(j[R]=j[R]||[]).push(y),I}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}function Fs(o,a){o.forEach(c=>Array.isArray(c)?Fs(c,a):a(c))}function gu(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function _u(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Ca(o,a){const c=[];for(let u=0;u<o;u++)c.push(a);return c}function T(o,a,c){let u=H(o,a);return u>=0?o[1|u]=c:(u=~u,function ql(o,a,c,u){let f=o.length;if(f==a)o.push(c,u);else if(1===f)o.push(u,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=c,o[a+1]=u}}(o,u,a,c)),u}function A(o,a){const c=H(o,a);if(c>=0)return o[1|c]}function H(o,a){return function J(o,a,c){let u=0,f=o.length>>c;for(;f!==u;){const p=u+(f-u>>1),y=o[p<<c];if(a===y)return p<<c;y>a?f=p:u=p+1}return~(f<<c)}(o,a,1)}const yo=F(to("Optional"),8),Er=F(to("SkipSelf"),4);function j_(o){return 128==(128&o.flags)}var al=(()=>((al=al||{})[al.Important=1]="Important",al[al.DashCase=2]="DashCase",al))();const cM=/^>|^->|<!--|-->|--!>|<!-$/g,dM=/(<|>)/,uM="\u200b$1\u200b";const a0=new Map;let gC=0;const $_="__ngContext__";function es(o,a){ar(a)?(o[$_]=a[za],function hM(o){a0.set(o[za],o)}(a)):o[$_]=a}let h0;function cf(o,a){return h0(o,a)}function Ip(o){const a=o[Qn];return lr(a)?a[Qn]:a}function wC(o){return f0(o[Rl])}function W_(o){return f0(o[_r])}function f0(o){for(;null!==o&&!lr(o);)o=o[_r];return o}function Cu(o,a,c,u,f){if(null!=u){let p,y=!1;lr(u)?p=u:ar(u)&&(y=!0,u=u[mi]);const E=kn(u);0===o&&null!==c?null==f?g0(a,c,E):Iu(a,c,E,f||null,!0):1===o&&null!==c?Iu(a,c,E,f||null,!0):2===o?function X_(o,a,c){const u=Kl(o,a);u&&function _M(o,a,c,u){o.removeChild(a,c,u)}(o,u,a,c)}(a,E,y):3===o&&a.destroyNode(E),null!=p&&function yM(o,a,c,u,f){const p=c[Wr];p!==kn(c)&&Cu(a,o,u,p,f);for(let E=or;E<c.length;E++){const I=c[E];uf(I[ot],I,o,a,u,p)}}(a,o,p,c,f)}}function Z_(o,a){return o.createComment(function pC(o){return o.replace(cM,a=>a.replace(dM,uM))}(a))}function K_(o,a,c){return o.createElement(a,c)}function xC(o,a){const c=o[$a],u=c.indexOf(a);Vc(a),c.splice(u,1)}function p0(o,a){if(o.length<=or)return;const c=or+a,u=o[c];if(u){const f=u[Dc];null!==f&&f!==o&&xC(f,u),a>0&&(o[c-1][_r]=u[_r]);const p=_u(o,or+a);!function QP(o,a){uf(o,a,a[At],2,null,null),a[mi]=null,a[Zi]=null}(u[ot],u);const y=p[vr];null!==y&&y.detachView(p[ot]),u[Qn]=null,u[_r]=null,u[Ut]&=-129}return u}function Y_(o,a){if(!(256&a[Ut])){const c=a[At];a[Ac]?.destroy(),a[As]?.destroy(),c.destroyNode&&uf(o,a,c,3,null,null),function eF(o){let a=o[Rl];if(!a)return wo(o[ot],o);for(;a;){let c=null;if(ar(a))c=a[Rl];else{const u=a[or];u&&(c=u)}if(!c){for(;a&&!a[_r]&&a!==o;)ar(a)&&wo(a[ot],a),a=a[Qn];null===a&&(a=o),ar(a)&&wo(a[ot],a),c=a&&a[_r]}a=c}}(a)}}function wo(o,a){if(!(256&a[Ut])){a[Ut]&=-129,a[Ut]|=256,function Sp(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let u=0;u<c.length;u+=2){const f=a[c[u]];if(!(f instanceof dt)){const p=c[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=f[p[y]],I=p[y+1];ks(4,E,I);try{I.call(E)}finally{ks(5,E,I)}}else{ks(4,f,p);try{p.call(f)}finally{ks(5,f,p)}}}}}(o,a),function gM(o,a){const c=o.cleanup,u=a[po];if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+3];y>=0?u[y]():u[-y].unsubscribe(),p+=2}else c[p].call(u[c[p+1]]);null!==u&&(a[po]=null);const f=a[Ki];if(null!==f){a[Ki]=null;for(let p=0;p<f.length;p++)(0,f[p])()}}(o,a),1===a[ot].type&&a[At].destroy();const c=a[Dc];if(null!==c&&lr(a[Qn])){c!==a[Qn]&&xC(c,a);const u=a[vr];null!==u&&u.detachView(o)}!function _C(o){a0.delete(o[za])}(a)}}function EC(o,a,c){return function CC(o,a,c){let u=a;for(;null!==u&&40&u.type;)u=(a=u).parent;if(null===u)return c[mi];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:p}=o.data[u.directiveStart+f];if(p===xt.None||p===xt.Emulated)return null}return cr(u,c)}}(o,a.parent,c)}function Iu(o,a,c,u,f){o.insertBefore(a,c,u,f)}function g0(o,a,c){o.appendChild(a,c)}function Ap(o,a,c,u,f){null!==u?Iu(o,a,c,u,f):g0(o,a,c)}function Kl(o,a){return o.parentNode(a)}function IC(o,a,c){return df(o,a,c)}let Tu,ev,nv,iv,df=function TC(o,a,c){return 40&o.type?cr(o,c):null};function Q_(o,a,c,u){const f=EC(o,u,a),p=a[At],E=IC(u.parent||a[Zi],u,a);if(null!=f)if(Array.isArray(c))for(let I=0;I<c.length;I++)Ap(p,f,c[I],E,!1);else Ap(p,f,c,E,!1);void 0!==Tu&&Tu(p,u,a,c,f)}function kp(o,a){if(null!==a){const c=a.type;if(3&c)return cr(a,o);if(4&c)return _0(-1,o[a.index]);if(8&c){const u=a.child;if(null!==u)return kp(o,u);{const f=o[a.index];return lr(f)?_0(-1,f):kn(f)}}if(32&c)return cf(a,o)()||kn(o[a.index]);{const u=SC(o,a);return null!==u?Array.isArray(u)?u[0]:kp(Ip(o[qn]),u):kp(o,a.next)}}return null}function SC(o,a){return null!==a?o[qn][Zi].projection[a.projection]:null}function _0(o,a){const c=or+o+1;if(c<a.length){const u=a[c],f=u[ot].firstChild;if(null!==f)return kp(u,f)}return a[Wr]}function v0(o,a,c,u,f,p,y){for(;null!=c;){const E=u[c.index],I=c.type;if(y&&0===a&&(E&&es(kn(E),u),c.flags|=2),32!=(32&c.flags))if(8&I)v0(o,a,c.child,u,f,p,!1),Cu(a,o,f,E,p);else if(32&I){const S=cf(c,u);let R;for(;R=S();)Cu(a,o,f,R,p);Cu(a,o,f,E,p)}else 16&I?Du(o,a,u,c,f,p):Cu(a,o,f,E,p);c=y?c.projectionNext:c.next}}function uf(o,a,c,u,f,p){v0(c,u,o.firstChild,a,f,p,!1)}function Du(o,a,c,u,f,p){const y=c[qn],I=y[Zi].projection[u.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)Cu(a,o,f,I[S],p);else{let S=I;const R=y[Qn];j_(u)&&(S.flags|=128),v0(o,a,S,R,f,p,!0)}}function AC(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function MC(o,a,c){const{mergedAttrs:u,classes:f,styles:p}=c;null!==u&&vt(o,a,u),null!==f&&AC(o,a,f),null!==p&&function wM(o,a,c){o.setAttribute(a,"style",c)}(o,a,p)}function hf(o){return function y0(){if(void 0===ev&&(ev=null,Qt.trustedTypes))try{ev=Qt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return ev}()?.createHTML(o)||o}function ff(o){nv=o}function mf(){if(void 0!==nv)return nv;if(typeof document<"u")return document;throw new re(210,!1)}function b0(){if(void 0===iv&&(iv=null,Qt.trustedTypes))try{iv=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return iv}function RC(o){return b0()?.createHTML(o)||o}function NC(o){return b0()?.createScriptURL(o)||o}class Yl{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}class OC extends Yl{getTypeName(){return"HTML"}}class EM extends Yl{getTypeName(){return"Style"}}class CM extends Yl{getTypeName(){return"Script"}}class IM extends Yl{getTypeName(){return"URL"}}class TM extends Yl{getTypeName(){return"ResourceURL"}}function Xo(o){return o instanceof Yl?o.changingThisBreaksApplicationSecurity:o}function pf(o,a){const c=function DM(o){return o instanceof Yl&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${ft})`)}return c===a}function SM(o){return new OC(o)}function AM(o){return new EM(o)}function MM(o){return new CM(o)}function kM(o){return new IM(o)}function PC(o){return new TM(o)}class FC{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(hf(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class LC{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=hf(a),c}}const OM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sv(o){return(o=String(o)).match(OM)?o:"unsafe:"+o}function Ql(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Rp(...o){const a={};for(const c of o)for(const u in c)c.hasOwnProperty(u)&&(a[u]=!0);return a}const VC=Ql("area,br,col,hr,img,wbr"),w0=Ql("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ov=Ql("rp,rt"),av=Rp(VC,Rp(w0,Ql("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Rp(ov,Ql("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rp(ov,w0)),gf=Ql("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),UC=Rp(gf,Ql("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ql("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),LM=Ql("script,style,template");class VM{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,u=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?u=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,u&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!av.hasOwnProperty(c))return this.sanitizedSomething=!0,!LM.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const u=a.attributes;for(let f=0;f<u.length;f++){const p=u.item(f),y=p.name,E=y.toLowerCase();if(!UC.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=p.value;gf[E]&&(I=sv(I)),this.buf.push(" ",y,'="',HC(I),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();av.hasOwnProperty(c)&&!VC.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(HC(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const BM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lv=/([^\#-~ |!])/g;function HC(o){return o.replace(/&/g,"&amp;").replace(BM,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(lv,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cv;function no(o,a){let c=null;try{cv=cv||function RM(o){const a=new LC(o);return function NM(){try{return!!(new window.DOMParser).parseFromString(hf(""),"text/html")}catch{return!1}}()?new FC(a):a}(o);let u=a?String(a):"";c=cv.getInertBodyElement(u);let f=5,p=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=p,p=c.innerHTML,c=cv.getInertBodyElement(u)}while(u!==p);return hf((new VM).sanitizeChildren(dv(c)||c))}finally{if(c){const u=dv(c)||c;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function dv(o){return"content"in o&&function UM(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Xi=(()=>((Xi=Xi||{})[Xi.NONE=0]="NONE",Xi[Xi.HTML=1]="HTML",Xi[Xi.STYLE=2]="STYLE",Xi[Xi.SCRIPT=3]="SCRIPT",Xi[Xi.URL=4]="URL",Xi[Xi.RESOURCE_URL=5]="RESOURCE_URL",Xi))();function jC(o){const a=Au();return a?RC(a.sanitize(Xi.HTML,o)||""):pf(o,"HTML")?RC(Xo(o)):no(mf(),ce(o))}function _s(o){const a=Au();return a?a.sanitize(Xi.URL,o)||"":pf(o,"URL")?Xo(o):sv(ce(o))}function zC(o){const a=Au();if(a)return NC(a.sanitize(Xi.RESOURCE_URL,o)||"");if(pf(o,"ResourceURL"))return NC(Xo(o));throw new re(904,!1)}function $M(o,a,c){return function $C(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?zC:_s}(a,c)(o)}function Au(){const o=ke();return o&&o[ca].sanitizer}class An{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=jt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const uv=new An("ENVIRONMENT_INITIALIZER"),x0=new An("INJECTOR",-1),ll=new An("INJECTOR_DEF_TYPES");class GC{get(a,c=sr){if(c===sr){const u=new Error(`NullInjectorError: No provider for ${se(a)}!`);throw u.name="NullInjectorError",u}return c}}function qC(o){return{\u0275providers:o}}function oF(...o){return{\u0275providers:GM(0,o),\u0275fromNgModule:!0}}function GM(o,...a){const c=[],u=new Set;let f;return Fs(a,p=>{const y=p;hv(y,c,[],u)&&(f||=[],f.push(y))}),void 0!==f&&E0(f,c),c}function E0(o,a){for(let c=0;c<o.length;c++){const{providers:f}=o[c];C0(f,p=>{a.push(p)})}}function hv(o,a,c,u){if(!(o=Oe(o)))return!1;let f=null,p=os(o);const y=!p&&$t(o);if(p||y){if(y&&!y.standalone)return!1;f=o}else{const I=o.ngModule;if(p=os(I),!p)return!1;f=I}const E=u.has(f);if(y){if(E)return!1;if(u.add(f),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of I)hv(S,a,c,u)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let S;u.add(f);try{Fs(p.imports,R=>{hv(R,a,c,u)&&(S||=[],S.push(R))})}finally{}void 0!==S&&E0(S,a)}if(!E){const S=Bo(f)||(()=>new f);a.push({provide:f,useFactory:S,deps:_t},{provide:ll,useValue:f,multi:!0},{provide:uv,useValue:()=>Gn(f),multi:!0})}const I=p.providers;null==I||E||C0(I,R=>{a.push(R)})}}return f!==o&&void 0!==o.providers}function C0(o,a){for(let c of o)Fe(c)&&(c=c.\u0275providers),Array.isArray(c)?C0(c,a):a(c)}const qM=q({provide:String,useValue:q});function ZC(o){return null!==o&&"object"==typeof o&&qM in o}function _f(o){return"function"==typeof o}const YC=new An("Set Injector scope."),fv={},lF={};let mv;function pv(){return void 0===mv&&(mv=new GC),mv}class Mu{}class gv extends Mu{get destroyed(){return this._destroyed}constructor(a,c,u,f){super(),this.parent=c,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,JC(a,y=>this.processProvider(y)),this.records.set(x0,vf(void 0,this)),f.has("environment")&&this.records.set(Mu,vf(void 0,this));const p=this.records.get(YC);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(ll.multi,_t,Je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=$n(this),u=nn(void 0);try{return a()}finally{$n(c),nn(u)}}get(a,c=sr,u=Je.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(ae))return a[ae](this);u=W(u);const f=$n(this),p=nn(void 0);try{if(!(u&Je.SkipSelf)){let E=this.records.get(a);if(void 0===E){const I=function cF(o){return"function"==typeof o||"object"==typeof o&&o instanceof An}(a)&&jn(a);E=I&&this.injectableDefInScope(I)?vf(T0(a),fv):null,this.records.set(a,E)}if(null!=E)return this.hydrate(a,E)}return(u&Je.Self?pv():this.parent).get(a,c=u&Je.Optional&&c===sr?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[zn]=y[zn]||[]).unshift(se(a)),f)throw y;return function N(o,a,c,u){const f=o[zn];throw a[ei]&&f.unshift(a[ei]),o.message=function te(o,a,c,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=se(a);if(Array.isArray(a))f=a.map(se).join(" -> ");else if("object"==typeof a){let p=[];for(let y in a)if(a.hasOwnProperty(y)){let E=a[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):se(E)))}f=`{${p.join(", ")}}`}return`${c}${u?"("+u+")":""}[${f}]: ${o.replace(Zs,"\n  ")}`}("\n"+o.message,f,c,u),o.ngTokenPath=f,o[zn]=null,o}(y,a,"R3InjectorError",this.source)}throw y}finally{nn(p),$n(f)}}resolveInjectorInitializers(){const a=$n(this),c=nn(void 0);try{const u=this.get(uv.multi,_t,Je.Self);for(const f of u)f()}finally{$n(a),nn(c)}}toString(){const a=[],c=this.records;for(const u of c.keys())a.push(se(u));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(a){let c=_f(a=Oe(a))?a:Oe(a&&a.provide);const u=function ZM(o){return ZC(o)?vf(void 0,o.useValue):vf(QC(o),fv)}(a);if(_f(a)||!0!==a.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=vf(void 0,fv,!0),f.factory=()=>G(f.multi),this.records.set(c,f)),c=a,f.multi.push(a)}this.records.set(c,u)}hydrate(a,c){return c.value===fv&&(c.value=lF,c.value=c.factory()),"object"==typeof c.value&&c.value&&function KM(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Oe(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function T0(o){const a=jn(o),c=null!==a?a.factory:Bo(o);if(null!==c)return c;if(o instanceof An)throw new re(204,!1);if(o instanceof Function)return function WM(o){const a=o.length;if(a>0)throw Ca(a,"?"),new re(204,!1);const c=function qr(o){return o&&(o[Gi]||o[mr])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new re(204,!1)}function QC(o,a,c){let u;if(_f(o)){const f=Oe(o);return Bo(f)||T0(f)}if(ZC(o))u=()=>Oe(o.useValue);else if(function KC(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...G(o.deps||[]));else if(function I0(o){return!(!o||!o.useExisting)}(o))u=()=>Gn(Oe(o.useExisting));else{const f=Oe(o&&(o.useClass||o.provide));if(!function XC(o){return!!o.deps}(o))return Bo(f)||T0(f);u=()=>new f(...G(o.deps))}return u}function vf(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function JC(o,a){for(const c of o)Array.isArray(c)?JC(c,a):c&&Fe(c)?JC(c.\u0275providers,a):a(c)}const YM=new An("AppId",{providedIn:"root",factory:()=>dF}),dF="ng",QM=new An("Platform Initializer"),eI=new An("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),B=new An("AnimationModuleType"),Ls=new An("CSP nonce",{providedIn:"root",factory:()=>mf().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let JM=(o,a)=>null;function nk(o,a){return JM(o,a)}class Ui{}class rI{}class rk{resolveComponentFactory(a){throw function wv(o){const a=Error(`No component factory found for ${se(o)}.`);return a.ngComponent=o,a}(a)}}let Bp=(()=>{class o{}return o.NULL=new rk,o})();function sI(){return bf(Ii(),ke())}function bf(o,a){return new Up(cr(o,a))}let Up=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=sI,o})();function sk(o){return o instanceof Up?o.nativeElement:o}class oI{}let ts=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function Ev(){const o=ke(),c=cs(Ii().index,o);return(ar(c)?c:o)[At]}(),o})(),M0=(()=>{class o{}return o.\u0275prov=jt({token:o,providedIn:"root",factory:()=>null}),o})();class Cv{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Hp=new Cv("16.1.4"),wf={};function Nu(o){for(;o;){o[Ut]|=64;const a=Ip(o);if(qa(o)&&!a)return o;o=a}return null}function Iv(o){return o.ngOriginalError}class xf{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Iv(a);for(;c&&Iv(c);)c=Iv(c);return c||null}}const k0=new An("",{providedIn:"root",factory:()=>!1});function dl(o){return o instanceof Function?o():o}class Mv extends Zr{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(a){this._lView=a}onConsumerDependencyMayHaveChanged(){Nu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(a,c,u){const f=ii(this);this.trackingVersion++;try{a(c,u)}finally{ii(f)}}destroy(){this.trackingVersion++}}let Cf=null;function kv(){return Cf??=new Mv,Cf}function hI(o,a){return o[a]??kv()}function fI(o,a){const c=kv();c.hasReadASignal&&(o[a]=Cf,c.lView=o,Cf=new Mv)}const Jt={};function zp(o){Rv(an(),ke(),Pr()+o,!1)}function Rv(o,a,c,u){if(!u)if(3==(3&a[Ut])){const p=o.preOrderCheckHooks;null!==p&&zl(a,p,c)}else{const p=o.preOrderHooks;null!==p&&du(a,p,0,c)}Go(c)}function vI(o,a=null,c=null,u){const f=yI(o,a,c,u);return f.resolveInjectorInitializers(),f}function yI(o,a=null,c=null,u,f=new Set){const p=[c||_t,oF(o)];return u=u||("object"==typeof o?void 0:se(o)),new gv(p,a||pv(),u||null,f)}let rd=(()=>{class o{static create(c,u){if(Array.isArray(c))return vI({name:""},u,c,"");{const f=c.name??"";return vI({name:f},c.parent,c.providers,f)}}}return o.THROW_IF_NOT_FOUND=sr,o.NULL=new GC,o.\u0275prov=jt({token:o,providedIn:"any",factory:()=>Gn(x0)}),o.__NG_ELEMENT_ID__=-1,o})();function If(o,a=Je.Default){const c=ke();return null===c?Gn(o,a):Ns(Ii(),c,Oe(o),a)}function bI(){throw new Error("invalid")}function Ov(o,a,c,u,f,p,y,E,I,S,R){const j=a.blueprint.slice();return j[mi]=f,j[Ut]=140|u,(null!==S||o&&2048&o[Ut])&&(j[Ut]|=2048),zh(j),j[Qn]=j[Lo]=o,j[Mn]=c,j[ca]=y||o&&o[ca],j[At]=E||o&&o[At],j[Ss]=I||o&&o[Ss]||null,j[Zi]=p,j[za]=function YP(){return gC++}(),j[yr]=R,j[Sc]=S,j[qn]=2==a.type?o[qn]:j,j}function Xl(o,a,c,u,f){let p=o.data[a];if(null===p)p=function Pv(o,a,c,u,f){const p=hp(),y=fp(),I=o.data[a]=function B0(o,a,c,u,f,p){let y=a?a.injectorIndex:-1,E=0;return us()&&(E|=128),{type:c,index:u,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,a,u,f);return null===o.firstChild&&(o.firstChild=I),null!==p&&(y?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I,I.prev=p)),I}(o,a,c,u,f),function Ti(){return kt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=c,p.value=u,p.attrs=f;const y=function jc(){const o=kt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return br(p,!0),p}function Tf(o,a,c,u){if(0===c)return-1;const f=a.length;for(let p=0;p<c;p++)a.push(u),o.blueprint.push(u),o.data.push(null);return f}function Fv(o,a,c,u,f){const p=hI(a,Ac),y=Pr(),E=2&u;try{if(Go(-1),E&&a.length>un&&Rv(o,a,un,!1),ks(E?2:0,f),E)p.runInContext(c,u,f);else{const S=ii(null);try{c(u,f)}finally{ii(S)}}}finally{E&&null===a[Ac]&&fI(a,Ac),Go(y),ks(E?3:1,f)}}function P0(o,a,c){if(Fd(a)){const u=ii(null);try{const p=a.directiveEnd;for(let y=a.directiveStart;y<p;y++){const E=o.data[y];E.contentQueries&&E.contentQueries(1,c[y],y)}}finally{ii(u)}}}function F0(o,a,c){Vl()&&(function EF(o,a,c,u){const f=c.directiveStart,p=c.directiveEnd;Ms(c)&&function SF(o,a,c){const u=cr(a,o),f=V0(c);let y=16;c.signals?y=4096:c.onPush&&(y=64);const E=Sf(o,Ov(o,f,null,y,u,a,null,o[ca].rendererFactory.createRenderer(u,c),null,null,null));o[a.index]=E}(a,c,o.data[f+c.componentOffset]),o.firstCreatePass||qo(c,a),es(u,a);const y=c.initialInputs;for(let E=f;E<p;E++){const I=o.data[E],S=Ko(a,o,E,c);es(S,a),null!==y&&xk(0,E-f,S,I,0,y),Fn(I)&&(cs(c.index,a)[Mn]=Ko(a,o,E,c))}}(o,a,c,cr(c,a)),64==(64&c.flags)&&DI(o,a,c))}function L0(o,a,c=cr){const u=a.localNames;if(null!==u){let f=a.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],E=-1===y?c(a,o):o[y];o[f++]=E}}}function V0(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Lv(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function Lv(o,a,c,u,f,p,y,E,I,S,R){const j=un+u,Q=j+f,ne=function wI(o,a){const c=[];for(let u=0;u<a;u++)c.push(u<o?null:Jt);return c}(j,Q),Ie="function"==typeof S?S():S;return ne[ot]={type:o,blueprint:ne,template:c,queries:null,viewQuery:E,declTNode:a,data:ne.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:Ie,incompleteFirstPass:!1,ssrId:R}}let mk=o=>null;function gk(o,a,c,u){for(let f in o)if(o.hasOwnProperty(f)){c=null===c?{}:c;const p=o[f];null===u?_k(c,a,f,p):u.hasOwnProperty(f)&&_k(c,a,u[f],p)}return c}function _k(o,a,c,u){o.hasOwnProperty(c)?o[c].push(a,u):o[c]=[a,u]}function xo(o,a,c,u,f,p,y,E){const I=cr(a,c);let R,S=a.inputs;!E&&null!=S&&(R=S[u])?(kf(o,c,R,u,f),Ms(a)&&function II(o,a){const c=cs(a,o);16&c[Ut]||(c[Ut]|=64)}(c,a.index)):3&a.type&&(u=function CI(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),f=null!=y?y(f,a.value||"",u):f,p.setProperty(I,u,f))}function TI(o,a,c,u){if(Vl()){const f=null===u?null:{"":-1},p=function CF(o,a){const c=o.directiveRegistry;let u=null,f=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];if(aa(a,y.selectors,!1))if(u||(u=[]),Fn(y))if(null!==y.findHostDirectiveDefs){const E=[];f=f||new Map,y.findHostDirectiveDefs(y,E,f),u.unshift(...E,y),SI(o,a,E.length)}else u.unshift(y),SI(o,a,0);else f=f||new Map,y.findHostDirectiveDefs?.(y,u,f),u.push(y)}return null===u?null:[u,f]}(o,c);let y,E;null===p?y=E=null:[y,E]=p,null!==y&&Bv(o,a,c,y,f,E),f&&function wk(o,a,c){if(a){const u=o.localNames=[];for(let f=0;f<a.length;f+=2){const p=c[a[f+1]];if(null==p)throw new re(-301,!1);u.push(a[f],p)}}}(c,u,f)}c.mergedAttrs=ln(c.mergedAttrs,c.attrs)}function Bv(o,a,c,u,f,p){for(let S=0;S<u.length;S++)Wo(qo(c,a),o,u[S].type);!function TF(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}(c,o.data.length,u.length);for(let S=0;S<u.length;S++){const R=u[S];R.providersResolver&&R.providersResolver(R)}let y=!1,E=!1,I=Tf(o,a,u.length,null);for(let S=0;S<u.length;S++){const R=u[S];c.mergedAttrs=ln(c.mergedAttrs,R.hostAttrs),DF(o,c,a,I,R),IF(I,R,f),null!==R.contentQueries&&(c.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(c.flags|=64);const j=R.type.prototype;!y&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((o.preOrderHooks??=[]).push(c.index),y=!0),!E&&(j.ngOnChanges||j.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(c.index),E=!0),I++}!function vk(o,a,c){const f=a.directiveEnd,p=o.data,y=a.attrs,E=[];let I=null,S=null;for(let R=a.directiveStart;R<f;R++){const j=p[R],Q=c?c.get(j):null,Ie=Q?Q.outputs:null;I=gk(j.inputs,R,I,Q?Q.inputs:null),S=gk(j.outputs,R,S,Ie);const He=null===I||null===y||Ha(a)?null:H0(I,R,y);E.push(He)}null!==I&&(I.hasOwnProperty("class")&&(a.flags|=8),I.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=I,a.outputs=S}(o,c,p)}function DI(o,a,c){const u=c.directiveStart,f=c.directiveEnd,p=c.index,y=function Gc(){return kt.lFrame.currentDirectiveIndex}();try{Go(p);for(let E=u;E<f;E++){const I=o.data[E],S=a[E];Zh(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&bk(I,S)}}finally{Go(-1),Zh(y)}}function bk(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function SI(o,a,c){a.componentOffset=c,(o.components??=[]).push(a.index)}function IF(o,a,c){if(c){if(a.exportAs)for(let u=0;u<a.exportAs.length;u++)c[a.exportAs[u]]=o;Fn(a)&&(c[""]=o)}}function DF(o,a,c,u,f){o.data[u]=f;const p=f.factory||(f.factory=Bo(f.type)),y=new dt(p,Fn(f),If);o.blueprint[u]=y,c[u]=y,function xF(o,a,c,u,f){const p=f.hostBindings;if(p){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const E=~a.index;(function yk(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(y)!=E&&y.push(E),y.push(c,u,p)}}(o,a,u,Tf(o,c,f.hostVars,Jt),f)}function Jl(o,a,c,u,f,p){const y=cr(o,a);!function Df(o,a,c,u,f,p,y){if(null==p)o.removeAttribute(a,f,c);else{const E=null==y?ce(p):y(p,u||"",f);o.setAttribute(a,f,E,c)}}(a[At],y,p,o.value,c,u,f)}function xk(o,a,c,u,f,p){const y=p[a];if(null!==y)for(let E=0;E<y.length;)Uv(u,c,y[E++],y[E++],y[E++])}function Uv(o,a,c,u,f){const p=ii(null);try{const y=o.inputTransforms;null!==y&&y.hasOwnProperty(u)&&(f=y[u].call(a,f)),null!==o.setInput?o.setInput(a,f,c,u):a[u]=f}finally{ii(p)}}function H0(o,a,c){let u=null,f=0;for(;f<c.length;){const p=c[f];if(0!==p)if(5!==p){if("number"==typeof p)break;if(o.hasOwnProperty(p)){null===u&&(u=[]);const y=o[p];for(let E=0;E<y.length;E+=2)if(y[E]===a){u.push(p,y[E+1],c[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function Hv(o,a,c,u){return[o,!0,!1,a,null,0,u,c,null,null,null]}function jv(o,a){const c=o.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const p=c[u+1];if(-1!==p){const y=o.data[p];zo(c[u]),y.contentQueries(2,a[p],p)}}}function Sf(o,a){return o[Rl]?o[Tc][_r]=a:o[Rl]=a,o[Tc]=a,a}function $p(o,a,c){zo(0);const u=ii(null);try{a(o,c)}finally{ii(u)}}function Af(o){return o[po]||(o[po]=[])}function MI(o){return o.cleanup||(o.cleanup=[])}function Mf(o,a,c){return(null===o||Fn(o))&&(c=function Lc(o){for(;Array.isArray(o);){if("object"==typeof o[Ks])return o;o=o[mi]}return null}(c[a.index])),c[At]}function zv(o,a){const c=o[Ss],u=c?c.get(xf,null):null;u&&u.handleError(a)}function kf(o,a,c,u,f){for(let p=0;p<c.length;){const y=c[p++],E=c[p++];Uv(o.data[y],a[y],u,E,f)}}function j0(o,a){const c=cs(a,o),u=c[ot];!function Ek(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])}(u,c);const f=c[mi];null!==f&&null===c[yr]&&(c[yr]=nk(f,c[Ss])),Eo(u,c,c[Mn])}function Eo(o,a,c){Wc(a);try{const u=o.viewQuery;null!==u&&$p(1,u,c);const f=o.template;null!==f&&Fv(o,a,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&jv(o,a),o.staticViewQueries&&$p(2,o.viewQuery,c);const p=o.components;null!==p&&function lt(o,a){for(let c=0;c<a.length;c++)j0(o,a[c])}(a,p)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{a[Ut]&=-5,Yh()}}let Rf=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(c,u,f){const p=typeof Zone>"u"?null:Zone.current,y=new op(c,S=>{this.all.has(S)&&this.queue.set(S,p)},f);let E;this.all.add(y),y.notify();const I=()=>{y.cleanup(),E?.(),this.all.delete(y),this.queue.delete(y)};return E=u?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[c,u]of this.queue)this.queue.delete(c),u?u.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return o.\u0275prov=jt({token:o,providedIn:"root",factory:()=>new o}),o})();function Nf(o,a,c){let u=c?o.styles:null,f=c?o.classes:null,p=0;if(null!==a)for(let y=0;y<a.length;y++){const E=a[y];"number"==typeof E?p=E:1==p?f=Ve(f,E):2==p&&(u=Ve(u,E+": "+a[++y]+";"))}c?o.styles=u:o.stylesWithoutHost=u,c?o.classes=f:o.classesWithoutHost=f}function Gp(o,a,c,u,f=!1){for(;null!==c;){const p=a[c.index];if(null!==p&&u.push(kn(p)),lr(p)){for(let E=or;E<p.length;E++){const I=p[E],S=I[ot].firstChild;null!==S&&Gp(I[ot],I,S,u)}p[Wr]!==p[mi]&&u.push(p[Wr])}const y=c.type;if(8&y)Gp(o,a,c.child,u);else if(32&y){const E=cf(c,a);let I;for(;I=E();)u.push(I)}else if(16&y){const E=SC(a,c);if(Array.isArray(E))u.push(...E);else{const I=Ip(a[qn]);Gp(I[ot],I,E,u,!0)}}c=f?c.projectionNext:c.next}return u}function $v(o,a,c,u=!0){const f=a[ca].rendererFactory;f.begin&&f.begin();try{qp(o,a,o.template,c)}catch(y){throw u&&zv(a,y),y}finally{f.end&&f.end(),a[ca].effectManager?.flush()}}function qp(o,a,c,u){const f=a[Ut];if(256!=(256&f)){a[ca].effectManager?.flush(),Wc(a);try{zh(a),function zc(o){return kt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&Fv(o,a,c,2,u);const y=3==(3&f);if(y){const S=o.preOrderCheckHooks;null!==S&&zl(a,S,null)}else{const S=o.preOrderHooks;null!==S&&du(a,S,0,null),Yc(a,0)}if(function od(o){for(let a=wC(o);null!==a;a=W_(a)){if(!a[ua])continue;const c=a[$a];for(let u=0;u<c.length;u++){eu(c[u])}}}(a),Cr(a,2),null!==o.contentQueries&&jv(o,a),y){const S=o.contentCheckHooks;null!==S&&zl(a,S)}else{const S=o.contentHooks;null!==S&&du(a,S,1),Yc(a,1)}!function fk(o,a){const c=o.hostBindingOpCodes;if(null===c)return;const u=hI(a,As);try{for(let f=0;f<c.length;f++){const p=c[f];if(p<0)Go(~p);else{const y=p,E=c[++f],I=c[++f];Ul(E,y),u.runInContext(I,2,a[y])}}}finally{null===a[As]&&fI(a,As),Go(-1)}}(o,a);const E=o.components;null!==E&&Gv(a,E,0);const I=o.viewQuery;if(null!==I&&$p(2,I,u),y){const S=o.viewCheckHooks;null!==S&&zl(a,S)}else{const S=o.viewHooks;null!==S&&du(a,S,2),Yc(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Ut]&=-73,Vc(a)}finally{Yh()}}}function Cr(o,a){for(let c=wC(o);null!==c;c=W_(c))for(let u=or;u<c.length;u++)G0(c[u],a)}function Ik(o,a,c){G0(cs(a,o),c)}function G0(o,a){if(!function Hh(o){return 128==(128&o[Ut])}(o))return;const c=o[ot];if(80&o[Ut]&&0===a||1024&o[Ut]||2===a)qp(c,o,c.template,o[Mn]);else if(o[Ic]>0){Cr(o,1);const f=o[ot].components;null!==f&&Gv(o,f,1)}}function Gv(o,a,c){for(let u=0;u<a.length;u++)Ik(o,a[u],c)}class Of{get rootNodes(){const a=this._lView,c=a[ot];return Gp(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mn]}set context(a){this._lView[Mn]=a}get destroyed(){return 256==(256&this._lView[Ut])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Qn];if(lr(a)){const c=a[8],u=c?c.indexOf(this):-1;u>-1&&(p0(a,u),_u(c,u))}this._attachedToViewContainer=!1}Y_(this._lView[ot],this._lView)}onDestroy(a){!function ds(o,a){if(256==(256&o[Ut]))throw new re(911,!1);null===o[Ki]&&(o[Ki]=[]),o[Ki].push(a)}(this._lView,a)}markForCheck(){Nu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ut]&=-129}reattach(){this._lView[Ut]|=128}detectChanges(){$v(this._lView[ot],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function JP(o,a){uf(o,a,a[At],2,null,null)}(this._lView[ot],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=a}}class ys extends Of{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;$v(a[ot],a,a[Mn],!1)}checkNoChanges(){}get context(){return null}}class kI extends Bp{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=$t(a);return new Pu(c,this.ngModule)}}function Pf(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class ul{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,u){u=W(u);const f=this.injector.get(a,wf,u);return f!==wf||c===wf?f:this.parentInjector.get(a,c,u)}}class Pu extends rI{get inputs(){const a=this.componentDef,c=a.inputTransforms,u=Pf(a.inputs);if(null!==c)for(const f of u)c.hasOwnProperty(f.propName)&&(f.transform=c[f.propName]);return u}get outputs(){return Pf(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function Ah(o){return o.map(S_).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,u,f){let p=(f=f||this.ngModule)instanceof Mu?f:f?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new ul(a,p):a,E=y.get(oI,null);if(null===E)throw new re(407,!1);const R={rendererFactory:E,sanitizer:y.get(M0,null),effectManager:y.get(Rf,null)},j=E.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",ne=u?function xI(o,a,c,u){const p=u.get(k0,!1)||c===xt.ShadowDom,y=o.selectRootElement(a,p);return function EI(o){mk(o)}(y),y}(j,u,this.componentDef.encapsulation,y):K_(j,Q,function qv(o){const a=o.toLowerCase();return"svg"===a?Jd:"math"===a?"math":null}(Q)),nt=this.componentDef.signals?4608:this.componentDef.onPush?576:528,yt=Lv(0,null,null,1,0,null,null,null,null,null,null),Ae=Ov(null,yt,null,nt,null,null,R,j,y,null,null);let Wt,cn;Wc(Ae);try{const fn=this.componentDef;let Ri,qg=null;fn.findHostDirectiveDefs?(Ri=[],qg=new Map,fn.findHostDirectiveDefs(fn,Ri,qg),Ri.push(fn)):Ri=[fn];const a1=function Ff(o,a){const c=o[ot],u=un;return o[u]=a,Xl(c,u,2,"#host",null)}(Ae,ne),Zx=function RI(o,a,c,u,f,p,y){const E=f[ot];!function q0(o,a,c,u){for(const f of o)a.mergedAttrs=ln(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(Nf(a,a.mergedAttrs,!0),null!==c&&MC(u,c,a))}(u,o,a,y);let I=null;null!==a&&(I=nk(a,f[Ss]));const S=p.rendererFactory.createRenderer(a,c);let R=16;c.signals?R=4096:c.onPush&&(R=64);const j=Ov(f,V0(c),null,R,f[o.index],o,p,S,null,null,I);return E.firstCreatePass&&SI(E,o,u.length-1),Sf(f,j),f[o.index]=j}(a1,ne,fn,Ri,Ae,R,j);cn=Uh(yt,un),ne&&function Dk(o,a,c,u){if(u)vt(o,c,["ng-version",Hp.full]);else{const{attrs:f,classes:p}=function Ec(o){const a=[],c=[];let u=1,f=2;for(;u<o.length;){let p=o[u];if("string"==typeof p)2===f?""!==p&&a.push(p,o[++u]):8===f&&c.push(p);else{if(!Rr(f))break;f=p}u++}return{attrs:a,classes:c}}(a.selectors[0]);f&&vt(o,c,f),p&&p.length>0&&AC(o,c,p.join(" "))}}(j,fn,ne,u),void 0!==c&&function OI(o,a,c){const u=o.projection=[];for(let f=0;f<a.length;f++){const p=c[f];u.push(null!=p?Array.from(p):null)}}(cn,this.ngContentSelectors,c),Wt=function NI(o,a,c,u,f,p){const y=Ii(),E=f[ot],I=cr(y,f);Bv(E,f,y,c,null,u);for(let R=0;R<c.length;R++)es(Ko(f,E,y.directiveStart+R,y),f);DI(E,f,y),I&&es(I,f);const S=Ko(f,E,y.directiveStart+y.componentOffset,y);if(o[Mn]=f[Mn]=S,null!==p)for(const R of p)R(S,a);return P0(E,y,o),S}(Zx,fn,Ri,qg,Ae,[W0]),Eo(yt,Ae,null)}finally{Yh()}return new Tk(this.componentType,Wt,bf(cn,Ae),Ae,cn)}}class Tk extends Ui{constructor(a,c,u,f,p){super(),this.location=u,this._rootLView=f,this._tNode=p,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new ys(f),this.componentType=a}setInput(a,c){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const p=this._rootLView;kf(p[ot],p,f,a,c),this.previousInputValues.set(a,c),Nu(cs(this._tNode.index,p))}}get injector(){return new ms(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function W0(){const o=Ii();Kc(ke()[ot],o)}function Wp(o){let a=function Wv(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const u=[o];for(;a;){let f;if(Fn(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new re(903,!1);f=a.\u0275dir}if(f){if(c){u.push(f);const y=o;y.inputs=Lf(o.inputs),y.inputTransforms=Lf(o.inputTransforms),y.declaredInputs=Lf(o.declaredInputs),y.outputs=Lf(o.outputs);const E=f.hostBindings;E&&Zp(o,E);const I=f.viewQuery,S=f.contentQueries;if(I&&PI(o,I),S&&Sk(o,S),Z(o.inputs,f.inputs),Z(o.declaredInputs,f.declaredInputs),Z(o.outputs,f.outputs),null!==f.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),Z(y.inputTransforms,f.inputTransforms)),Fn(f)&&f.data.animation){const R=o.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(o),E===Wp&&(c=!1)}}a=Object.getPrototypeOf(a)}!function Z0(o){let a=0,c=null;for(let u=o.length-1;u>=0;u--){const f=o[u];f.hostVars=a+=f.hostVars,f.hostAttrs=ln(f.hostAttrs,c=ln(c,f.hostAttrs))}}(u)}function Lf(o){return o===bt?{}:o===_t?[]:o}function PI(o,a){const c=o.viewQuery;o.viewQuery=c?(u,f)=>{a(u,f),c(u,f)}:a}function Sk(o,a){const c=o.contentQueries;o.contentQueries=c?(u,f,p)=>{a(u,f,p),c(u,f,p)}:a}function Zp(o,a){const c=o.hostBindings;o.hostBindings=c?(u,f)=>{a(u,f),c(u,f)}:a}function Y0(o){const a=o.inputConfig,c={};for(const u in a)if(a.hasOwnProperty(u)){const f=a[u];Array.isArray(f)&&f[2]&&(c[u]=f[2])}o.inputTransforms=c}function Vf(o){return!!Qp(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Qp(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ns(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function ew(o,a,c,u){const f=ke();return ns(f,Wn(),a)&&(an(),Jl(Bn(),f,o,a,c,u)),ew}function cd(o,a,c,u){return ns(o,Wn(),c)?a+ce(c)+u:Jt}function aw(o,a,c,u,f,p,y,E){const I=ke(),S=an(),R=o+un,j=S.firstCreatePass?function rg(o,a,c,u,f,p,y,E,I){const S=a.consts,R=Xl(a,o,4,y||null,Qs(S,E));TI(a,c,R,Qs(S,I)),Kc(a,R);const j=R.tView=Lv(2,R,u,f,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S,null);return null!==a.queries&&(a.queries.template(a,R),j.queries=a.queries.embeddedTView(R)),R}(R,S,I,a,c,u,f,p,y):S.data[R];br(j,!1);const Q=YI(S,I,j,o);jl()&&Q_(S,I,Q,j),es(Q,I),Sf(I,I[R]=Hv(Q,I,Q,j)),Vo(j)&&F0(S,I,j),null!=y&&L0(I,j,E)}let YI=function ny(o,a,c,u){return _a(!0),a[At].createComment("")};function cw(o){return jo(function ru(){return kt.lFrame.contextLView}(),un+o)}function ry(o,a,c){const u=ke();return ns(u,Wn(),a)&&xo(an(),Bn(),u,o,a,u[At],c,!1),ry}function dw(o,a,c,u,f){const y=f?"class":"style";kf(o,c,a.inputs[y],y,u)}function og(o,a,c,u){const f=ke(),p=an(),y=un+o,E=f[At],I=p.firstCreatePass?function sg(o,a,c,u,f,p){const y=a.consts,I=Xl(a,o,2,u,Qs(y,f));return TI(a,c,I,Qs(y,p)),null!==I.attrs&&Nf(I,I.attrs,!1),null!==I.mergedAttrs&&Nf(I,I.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,I),I}(y,p,f,a,c,u):p.data[y],S=fd(p,f,I,E,a,o);f[y]=S;const R=Vo(I);return br(I,!0),MC(E,S,I),32!=(32&I.flags)&&jl()&&Q_(p,f,S,I),0===function R_(){return kt.lFrame.elementDepthCount}()&&es(S,f),function nu(){kt.lFrame.elementDepthCount++}(),R&&(F0(p,f,I),P0(p,I,f)),null!==u&&L0(f,I),og}function Fu(){let o=Ii();fp()?ri():(o=o.parent,br(o,!1));const a=o;(function Uc(o){return kt.skipHydrationRootTNode===o})(a)&&function up(){kt.skipHydrationRootTNode=null}(),function cp(){kt.lFrame.elementDepthCount--}();const c=an();return c.firstCreatePass&&(Kc(c,o),Fd(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function pp(o){return 0!=(8&o.flags)}(a)&&dw(c,a,ke(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Xa(o){return 0!=(16&o.flags)}(a)&&dw(c,a,ke(),a.stylesWithoutHost,!1),Fu}function Lu(o,a,c,u){return og(o,a,c,u),Fu(),Lu}let fd=(o,a,c,u,f,p)=>(_a(!0),K_(u,f,function lu(){return kt.lFrame.currentNamespace}()));function ag(o,a,c){const u=ke(),f=an(),p=o+un,y=f.firstCreatePass?function Bk(o,a,c,u,f){const p=a.consts,y=Qs(p,u),E=Xl(a,o,8,"ng-container",y);return null!==y&&Nf(E,y,!0),TI(a,c,E,Qs(p,f)),null!==a.queries&&a.queries.elementStart(a,E),E}(p,f,u,a,c):f.data[p];br(y,!0);const E=md(f,u,y,o);return u[p]=E,jl()&&Q_(f,u,E,y),es(E,u),Vo(y)&&(F0(f,u,y),P0(f,y,u)),null!=c&&L0(u,y),ag}function lg(){let o=Ii();const a=an();return fp()?ri():(o=o.parent,br(o,!1)),a.firstCreatePass&&(Kc(a,o),Fd(o)&&a.queries.elementEnd(o)),lg}function hw(o,a,c){return ag(o,a,c),lg(),hw}let md=(o,a,c,u)=>(_a(!0),Z_(a[At],""));function cg(){return ke()}function oy(o){return!!o&&"function"==typeof o.then}function ai(o){return!!o&&"function"==typeof o.subscribe}function Wf(o,a,c,u){const f=ke(),p=an(),y=Ii();return XI(p,f,f[At],y,o,a,u),Wf}function Vu(o,a){const c=Ii(),u=ke(),f=an();return XI(f,u,Mf(Hl(f.data),c,u),c,o,a),Vu}function XI(o,a,c,u,f,p,y){const E=Vo(u),S=o.firstCreatePass&&MI(o),R=a[Mn],j=Af(a);let Q=!0;if(3&u.type||y){const He=cr(u,a),nt=y?y(He):He,yt=j.length,Ae=y?cn=>y(kn(cn[u.index])):u.index;let Wt=null;if(!y&&E&&(Wt=function dg(o,a,c,u){const f=o.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const y=f[p];if(y===c&&f[p+1]===u){const E=a[po],I=f[p+2];return E.length>I?E[I]:null}"string"==typeof y&&(p+=2)}return null}(o,a,f,u.index)),null!==Wt)(Wt.__ngLastListenerFn__||Wt).__ngNextListenerFn__=p,Wt.__ngLastListenerFn__=p,Q=!1;else{p=JI(u,a,R,p,!1);const cn=c.listen(nt,f,p);j.push(p,cn),S&&S.push(f,Ae,yt,yt+1)}}else p=JI(u,a,R,p,!1);const ne=u.outputs;let Ie;if(Q&&null!==ne&&(Ie=ne[f])){const He=Ie.length;if(He)for(let nt=0;nt<He;nt+=2){const fn=a[Ie[nt]][Ie[nt+1]].subscribe(p),Ri=j.length;j.push(p,fn),S&&S.push(f,u.index,Ri,-(Ri+1))}}}function fw(o,a,c,u){try{return ks(6,a,c),!1!==c(u)}catch(f){return zv(o,f),!1}finally{ks(7,a,c)}}function JI(o,a,c,u,f){return function p(y){if(y===Function)return u;Nu(o.componentOffset>-1?cs(o.index,a):a);let I=fw(a,c,u,y),S=p.__ngNextListenerFn__;for(;S;)I=fw(a,c,S,y)&&I,S=S.__ngNextListenerFn__;return f&&!1===I&&y.preventDefault(),I}}function eT(o=1){return function Qh(o){return(kt.lFrame.contextLView=function O_(o,a){for(;o>0;)a=a[Lo],o--;return a}(o,kt.lFrame.contextLView))[Mn]}(o)}function Uk(o,a){let c=null;const u=function Ym(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(o);for(let f=0;f<a.length;f++){const p=a[f];if("*"!==p){if(null===u?aa(o,p,!0):D_(u,p))return f}else c=f}return c}function tT(o){const a=ke()[qn][Zi];if(!a.projection){const u=a.projection=Ca(o?o.length:1,null),f=u.slice();let p=a.child;for(;null!==p;){const y=o?Uk(p,o):0;null!==y&&(f[y]?f[y].projectionNext=p:u[y]=p,f[y]=p),p=p.next}}}function Zf(o,a=0,c){const u=ke(),f=an(),p=Xl(f,un+o,16,null,c||null);null===p.projection&&(p.projection=a),ri(),(!u[yr]||us())&&32!=(32&p.flags)&&function J_(o,a,c){Du(a[At],0,a,c,EC(o,c,a),IC(c.parent||a[Zi],c,a))}(f,u,p)}function fl(o,a,c){return ay(o,"",a,"",c),fl}function ay(o,a,c,u,f){const p=ke(),y=cd(p,a,c,u);return y!==Jt&&xo(an(),Bn(),p,o,y,p[At],f,!1),ay}function ug(o,a){return o<<17|a<<2}function ml(o){return o>>17&32767}function ly(o){return 2|o}function Uu(o){return(131068&o)>>2}function yw(o,a){return-131069&o|a<<2}function bw(o){return 1|o}function Ew(o,a,c,u,f){const p=o[c+1],y=null===a;let E=u?ml(p):Uu(p),I=!1;for(;0!==E&&(!1===I||y);){const R=o[E+1];hg(o[E],a)&&(I=!0,o[E+1]=u?bw(R):ly(R)),E=u?ml(R):Uu(R)}I&&(o[c+1]=u?ly(p):bw(p))}function hg(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&H(o,a)>=0}const Mi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oT(o){return o.substring(Mi.key,Mi.keyEnd)}function lT(o,a){const c=Mi.textEnd;return c===a?-1:(a=Mi.keyEnd=function dT(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,Mi.key=a,c),Hu(o,a,c))}function Hu(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function hy(o,a,c){return Jo(o,a,c,!1),hy}function fg(o,a){return Jo(o,a,null,!0),fg}function fy(o){!function ro(o,a,c,u){const f=an(),p=Js(2);f.firstUpdatePass&&Dw(f,null,p,u);const y=ke();if(c!==Jt&&ns(y,p,c)){const E=f.data[Pr()];if(_g(E,u)&&!hT(f,p)){let I=u?E.classesWithoutHost:E.stylesWithoutHost;null!==I&&(c=Ve(I,c||"")),dw(f,E,y,c,u)}else!function ju(o,a,c,u,f,p,y,E){f===Jt&&(f=_t);let I=0,S=0,R=0<f.length?f[0]:null,j=0<p.length?p[0]:null;for(;null!==R||null!==j;){const Q=I<f.length?f[I+1]:void 0,ne=S<p.length?p[S+1]:void 0;let He,Ie=null;R===j?(I+=2,S+=2,Q!==ne&&(Ie=j,He=ne)):null===j||null!==R&&R<j?(I+=2,Ie=R):(S+=2,Ie=j,He=ne),null!==Ie&&Mw(o,a,c,u,Ie,He,y,E),R=I<f.length?f[I]:null,j=S<p.length?p[S]:null}}(f,E,y,y[At],y[p+1],y[p+1]=function my(o,a,c){if(null==c||""===c)return _t;const u=[],f=Xo(c);if(Array.isArray(f))for(let p=0;p<f.length;p++)o(u,f[p],!0);else if("object"==typeof f)for(const p in f)f.hasOwnProperty(p)&&o(u,p,f[p]);else"string"==typeof f&&a(u,f);return u}(o,a,c),u,p)}}(pT,Io,o,!0)}function Io(o,a){for(let c=function aT(o){return function Cw(o){Mi.key=0,Mi.keyEnd=0,Mi.value=0,Mi.valueEnd=0,Mi.textEnd=o.length}(o),lT(o,Hu(o,0,Mi.textEnd))}(a);c>=0;c=lT(a,c))T(o,oT(a),!0)}function Jo(o,a,c,u){const f=ke(),p=an(),y=Js(2);p.firstUpdatePass&&Dw(p,o,y,u),a!==Jt&&ns(f,y,a)&&Mw(p,p.data[Pr()],f,f[At],o,f[y+1]=function gT(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=se(Xo(o)))),o}(a,c),u,y)}function hT(o,a){return a>=o.expandoStartIndex}function Dw(o,a,c,u){const f=o.data;if(null===f[c+1]){const p=f[Pr()],y=hT(o,c);_g(p,u)&&null===a&&!y&&(a=!1),a=function mg(o,a,c,u){const f=Hl(o);let p=u?a.residualClasses:a.residualStyles;if(null===f)0===(u?a.classBindings:a.styleBindings)&&(c=Kf(c=pg(null,o,a,c,u),a.attrs,u),p=null);else{const y=a.directiveStylingLast;if(-1===y||o[y]!==f)if(c=pg(f,o,a,c,u),null===p){let I=function fT(o,a,c){const u=c?a.classBindings:a.styleBindings;if(0!==Uu(u))return o[ml(u)]}(o,a,u);void 0!==I&&Array.isArray(I)&&(I=pg(null,o,a,I[1],u),I=Kf(I,a.attrs,u),function mT(o,a,c,u){o[ml(c?a.classBindings:a.styleBindings)]=u}(o,a,u,I))}else p=function Sw(o,a,c){let u;const f=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<f;p++)u=Kf(u,o[p].hostAttrs,c);return Kf(u,a.attrs,c)}(o,a,u)}return void 0!==p&&(u?a.residualClasses=p:a.residualStyles=p),c}(f,p,a,u),function dy(o,a,c,u,f,p){let y=p?a.classBindings:a.styleBindings,E=ml(y),I=Uu(y);o[u]=c;let R,S=!1;if(Array.isArray(c)?(R=c[1],(null===R||H(c,R)>0)&&(S=!0)):R=c,f)if(0!==I){const Q=ml(o[E+1]);o[u+1]=ug(Q,E),0!==Q&&(o[Q+1]=yw(o[Q+1],u)),o[E+1]=function sT(o,a){return 131071&o|a<<17}(o[E+1],u)}else o[u+1]=ug(E,0),0!==E&&(o[E+1]=yw(o[E+1],u)),E=u;else o[u+1]=ug(I,0),0===E?E=u:o[I+1]=yw(o[I+1],u),I=u;S&&(o[u+1]=ly(o[u+1])),Ew(o,R,u,!0),Ew(o,R,u,!1),function xw(o,a,c,u,f){const p=f?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof a&&H(p,a)>=0&&(c[u+1]=bw(c[u+1]))}(a,R,o,u,p),y=ug(E,I),p?a.classBindings=y:a.styleBindings=y}(f,p,a,c,y,u)}}function pg(o,a,c,u,f){let p=null;const y=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<y&&(p=a[E],u=Kf(u,p.hostAttrs,f),p!==o);)E++;return null!==o&&(c.directiveStylingLast=E),u}function Kf(o,a,c){const u=c?1:2;let f=-1;if(null!==a)for(let p=0;p<a.length;p++){const y=a[p];"number"==typeof y?f=y:f===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),T(o,y,!!c||a[++p]))}return void 0===o?null:o}function pT(o,a,c){const u=String(a);""!==u&&!u.includes(" ")&&T(o,u,c)}function Mw(o,a,c,u,f,p,y,E){if(!(3&a.type))return;const I=o.data,S=I[E+1],R=function Hk(o){return 1==(1&o)}(S)?kw(I,a,c,f,Uu(S),y):void 0;gg(R)||(gg(p)||function vw(o){return 2==(2&o)}(S)&&(p=kw(I,null,c,f,E,y)),function bM(o,a,c,u,f){if(a)f?o.addClass(c,u):o.removeClass(c,u);else{let p=-1===u.indexOf("-")?void 0:al.DashCase;null==f?o.removeStyle(c,u,p):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),p|=al.Important),o.setStyle(c,u,f,p))}}(u,y,Za(Pr(),c),f,p))}function kw(o,a,c,u,f,p){const y=null===a;let E;for(;f>0;){const I=o[f],S=Array.isArray(I),R=S?I[1]:I,j=null===R;let Q=c[f+1];Q===Jt&&(Q=j?_t:void 0);let ne=j?A(Q,u):R===u?Q:void 0;if(S&&!gg(ne)&&(ne=A(I,u)),gg(ne)&&(E=ne,y))return E;const Ie=o[f+1];f=y?ml(Ie):Uu(Ie)}if(null!==a){let I=p?a.residualClasses:a.residualStyles;null!=I&&(E=A(I,u))}return E}function gg(o){return void 0!==o}function _g(o,a){return 0!=(o.flags&(a?8:16))}function so(o,a=""){const c=ke(),u=an(),f=o+un,p=u.firstCreatePass?Xl(u,f,1,a,null):u.data[f],y=Rw(u,c,p,a,o);c[f]=y,jl()&&Q_(u,c,y,p),br(p,!1)}let Rw=(o,a,c,u,f)=>(_a(!0),function Dp(o,a){return o.createText(a)}(a[At],u));function Nw(o){return oo("",o,""),Nw}function oo(o,a,c){const u=ke(),f=cd(u,o,a,c);return f!==Jt&&function sd(o,a,c){const u=Za(a,o);!function m0(o,a,c){o.setValue(a,c)}(o[At],u,c)}(u,Pr(),f),oo}function Vw(o,a,c){const u=ke();return ns(u,Wn(),a)&&xo(an(),Bn(),u,o,a,u[At],c,!0),Vw}function Ue(o,a,c){const u=ke();if(ns(u,Wn(),a)){const p=an(),y=Bn();xo(p,y,u,o,a,Mf(Hl(p.data),y,u),c,!0)}return Ue}const Xn=void 0;var Bw=["en",[["a","p"],["AM","PM"],Xn],[["AM","PM"],Xn,Xn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xn,"{1} 'at' {0}",Xn],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ta(o){const c=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let ct={};function Uw(o){const a=function Zk(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=Ne(a);if(c)return c;const u=a.split("-")[0];if(c=Ne(u),c)return c;if("en"===u)return Bw;throw new re(701,!1)}function me(o){return Uw(o)[Nt.PluralCase]}function Ne(o){return o in ct||(ct[o]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[o]),ct[o]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const Xf="en-US";let Hw=Xf;function Kw(o,a,c,u,f){if(o=Oe(o),Array.isArray(o))for(let p=0;p<o.length;p++)Kw(o[p],a,c,u,f);else{const p=an(),y=ke();let E=_f(o)?o:Oe(o.provide),I=QC(o);const S=Ii(),R=1048575&S.providerIndexes,j=S.directiveStart,Q=S.providerIndexes>>20;if(_f(o)||!o.multi){const ne=new dt(I,f,If),Ie=ka(E,a,f?R:R+Q,j);-1===Ie?(Wo(qo(S,y),p,E),gl(p,o,a.length),a.push(E),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),c.push(ne),y.push(ne)):(c[Ie]=ne,y[Ie]=ne)}else{const ne=ka(E,a,R+Q,j),Ie=ka(E,a,R,R+Q),nt=Ie>=0&&c[Ie];if(f&&!nt||!f&&!(ne>=0&&c[ne])){Wo(qo(S,y),p,E);const yt=function fR(o,a,c,u,f){const p=new dt(o,c,If);return p.multi=[],p.index=a,p.componentProviders=0,ki(p,f,u&&!c),p}(f?ky:My,c.length,f,u,I);!f&&nt&&(c[Ie].providerFactory=yt),gl(p,o,a.length,0),a.push(E),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),c.push(yt),y.push(yt)}else gl(p,o,ne>-1?ne:Ie,ki(c[f?Ie:ne],I,!f&&u));!f&&u&&nt&&c[Ie].componentProviders++}}}function gl(o,a,c,u){const f=_f(a),p=function aF(o){return!!o.useClass}(a);if(f||p){const I=(p?Oe(a.useClass):a).prototype.ngOnDestroy;if(I){const S=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const R=S.indexOf(c);-1===R?S.push(c,[u,I]):S[R+1].push(u,I)}else S.push(c,I)}}}function ki(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function ka(o,a,c,u){for(let f=c;f<u;f++)if(a[f]===o)return f;return-1}function My(o,a,c,u){return Zu(this.multi,[])}function ky(o,a,c,u){const f=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Ko(c,c[ot],this.providerFactory.index,u);p=E.slice(0,y),Zu(f,p);for(let I=y;I<E.length;I++)p.push(E[I])}else p=[],Zu(f,p);return p}function Zu(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function lc(o,a=[]){return c=>{c.providersResolver=(u,f)=>function Tr(o,a,c){const u=an();if(u.firstCreatePass){const f=Fn(o);Kw(c,u.data,u.blueprint,f,!0),Kw(a,u.data,u.blueprint,f,!1)}}(u,f?f(o):o,a)}}class Do{}class Ig{}function gd(o,a){return new Ku(o,a??null,[])}class Ku extends Do{constructor(a,c,u){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kI(this);const f=gr(a);this._bootstrapComponents=dl(f.bootstrap),this._r3Injector=yI(a,c,[{provide:Do,useValue:this},{provide:Bp,useValue:this.componentFactoryResolver},...u],se(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class _l extends Ig{constructor(a){super(),this.moduleType=a}create(a){return new Ku(this.moduleType,a,[])}}class Yu extends Do{constructor(a){super(),this.componentFactoryResolver=new kI(this),this.instance=null;const c=new gv([...a.providers,{provide:Do,useValue:this},{provide:Bp,useValue:this.componentFactoryResolver}],a.parent||pv(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Ry(o,a,c=null){return new Yu({providers:o,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let Ny=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const u=GM(0,c.type),f=u.length>0?Ry([u],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=jt({token:o,providedIn:"environment",factory:()=>new o(Gn(Mu))}),o})();function _d(o){o.getStandaloneInjector=a=>a.get(Ny).getOrCreateStandaloneInjector(o)}function nx(o,a,c,u,f,p){const y=a+c;return ns(o,y,f)?function Aa(o,a,c){return o[a]=c}(o,y+1,p?u.call(p,f):u(f)):function cm(o,a){const c=o[a];return c===Jt?void 0:c}(o,y+1)}function rx(o,a){const c=an();let u;const f=o+un;c.firstCreatePass?(u=function vR(o,a){if(a)for(let c=a.length-1;c>=0;c--){const u=a[c];if(o===u.name)return u}}(a,c.pipeRegistry),c.data[f]=u,u.onDestroy&&(c.destroyHooks??=[]).push(f,u.onDestroy)):u=c.data[f];const p=u.factory||(u.factory=Bo(u.type)),y=nn(If);try{const E=ba(!1),I=p();return ba(E),function QI(o,a,c,u){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=u}(c,ke(),f,I),I}finally{nn(y)}}function JT(o,a,c){const u=o+un,f=ke(),p=jo(f,u);return function dc(o,a){return o[ot].data[a].pure}(f,u)?nx(f,function Yi(){const o=kt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}(),a,p.transform,c,p):p.transform(c)}function dm(o){return a=>{setTimeout(o,void 0,a)}}const Ra=class Oy extends d.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,u){let f=a,p=c||(()=>null),y=u;if(a&&"object"==typeof a){const I=a;f=I.next?.bind(I),p=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(p=dm(p),f&&(f=dm(f)),y&&(y=dm(y)));const E=super.subscribe({next:f,error:p,complete:y});return a instanceof $.w0&&a.add(E),E}};function eD(){return this._results[Symbol.iterator]()}class ia{get changes(){return this._changes||(this._changes=new Ra)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=ia.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=eD)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const u=this;u.dirty=!1;const f=function Jr(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Ps(o,a,c){if(o.length!==a.length)return!1;for(let u=0;u<o.length;u++){let f=o[u],p=a[u];if(c&&(f=c(f),p=c(p)),p!==f)return!1}return!0}(u._results,f,c))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let um=(()=>{class o{}return o.__NG_ELEMENT_ID__=ox,o})();const hm=um,tD=class extends hm{constructor(a,c,u){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c,null)}createEmbeddedViewImpl(a,c,u){const y=this._declarationTContainer.tView,E=Ov(this._declarationLView,y,a,4096&this._declarationLView[Ut]?4096:16,null,y.declTNode,null,null,null,c||null,u||null);E[Dc]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[vr];return null!==S&&(E[vr]=S.createEmbeddedView(y)),Eo(y,E,a),new Of(E)}};function ox(){return Ju(Ii(),ke())}function Ju(o,a){return 4&o.type?new tD(a,o,bf(o,a)):null}let Rg=(()=>{class o{}return o.__NG_ELEMENT_ID__=xR,o})();function xR(){return fm(Ii(),ke())}const uc=Rg,nD=class extends uc{constructor(a,c,u){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=u}get element(){return bf(this._hostTNode,this._hostLView)}get injector(){return new ms(this._hostTNode,this._hostLView)}get parentInjector(){const a=fs(this._hostTNode,this._hostLView);if(mt(a)){const c=ya(a,this._hostLView),u=Kr(a);return new ms(c[ot].data[u+8],c)}return new ms(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=Hs(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-or}createEmbeddedView(a,c,u){let f,p;"number"==typeof u?f=u:null!=u&&(f=u.index,p=u.injector);const E=a.createEmbeddedViewImpl(c||{},p,null);return this.insertImpl(E,f,false),E}createComponent(a,c,u,f,p){const y=a&&!function Gl(o){return"function"==typeof o}(a);let E;if(y)E=c;else{const He=c||{};E=He.index,u=He.injector,f=He.projectableNodes,p=He.environmentInjector||He.ngModuleRef}const I=y?a:new Pu($t(a)),S=u||this.parentInjector;if(!p&&null==I.ngModule){const nt=(y?S:this.parentInjector).get(Mu,null);nt&&(p=nt)}$t(I.componentType??{});const ne=I.create(S,f,null,p);return this.insertImpl(ne.hostView,E,false),ne}insert(a,c){return this.insertImpl(a,c,!1)}insertImpl(a,c,u){const f=a._lView,p=f[ot];if(function jh(o){return lr(o[Qn])}(f)){const I=this.indexOf(a);if(-1!==I)this.detach(I);else{const S=f[Qn],R=new nD(S,S[Zi],S[Qn]);R.detach(R.indexOf(a))}}const y=this._adjustIndex(c),E=this._lContainer;if(function pM(o,a,c,u){const f=or+u,p=c.length;u>0&&(c[f-1][_r]=a),u<p-or?(a[_r]=c[f],gu(c,or+u,a)):(c.push(a),a[_r]=null),a[Qn]=c;const y=a[Dc];null!==y&&c!==y&&function tF(o,a){const c=o[$a];a[qn]!==a[Qn][Qn][qn]&&(o[ua]=!0),null===c?o[$a]=[a]:c.push(a)}(y,a);const E=a[vr];null!==E&&E.insertView(o),a[Ut]|=128}(p,f,E,y),!u){const I=_0(y,E),S=f[At],R=Kl(S,E[Wr]);null!==R&&function XP(o,a,c,u,f,p){u[mi]=f,u[Zi]=a,uf(o,u,c,1,f,p)}(p,E[Zi],S,f,R,I)}return a.attachToViewContainerRef(),gu(Ly(E),y,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=Hs(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),u=p0(this._lContainer,c);u&&(_u(Ly(this._lContainer),c),Y_(u[ot],u))}detach(a){const c=this._adjustIndex(a,-1),u=p0(this._lContainer,c);return u&&null!=_u(Ly(this._lContainer),c)?new Of(u):null}_adjustIndex(a,c=0){return a??this.length+c}};function Hs(o){return o[8]}function Ly(o){return o[8]||(o[8]=[])}function fm(o,a){let c;const u=a[o.index];return lr(u)?c=u:(c=Hv(u,a,null,o),a[o.index]=c,Sf(a,c)),Na(c,a,o,u),new nD(c,o,a)}let Na=function dx(o,a,c,u){if(o[Wr])return;let f;f=8&c.type?kn(u):function iD(o,a){const c=o[At],u=c.createComment(""),f=cr(a,o);return Iu(c,Kl(c,f),u,function Mp(o,a){return o.nextSibling(a)}(c,f),!1),u}(a,c),o[Wr]=f};class ux{constructor(a){this.queryList=a,this.matches=null}clone(){return new ux(this.queryList)}setDirty(){this.queryList.setDirty()}}class en{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const u=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let p=0;p<u;p++){const y=c.getByIndex(p);f.push(this.queries[y.indexInDeclarationView].clone())}return new en(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==mm(a,c).matches&&this.queries[c].setDirty()}}class rD{constructor(a,c,u=null){this.predicate=a,this.flags=c,this.read=u}}class Og{constructor(a=[]){this.queries=a}elementStart(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let u=0;u<this.length;u++){const f=null!==c?c.length:0,p=this.getByIndex(u).embeddedTView(a,f);p&&(p.indexInDeclarationView=u,null!==c?c.push(p):c=[p])}return null!==c?new Og(c):null}template(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Vy{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Vy(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=a.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const p=u[f];this.matchTNodeWithReadOption(a,c,sD(c,p)),this.matchTNodeWithReadOption(a,c,xa(c,a,p,!1,!1))}else u===um?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,xa(c,a,u,!1,!1))}matchTNodeWithReadOption(a,c,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===Up||f===Rg||f===um&&4&c.type)this.addMatch(c.index,-2);else{const p=xa(c,a,f,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,u)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function sD(o,a){const c=o.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===a)return c[u+1];return null}function By(o,a,c,u){return-1===c?function oD(o,a){return 11&o.type?bf(o,a):4&o.type?Ju(o,a):null}(a,o):-2===c?function CR(o,a,c){return c===Up?bf(a,o):c===um?Ju(a,o):c===Rg?fm(a,o):void 0}(o,a,u):Ko(o,o[ot],c,a)}function aD(o,a,c,u){const f=a[vr].queries[u];if(null===f.matches){const p=o.data,y=c.matches,E=[];for(let I=0;I<y.length;I+=2){const S=y[I];E.push(S<0?null:By(a,p[S],y[I+1],c.metadata.read))}f.matches=E}return f.matches}function Uy(o,a,c,u){const f=o.queries.getByIndex(c),p=f.matches;if(null!==p){const y=aD(o,a,f,c);for(let E=0;E<p.length;E+=2){const I=p[E];if(I>0)u.push(y[E/2]);else{const S=p[E+1],R=a[-I];for(let j=or;j<R.length;j++){const Q=R[j];Q[Dc]===Q[Qn]&&Uy(Q[ot],Q,S,u)}if(null!==R[$a]){const j=R[$a];for(let Q=0;Q<j.length;Q++){const ne=j[Q];Uy(ne[ot],ne,S,u)}}}}}return u}function th(o){const a=ke(),c=an(),u=qc();zo(u+1);const f=mm(c,u);if(o.dirty&&function lp(o){return 4==(4&o[Ut])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const p=f.crossesNgTemplate?Uy(c,a,u,[]):aD(c,a,f,u);o.reset(p,sk),o.notifyOnChanges()}return!0}return!1}function vd(o,a,c){const u=an();u.firstCreatePass&&(fx(u,new rD(o,a,c),-1),2==(2&a)&&(u.staticViewQueries=!0)),nh(u,ke(),a)}function hx(o,a,c,u){const f=an();if(f.firstCreatePass){const p=Ii();fx(f,new rD(a,c,u),p.index),function cD(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}nh(f,ke(),c)}function yd(){return function lD(o,a){return o[vr].queries[a].queryList}(ke(),qc())}function nh(o,a,c){const u=new ia(4==(4&c));(function wF(o,a,c,u){const f=Af(a);f.push(c),o.firstCreatePass&&MI(o).push(u,f.length-1)})(o,a,u,u.destroy),null===a[vr]&&(a[vr]=new en),a[vr].queries.push(new ux(u))}function fx(o,a,c){null===o.queries&&(o.queries=new Og),o.queries.track(new Vy(a,c))}function mm(o,a){return o.queries.getByIndex(a)}function dD(o,a){return Ju(o,a)}function mx(o){return!!gr(o)}const ID=new An("Application Initializer");let Cx=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,u)=>{this.resolve=c,this.reject=u}),this.appInits=rn(ID,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const f of this.appInits){const p=f();if(oy(p))c.push(p);else if(ai(p)){const y=new Promise((E,I)=>{p.subscribe({complete:E,error:I})});c.push(y)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{u()}).catch(f=>{this.reject(f)}),0===c.length&&u(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=jt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),ym=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=jt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Yy=new An("LocaleId",{providedIn:"root",factory:()=>rn(Yy,Je.Optional|Je.SkipSelf)||function Ix(){return typeof $localize<"u"&&$localize.locale||Xf}()}),TD=new An("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Tx=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new O.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=jt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();class PR{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let FR=(()=>{class o{compileModuleSync(c){return new _l(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const u=this.compileModuleSync(c),p=dl(gr(c).declarations).reduce((y,E)=>{const I=$t(E);return I&&y.push(new Pu(I)),y},[]);return new PR(u,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=jt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Sx(...o){}class jr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ra(!1),this.onMicrotaskEmpty=new Ra(!1),this.onStable=new Ra(!1),this.onError=new Ra(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&c,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function BR(){const o="function"==typeof Qt.requestAnimationFrame;let a=Qt[o?"requestAnimationFrame":"setTimeout"],c=Qt[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function Ug(o){const a=()=>{!function oh(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Qt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Qy(o),o.isCheckStableRunning=!0,fc(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Qy(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,f,p,y,E)=>{try{return Xy(o),c.invokeTask(f,p,y,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&a(),Jy(o)}},onInvoke:(c,u,f,p,y,E,I)=>{try{return Xy(o),c.invoke(f,p,y,E,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),Jy(o)}},onHasTask:(c,u,f,p)=>{c.hasTask(f,p),u===f&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,Qy(o),fc(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,u,f,p)=>(c.handleError(f,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jr.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(jr.isInAngularZone())throw new re(909,!1)}run(a,c,u){return this._inner.run(a,c,u)}runTask(a,c,u,f){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+f,a,sh,Sx,Sx);try{return p.runTask(y,c,u)}finally{p.cancelTask(y)}}runGuarded(a,c,u){return this._inner.runGuarded(a,c,u)}runOutsideAngular(a){return this._outer.run(a)}}const sh={};function fc(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Qy(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Xy(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Jy(o){o._nesting--,fc(o)}class AD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ra,this.onMicrotaskEmpty=new Ra,this.onStable=new Ra,this.onError=new Ra}run(a,c,u){return a.apply(c,u)}runGuarded(a,c,u){return a.apply(c,u)}runOutsideAngular(a){return a()}runTask(a,c,u,f){return a.apply(c,u)}}const Ax=new An("",{providedIn:"root",factory:MD});function MD(){const o=rn(jr);let a=!0;const c=new ee.y(f=>{a=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{f.next(a),f.complete()})}),u=new ee.y(f=>{let p;o.runOutsideAngular(()=>{p=o.onStable.subscribe(()=>{jr.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(a=!0,f.next(!0))})})});const y=o.onUnstable.subscribe(()=>{jr.assertInAngularZone(),a&&(a=!1,o.runOutsideAngular(()=>{f.next(!1)}))});return()=>{p.unsubscribe(),y.unsubscribe()}});return(0,le.T)(c,u.pipe((0,Ee.B)()))}const Mx=new An(""),kx=new An("");let Rx,eb=(()=>{class o{constructor(c,u,f){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rx||(function ah(o){Rx=o}(f),f.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,f){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:f})}whenStable(c,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(Gn(jr),Gn(wm),Gn(kx))},o.\u0275prov=jt({token:o,factory:o.\u0275fac}),o})(),wm=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return Rx?.findTestabilityInTree(this,c,u)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=jt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),mc=null;const kD=new An("AllowMultipleToken"),Nx=new An("PlatformDestroyListeners"),Ox=new An("appBootstrapListener");class HR{constructor(a,c){this.name=a,this.token=c}}function Px(o,a,c=[]){const u=`Platform: ${a}`,f=new An(u);return(p=[])=>{let y=Em();if(!y||y.injector.get(kD,!1)){const E=[...c,...p,{provide:f,useValue:!0}];o?o(E):function ND(o){if(mc&&!mc.get(kD,!1))throw new re(400,!1);(function pc(){!function Vh(o){Lh=o}(()=>{throw new re(600,!1)})})(),mc=o;const a=o.get(PD);(function tb(o){o.get(QM,null)?.forEach(c=>c())})(o)}(function nb(o=[],a){return rd.create({name:a,providers:[{provide:YC,useValue:"platform"},{provide:Nx,useValue:new Set([()=>mc=null])},...o]})}(E,u))}return function Fx(o){const a=Em();if(!a)throw new re(401,!1);return a}()}}function Em(){return mc?.get(PD)??null}let PD=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const f=function rb(o="zone.js",a){return"noop"===o?new AD:"zone.js"===o?new jr(a):o}(u?.ngZone,function ib(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const p=function zT(o,a,c){return new Ku(o,a,c)}(c.moduleType,this.injector,function jg(o){return[{provide:jr,useFactory:o},{provide:uv,multi:!0,useFactory:()=>{const a=rn(ws,{optional:!0});return()=>a.initialize()}},{provide:Vx,useFactory:LD},{provide:Ax,useFactory:MD}]}(()=>f)),y=p.injector.get(xf,null);return f.runOutsideAngular(()=>{const E=f.onError.subscribe({next:I=>{y.handleError(I)}});p.onDestroy(()=>{lh(this._modules,p),E.unsubscribe()})}),function FD(o,a,c){try{const u=c();return oy(u)?u.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):u}catch(u){throw a.runOutsideAngular(()=>o.handleError(u)),u}}(y,f,()=>{const E=p.injector.get(Cx);return E.runInitializers(),E.donePromise.then(()=>(function qt(o){it(o,"Expected localeId to be defined"),"string"==typeof o&&(Hw=o.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Yy,Xf)||Xf),this._moduleDoBootstrap(p),p))})})}bootstrapModule(c,u=[]){const f=Lx({},u);return function Hg(o,a,c){const u=new _l(c);return Promise.resolve(u)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(c){const u=c.injector.get(vl);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new re(-403,!1);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const c=this._injector.get(Nx,null);c&&(c.forEach(u=>u()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Gn(rd))},o.\u0275prov=jt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Lx(o,a){return Array.isArray(a)?a.reduce(Lx,o):{...o,...a}}let vl=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=rn(Vx),this.zoneIsStable=rn(Ax),this.componentTypes=[],this.components=[],this.isStable=rn(Tx).hasPendingTasks.pipe((0,Me.w)(c=>c?(0,ue.of)(!1):this.zoneIsStable),(0,be.x)(),(0,Ee.B)()),this._injector=rn(Mu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,u){const f=c instanceof rI;if(!this._injector.get(Cx).done)throw!f&&mo(c),new re(405,!1);let y;y=f?c:this._injector.get(Bp).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const E=function RD(o){return o.isBoundToModule}(y)?void 0:this._injector.get(Do),S=y.create(rd.NULL,[],u||y.selector,E),R=S.location.nativeElement,j=S.injector.get(Mx,null);return j?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),lh(this.components,S),j?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;lh(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const u=this._injector.get(Ox,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>lh(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new re(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=jt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function lh(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}const Vx=new An("",{providedIn:"root",factory:()=>rn(xf).handleError.bind(void 0)});function LD(){const o=rn(jr),a=rn(xf);return c=>o.runOutsideAngular(()=>a.handleError(c))}let ws=(()=>{class o{constructor(){this.zone=rn(jr),this.applicationRef=rn(vl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=jt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function VD(){return!1}let qR=(()=>{class o{}return o.__NG_ELEMENT_ID__=Im,o})();function Im(o){return function BD(o,a,c){if(Ms(o)&&!c){const u=cs(o.index,a);return new Of(u,u)}return 47&o.type?new Of(a[qn],a):null}(Ii(),ke(),16==(16&o))}class hb{constructor(){}supports(a){return Vf(a)}create(a){return new YR(a)}}const zr=(o,a)=>a;class YR{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||zr}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,u=this._removalsHead,f=0,p=null;for(;c||u;){const y=!u||c&&c.currentIndex<fb(u,f,p)?c:u,E=fb(y,f,p),I=y.currentIndex;if(y===u)f--,u=u._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{p||(p=[]);const S=E-f,R=I-f;if(S!=R){for(let Q=0;Q<S;Q++){const ne=Q<p.length?p[Q]:p[Q]=0,Ie=ne+Q;R<=Ie&&Ie<S&&(p[Q]=ne+1)}p[y.previousIndex]=R-S}}E!==I&&a(y,E,I)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Vf(a))throw new re(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,p,y,c=this._itHead,u=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)p=a[E],y=this._trackByFn(E,p),null!==c&&Object.is(c.trackById,y)?(u&&(c=this._verifyReinsertion(c,p,y,E)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,E),u=!0),c=c._next}else f=0,function J0(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Symbol.iterator]();let u;for(;!(u=c.next()).done;)a(u.value)}}(a,E=>{y=this._trackByFn(f,E),null!==c&&Object.is(c.trackById,y)?(u&&(c=this._verifyReinsertion(c,E,y,f)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,y,f),u=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,u,f){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,f)):a=this._addAfter(new QR(c,u),p,f),a}_verifyReinsertion(a,c,u,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?a=this._reinsertAfter(p,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,p=a._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(a,c,u),this._addToMoves(a,u),a}_moveAfter(a,c,u){return this._unlink(a),this._insertAfter(a,c,u),this._addToMoves(a,u),a}_addAfter(a,c,u){return this._insertAfter(a,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,u){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new $D),this._linkedRecords.put(a),a.currentIndex=u,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,u=a._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $D),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class QR{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XR{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,a))return u;return null}remove(a){const c=a._prevDup,u=a._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class $D{constructor(){this.map=new Map}put(a){const c=a.trackById;let u=this.map.get(c);u||(u=new XR,this.map.set(c,u)),u.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fb(o,a,c){const u=o.previousIndex;if(null===u)return u;let f=0;return c&&u<c.length&&(f=c[u]),u+a+f}class GD{constructor(){}supports(a){return a instanceof Map||Qp(a)}create(){return new mb}}class mb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Qp(a)))throw new re(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(u,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(f,u);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const u=a._prev;return c._next=a,c._prev=u,a._prev=c,u&&(u._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const p=f._prev,y=f._next;return p&&(p._next=y),y&&(y._prev=p),f._next=null,f._prev=null,f}const u=new pb(a);return this._records.set(a,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(u=>c(a[u],u))}}class pb{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qD(){return new gb([new hb])}let gb=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(null!=u){const f=u.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||qD()),deps:[[o,new Er,new yo]]}}find(c){const u=this.factories.find(f=>f.supports(c));if(null!=u)return u;throw new re(901,!1)}}return o.\u0275prov=jt({token:o,providedIn:"root",factory:qD}),o})();function _b(){return new uh([new GD])}let uh=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(u){const f=u.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||_b()),deps:[[o,new Er,new yo]]}}find(c){const u=this.factories.find(f=>f.supports(c));if(u)return u;throw new re(901,!1)}}return o.\u0275prov=jt({token:o,providedIn:"root",factory:_b}),o})();const e1=Px(null,"core",[]);let KD=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Gn(vl))},o.\u0275mod=Sl({type:o}),o.\u0275inj=Yn({}),o})();function Gg(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function xs(o){const a=$t(o);if(!a)return null;const c=new Pu(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3106:(pt,De,L)=>{L.d(De,{Z:()=>Qe});var d=L(9058),$=L(4537),O=L(534),ee=L(7879);class le{constructor(Xe,Fe){this._delegate=Xe,this.firebase=Fe,(0,O._addComponent)(Xe,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=Xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Xe){this._delegate.automaticDataCollectionEnabled=Xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Xe=>{this._delegate.checkDestroyed(),Xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Xe,Fe=O._DEFAULT_ENTRY_NAME){var Ct;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(Xe);return!ft.isInitialized()&&"EXPLICIT"===(null===(Ct=ft.getComponent())||void 0===Ct?void 0:Ct.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:Fe})}_removeServiceInstance(Xe,Fe=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Xe).clearInstance(Fe)}_addComponent(Xe){(0,O._addComponent)(this._delegate,Xe)}_addOrOverwriteComponent(Xe){(0,O._addOrOverwriteComponent)(this._delegate,Xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function be(){const Oe=function Me(Oe){const Xe={},Fe={__esModule:!0,initializeApp:function re(Pe,ie={}){const st=O.initializeApp(Pe,ie);if((0,d.r3)(Xe,st.name))return Xe[st.name];const qe=new Oe(st,Fe);return Xe[st.name]=qe,qe},app:ft,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function ce(Pe){const ie=Pe.name,st=ie.replace("-compat","");if(O._registerComponent(Pe)&&"PUBLIC"===Pe.type){const qe=(on=ft())=>{if("function"!=typeof on[st])throw Ee.create("invalid-app-argument",{appName:ie});return on[st]()};void 0!==Pe.serviceProps&&(0,d.ZB)(qe,Pe.serviceProps),Fe[st]=qe,Oe.prototype[st]=function(...on){return this._getService.bind(this,ie).apply(this,Pe.multipleInstances?on:[])}}return"PUBLIC"===Pe.type?Fe[st]:null},removeApp:function Ct(Pe){delete Xe[Pe]},useAsService:function ye(Pe,ie){return"serverAuth"===ie?null:ie},modularAPIs:O}};function ft(Pe){if(!(0,d.r3)(Xe,Pe=Pe||O._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:Pe});return Xe[Pe]}return Fe.default=Fe,Object.defineProperty(Fe,"apps",{get:function Te(){return Object.keys(Xe).map(Pe=>Xe[Pe])}}),ft.App=Oe,Fe}(le);return Oe.INTERNAL=Object.assign(Object.assign({},Oe.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function Xe(Fe){(0,d.ZB)(Oe,Fe)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Oe}(),Z=new ee.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Oe=self.firebase.SDK_VERSION;Oe&&Oe.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=q;!function Re(Oe){(0,O.registerVersion)("@firebase/app-compat","0.2.13",Oe)}()},534:(pt,De,L)=>{L.r(De),L.d(De,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>as,_DEFAULT_ENTRY_NAME:()=>Je,_addComponent:()=>bi,_addOrOverwriteComponent:()=>kr,_apps:()=>wt,_clearComponents:()=>En,_components:()=>nn,_getProvider:()=>ui,_registerComponent:()=>Qt,_removeServiceInstance:()=>Ds,deleteApp:()=>Pn,getApp:()=>qi,getApps:()=>ei,initializeApp:()=>Zs,onLog:()=>wi,registerVersion:()=>$n,setLogLevel:()=>Gn});var d=L(5861),$=L(4537),O=L(7879),ee=L(9058);const le=(ve,ae)=>ae.some(Be=>ve instanceof Be);let ue,Ee;const q=new WeakMap,Z=new WeakMap,se=new WeakMap,Ve=new WeakMap,Re=new WeakMap;let Xe={get(ve,ae,Be){if(ve instanceof IDBTransaction){if("done"===ae)return Z.get(ve);if("objectStoreNames"===ae)return ve.objectStoreNames||se.get(ve);if("store"===ae)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return re(ve[ae])},set:(ve,ae,Be)=>(ve[ae]=Be,!0),has:(ve,ae)=>ve instanceof IDBTransaction&&("done"===ae||"store"===ae)||ae in ve};function ft(ve){return"function"==typeof ve?function Ct(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...ae){return ve.apply(Te(this),ae),re(q.get(this))}:function(...ae){return re(ve.apply(Te(this),ae))}:function(ae,...Be){const vt=ve.call(Te(this),ae,...Be);return se.set(vt,ae.sort?ae.sort():[ae]),re(vt)}}(ve):(ve instanceof IDBTransaction&&function Oe(ve){if(Z.has(ve))return;const ae=new Promise((Be,vt)=>{const Pt=()=>{ve.removeEventListener("complete",Kt),ve.removeEventListener("error",ln),ve.removeEventListener("abort",ln)},Kt=()=>{Be(),Pt()},ln=()=>{vt(ve.error||new DOMException("AbortError","AbortError")),Pt()};ve.addEventListener("complete",Kt),ve.addEventListener("error",ln),ve.addEventListener("abort",ln)});Z.set(ve,ae)}(ve),le(ve,function Me(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,Xe):ve)}function re(ve){if(ve instanceof IDBRequest)return function Qe(ve){const ae=new Promise((Be,vt)=>{const Pt=()=>{ve.removeEventListener("success",Kt),ve.removeEventListener("error",ln)},Kt=()=>{Be(re(ve.result)),Pt()},ln=()=>{vt(ve.error),Pt()};ve.addEventListener("success",Kt),ve.addEventListener("error",ln)});return ae.then(Be=>{Be instanceof IDBCursor&&q.set(Be,ve)}).catch(()=>{}),Re.set(ae,ve),ae}(ve);if(Ve.has(ve))return Ve.get(ve);const ae=ft(ve);return ae!==ve&&(Ve.set(ve,ae),Re.set(ae,ve)),ae}const Te=ve=>Re.get(ve),Pe=["get","getKey","getAll","getAllKeys","count"],ie=["put","add","delete","clear"],st=new Map;function qe(ve,ae){if(!(ve instanceof IDBDatabase)||ae in ve||"string"!=typeof ae)return;if(st.get(ae))return st.get(ae);const Be=ae.replace(/FromIndex$/,""),vt=ae!==Be,Pt=ie.includes(Be);if(!(Be in(vt?IDBIndex:IDBObjectStore).prototype)||!Pt&&!Pe.includes(Be))return;const Kt=function(){var ln=(0,d.Z)(function*(Fi,...ti){const Oo=this.transaction(Fi,Pt?"readwrite":"readonly");let Ha=Oo.store;return vt&&(Ha=Ha.index(ti.shift())),(yield Promise.all([Ha[Be](...ti),Pt&&Oo.done]))[0]});return function(ti){return ln.apply(this,arguments)}}();return st.set(ae,Kt),Kt}!function Fe(ve){Xe=ve(Xe)}(ve=>({...ve,get:(ae,Be,vt)=>qe(ae,Be)||ve.get(ae,Be,vt),has:(ae,Be)=>!!qe(ae,Be)||ve.has(ae,Be)}));class on{constructor(ae){this.container=ae}getPlatformInfoString(){return this.container.getProviders().map(Be=>{if(function Ci(ve){const ae=ve.getComponent();return"VERSION"===ae?.type}(Be)){const vt=Be.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(Be=>Be).join(" ")}}const fr="@firebase/app",On=new O.Yd("@firebase/app"),Je="[DEFAULT]",gt={[fr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,nn=new Map;function bi(ve,ae){try{ve.container.addComponent(ae)}catch(Be){On.debug(`Component ${ae.name} failed to register with FirebaseApp ${ve.name}`,Be)}}function kr(ve,ae){ve.container.addOrOverwriteComponent(ae)}function Qt(ve){const ae=ve.name;if(nn.has(ae))return On.debug(`There were multiple attempts to register component ${ae}.`),!1;nn.set(ae,ve);for(const Be of wt.values())bi(Be,ve);return!0}function ui(ve,ae){const Be=ve.container.getProvider("heartbeat").getImmediate({optional:!0});return Be&&Be.triggerHeartbeat(),ve.container.getProvider(ae)}function Ds(ve,ae,Be=Je){ui(ve,ae).clearInstance(Be)}function En(){nn.clear()}const Bt=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zn{constructor(ae,Be,vt){this._isDeleted=!1,this._options=Object.assign({},ae),this._config=Object.assign({},Be),this._name=Be.name,this._automaticDataCollectionEnabled=Be.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ae){this._isDeleted=ae}checkDestroyed(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}}const as="9.23.0";function Zs(ve,ae={}){let Be=ve;"object"!=typeof ae&&(ae={name:ae});const vt=Object.assign({name:Je,automaticDataCollectionEnabled:!1},ae),Pt=vt.name;if("string"!=typeof Pt||!Pt)throw Bt.create("bad-app-name",{appName:String(Pt)});if(Be||(Be=(0,ee.aH)()),!Be)throw Bt.create("no-options");const Kt=wt.get(Pt);if(Kt){if((0,ee.vZ)(Be,Kt.options)&&(0,ee.vZ)(vt,Kt.config))return Kt;throw Bt.create("duplicate-app",{appName:Pt})}const ln=new $.H0(Pt);for(const ti of nn.values())ln.addComponent(ti);const Fi=new zn(Be,vt,ln);return wt.set(Pt,Fi),Fi}function qi(ve=Je){const ae=wt.get(ve);if(!ae&&ve===Je&&(0,ee.aH)())return Zs();if(!ae)throw Bt.create("no-app",{appName:ve});return ae}function ei(){return Array.from(wt.values())}function Pn(ve){return hi.apply(this,arguments)}function hi(){return(hi=(0,d.Z)(function*(ve){const ae=ve.name;wt.has(ae)&&(wt.delete(ae),yield Promise.all(ve.container.getProviders().map(Be=>Be.delete())),ve.isDeleted=!0)})).apply(this,arguments)}function $n(ve,ae,Be){var vt;let Pt=null!==(vt=gt[ve])&&void 0!==vt?vt:ve;Be&&(Pt+=`-${Be}`);const Kt=Pt.match(/\s|\//),ln=ae.match(/\s|\//);if(Kt||ln){const Fi=[`Unable to register library "${Pt}" with version "${ae}":`];return Kt&&Fi.push(`library name "${Pt}" contains illegal characters (whitespace or "/")`),Kt&&ln&&Fi.push("and"),ln&&Fi.push(`version name "${ae}" contains illegal characters (whitespace or "/")`),void On.warn(Fi.join(" "))}Qt(new $.wA(`${Pt}-version`,()=>({library:Pt,version:ae}),"VERSION"))}function wi(ve,ae){if(null!==ve&&"function"!=typeof ve)throw Bt.create("invalid-log-argument");(0,O.Am)(ve,ae)}function Gn(ve){(0,O.Ub)(ve)}const pr="firebase-heartbeat-database",rn=1,W="firebase-heartbeat-store";let G=null;function F(){return G||(G=function ce(ve,ae,{blocked:Be,upgrade:vt,blocking:Pt,terminated:Kt}={}){const ln=indexedDB.open(ve,ae),Fi=re(ln);return vt&&ln.addEventListener("upgradeneeded",ti=>{vt(re(ln.result),ti.oldVersion,ti.newVersion,re(ln.transaction),ti)}),Be&&ln.addEventListener("blocked",ti=>Be(ti.oldVersion,ti.newVersion,ti)),Fi.then(ti=>{Kt&&ti.addEventListener("close",()=>Kt()),Pt&&ti.addEventListener("versionchange",Oo=>Pt(Oo.oldVersion,Oo.newVersion,Oo))}).catch(()=>{}),Fi}(pr,rn,{upgrade:(ve,ae)=>{0===ae&&ve.createObjectStore(W)}}).catch(ve=>{throw Bt.create("idb-open",{originalErrorMessage:ve.message})})),G}function N(){return(N=(0,d.Z)(function*(ve){try{return yield(yield F()).transaction(W).objectStore(W).get(Ye(ve))}catch(ae){if(ae instanceof ee.ZR)On.warn(ae.message);else{const Be=Bt.create("idb-get",{originalErrorMessage:ae?.message});On.warn(Be.message)}}})).apply(this,arguments)}function te(ve,ae){return we.apply(this,arguments)}function we(){return(we=(0,d.Z)(function*(ve,ae){try{const vt=(yield F()).transaction(W,"readwrite");yield vt.objectStore(W).put(ae,Ye(ve)),yield vt.done}catch(Be){if(Be instanceof ee.ZR)On.warn(Be.message);else{const vt=Bt.create("idb-set",{originalErrorMessage:Be?.message});On.warn(vt.message)}}})).apply(this,arguments)}function Ye(ve){return`${ve.name}!${ve.options.appId}`}class _t{constructor(ae){this.container=ae,this._heartbeatsCache=null;const Be=this.container.getProvider("app").getImmediate();this._storage=new zt(Be),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var ae=this;return(0,d.Z)(function*(){const vt=ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pt=Rt();if(null===ae._heartbeatsCache&&(ae._heartbeatsCache=yield ae._heartbeatsCachePromise),ae._heartbeatsCache.lastSentHeartbeatDate!==Pt&&!ae._heartbeatsCache.heartbeats.some(Kt=>Kt.date===Pt))return ae._heartbeatsCache.heartbeats.push({date:Pt,agent:vt}),ae._heartbeatsCache.heartbeats=ae._heartbeatsCache.heartbeats.filter(Kt=>{const ln=new Date(Kt.date).valueOf();return Date.now()-ln<=2592e6}),ae._storage.overwrite(ae._heartbeatsCache)})()}getHeartbeatsHeader(){var ae=this;return(0,d.Z)(function*(){if(null===ae._heartbeatsCache&&(yield ae._heartbeatsCachePromise),null===ae._heartbeatsCache||0===ae._heartbeatsCache.heartbeats.length)return"";const Be=Rt(),{heartbeatsToSend:vt,unsentEntries:Pt}=function Sn(ve,ae=1024){const Be=[];let vt=ve.slice();for(const Pt of ve){const Kt=Be.find(ln=>ln.agent===Pt.agent);if(Kt){if(Kt.dates.push(Pt.date),Pi(Be)>ae){Kt.dates.pop();break}}else if(Be.push({agent:Pt.agent,dates:[Pt.date]}),Pi(Be)>ae){Be.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:Be,unsentEntries:vt}}(ae._heartbeatsCache.heartbeats),Kt=(0,ee.L)(JSON.stringify({version:2,heartbeats:vt}));return ae._heartbeatsCache.lastSentHeartbeatDate=Be,Pt.length>0?(ae._heartbeatsCache.heartbeats=Pt,yield ae._storage.overwrite(ae._heartbeatsCache)):(ae._heartbeatsCache.heartbeats=[],ae._storage.overwrite(ae._heartbeatsCache)),Kt})()}}function Rt(){return(new Date).toISOString().substring(0,10)}class zt{constructor(ae){this.app=ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ae=this;return(0,d.Z)(function*(){return(yield ae._canUseIndexedDBPromise)&&(yield function V(ve){return N.apply(this,arguments)}(ae.app))||{heartbeats:[]}})()}overwrite(ae){var Be=this;return(0,d.Z)(function*(){var vt;if(yield Be._canUseIndexedDBPromise){const Kt=yield Be.read();return te(Be.app,{lastSentHeartbeatDate:null!==(vt=ae.lastSentHeartbeatDate)&&void 0!==vt?vt:Kt.lastSentHeartbeatDate,heartbeats:ae.heartbeats})}})()}add(ae){var Be=this;return(0,d.Z)(function*(){var vt;if(yield Be._canUseIndexedDBPromise){const Kt=yield Be.read();return te(Be.app,{lastSentHeartbeatDate:null!==(vt=ae.lastSentHeartbeatDate)&&void 0!==vt?vt:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...ae.heartbeats]})}})()}}function Pi(ve){return(0,ee.L)(JSON.stringify({version:2,heartbeats:ve})).length}!function Wi(ve){Qt(new $.wA("platform-logger",ae=>new on(ae),"PRIVATE")),Qt(new $.wA("heartbeat",ae=>new _t(ae),"PRIVATE")),$n(fr,"0.9.13",ve),$n(fr,"0.9.13","esm2017"),$n("fire-js","")}("")},4537:(pt,De,L)=>{L.d(De,{H0:()=>Me,wA:()=>O,zt:()=>le});var d=L(5861),$=L(9058);class O{constructor(q,Z,se){this.name=q,this.instanceFactory=Z,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const ee="[DEFAULT]";class le{constructor(q,Z){this.name=q,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const Z=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(Z)){const se=new $.BH;if(this.instancesDeferred.set(Z,se),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:Z});Ve&&se.resolve(Ve)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(q){var Z;const se=this.normalizeInstanceIdentifier(q?.identifier),Ve=null!==(Z=q?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(Re){if(Ve)return null;throw Re}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function Ee(be){return"EAGER"===be.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[Z,se]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(Z);try{const Re=this.getOrInitializeService({instanceIdentifier:Ve});se.resolve(Re)}catch{}}}}clearInstance(q=ee){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,d.Z)(function*(){const Z=Array.from(q.instances.values());yield Promise.all([...Z.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...Z.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=ee){return this.instances.has(q)}getOptions(q=ee){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:Z={}}=q,se=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:se,options:Z});for(const[Re,Qe]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(Re)&&Qe.resolve(Ve);return Ve}onInit(q,Z){var se;const Ve=this.normalizeInstanceIdentifier(Z),Re=null!==(se=this.onInitCallbacks.get(Ve))&&void 0!==se?se:new Set;Re.add(q),this.onInitCallbacks.set(Ve,Re);const Qe=this.instances.get(Ve);return Qe&&q(Qe,Ve),()=>{Re.delete(q)}}invokeOnInitCallbacks(q,Z){const se=this.onInitCallbacks.get(Z);if(se)for(const Ve of se)try{Ve(q,Z)}catch{}}getOrInitializeService({instanceIdentifier:q,options:Z={}}){let se=this.instances.get(q);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(be=q,be===ee?void 0:be),options:Z}),this.instances.set(q,se),this.instancesOptions.set(q,Z),this.invokeOnInitCallbacks(se,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,se)}catch{}var be;return se||null}normalizeInstanceIdentifier(q=ee){return this.component?this.component.multipleInstances?q:ee:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const Z=this.getProvider(q.name);if(Z.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);Z.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const Z=new le(q,this);return this.providers.set(q,Z),Z}getProviders(){return Array.from(this.providers.values())}}},7879:(pt,De,L)=>{L.d(De,{Am:()=>be,Ub:()=>Me,Yd:()=>Ee,in:()=>$});const d=[];var $=(()=>(($=$||{})[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",$))();const O={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},ee=$.INFO,le={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ue=(q,Z,...se)=>{if(Z<q.logLevel)return;const Ve=(new Date).toISOString(),Re=le[Z];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Re](`[${Ve}]  ${q.name}:`,...se)};class Ee{constructor(Z){this.name=Z,this._logLevel=ee,this._logHandler=ue,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in $))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?O[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...Z),this._logHandler(this,$.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...Z),this._logHandler(this,$.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,$.INFO,...Z),this._logHandler(this,$.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,$.WARN,...Z),this._logHandler(this,$.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...Z),this._logHandler(this,$.ERROR,...Z)}}function Me(q){d.forEach(Z=>{Z.setLogLevel(q)})}function be(q,Z){for(const se of d){let Ve=null;Z&&Z.level&&(Ve=O[Z.level]),se.userLogHandler=null===q?null:(Re,Qe,...Oe)=>{const Xe=Oe.map(Fe=>{if(null==Fe)return null;if("string"==typeof Fe)return Fe;if("number"==typeof Fe||"boolean"==typeof Fe)return Fe.toString();if(Fe instanceof Error)return Fe.message;try{return JSON.stringify(Fe)}catch{return null}}).filter(Fe=>Fe).join(" ");Qe>=(Ve??Re.logLevel)&&q({level:$[Qe].toLowerCase(),message:Xe,args:Oe,type:Re.name})}}}},3182:(pt,De,L)=>{L.d(De,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=L(534);(0,d.registerVersion)("firebase","9.23.0","app")},7142:(pt,De,L)=>{L.d(De,{Z:()=>d.Z});var d=L(3106);d.Z.registerVersion("firebase","9.23.0","app-compat")},6365:(pt,De,L)=>{L.r(De);var d=L(5861),$=L(3106),O=L(6878),ee=L(9058),Ee=(L(534),L(7879),L(4537));function Me(){return window}function Z(){return Z=(0,d.Z)(function*(F,V,N){var te;const{BuildInfo:we}=Me();(0,O.as)(V.sessionId,"AuthEvent did not contain a session ID");const Ye=yield function Fe(F){return Ct.apply(this,arguments)}(V.sessionId),xt={};return(0,O.at)()?xt.ibi=we.packageName:(0,O.au)()?xt.apn=we.packageName:(0,O.av)(F,"operation-not-supported-in-this-environment"),we.displayName&&(xt.appDisplayName=we.displayName),xt.sessionId=Ye,(0,O.aw)(F,N,V.type,void 0,null!==(te=V.eventId)&&void 0!==te?te:void 0,xt)}),Z.apply(this,arguments)}function Ve(){return(Ve=(0,d.Z)(function*(F){const{BuildInfo:V}=Me(),N={};(0,O.at)()?N.iosBundleId=V.packageName:(0,O.au)()?N.androidPackageName=V.packageName:(0,O.av)(F,"operation-not-supported-in-this-environment"),yield(0,O.ax)(F,N)})).apply(this,arguments)}function Oe(){return(Oe=(0,d.Z)(function*(F,V,N){const{cordova:te}=Me();let we=()=>{};try{yield new Promise((Ye,xt)=>{let bt=null;function _t(){var zt;Ye();const Pi=null===(zt=te.plugins.browsertab)||void 0===zt?void 0:zt.close;"function"==typeof Pi&&Pi(),"function"==typeof N?.close&&N.close()}function Rt(){bt||(bt=window.setTimeout(()=>{xt((0,O.az)(F,"redirect-cancelled-by-user"))},2e3))}function Sn(){"visible"===document?.visibilityState&&Rt()}V.addPassiveListener(_t),document.addEventListener("resume",Rt,!1),(0,O.au)()&&document.addEventListener("visibilitychange",Sn,!1),we=()=>{V.removePassiveListener(_t),document.removeEventListener("resume",Rt,!1),document.removeEventListener("visibilitychange",Sn,!1),bt&&window.clearTimeout(bt)}})}finally{we()}})).apply(this,arguments)}function Ct(){return(Ct=(0,d.Z)(function*(F){const V=function ft(F){if((0,O.as)(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(F);const V=new ArrayBuffer(F.length),N=new Uint8Array(V);for(let te=0;te<F.length;te++)N[te]=F.charCodeAt(te);return N}(F),N=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(N)).map(we=>we.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Te extends O.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(N=>N(V)),super.onEvent(V)}initialized(){var V=this;return(0,d.Z)(function*(){yield V.initPromise})()}}function Pe(F){return ie.apply(this,arguments)}function ie(){return(ie=(0,d.Z)(function*(F){const V=yield on()._get(Ci(F));return V&&(yield on()._remove(Ci(F))),V})).apply(this,arguments)}function qe(){const F=[];for(let N=0;N<20;N++){const te=Math.floor(62*Math.random());F.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(te))}return F.join("")}function on(){return(0,O.aC)(O.b)}function Ci(F){return(0,O.aD)("authEvent",F.config.apiKey,F.name)}function On(F){if(!F?.includes("?"))return{};const[V,...N]=F.split("?");return(0,ee.zd)(N.join("?"))}const fe=class fo{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aE,this._overrideRedirectResult=O.aF}_initialize(V){var N=this;return(0,d.Z)(function*(){const te=V._key();let we=N.eventManagers.get(te);return we||(we=new Te(V),N.eventManagers.set(te,we),N.attachCallbackListeners(V,we)),we})()}_openPopup(V){(0,O.av)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,N,te,we){var Ye=this;return(0,d.Z)(function*(){!function Xe(F){var V,N,te,we,Ye,xt,bt,_t,Rt,Sn;const zt=Me();(0,O.aA)("function"==typeof(null===(V=zt?.universalLinks)||void 0===V?void 0:V.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aA)(typeof(null===(N=zt?.BuildInfo)||void 0===N?void 0:N.packageName)<"u",F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aA)("function"==typeof(null===(Ye=null===(we=null===(te=zt?.cordova)||void 0===te?void 0:te.plugins)||void 0===we?void 0:we.browsertab)||void 0===Ye?void 0:Ye.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aA)("function"==typeof(null===(_t=null===(bt=null===(xt=zt?.cordova)||void 0===xt?void 0:xt.plugins)||void 0===bt?void 0:bt.browsertab)||void 0===_t?void 0:_t.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aA)("function"==typeof(null===(Sn=null===(Rt=zt?.cordova)||void 0===Rt?void 0:Rt.InAppBrowser)||void 0===Sn?void 0:Sn.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const xt=yield Ye._initialize(V);yield xt.initialized(),xt.resetRedirect(),(0,O.aG)(),yield Ye._originValidation(V);const bt=function ce(F,V,N=null){return{type:V,eventId:N,urlResponse:null,sessionId:qe(),postBody:null,tenantId:F.tenantId,error:(0,O.az)(F,"no-auth-event")}}(V,te,we);yield function ye(F,V){return on()._set(Ci(F),V)}(V,bt);const _t=yield function q(F,V,N){return Z.apply(this,arguments)}(V,bt,N),Rt=yield function Re(F){const{cordova:V}=Me();return new Promise(N=>{V.plugins.browsertab.isAvailable(te=>{let we=null;te?V.plugins.browsertab.openUrl(F):we=V.InAppBrowser.open(F,(0,O.ay)()?"_blank":"_system","location=yes"),N(we)})})}(_t);return function Qe(F,V,N){return Oe.apply(this,arguments)}(V,xt,Rt)})()}_isIframeWebStorageSupported(V,N){throw new Error("Method not implemented.")}_originValidation(V){const N=V._key();return this.originValidationPromises[N]||(this.originValidationPromises[N]=function se(F){return Ve.apply(this,arguments)}(V)),this.originValidationPromises[N]}attachCallbackListeners(V,N){const{universalLinks:te,handleOpenURL:we,BuildInfo:Ye}=Me(),xt=setTimeout((0,d.Z)(function*(){yield Pe(V),N.onEvent(_e())}),500),bt=function(){var Sn=(0,d.Z)(function*(zt){clearTimeout(xt);const Pi=yield Pe(V);let Wi=null;Pi&&zt?.url&&(Wi=function st(F,V){var N,te;const we=function qs(F){const V=On(F),N=V.link?decodeURIComponent(V.link):void 0,te=On(N).link,we=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return On(we).link||we||te||N||F}(V);if(we.includes("/__/auth/callback")){const Ye=On(we),xt=Ye.firebaseError?function fr(F){try{return JSON.parse(F)}catch{return null}}(decodeURIComponent(Ye.firebaseError)):null,bt=null===(te=null===(N=xt?.code)||void 0===N?void 0:N.split("auth/"))||void 0===te?void 0:te[1],_t=bt?(0,O.az)(bt):null;return _t?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:_t,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:we,postBody:null}}return null}(Pi,zt.url)),N.onEvent(Wi||_e())});return function(Pi){return Sn.apply(this,arguments)}}();typeof te<"u"&&"function"==typeof te.subscribe&&te.subscribe(null,bt);const _t=we,Rt=`${Ye.packageName.toLowerCase()}://`;Me().handleOpenURL=function(){var Sn=(0,d.Z)(function*(zt){if(zt.toLowerCase().startsWith(Rt)&&bt({url:zt}),"function"==typeof _t)try{_t(zt)}catch(Pi){console.error(Pi)}});return function(zt){return Sn.apply(this,arguments)}}()}};function _e(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.az)("no-auth-event")}}function it(){var F;return(null===(F=self?.location)||void 0===F?void 0:F.protocol)||null}function yn(F=(0,ee.z$)()){return!("file:"!==it()&&"ionic:"!==it()&&"capacitor:"!==it()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yn(){try{const F=self.localStorage,V=O.aL();if(F)return F.setItem(V,"1"),F.removeItem(V),!function xn(F=(0,ee.z$)()){return function dn(){return(0,ee.w1)()&&11===document?.documentMode}()||function jt(F=(0,ee.z$)()){return/Edge\/\d+/.test(F)}(F)}()||(0,ee.hl)()}catch{return jn()&&(0,ee.hl)()}return!1}function jn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function bn(){return(function ut(){return"http:"===it()||"https:"===it()}()||(0,ee.ru)()||yn())&&!function Mt(){return(0,ee.b$)()||(0,ee.UG)()}()&&Yn()&&!jn()}function di(){return yn()&&typeof document<"u"}function os(){return(os=(0,d.Z)(function*(){return!!di()&&new Promise(F=>{const V=setTimeout(()=>{F(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),F(!0)})})})).apply(this,arguments)}const Jn={LOCAL:"local",NONE:"none",SESSION:"session"},mr=O.aA,Ws="persistence";function gt(F){return wt.apply(this,arguments)}function wt(){return(wt=(0,d.Z)(function*(F){yield F._initializationPromise;const V=bi(),N=O.aD(Ws,F.config.apiKey,F.name);V&&V.setItem(N,F._getPersistence())})).apply(this,arguments)}function bi(){var F;try{return(null===(F=function Gi(){return typeof window<"u"?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch{return null}}const kr=O.aA;class Qt{constructor(){this.browserResolver=O.aC(O.k),this.cordovaResolver=O.aC(fe),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aE,this._overrideRedirectResult=O.aF}_initialize(V){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,N,te,we){var Ye=this;return(0,d.Z)(function*(){return yield Ye.selectUnderlyingResolver(),Ye.assertedUnderlyingResolver._openPopup(V,N,te,we)})()}_openRedirect(V,N,te,we){var Ye=this;return(0,d.Z)(function*(){return yield Ye.selectUnderlyingResolver(),Ye.assertedUnderlyingResolver._openRedirect(V,N,te,we)})()}_isIframeWebStorageSupported(V,N){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,N)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return di()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return kr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,d.Z)(function*(){if(V.underlyingResolver)return;const N=yield function qr(){return os.apply(this,arguments)}();V.underlyingResolver=N?V.cordovaResolver:V.browserResolver})()}}function ui(F){return F.unwrap()}function En(F){return Bt(F)}function Bt(F){const{_tokenResponse:V}=F instanceof ee.ZR?F.customData:F;if(!V)return null;if(!(F instanceof ee.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return O.P.credentialFromResult(F);const N=V.providerId;if(!N||N===O.p.PASSWORD)return null;let te;switch(N){case O.p.GOOGLE:te=O.V;break;case O.p.FACEBOOK:te=O.U;break;case O.p.GITHUB:te=O.W;break;case O.p.TWITTER:te=O.Z;break;default:const{oauthIdToken:we,oauthAccessToken:Ye,oauthTokenSecret:xt,pendingToken:bt,nonce:_t}=V;return Ye||xt||we||bt?bt?N.startsWith("saml.")?O.aO._create(N,bt):O.L._fromParams({providerId:N,signInMethod:N,pendingToken:bt,idToken:we,accessToken:Ye}):new O.X(N).credential({idToken:we,accessToken:Ye,rawNonce:_t}):null}return F instanceof ee.ZR?te.credentialFromError(F):te.credentialFromResult(F)}function zn(F,V){return V.catch(N=>{throw N instanceof ee.ZR&&function sr(F,V){var N;const te=null===(N=V.customData)||void 0===N?void 0:N._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new qi(F,O.aq(F,V));else if(te){const we=Bt(V),Ye=V;we&&(Ye.credential=we,Ye.tenantId=te.tenantId||void 0,Ye.email=te.email||void 0,Ye.phoneNumber=te.phoneNumber||void 0)}}(F,N),N}).then(N=>{const we=N.user;return{operationType:N.operationType,credential:En(N),additionalUserInfo:O.ao(N),user:ei.getOrCreate(we)}})}function as(F,V){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,d.Z)(function*(F,V){const N=yield V;return{verificationId:N.verificationId,confirm:te=>zn(F,N.confirm(te))}})).apply(this,arguments)}class qi{constructor(V,N){this.resolver=N,this.auth=function Ds(F){return F.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return zn(ui(this.auth),this.resolver.resolveSignIn(V))}}class ei{constructor(V){this._delegate=V,this.multiFactor=O.ar(V)}static getOrCreate(V){return ei.USER_MAP.has(V)||ei.USER_MAP.set(V,new ei(V)),ei.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var N=this;return(0,d.Z)(function*(){return zn(N.auth,O.a0(N._delegate,V))})()}linkWithPhoneNumber(V,N){var te=this;return(0,d.Z)(function*(){return as(te.auth,O.l(te._delegate,V,N))})()}linkWithPopup(V){var N=this;return(0,d.Z)(function*(){return zn(N.auth,O.d(N._delegate,V,Qt))})()}linkWithRedirect(V){var N=this;return(0,d.Z)(function*(){return yield gt(O.aH(N.auth)),O.g(N._delegate,V,Qt)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var N=this;return(0,d.Z)(function*(){return zn(N.auth,O.a1(N._delegate,V))})()}reauthenticateWithPhoneNumber(V,N){return as(this.auth,O.r(this._delegate,V,N))}reauthenticateWithPopup(V){return zn(this.auth,O.e(this._delegate,V,Qt))}reauthenticateWithRedirect(V){var N=this;return(0,d.Z)(function*(){return yield gt(O.aH(N.auth)),O.h(N._delegate,V,Qt)})()}sendEmailVerification(V){return O.ae(this._delegate,V)}unlink(V){var N=this;return(0,d.Z)(function*(){return yield O.an(N._delegate,V),N})()}updateEmail(V){return O.aj(this._delegate,V)}updatePassword(V){return O.ak(this._delegate,V)}updatePhoneNumber(V){return O.u(this._delegate,V)}updateProfile(V){return O.ai(this._delegate,V)}verifyBeforeUpdateEmail(V,N){return O.af(this._delegate,V,N)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ei.USER_MAP=new WeakMap;const Pn=O.aA;let hi=(()=>{class F{constructor(N,te){if(this.app=N,te.isInitialized())return this._delegate=te.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:we}=N.options;Pn(we,"invalid-api-key",{appName:N.name}),Pn(we,"invalid-api-key",{appName:N.name});const Ye=typeof window<"u"?Qt:void 0;this._delegate=te.initialize({options:{persistence:wi(we,N.name),popupRedirectResolver:Ye}}),this._delegate._updateErrorMap(O.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ei.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(N){this._delegate.languageCode=N}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(N){this._delegate.tenantId=N}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(N,te){O.I(this._delegate,N,te)}applyActionCode(N){return O.a5(this._delegate,N)}checkActionCode(N){return O.a6(this._delegate,N)}confirmPasswordReset(N,te){return O.a4(this._delegate,N,te)}createUserWithEmailAndPassword(N,te){var we=this;return(0,d.Z)(function*(){return zn(we._delegate,O.a8(we._delegate,N,te))})()}fetchProvidersForEmail(N){return this.fetchSignInMethodsForEmail(N)}fetchSignInMethodsForEmail(N){return O.ad(this._delegate,N)}isSignInWithEmailLink(N){return O.ab(this._delegate,N)}getRedirectResult(){var N=this;return(0,d.Z)(function*(){Pn(bn(),N._delegate,"operation-not-supported-in-this-environment");const te=yield O.j(N._delegate,Qt);return te?zn(N._delegate,Promise.resolve(te)):{credential:null,user:null}})()}addFrameworkForLogging(N){!function Ce(F,V){(0,O.aH)(F)._logFramework(V)}(this._delegate,N)}onAuthStateChanged(N,te,we){const{next:Ye,error:xt,complete:bt}=$n(N,te,we);return this._delegate.onAuthStateChanged(Ye,xt,bt)}onIdTokenChanged(N,te,we){const{next:Ye,error:xt,complete:bt}=$n(N,te,we);return this._delegate.onIdTokenChanged(Ye,xt,bt)}sendSignInLinkToEmail(N,te){return O.aa(this._delegate,N,te)}sendPasswordResetEmail(N,te){return O.a3(this._delegate,N,te||void 0)}setPersistence(N){var te=this;return(0,d.Z)(function*(){let we;switch(function Je(F,V){mr(Object.values(Jn).includes(V),F,"invalid-persistence-type"),(0,ee.b$)()?mr(V!==Jn.SESSION,F,"unsupported-persistence-type"):(0,ee.UG)()?mr(V===Jn.NONE,F,"unsupported-persistence-type"):jn()?mr(V===Jn.NONE||V===Jn.LOCAL&&(0,ee.hl)(),F,"unsupported-persistence-type"):mr(V===Jn.NONE||Yn(),F,"unsupported-persistence-type")}(te._delegate,N),N){case Jn.SESSION:we=O.a;break;case Jn.LOCAL:we=(yield O.aC(O.i)._isAvailable())?O.i:O.b;break;case Jn.NONE:we=O.N;break;default:return O.av("argument-error",{appName:te._delegate.name})}return te._delegate.setPersistence(we)})()}signInAndRetrieveDataWithCredential(N){return this.signInWithCredential(N)}signInAnonymously(){return zn(this._delegate,O._(this._delegate))}signInWithCredential(N){return zn(this._delegate,O.$(this._delegate,N))}signInWithCustomToken(N){return zn(this._delegate,O.a2(this._delegate,N))}signInWithEmailAndPassword(N,te){return zn(this._delegate,O.a9(this._delegate,N,te))}signInWithEmailLink(N,te){return zn(this._delegate,O.ac(this._delegate,N,te))}signInWithPhoneNumber(N,te){return as(this._delegate,O.s(this._delegate,N,te))}signInWithPopup(N){var te=this;return(0,d.Z)(function*(){return Pn(bn(),te._delegate,"operation-not-supported-in-this-environment"),zn(te._delegate,O.c(te._delegate,N,Qt))})()}signInWithRedirect(N){var te=this;return(0,d.Z)(function*(){return Pn(bn(),te._delegate,"operation-not-supported-in-this-environment"),yield gt(te._delegate),O.f(te._delegate,N,Qt)})()}updateCurrentUser(N){return this._delegate.updateCurrentUser(N)}verifyPasswordResetCode(N){return O.a7(this._delegate,N)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=Jn,F})();function $n(F,V,N){let te=F;"function"!=typeof F&&({next:te,error:V,complete:N}=F);const we=te;return{next:xt=>we(xt&&ei.getOrCreate(xt)),error:V,complete:N}}function wi(F,V){const N=function nn(F,V){const N=bi();if(!N)return[];const te=O.aD(Ws,F,V);switch(N.getItem(te)){case Jn.NONE:return[O.N];case Jn.LOCAL:return[O.i,O.a];case Jn.SESSION:return[O.a];default:return[]}}(F,V);if(typeof self<"u"&&!N.includes(O.i)&&N.push(O.i),typeof window<"u")for(const te of[O.b,O.a])N.includes(te)||N.push(te);return N.includes(O.N)||N.push(O.N),N}class Gn{constructor(){this.providerId="phone",this._delegate=new O.P(ui($.Z.auth()))}static credential(V,N){return O.P.credential(V,N)}verifyPhoneNumber(V,N){return this._delegate.verifyPhoneNumber(V,N)}unwrap(){return this._delegate}}Gn.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,Gn.PROVIDER_ID=O.P.PROVIDER_ID;const pr=O.aA;class rn{constructor(V,N,te=$.Z.app()){var we;pr(null===(we=te.options)||void 0===we?void 0:we.apiKey,"invalid-api-key",{appName:te.name}),this._delegate=new O.R(V,N,te.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function G(F){F.INTERNAL.registerComponent(new Ee.wA("auth-compat",V=>{const N=V.getProvider("app-compat").getImmediate(),te=V.getProvider("auth");return new hi(N,te)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.Q,FacebookAuthProvider:O.U,GithubAuthProvider:O.W,GoogleAuthProvider:O.V,OAuthProvider:O.X,SAMLAuthProvider:O.Y,PhoneAuthProvider:Gn,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:rn,TwitterAuthProvider:O.Z,Auth:hi,AuthCredential:O.J,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.4.2")}($.Z)},5861:(pt,De,L)=>{function d(O,ee,le,ue,Ee,Me,be){try{var q=O[Me](be),Z=q.value}catch(se){return void le(se)}q.done?ee(Z):Promise.resolve(Z).then(ue,Ee)}function $(O){return function(){var ee=this,le=arguments;return new Promise(function(ue,Ee){var Me=O.apply(ee,le);function be(Z){d(Me,ue,Ee,be,q,"next",Z)}function q(Z){d(Me,ue,Ee,be,q,"throw",Z)}be(void 0)})}}L.d(De,{Z:()=>$})},7582:(pt,De,L)=>{function ee(fe,_e){var Ce={};for(var he in fe)Object.prototype.hasOwnProperty.call(fe,he)&&_e.indexOf(he)<0&&(Ce[he]=fe[he]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(he=Object.getOwnPropertySymbols(fe);Se<he.length;Se++)_e.indexOf(he[Se])<0&&Object.prototype.propertyIsEnumerable.call(fe,he[Se])&&(Ce[he[Se]]=fe[he[Se]])}return Ce}function se(fe,_e,Ce,he){return new(Ce||(Ce=Promise))(function(je,it){function ut(dn){try{Mt(he.next(dn))}catch(jt){it(jt)}}function yn(dn){try{Mt(he.throw(dn))}catch(jt){it(jt)}}function Mt(dn){dn.done?je(dn.value):function Se(je){return je instanceof Ce?je:new Ce(function(it){it(je)})}(dn.value).then(ut,yn)}Mt((he=he.apply(fe,_e||[])).next())})}function re(fe){return this instanceof re?(this.v=fe,this):new re(fe)}function Te(fe,_e,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,he=Ce.apply(fe,_e||[]),je=[];return Se={},it("next"),it("throw"),it("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function it(xn){he[xn]&&(Se[xn]=function(Yn){return new Promise(function(jn,bn){je.push([xn,Yn,jn,bn])>1||ut(xn,Yn)})})}function ut(xn,Yn){try{!function yn(xn){xn.value instanceof re?Promise.resolve(xn.value.v).then(Mt,dn):jt(je[0][2],xn)}(he[xn](Yn))}catch(jn){jt(je[0][3],jn)}}function Mt(xn){ut("next",xn)}function dn(xn){ut("throw",xn)}function jt(xn,Yn){xn(Yn),je.shift(),je.length&&ut(je[0][0],je[0][1])}}function ye(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,_e=fe[Symbol.asyncIterator];return _e?_e.call(fe):(fe=function Oe(fe){var _e="function"==typeof Symbol&&Symbol.iterator,Ce=_e&&fe[_e],he=0;if(Ce)return Ce.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&he>=fe.length&&(fe=void 0),{value:fe&&fe[he++],done:!fe}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),Ce={},he("next"),he("throw"),he("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function he(je){Ce[je]=fe[je]&&function(it){return new Promise(function(ut,yn){!function Se(je,it,ut,yn){Promise.resolve(yn).then(function(Mt){je({value:Mt,done:ut})},it)}(ut,yn,(it=fe[je](it)).done,it.value)})}}}L.d(De,{FC:()=>Te,KL:()=>ye,_T:()=>ee,mG:()=>se,qq:()=>re}),"function"==typeof SuppressedError&&SuppressedError}},pt=>{pt(pt.s=2888)}]);